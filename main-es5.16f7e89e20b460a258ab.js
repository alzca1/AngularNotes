function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toArray(t){return _arrayWithHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableRest()}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){throw t})),f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){a=!0,o=t})),f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _construct(t,e,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=_superPropBase(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a}));var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.e)(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"schedule",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(n("quSY").a))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),s=n("lJxs"),a=n("Cfvw");function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(u((function(n,r){return Object(a.a)(t(n,r)).pipe(Object(s.a)((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new c(t,n))})}var c=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}]),t}(),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var i=new o.a(this,e,n),s=this.destination;s.add(i);var a=Object(r.a)(this,t,void 0,void 0,i);a!==i&&s.add(a)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(i.a)},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a)},"7Hc7":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=1,i=Promise.resolve(),o={};function s(t){return t in o&&(delete o[t],!0)}var a=function(t){var e=r++;return o[e]=!0,i.then((function(){return s(e)&&t()})),e},u=function(t){s(t)},c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=a(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(u(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),l=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(c)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a"),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,o){var s;switch(_classCallCheck(this,n),(s=e.call(this)).syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=i.a;break;case 1:if(!t){s.destination=i.a;break}if("object"==typeof t){t instanceof n?(s.syncErrorThrowable=t.syncErrorThrowable,s.destination=t,t.add(_assertThisInitialized(s))):(s.syncErrorThrowable=!0,s.destination=new l(_assertThisInitialized(s),t));break}default:s.syncErrorThrowable=!0,s.destination=new l(_assertThisInitialized(s),t,r,o)}return s}return _createClass(n,[{key:s.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,s,a){var u,c;_classCallCheck(this,n),(u=e.call(this))._parentSubscriber=t;var l=_assertThisInitialized(u);return Object(r.a)(o)?c=o:o&&(c=o.next,s=o.error,a=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=s,u._complete=a,u}return _createClass(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=a.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(c)},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a((function(n){var r=new o.a;return r.add(e.schedule((function(){var i=t[s.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a((function(n){var r=new o.a;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,i=new o.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[u.a](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a"),i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC"),i=new r.a((function(t){return t.complete()}));function o(t){return t?function(t){return new r.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r,i=n("7o/Q"),o=n("2QA8"),s=n("gRHU"),a=n("kJWO"),u=n("mCNh"),c=n("2fFW"),l=((r=function(){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,a=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(s.a)}(t,e,n);if(a.add(r?r.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof i.a?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=h(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:a.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:Object(u.b)(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=h(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))}}]),t}()).create=function(t){return new r(t)},r);function h(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),i=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return _classCallCheck(this,n),(i=e.call(this,t,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():o()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.1.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=e[e.length-1];return Object(r.a)(s)?(e.pop(),Object(o.a)(e,s)):Object(i.a)(e)}},Lhse:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout((function(){throw t}),0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu"),l=function(t){if(t&&"function"==typeof t[s.a])return l=t,function(t){var e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,l,h=Object(c.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=Number.POSITIVE_INFINITY,u=null,c=e[e.length-1];return Object(i.a)(c)?(u=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(a=e.pop())):"number"==typeof c&&(a=e.pop()),null===u&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(a)(Object(s.a)(e,u))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8"),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).destination=t,r}return n}(i.a),l=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _createClass(n,[{key:u.a,value:function(){return new c(this)}},{key:"lift",value:function(t){var e=new h(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new s.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new s.a;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}},{key:"asObservable",value:function(){var t=new r.a;return t.source=this,t}}]),n}(r.a);return t.create=function(t,e){return new h(t,e)},t}(),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).destination=t,i.source=r,i}return _createClass(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),n}(l)},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function s(t,e,n,s){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(t,n,s);if(!a.closed)return e instanceof o.a?e.subscribe(a):Object(i.a)(e)(a)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return bo})),n.d(e,"b",(function(){return Xa})),n.d(e,"c",(function(){return Ka})),n.d(e,"d",(function(){return Ga})),n.d(e,"e",(function(){return Wa})),n.d(e,"f",(function(){return Hu})),n.d(e,"g",(function(){return Nu})),n.d(e,"h",(function(){return no})),n.d(e,"i",(function(){return cu})),n.d(e,"j",(function(){return As})),n.d(e,"k",(function(){return eu})),n.d(e,"l",(function(){return js})),n.d(e,"m",(function(){return bn})),n.d(e,"n",(function(){return Ea})),n.d(e,"o",(function(){return et})),n.d(e,"p",(function(){return m})),n.d(e,"q",(function(){return tt})),n.d(e,"r",(function(){return _o})),n.d(e,"s",(function(){return Zs})),n.d(e,"t",(function(){return Ys})),n.d(e,"u",(function(){return tu})),n.d(e,"v",(function(){return vt})),n.d(e,"w",(function(){return Lu})),n.d(e,"x",(function(){return pt})),n.d(e,"y",(function(){return Iu})),n.d(e,"z",(function(){return du})),n.d(e,"A",(function(){return _})),n.d(e,"B",(function(){return Ya})),n.d(e,"C",(function(){return Za})),n.d(e,"D",(function(){return Oa})),n.d(e,"E",(function(){return Rs})),n.d(e,"F",(function(){return Ds})),n.d(e,"G",(function(){return Ns})),n.d(e,"H",(function(){return Ms})),n.d(e,"I",(function(){return ar})),n.d(e,"J",(function(){return w})),n.d(e,"K",(function(){return Uu})),n.d(e,"L",(function(){return ea})),n.d(e,"M",(function(){return wu})),n.d(e,"N",(function(){return Us})),n.d(e,"O",(function(){return Fs})),n.d(e,"P",(function(){return ra})),n.d(e,"Q",(function(){return Ct})),n.d(e,"R",(function(){return Io})),n.d(e,"S",(function(){return xu})),n.d(e,"T",(function(){return Fn})),n.d(e,"U",(function(){return F})),n.d(e,"V",(function(){return lt})),n.d(e,"W",(function(){return Mn})),n.d(e,"X",(function(){return zu})),n.d(e,"Y",(function(){return Cu})),n.d(e,"Z",(function(){return $a})),n.d(e,"ab",(function(){return io})),n.d(e,"bb",(function(){return _a})),n.d(e,"cb",(function(){return or})),n.d(e,"db",(function(){return lr})),n.d(e,"eb",(function(){return zn})),n.d(e,"fb",(function(){return In})),n.d(e,"gb",(function(){return An})),n.d(e,"hb",(function(){return Nn})),n.d(e,"ib",(function(){return Pn})),n.d(e,"jb",(function(){return jn})),n.d(e,"kb",(function(){return Dn})),n.d(e,"lb",(function(){return va})),n.d(e,"mb",(function(){return qu})),n.d(e,"nb",(function(){return ya})),n.d(e,"ob",(function(){return ga})),n.d(e,"pb",(function(){return xn})),n.d(e,"qb",(function(){return W})),n.d(e,"rb",(function(){return xo})),n.d(e,"sb",(function(){return Bo})),n.d(e,"tb",(function(){return zo})),n.d(e,"ub",(function(){return To})),n.d(e,"vb",(function(){return pa})),n.d(e,"wb",(function(){return Kt})),n.d(e,"xb",(function(){return R})),n.d(e,"yb",(function(){return Tn})),n.d(e,"zb",(function(){return hs})),n.d(e,"Ab",(function(){return gs})),n.d(e,"Bb",(function(){return Ts})),n.d(e,"Cb",(function(){return jr})),n.d(e,"Db",(function(){return Po})),n.d(e,"Eb",(function(){return es})),n.d(e,"Fb",(function(){return Ua})),n.d(e,"Gb",(function(){return Tt})),n.d(e,"Hb",(function(){return Nt})),n.d(e,"Ib",(function(){return S})),n.d(e,"Jb",(function(){return O})),n.d(e,"Kb",(function(){return jt})),n.d(e,"Lb",(function(){return Rt})),n.d(e,"Mb",(function(){return No})),n.d(e,"Nb",(function(){return qo})),n.d(e,"Ob",(function(){return Vo})),n.d(e,"Pb",(function(){return Uo})),n.d(e,"Qb",(function(){return yn})),n.d(e,"Rb",(function(){return cs})),n.d(e,"Sb",(function(){return ct})),n.d(e,"Tb",(function(){return Ro})),n.d(e,"Ub",(function(){return Ha})),n.d(e,"Vb",(function(){return Lo})),n.d(e,"Wb",(function(){return Ho})),n.d(e,"Xb",(function(){return Va})),n.d(e,"Yb",(function(){return Ko})),n.d(e,"Zb",(function(){return Zo})),n.d(e,"ac",(function(){return Jo})),n.d(e,"bc",(function(){return Mo})),n.d(e,"cc",(function(){return Ra})),n.d(e,"dc",(function(){return hr})),n.d(e,"ec",(function(){return Pt})),n.d(e,"fc",(function(){return La})),n.d(e,"gc",(function(){return ts})),n.d(e,"hc",(function(){return Do})),n.d(e,"ic",(function(){return as})),n.d(e,"jc",(function(){return us})),n.d(e,"kc",(function(){return Ma}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new l(t))}}var c,l=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new h(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(a.a),f=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new i.a).add(this.source.subscribe(new p(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}},{key:"refCount",value:function(){return u()(this)}}]),n}(o.a),d={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(c=f.prototype)._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}},p=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(r.b);function v(){return new r.a}function y(t){return{toString:t}.toString()}function g(t,e,n){return y((function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=_construct(i,e);return s.annotation=o,s;function s(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}))}var m=g("Inject",(function(t){return{token:t}})),_=g("Optional"),b=g("Self"),w=g("SkipSelf"),k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function C(t){for(var e in t)if(t[e]===C)return e;throw Error("Could not find renamed property on target object.")}function E(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function O(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function T(t){return I(t,t[A])||I(t,t[D])}function I(t,e){return e&&e.token===t?e:null}function x(t){return t&&(t.hasOwnProperty(j)||t.hasOwnProperty(N))?t[j]:null}var A=C({"\u0275prov":C}),j=C({"\u0275inj":C}),P=C({"\u0275provFallback":C}),D=C({ngInjectableDef:C}),N=C({ngInjectorDef:C});function R(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(R).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function L(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var M=C({__forward_ref__:C});function F(t){return t.__forward_ref__=F,t.toString=function(){return R(this())},t}function U(t){return V(t)?t():t}function V(t){return"function"==typeof t&&t.hasOwnProperty(M)&&t.__forward_ref__===F}var q,z="undefined"!=typeof globalThis&&globalThis,B="undefined"!=typeof window&&window,H="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,G="undefined"!=typeof global&&global,W=z||G||B||H,K=C({"\u0275cmp":C}),Q=C({"\u0275dir":C}),J=C({"\u0275pipe":C}),Z=C({"\u0275mod":C}),Y=C({"\u0275loc":C}),X=C({"\u0275fac":C}),$=C({__NG_ELEMENT_ID__:C}),tt=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=S({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),t}(),et=new tt("INJECTOR",-1),nt={},rt=/\n/gm,it=C({provide:String,useValue:C}),ot=void 0;function st(t){var e=ot;return ot=t,e}function at(t){var e=q;return q=t,e}function ut(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default;if(void 0===ot)throw new Error("inject() must be called from an injection context");return null===ot?ht(t,void 0,e):ot.get(t,e&k.Optional?null:void 0,e)}function ct(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default;return(q||ut)(U(t),e)}var lt=ct;function ht(t,e,n){var r=T(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&k.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(R(t),"]"))}function ft(t){for(var e=[],n=0;n<t.length;n++){var r=U(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=k.Default,s=0;s<r.length;s++){var a=r[s];a instanceof _||"Optional"===a.ngMetadataName||a===_?o|=k.Optional:a instanceof w||"SkipSelf"===a.ngMetadataName||a===w?o|=k.SkipSelf:a instanceof b||"Self"===a.ngMetadataName||a===b?o|=k.Self:i=a instanceof m||a===m?a.token:a}e.push(ct(i,o))}else e.push(ct(r))}return e}var dt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt;if(e===nt){var n=new Error("NullInjectorError: No provider for ".concat(R(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),pt=function t(){_classCallCheck(this,t)},vt=function t(){_classCallCheck(this,t)};function yt(t,e){t.forEach((function(t){return Array.isArray(t)?yt(t,e):e(t)}))}function gt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function mt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function _t(t,e){for(var n=[],r=0;r<t;r++)n.push(e);return n}function bt(t,e){var n=wt(t,e);if(n>=0)return t[1|n]}function wt(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),s=t[o<<1];if(e===s)return o<<1;s>e?i=o:r=o+1}return~(i<<1)}(t,e)}var kt=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),Ct=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Et={},St=[],Ot=0;function Tt(t){return y((function(){var e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===kt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||St,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ct.Emulated,id:"c",styles:t.styles||St,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,s=t.features,a=t.pipes;return i.id+=Ot++,i.inputs=Dt(t.inputs,r),i.outputs=Dt(t.outputs),s&&s.forEach((function(t){return t(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(It)}:null,i.pipeDefs=a?function(){return("function"==typeof a?a():a).map(xt)}:null,i}))}function It(t){return Lt(t)||function(t){return t[Q]||null}(t)}function xt(t){return function(t){return t[J]||null}(t)}var At={};function jt(t){var e={type:t.type,bootstrap:t.bootstrap||St,declarations:t.declarations||St,imports:t.imports||St,exports:t.exports||St,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&y((function(){At[t.id]=t.type})),e}function Pt(t,e){return y((function(){var n=Ft(t,!0);n.declarations=e.declarations||St,n.imports=e.imports||St,n.exports=e.exports||St}))}function Dt(t,e){if(null==t)return Et;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var Nt=Tt;function Rt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Lt(t){return t[K]||null}function Mt(t,e){return t.hasOwnProperty(X)?t[X]:null}function Ft(t,e){var n=t[Z]||null;if(!n&&!0===e)throw new Error("Type ".concat(R(t)," does not have '\u0275mod' property."));return n}function Ut(t){return Array.isArray(t)&&"object"==typeof t[1]}function Vt(t){return Array.isArray(t)&&!0===t[1]}function qt(t){return 0!=(8&t.flags)}function zt(t){return 2==(2&t.flags)}function Bt(t){return 1==(1&t.flags)}function Ht(t){return null!==t.template}function Gt(t){return 0!=(512&t[2])}var Wt=void 0;function Kt(t){Wt=t}function Qt(t){return!!t.listen}var Jt={createRenderer:function(t,e){return void 0!==Wt?Wt:"undefined"!=typeof document?document:void 0}};function Zt(t){for(;Array.isArray(t);)t=t[0];return t}function Yt(t,e){return Zt(e[t+20])}function Xt(t,e){return Zt(e[t.index])}function $t(t,e){return t.data[e+20]}function te(t,e){var n=e[t];return Ut(n)?n:n[0]}function ee(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ne(t){return 4==(4&t[2])}function re(t){return 128==(128&t[2])}function ie(t,e){return null===t||null==e?null:t[e]}function oe(t){t[18]=0}function se(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var ae={lFrame:Se(null),bindingsEnabled:!0,checkNoChangesMode:!1};function ue(){return ae.bindingsEnabled}function ce(){return ae.lFrame.lView}function le(){return ae.lFrame.tView}function he(){return ae.lFrame.previousOrParentTNode}function fe(t,e){ae.lFrame.previousOrParentTNode=t,ae.lFrame.isParent=e}function de(){return ae.lFrame.isParent}function pe(){ae.lFrame.isParent=!1}function ve(){return ae.checkNoChangesMode}function ye(t){ae.checkNoChangesMode=t}function ge(){return ae.lFrame.bindingIndex++}function me(t,e){var n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,_e(e)}function _e(t){ae.lFrame.currentDirectiveIndex=t}function be(){return ae.lFrame.currentQueryIndex}function we(t){ae.lFrame.currentQueryIndex=t}function ke(t,e){var n=Ee();ae.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Ce(t,e){var n=Ee(),r=t[1];ae.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Ee(){var t=ae.lFrame,e=null===t?null:t.child;return null===e?Se(t):e}function Se(t){var e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Oe(){var t=ae.lFrame;return ae.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}var Te=Oe;function Ie(){var t=Oe();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xe(){return ae.lFrame.selectedIndex}function Ae(t){ae.lFrame.selectedIndex=t}function je(){var t=ae.lFrame;return $t(t.tView,t.selectedIndex)}function Pe(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n];i.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,i.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,i.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,i.onDestroy)}}function De(t,e,n){Le(t,e,3,n)}function Ne(t,e,n,r){(3&t[2])===n&&Le(t,e,n,r)}function Re(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Le(t,e,n,r){for(var i=null!=r?r:-1,o=0,s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(Me(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Me(t,e,n,r){var i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}var Fe=function t(e,n,r){_classCallCheck(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Ue(t,e,n){for(var r=Qt(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{var c=o,l=n[++i];qe(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Ve(t){return 3===t||4===t||6===t}function qe(t){return 64===t.charCodeAt(0)}function ze(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||Be(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function Be(t,e,n,r,i){var o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){var a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function He(t){return-1!==t}function Ge(t){return 32767&t}function We(t){return t>>16}function Ke(t,e){for(var n=We(t),r=e;n>0;)r=r[15],n--;return r}function Qe(t){return"string"==typeof t?t:null==t?"":""+t}function Je(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Qe(t)}var Ze=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(W);function Ye(t){return t instanceof Function?t():t}var Xe=!0;function $e(t){var e=Xe;return Xe=t,e}var tn=0;function en(t,e){var n=rn(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,nn(r.data,t),nn(e,null),nn(r.blueprint,null));var i=on(t,e),o=t.injectorIndex;if(He(i))for(var s=Ge(i),a=Ke(i,e),u=a[1].data,c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c];return e[o+8]=i,o}function nn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function rn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function on(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[6],r=1;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function sn(t,e,n){!function(t,e,n){var r="string"!=typeof n?n[$]:n.charCodeAt(0)||0;null==r&&(r=n[$]=tn++);var i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function an(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t[$];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof o){ke(e,t);try{var s=o();if(null!=s||r&k.Optional)return s;throw new Error("No provider for ".concat(Je(n),"!"))}finally{Te()}}else if("number"==typeof o){if(-1===o)return new pn(t,e);var a=null,u=rn(t,e),c=-1,l=r&k.Host?e[16][6]:null;for((-1===u||r&k.SkipSelf)&&(c=-1===u?on(t,e):e[u+8],dn(r,!1)?(a=e[1],u=Ge(c),e=Ke(c,e)):u=-1);-1!==u;){c=e[u+8];var h=e[1];if(fn(o,u,h.data)){var f=cn(u,e,n,a,r,l);if(f!==un)return f}dn(r,e[1].data[u+8]===l)&&fn(o,u,e)?(a=h,u=Ge(c),e=Ke(c,e)):u=-1}}}if(r&k.Optional&&void 0===i&&(i=null),0==(r&(k.Self|k.Host))){var d=e[9],p=at(void 0);try{return d?d.get(n,i,r&k.Optional):ht(n,i,r&k.Optional)}finally{at(p)}}if(r&k.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(Je(n),"]"))}var un={};function cn(t,e,n,r,i,o){var s=e[1],a=s.data[t+8],u=ln(a,s,n,null==r?zt(a)&&Xe:r!=s&&3===a.type,i&k.Host&&o===a);return null!==u?hn(e,s,u,a):un}function ln(t,e,n,r,i){for(var o=t.providerIndexes,s=e.data,a=65535&o,u=t.directiveStart,c=o>>16,l=i?a+c:t.directiveEnd,h=r?a:a+c;h<l;h++){var f=s[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=s[u];if(d&&Ht(d)&&d.type===n)return u}return null}function hn(t,e,n,r){var i=t[n],o=e.data;if(i instanceof Fe){var s=i;if(s.resolving)throw new Error("Circular dep for "+Je(o[n]));var a,u=$e(s.canSeeViewProviders);s.resolving=!0,s.injectImpl&&(a=at(s.injectImpl)),ke(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.onChanges,i=e.onInit,o=e.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&at(a),$e(u),s.resolving=!1,Te()}}return i}function fn(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function dn(t,e){return!(t&k.Self||t&k.Host&&e)}var pn=function(){function t(e,n){_classCallCheck(this,t),this._tNode=e,this._lView=n}return _createClass(t,[{key:"get",value:function(t,e){return an(this._tNode,this._lView,t,void 0,e)}}]),t}();function vn(t){var e=t;if(V(t))return function(){var t=vn(U(e));return t?t():null};var n=Mt(e);if(null===n){var r=x(e);n=r&&r.factory}return n||null}function yn(t){return y((function(){for(var e=t.prototype.constructor,n=e[X]||vn(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[X]||vn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}}))}function gn(t){return t.ngDebugContext}function mn(t){return t.ngOriginalError}function _n(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var bn=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||_n}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?gn(t)?gn(t):this._findContext(mn(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=mn(t);e&&mn(e);)e=mn(e);return e}}]),t}(),wn=function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),t}(),kn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(wn),Cn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(wn),En=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(wn),Sn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(wn),On=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(wn);function Tn(t){return t instanceof wn?t.changingThisBreaksApplicationSecurity:t}function In(t,e){var n=xn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===e}function xn(t){return t instanceof wn&&t.getTypeName()||null}function An(t){return new kn(t)}function jn(t){return new Cn(t)}function Pn(t){return new En(t)}function Dn(t){return new Sn(t)}function Nn(t){return new On(t)}var Rn=!0,Ln=!1;function Mn(){return Ln=!0,Rn}function Fn(){if(Ln)throw new Error("Cannot enable prod mode after platform setup.");Rn=!1}var Un=function(){function t(e){_classCallCheck(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r),n=this.inertDocument.createElement("body"),r.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(t,[{key:"getInertBodyElement_XHR",value:function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;var n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),Vn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,qn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function zn(t){return(t=String(t)).match(Vn)||t.match(qn)?t:(Mn()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function Bn(t){var e,n={},r=_createForOfIteratorHelper(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Hn(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s=o[i];for(var a in s)s.hasOwnProperty(a)&&(t[a]=!0)}return t}var Gn,Wn=Bn("area,br,col,hr,img,wbr"),Kn=Bn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qn=Bn("rp,rt"),Jn=Hn(Qn,Kn),Zn=Hn(Wn,Hn(Kn,Bn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hn(Qn,Bn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jn),Yn=Bn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xn=Bn("srcset"),$n=Hn(Yn,Xn,Bn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),tr=Bn("script,style,template"),er=function(){function t(){_classCallCheck(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!Zn.hasOwnProperty(e))return this.sanitizedSomething=!0,!tr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),s=o.name,a=s.toLowerCase();if($n.hasOwnProperty(a)){var u=o.value;Yn[a]&&(u=zn(u)),Xn[a]&&(n=u,u=(n=String(n)).split(",").map((function(t){return zn(t.trim())})).join(", ")),this.buf.push(" ",s,'="',ir(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();Zn.hasOwnProperty(e)&&!Wn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(ir(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}]),t}(),nr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rr=/([^\#-~ |!])/g;function ir(t){return t.replace(/&/g,"&amp;").replace(nr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(rr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function or(t,e){var n=null;try{Gn=Gn||new Un(t);var r=e?String(e):"";n=Gn.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Gn.getInertBodyElement(r)}while(r!==o);var s=new er,a=s.sanitizeChildren(sr(n)||n);return Mn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n)for(var u=sr(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function sr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ar=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),ur=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),cr=/^url\(([^)]+)\)$/;function lr(t){if(!(t=String(t).trim()))return"";var e=t.match(cr);return e&&zn(e[1])===e[1]||t.match(ur)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Mn()&&console.warn("WARNING: sanitizing unsafe style value ".concat(t," (see http://g.co/ng/security#xss).")),"unsafe")}function hr(t){var e,n=(e=ce())&&e[12];return n?n.sanitize(ar.URL,t)||"":In(t,"URL")?Tn(t):zn(Qe(t))}function fr(t,e){t.__ngContext__=e}function dr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function pr(){throw new Error("Cannot mix multi providers and regular providers")}function vr(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function yr(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==vr((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function gr(t){return 0===t.type&&"ng-template"!==t.tagName}function mr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function _r(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Ve(t[e]))return e;return t.length}(i),s=!1,a=0;a<e.length;a++){var u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!mr(t,u,n)||""===u&&1===e.length){if(br(r))return!1;s=!0}}else{var c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!yr(t.attrs,c,n)){if(br(r))return!1;s=!0}continue}var l=wr(8&r?"class":u,i,gr(t),n);if(-1===l){if(br(r))return!1;s=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==vr(f,c,0)||2&r&&c!==h){if(br(r))return!1;s=!0}}}}else{if(!s&&!br(r)&&!br(u))return!1;if(s&&br(u))continue;s=!1,r=u|1&r}}return br(r)||s}function br(t){return 0==(1&t)}function wr(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){for(var a=e[++i];"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function kr(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(_r(t,e[r],n))return!0;return!1}function Cr(t,e){t:for(var n=0;n<e.length;n++){var r=e[n];if(t.length===r.length){for(var i=0;i<t.length;i++)if(t[i]!==r[i])continue t;return!0}}return!1}function Er(t,e){return t?":not("+e.trim()+")":e}function Sr(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var s=t[n];if("string"==typeof s)if(2&r){var a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||br(s)||(e+=Er(o,i),i=""),r=s,o=o||!br(r);n++}return""!==i&&(e+=Er(o,i)),e}var Or={};function Tr(t){var e=t[3];return Vt(e)?e[3]:e}function Ir(t){return Ar(t[13])}function xr(t){return Ar(t[4])}function Ar(t){for(;null!==t&&!Vt(t);)t=t[4];return t}function jr(t){Pr(le(),ce(),xe()+t,ve())}function Pr(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&De(e,i,n)}else{var o=t.preOrderHooks;null!==o&&Ne(e,o,0,n)}Ae(n)}function Dr(t,e){return t<<17|e<<2}function Nr(t){return t>>17&32767}function Rr(t){return 2|t}function Lr(t){return(131068&t)>>2}function Mr(t,e){return-131069&t|e<<2}function Fr(t){return 1|t}function Ur(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var s=t.data[o];we(i),s.contentQueries(2,e[o],o)}}}function Vr(t,e,n){return Qt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function qr(t,e,n,r,i,o,s,a,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,oe(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function zr(t,e,n,r,i,o){var s=n+20,a=t.data[s]||function(t,e,n,r,i,o){var s=he(),a=de(),u=a?s:s&&s.parent,c=t.data[n]=Yr(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),s&&(!a||null!=s.child||null===c.parent&&2!==s.type?a||(s.next=c):s.child=c),c}(t,e,s,r,i,o);return fe(a,!0),a}function Br(t,e,n){Ce(e,e[6]);try{var r=t.viewQuery;null!==r&&_i(1,r,n);var i=t.template;null!==i&&Wr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ur(t,e),t.staticViewQueries&&_i(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)pi(t,e[n])}(e,o)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),s}finally{e[2]&=-5,Ie()}}function Hr(t,e,n,r){var i=e[2];if(256!=(256&i)){Ce(e,e[6]);var o=ve();try{oe(e),ae.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Wr(t,e,n,2,r);var s=3==(3&i);if(!o)if(s){var a=t.preOrderCheckHooks;null!==a&&De(e,a,null)}else{var u=t.preOrderHooks;null!==u&&Ne(e,u,0,null),Re(e,0)}if(function(t){for(var e=Ir(t);null!==e;e=xr(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&se(o,1),i[2]|=1024}}(e),function(t){for(var e=Ir(t);null!==e;e=xr(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];re(r)&&Hr(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Ur(t,e),!o)if(s){var c=t.contentCheckHooks;null!==c&&De(e,c)}else{var l=t.contentHooks;null!==l&&Ne(e,l,1),Re(e,1)}!function(t,e){try{var n=t.expandoInstructions;if(null!==n)for(var r=t.expandoStartIndex,i=-1,o=0;o<n.length;o++){var s=n[o];"number"==typeof s?s<=0?(Ae(0-s),i=r+=9+n[++o]):r+=s:(null!==s&&(me(r,i),s(2,e[i])),i++)}}finally{Ae(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)di(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&_i(2,f,r),!o)if(s){var d=t.viewCheckHooks;null!==d&&De(e,d)}else{var p=t.viewHooks;null!==p&&Ne(e,p,2),Re(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,se(e[3],-1))}finally{Ie()}}}function Gr(t,e,n,r){var i=e[10],o=!ve(),s=ne(e);try{o&&!s&&i.begin&&i.begin(),s&&Br(t,e,r),Hr(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Wr(t,e,n,r,i){var o=xe();try{Ae(-1),2&r&&e.length>20&&Pr(t,e,0,ve()),n(r,i)}finally{Ae(o)}}function Kr(t,e,n){ue()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||en(n,e),fr(r,e);for(var s=n.initialInputs,a=i;a<o;a++){var u=t.data[a],c=Ht(u);c&&ci(e,n,u);var l=hn(e,t,a,n);fr(l,e),null!==s&&li(0,a-i,l,u,0,s),c&&(te(n.index,e)[8]=l)}}(t,e,n,Xt(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-20,u=ae.lFrame.currentDirectiveIndex;try{Ae(a);for(var c=r;c<i;c++){var l=t.data[c],h=e[c];_e(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?ri(l,h):s&&o.push(null)}}finally{Ae(-1),_e(u)}}(t,e,n))}function Qr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xt,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}function Jr(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Zr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Zr(t,e,n,r,i,o,s,a,u,c){var l=20+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:Or);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function Yr(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Xr(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function $r(t,e,n,r,i,o,s,a){var u,c=Xt(e,n),l=e.inputs;!a&&null!=l&&(u=l[r])?(Ei(t,n,u,r,i),zt(e)&&function(t,e){var n=te(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.tagName||"",r):i,Qt(o)?o.setProperty(c,r,i):qe(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function ti(t,e,n,r){var i=!1;if(ue()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var s=r[o];kr(n,s.selectors,!1)&&(i||(i=[]),sn(en(n,e),t,s.type),Ht(s)?(2&n.flags&&dr(n),oi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){var a=0;i=!0,ai(n,t.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}ii(t,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=ze(n.mergedAttrs,d.hostAttrs),ui(t,e,d),si(t.data.length-1,d,s),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!l&&(d.onChanges||d.onInit||d.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),l=!0),h||!d.onChanges&&!d.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),h=!0),ei(t,d),a+=d.hostVars}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],s=null,a=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||gr(e)?null:hi(l,i);o.push(h),s=Xr(l,u,s),a=Xr(c.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),ni(t,e,a)}s&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,s)}return n.mergedAttrs=ze(n.mergedAttrs,n.attrs),i}function ei(t,e){var n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function ni(t,e,n){for(var r=0;r<n;r++)e.push(Or),t.blueprint.push(Or),t.data.push(null)}function ri(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ii(t,e,n){var r=20-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function oi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function si(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ht(e)&&(n[""]=t)}}function ai(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ui(t,e,n){t.data.push(n);var r=n.factory||(n.factory=Mt(n.type)),i=new Fe(r,Ht(n),null);t.blueprint.push(i),e.push(i)}function ci(t,e,n){var r=Xt(e,t),i=Jr(n),o=t[10],s=vi(t,qr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=s}function li(t,e,n,r,i,o){var s=o[e];if(null!==s)for(var a=r.setInput,u=0;u<s.length;){var c=s[u++],l=s[u++],h=s[u++];null!==a?r.setInput(n,h,c,l):n[l]=h}}function hi(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function fi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function di(t,e){var n=te(e,t);if(re(n)){var r=n[1];80&n[2]?Hr(r,n,r.template,n[8]):n[5]>0&&function t(e){for(var n=Ir(e);null!==n;n=xr(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];Hr(o,i,o.template,i[8])}else i[5]>0&&t(i)}var s=e[1].components;if(null!==s)for(var a=0;a<s.length;a++){var u=te(s[a],e);re(u)&&u[5]>0&&t(u)}}(n)}}function pi(t,e){var n=te(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Br(r,n,n[8])}function vi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function yi(t){for(;t;){t[2]|=64;var e=Tr(t);if(Gt(t)&&!e)return t;t=e}return null}function gi(t,e,n){var r=e[10];r.begin&&r.begin();try{Hr(t,e,t.template,n)}catch(i){throw Ci(e,i),i}finally{r.end&&r.end()}}function mi(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=ee(n),i=r[1];Gr(i,r,i.template,n)}}(t[8])}function _i(t,e,n){we(0),e(t,n)}var bi=Promise.resolve(null);function wi(t){return t[7]||(t[7]=[])}function ki(t){return t.cleanup||(t.cleanup=[])}function Ci(t,e){var n=t[9],r=n?n.get(bn,null):null;r&&r.handleError(e)}function Ei(t,e,n,r,i){for(var o=0;o<n.length;){var s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Si(t,e){var n=e[3];return-1===t.index?Vt(n)?n:null:n}function Oi(t,e){var n=Si(t,e);return n?Fi(e[11],n[7]):null}function Ti(t,e,n,r,i){if(null!=r){var o,s=!1;Vt(r)?o=r:Ut(r)&&(s=!0,r=r[0]);var a=Zt(r);0===t&&null!==n?null==i?Li(e,n,a):Ri(e,n,a,i||null):1===t&&null!==n?Ri(e,n,a,i||null):2===t?function(t,e,n){var r=Fi(t,e);r&&function(t,e,n,r){Qt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Zt(n)&&Ti(e,t,r,o,i);for(var s=10;s<n.length;s++){var a=n[s];Bi(a[1],a,t,e,r,o)}}(e,t,o,n,i)}}function Ii(t,e,n,r){var i=Oi(t.node,e);i&&Bi(t,e,e[11],n?1:2,i,r)}function xi(t,e){var n=t[9],r=n.indexOf(e);1024&e[2]&&se(e[3],-1),n.splice(r,1)}function Ai(t,e){if(!(t.length<=10)){var n=10+e,r=t[n];if(r){var i=r[17];null!==i&&i!==t&&xi(i,r),e>0&&(t[n-1][4]=r[4]);var o=mt(t,10+e);Ii(r[1],r,!1,null);var s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function ji(t,e){if(!(256&e[2])){var n=e[11];Qt(n)&&n.destroyNode&&Bi(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Di(t[1],t);for(;e;){var n=null;if(Ut(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Ut(e)&&Di(e[1],e),e=Pi(e,t);null===e&&(e=t),Ut(e)&&Di(e[1],e),n=e&&e[4]}e=n}}(e)}}function Pi(t,e){var n;return Ut(t)&&(n=t[6])&&2===n.type?Si(n,t):t[3]===e?null:t[3]}function Di(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof Fe)){var o=n[r+1];if(Array.isArray(o))for(var s=0;s<o.length;s+=2)o[s+1].call(i[o[s]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup;if(null!==n){for(var r=e[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],s="function"==typeof o?o(e):Zt(e[o]),a=r[n[i+2]],u=n[i+3];"boolean"==typeof u?s.removeEventListener(n[i],a,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);e[7]=null}}(t,e);var n=e[6];n&&3===n.type&&Qt(e[11])&&e[11].destroy();var r=e[17];if(null!==r&&Vt(e[3])){r!==e[3]&&xi(r,e);var i=e[19];null!==i&&i.detachView(t)}}}function Ni(t,e,n){for(var r=e.parent;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){var i=n[6];return 2===i.type?Oi(i,n):n[0]}if(e&&5===e.type&&4&e.flags)return Xt(e,n).parentNode;if(2&r.flags){var o=t.data,s=o[o[r.index].directiveStart].encapsulation;if(s!==Ct.ShadowDom&&s!==Ct.Native)return null}return Xt(r,n)}function Ri(t,e,n,r){Qt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Li(t,e,n){Qt(t)?t.appendChild(e,n):e.appendChild(n)}function Mi(t,e,n,r){null!==r?Ri(t,e,n,r):Li(t,e,n)}function Fi(t,e){return Qt(t)?t.parentNode(e):e.parentNode}function Ui(t,e){if(2===t.type){var n=Si(t,e);return null===n?null:qi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Xt(t,e):null}function Vi(t,e,n,r){var i=Ni(t,r,e);if(null!=i){var o=e[11],s=Ui(r.parent||e[6],e);if(Array.isArray(n))for(var a=0;a<n.length;a++)Mi(o,i,n[a],s);else Mi(o,i,n,s)}}function qi(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return function t(e,n){if(null!==n){var r=n.type;if(3===r)return Xt(n,e);if(0===r)return qi(-1,e[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return t(e,i);var o=e[n.index];return Vt(o)?qi(-1,o):Zt(o)}var s=e[16],a=s[6],u=Tr(s),c=a.projection[n.projection];return null!=c?t(u,c):t(e,n.next)}return null}(r,i)}return e[7]}function zi(t,e,n,r,i,o,s){for(;null!=n;){var a=r[n.index],u=n.type;s&&0===e&&(a&&fr(Zt(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(zi(t,e,n.child,r,i,o,!1),Ti(e,t,i,a,o)):1===u?Hi(t,e,r,n,i,o):Ti(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function Bi(t,e,n,r,i,o){zi(n,r,t.node.child,e,i,o,!1)}function Hi(t,e,n,r,i,o){var s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(var u=0;u<a.length;u++)Ti(e,t,i,a[u],o);else zi(t,e,a,s[3],i,o,!0)}function Gi(t,e,n){Qt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Wi(t,e,n){Qt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}var Ki,Qi,Ji,Zi=function(){function t(e,n){_classCallCheck(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(t,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}ji(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){var e,n,r;e=this._lView[1],r=t,wi(n=this._lView).push(r),e.firstCreatePass&&ki(e).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){yi(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){gi(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){ye(!0);try{gi(t,e,n)}finally{ye(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,Bi(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"rootNodes",get:function(){var t=this._lView;return null==t[0]?function t(e,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var s=n[r.index];if(null!==s&&i.push(Zt(s)),Vt(s))for(var a=10;a<s.length;a++){var u=s[a],c=u[1].firstChild;null!==c&&t(u[1],u,c,i)}var l=r.type;if(4===l||5===l)t(e,n,r.child,i);else if(1===l){var h=n[16],f=h[6].projection[r.projection];if(Array.isArray(f))i.push.apply(i,_toConsumableArray(f));else{var d=Tr(h);t(d[1],d,f,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),t}(),Yi=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t))._view=t,r}return _createClass(n,[{key:"detectChanges",value:function(){mi(this._view)}},{key:"checkNoChanges",value:function(){!function(t){ye(!0);try{mi(t)}finally{ye(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Zi);function Xi(t,e,n){return Ki||(Ki=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(t)),new Ki(Xt(e,n))}function $i(t,e,n,r){return Qi||(Qi=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._declarationView=t,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=qr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Br(e,n,t),new Zi(n)}}]),n}(t)),0===n.type?new Qi(r,n,Xi(e,n,r)):null}function to(t,e,n,r){var i;Ji||(Ji=function(t){_inherits(r,t);var n=_createSuper(r);function r(t,e,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=t,o._hostTNode=e,o._hostView=i,o}return _createClass(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var s=o.get(pt,null);s&&(i=s)}var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a}},{key:"insert",value:function(t,e){var n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Vt(n[3])){var i=this.indexOf(t);if(-1!==i)this.detach(i);else{var o=n[3],s=new Ji(o,o[6],o[3]);s.detach(s.indexOf(t))}}var a=this._adjustIndex(e);return function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],gt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var s=e[17];null!==s&&n!==s&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);var a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,a),Ii(r,n,!0,qi(a,this._lContainer)),t.attachToViewContainerRef(this),gt(this._lContainer[8],a,t),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=this._lContainer[8];return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1);!function(t,e){var n=Ai(t,e);n&&ji(n[1],n)}(this._lContainer,e),mt(this._lContainer[8],e)}},{key:"detach",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=Ai(this._lContainer,e);return n&&null!=mt(this._lContainer[8],e)?new Zi(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return Xi(e,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new pn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var t=on(this._hostTNode,this._hostView),e=Ke(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=We(t),s=e,a=e[6];o>1;)a=(s=s[15])[6],o--;return a}(t,this._hostView,this._hostTNode);return He(t)&&null!=n?new pn(n,e):new pn(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),r}(t));var o=r[n.index];if(Vt(o))i=o;else{var s;if(4===n.type)s=Zt(o);else if(s=r[11].createComment(""),Gt(r)){var a=r[11],u=Xt(n,r);Ri(a,Fi(a,u),s,function(t,e){return Qt(t)?t.nextSibling(e):e.nextSibling}(a,u))}else Vi(r[1],r,s,n);r[n.index]=i=fi(o,r,s,n),vi(r,i)}return new Ji(i,n,r)}function eo(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&zt(t)){var r=te(t.index,e);return new Zi(r,r)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Zi(e[16],e):null}(he(),ce(),t)}var no=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return ro()},t}(),ro=eo,io=new tt("Set Injector scope."),oo={},so={},ao=[],uo=void 0;function co(){return void 0===uo&&(uo=new dt),uo}function lo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new ho(t,n,e||co(),r)}var ho=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var s=[];n&&yt(n,(function(t){return i.processProvider(t,e,n)})),yt([e],(function(t){return i.processInjectorType(t,[],s)})),this.records.set(et,vo(void 0,this));var a=this.records.get(io);this.scope=null!=a?a.value:null,this.source=o||("object"==typeof e?null:R(e))}return _createClass(t,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Default;this.assertNotDestroyed();var r,i=st(this);try{if(!(n&k.SkipSelf)){var o=this.records.get(t);if(void 0===o){var s=("function"==typeof(r=t)||"object"==typeof r&&r instanceof tt)&&T(t);o=s&&this.injectableDefInScope(s)?vo(fo(t),oo):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&k.Self?co():this.parent).get(t,e=n&k.Optional&&e===nt?null:e)}catch(a){if("NullInjectorError"===a.name){if((a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(R(t)),i)throw a;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=R(e);if(Array.isArray(e))i=e.map(R).join(" -> ");else if("object"==typeof e){var o=[];for(var s in e)if(e.hasOwnProperty(s)){var a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):R(a)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(rt,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(a,t,0,this.source)}throw a}finally{st(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach((function(e){return t.get(e)}))}},{key:"toString",value:function(){var t=[];return this.records.forEach((function(e,n){return t.push(R(n))})),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=U(t)))return!1;var i=x(t),o=null==i&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==n.indexOf(s);if(void 0!==o&&(i=x(o)),null==i)return!1;if(null!=i.imports&&!a){var u;n.push(s);try{yt(i.imports,(function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))}))}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;yt(i,(function(t){return r.processProvider(t,n,i||ao)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(s),this.records.set(s,vo(i.factory,oo));var h=i.providers;if(null!=h&&!a){var f=t;yt(h,(function(t){return r.processProvider(t,f,h)}))}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=go(t=U(t))?t:U(t&&t.provide),i=function(t,e,n){return yo(t)?vo(void 0,t.useValue):vo(po(t,e,n),oo)}(t,e,n);if(go(t)||!0!==t.multi){var o=this.records.get(r);o&&void 0!==o.multi&&pr()}else{var s=this.records.get(r);s?void 0===s.multi&&pr():((s=vo(void 0,oo,!0)).factory=function(){return ft(s.multi)},this.records.set(r,s)),r=t,s.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===so?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(R(t)):e.value===oo&&(e.value=so,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function fo(t){var e=T(t),n=null!==e?e.factory:Mt(t);if(null!==n)return n;var r=x(t);if(null!==r)return r.factory;if(t instanceof tt)throw new Error("Token ".concat(R(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=_t(e,"?");throw new Error("Can't resolve all parameters for ".concat(R(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[A]||t[D]||t[P]&&t[P]());if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function po(t,e,n){var r,i=void 0;if(go(t)){var o=U(t);return Mt(o)||fo(o)}if(yo(t))i=function(){return U(t.useValue)};else if((r=t)&&r.useFactory)i=function(){return t.useFactory.apply(t,_toConsumableArray(ft(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))i=function(){return ct(U(t.useExisting))};else{var s=U(t&&(t.useClass||t.provide));if(s||function(t,e,n){var r="";throw t&&e&&(r=" - only instances of Provider and Type are allowed, got: [".concat(e.map((function(t){return t==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(R(t),"'")+r)}(e,n,t),!function(t){return!!t.deps}(t))return Mt(s)||fo(s);i=function(){return _construct(s,_toConsumableArray(ft(t.deps)))}}return i}function vo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function yo(t){return null!==t&&"object"==typeof t&&it in t}function go(t){return"function"==typeof t}var mo=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=lo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},_o=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?mo(t,e,""):mo(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=nt,t.NULL=new dt,t.\u0275prov=S({token:t,providedIn:"any",factory:function(){return ct(et)}}),t.__NG_ELEMENT_ID__=-1,t}(),bo=new tt("AnalyzeForEntryComponents"),wo=new Map,ko=new Set;function Co(t){return"string"==typeof t?t:t.text()}function Eo(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var s=0;s<e.length;s++){var a=e[s];"number"==typeof a?o=a:1==o?i=L(i,a):2==o&&(r=L(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var So=null;function Oo(){if(!So){var t=W.Symbol;if(t&&t.iterator)So=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(So=r)}}return So}function To(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}var Io=function(){function t(e){_classCallCheck(this,t),this.wrapped=e}return _createClass(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function xo(t){return!!Ao(t)&&(Array.isArray(t)||!(t instanceof Map)&&Oo()in t)}function Ao(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function jo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Po(t,e,n,r){var i=ce();return jo(i,ge(),e)&&(le(),function(t,e,n,r,i,o){var s=Xt(t,e),a=e[11];if(null==r)Qt(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{var u=null==i?Qe(r):i(r,t.tagName||"",n);Qt(a)?a.setAttribute(s,n,u,o):o?s.setAttributeNS(o,n,u):s.setAttribute(n,u)}}(je(),i,t,e,n,r)),Po}function Do(t,e,n,r,i,o,s,a){var u=ce(),c=le(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){var c=e.consts,l=zr(e,n[6],t,0,s||null,ie(c,a));ti(e,n,l,ie(c,u)),Pe(e,l);var h=l.tViews=Zr(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=Yr(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];fe(h,!1);var f=u[11].createComment("");Vi(c,u,f,h),fr(f,u),vi(u,u[l]=fi(f,u,f,h)),Bt(h)&&Kr(c,u,h),null!=s&&Qr(u,h,a)}function No(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default,n=ce();return null==n?ct(t,e):an(he(),n,U(t),e)}function Ro(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Ve(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(he(),t)}function Lo(){throw new Error("invalid")}function Mo(t,e,n){var r=ce();return jo(r,ge(),e)&&$r(le(),je(),r,t,e,r[11],n,!1),Mo}function Fo(t,e,n,r,i){var o=i?"class":"style";Ei(t,n,e.inputs[o],o,r)}function Uo(t,e,n,r){var i=ce(),o=le(),s=20+t,a=i[11],u=i[s]=Vr(e,a,ae.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){var a=e.consts,u=ie(a,o),c=zr(e,n[6],t,3,i,u);return ti(e,n,c,ie(a,s)),null!==c.attrs&&Eo(c,c.attrs,!1),null!==c.mergedAttrs&&Eo(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[s];fe(c,!0);var l=c.mergedAttrs;null!==l&&Ue(a,u,l);var h=c.classes;null!==h&&Wi(a,u,h);var f=c.styles;null!==f&&Gi(a,u,f),Vi(o,i,u,c),0===ae.lFrame.elementDepthCount&&fr(u,i),ae.lFrame.elementDepthCount++,Bt(c)&&(Kr(o,i,c),function(t,e,n){if(qt(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}(o,c,i)),null!==r&&Qr(i,c)}function Vo(){var t=he();de()?pe():fe(t=t.parent,!1);var e=t;ae.lFrame.elementDepthCount--;var n=le();n.firstCreatePass&&(Pe(n,t),qt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Fo(n,e,ce(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Fo(n,e,ce(),e.stylesWithoutHost,!1)}function qo(t,e,n,r){Uo(t,e,n,r),Vo()}function zo(t){return!!t&&"function"==typeof t.then}function Bo(t){return!!t&&"function"==typeof t.subscribe}function Ho(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=ce(),o=le(),s=he();return function(t,e,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7?arguments[7]:void 0,u=Bt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=wi(e),h=!0;if(3===r.type){var f=Xt(r,e),d=a?a(f):Et,p=d.target||f,v=l.length,y=a?function(t){return a(Zt(t[r.index])).target}:r.index;if(Qt(n)){var g=null;if(!a&&u&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var s=i[o];if(s===n&&i[o+1]===r){var a=e[7],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,h=!1;else{o=Wo(r,e,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,y,v,v+1)}}else o=Wo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,y,v,s)}var _,b=r.outputs;if(h&&null!==b&&(_=b[i])){var w=_.length;if(w)for(var k=0;k<w;k+=2){var C=e[_[k]][_[k+1]].subscribe(o),E=l.length;l.push(o,C),c&&c.push(i,r.index,E,-(E+1))}}}(o,i,i[11],s,t,e,n,r),Ho}function Go(t,e,n){try{return!1!==e(n)}catch(r){return Ci(t,r),!1}}function Wo(t,e,n,r){return function i(o){if(o===Function)return n;var s=2&t.flags?te(t.index,e):e;0==(32&e[2])&&yi(s);for(var a=Go(e,n,o),u=i.__ngNextListenerFn__;u;)a=Go(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Ko(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(ae.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ae.lFrame.contextLView))[8]}(t)}function Qo(t,e){for(var n=null,r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++){var o=e[i];if("*"!==o){if(null===r?kr(t,o,!0):Cr(r,o))return i}else n=i}return n}function Jo(t){var e=ce()[16][6];if(!e.projection)for(var n=e.projection=_t(t?t.length:1,null),r=n.slice(),i=e.child;null!==i;){var o=t?Qo(i,t):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function Zo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=ce(),i=le(),o=zr(i,r[6],t,1,null,n||null);null===o.projection&&(o.projection=e),pe(),function(t,e,n){Hi(e[11],0,e,n,Ni(t,n,e),Ui(n.parent||e[6],e))}(i,r,o)}var Yo=[];function Xo(t,e,n,r,i){for(var o=t[n+1],s=null===e,a=r?Nr(o):Lr(o),u=!1;0!==a&&(!1===u||s);){var c=t[a+1];$o(t[a],e)&&(u=!0,t[a+1]=r?Fr(c):Rr(c)),a=r?Nr(c):Lr(c)}u&&(t[n+1]=r?Rr(o):Fr(o))}function $o(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&wt(t,e)>=0}function ts(t,e,n){return ns(t,e,n,!1),ts}function es(t,e){return ns(t,e,null,!0),es}function ns(t,e,n,r){var i,o,s,a=ce(),u=le(),c=(i=ae.lFrame,o=i.bindingIndex,i.bindingIndex=i.bindingIndex+2,o);(u.firstUpdatePass&&function(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[xe()+20],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=ae.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=is(n=rs(null,t,e,n,r),e.attrs,r),o=null);else{var s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=rs(i,t,e,n,r),null===o){var a=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==Lr(r))return t[Nr(r)]}(t,e,r);void 0!==a&&Array.isArray(a)&&function(t,e,n,r){t[Nr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,a=is(a=rs(null,t,e,a[1],r),e.attrs,r))}else o=function(t,e,n){for(var r=void 0,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=is(r,t[o].hostAttrs,n);return is(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var s=o?e.classBindings:e.styleBindings,a=Nr(s),u=Lr(s);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||wt(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=Nr(t[a+1]);t[r+1]=Dr(f,a),0!==f&&(t[f+1]=Mr(t[f+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Dr(a,0),0!==a&&(t[a+1]=Mr(t[a+1],r)),a=r;else t[r+1]=Dr(u,0),0===a?a=r:t[u+1]=Mr(t[u+1],r),u=r;l&&(t[r+1]=Rr(t[r+1])),Xo(t,c,r,!0),Xo(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&wt(o,e)>=0&&(n[r+1]=Fr(n[r+1]))}(e,c,t,r,o),s=Dr(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(u,t,c,r),e!==Or&&jo(a,c,e))&&(null==n&&(s=function(){var t=ae.lFrame;return null===t?null:t.currentSanitizer}())&&(n=s),function(t,e,n,r,i,o,s,a){if(3===e.type){var u=t.data,c=u[a+1];ss(1==(1&c)?os(u,e,n,i,Lr(c),s):void 0)||(ss(o)||2==(2&c)&&(o=os(u,null,n,i,a,s)),function(t,e,n,r,i){var o=Qt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var s=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,s):n.style.removeProperty(r):o?t.setStyle(n,r,i,s):n.style.setProperty(r,i)}}(r,s,Yt(xe(),n),i,o))}}(u,u.data[xe()+20],a,a[11],t,a[c+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=R(Tn(t)))),t}(e,n),r,c))}function rs(t,e,n,r,i){var o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(r=is(r,(o=e[a]).hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function is(t,e,n){var r,i,o,s,a=n?1:2,u=-1;if(null!==e)for(var c=0;c<e.length;c++){var l=e[c];"number"==typeof l?u=l:u===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),r=t,i=l,o=!!n||e[++c],s=void 0,(s=wt(r,i))>=0?r[1|s]=o:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(r,s=~s,i,o))}return void 0===t?null:t}function os(t,e,n,r,i,o){for(var s=null===e,a=void 0;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===Or&&(f=h?Yo:void 0);var d=h?bt(f,r):l===r?f:void 0;if(c&&!ss(d)&&(d=bt(u,r)),ss(d)&&(a=d,s))return a;var p=t[i+1];i=s?Nr(p):Lr(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(a=bt(v,r))}return a}function ss(t){return void 0!==t}function as(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=ce(),r=le(),i=t+20,o=r.firstCreatePass?zr(r,n[6],t,3,null,null):r.data[i],s=n[i]=function(t,e){return Qt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Vi(r,n,s,o),fe(o,!1)}function us(t,e,n){var r=ce(),i=function(t,e,n,r){return jo(t,ge(),n)?e+Qe(n)+r:Or}(r,t,e,n);return i!==Or&&function(t,e,n){var r=Yt(e,t),i=t[11];Qt(i)?i.setValue(r,n):r.textContent=n}(r,xe(),i),us}function cs(t,e,n){var r=ce();return jo(r,ge(),e)&&$r(le(),je(),r,t,e,r[11],n,!0),cs}function ls(t,e){var n=ee(t)[1],r=n.data.length-1;Pe(n,{directiveStart:r,directiveEnd:r+1})}function hs(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(Ht(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=fs(t.inputs),o.declaredInputs=fs(t.declaredInputs),o.outputs=fs(t.outputs);var s=i.hostBindings;s&&vs(t,s);var a=i.viewQuery,u=i.contentQueries;if(a&&ds(t,a),u&&ps(t,u),E(t.inputs,i.inputs),E(t.declaredInputs,i.declaredInputs),E(t.outputs,i.outputs),Ht(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=t.afterContentInit||i.afterContentInit,o.afterViewChecked=t.afterViewChecked||i.afterViewChecked,o.afterViewInit=t.afterViewInit||i.afterViewInit,o.doCheck=t.doCheck||i.doCheck,o.onDestroy=t.onDestroy||i.onDestroy,o.onInit=t.onInit||i.onInit}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===hs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ze(i.hostAttrs,n=ze(n,i.hostAttrs))}}(r)}function fs(t){return t===Et?{}:t===St?[]:t}function ds(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function ps(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function vs(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var ys=function(){function t(e,n,r){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function gs(t){t.type.prototype.ngOnChanges&&(t.setInput=ms,t.onChanges=function(){var t=_s(this),e=t&&t.current;if(e){var n=t.previous;if(n===Et)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}})}function ms(t,e,n,r){var i=_s(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Et,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new ys(u&&u.currentValue,e,s===Et),t[r]=e}function _s(t){return t.__ngSimpleChanges__||null}function bs(t,e,n,r,i){if(t=U(t),Array.isArray(t))for(var o=0;o<t.length;o++)bs(t[o],e,n,r,i);else{var s=le(),a=ce(),u=go(t)?t:U(t.provide),c=po(t),l=he(),h=65535&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>16;if(go(t)||!t.multi){var p=new Fe(c,i,No),v=Cs(u,e,i?h:h+d,f);-1===v?(sn(en(l,a),s,u),ws(s,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(p),a.push(p)):(n[v]=p,a[v]=p)}else{var y=Cs(u,e,h+d,f),g=Cs(u,e,h,h+d),m=y>=0&&n[y],_=g>=0&&n[g];if(i&&!_||!i&&!m){sn(en(l,a),s,u);var b=function(t,e,n,r,i){var o=new Fe(t,n,No);return o.multi=[],o.index=e,o.componentProviders=0,ks(o,i,r&&!n),o}(i?Ss:Es,n.length,i,r,c);!i&&_&&(n[g].providerFactory=b),ws(s,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(b),a.push(b)}else ws(s,t,y>-1?y:g,ks(n[i?g:y],c,!i&&r));!i&&r&&_&&n[g].componentProviders++}}}function ws(t,e,n,r){var i=go(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var a=s.indexOf(n);-1===a?s.push(n,[r,o]):s[a+1].push(r,o)}else s.push(n,o)}}}function ks(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Cs(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function Es(t,e,n,r){return Os(this.multi,[])}function Ss(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var s=this.providerFactory.componentProviders,a=hn(n,n[1],this.providerFactory.index,r);Os(o,i=a.slice(0,s));for(var u=s;u<a.length;u++)i.push(a[u])}else Os(o,i=[]);return i}function Os(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ts(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=le();if(r.firstCreatePass){var i=Ht(t);bs(n,r.data,r.blueprint,i,!0),bs(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}gs.ngInherit=!0;var Is=function t(){_classCallCheck(this,t)},xs=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(R(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),As=function(){var t=function t(){_classCallCheck(this,t)};return t.NULL=new xs,t}(),js=function(){var t=function t(e){_classCallCheck(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return Ps(t)},t}(),Ps=function(t){return Xi(t,he(),ce())},Ds=function t(){_classCallCheck(this,t)},Ns=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),Rs=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Ls()},t}(),Ls=function(){var t=ce(),e=te(he().index,t);return function(t){var e=t[11];if(Qt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Ut(e)?e:t)},Ms=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275prov=S({token:t,providedIn:"root",factory:function(){return null}}),t}(),Fs=function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Us=new Fs("9.1.12"),Vs=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return xo(t)}},{key:"create",value:function(t){return new zs(t)}}]),t}(),qs=function(t,e){return e},zs=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||qs}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Ws(n,r,i)?e:n,s=Ws(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=s-r,c=a-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}s!==a&&t(o,s,a)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!xo(t))throw new Error("Error trying to diff '".concat(R(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(var a=0;a<this.length;a++)r=t[a],i=this._trackByFn(a,r),null!==o&&To(o.trackById,i)?(s&&(o=this._verifyReinsertion(o,r,i,a)),To(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,a),s=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[Oo()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&To(o.trackById,i)?(s&&(o=e._verifyReinsertion(o,t,i,n)),To(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),s=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(To(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(To(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Bs(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Gs),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),Bs=function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Hs=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&To(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),Gs=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Hs,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function Ws(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Ks=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||Ao(t)}},{key:"create",value:function(){return new Qs}}]),t}(),Qs=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Ao(t)))throw new Error("Error trying to diff '".concat(R(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Js(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){To(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),Js=function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Zs=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new _]]}}}]),t}();return t.\u0275prov=S({token:t,providedIn:"root",factory:function(){return new t([new Vs])}}),t}(),Ys=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new _]]}}}]),t}();return t.\u0275prov=S({token:t,providedIn:"root",factory:function(){return new t([new Ks])}}),t}(),Xs=[new Ks],$s=new Zs([new Vs]),ta=new Ys(Xs),ea=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return na(t,js)},t}(),na=function(t,e){return $i(t,e,he(),ce())},ra=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return ia(t,js)},t}(),ia=function(t,e){return to(t,e,he(),ce())},oa={},sa=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).ngModule=t,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(t){var e=Lt(t);return new ca(e,this.ngModule)}}]),n}(As);function aa(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var ua=new tt("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Ze}}),ca=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(Sr).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"create",value:function(t,e,n,r){var i,o,s=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,oa,i);return o!==oa||r===oa?o:e.get(n,r,i)}}}(t,r.injector):t,a=s.get(Ds,Jt),u=s.get(Ms,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Qt(t))return t.selectRootElement(e,n===Ct.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Vr(l,a.createRenderer(null,this.componentDef),function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:Ze,clean:bi,playerHandler:null,flags:0},v=Zr(0,-1,null,1,0,null,null,null,null,null),y=qr(null,v,p,f,null,null,a,c,u,s);Ce(y,null);try{var g=function(t,e,n,r,i,o){var s=n[1];n[20]=t;var a=zr(s,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Eo(a,u,!0),null!==t&&(Ue(i,t,u),null!==a.classes&&Wi(i,t,a.classes),null!==a.styles&&Gi(i,t,a.styles)));var c=r.createRenderer(t,e),l=qr(n,Jr(e),null,e.onPush?64:16,n[20],a,r,c,void 0);return s.firstCreatePass&&(sn(en(a,n),s,e.type),oi(s,a),ai(a,n.length,1)),vi(n,l),n[20]=l}(h,this.componentDef,y,a,c);if(h)if(n)Ue(c,h,["ng-version",Us.full]);else{var m=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!br(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),_=m.attrs,b=m.classes;_&&Ue(c,h,_),b&&b.length>0&&Wi(c,h,b.join(" "))}if(o=$t(v,0),void 0!==e)for(var w=o.projection=[],k=0;k<this.ngContentSelectors.length;k++){var C=e[k];w.push(null!=C?Array.from(C):null)}i=function(t,e,n,r,i){var o=n[1],s=function(t,e,n){var r=he();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ii(t,r,1),ui(t,e,n));var i=hn(e,t,e.length-1,r);fr(i,e);var o=Xt(r,e);return o&&fr(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach((function(t){return t(s,e)})),e.contentQueries&&e.contentQueries(1,s,n.length-1);var a=he();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Ae(a.index-20);var u=n[1];ei(u,e),ni(u,n,e.hostVars),ri(e,s)}return s}(g,this.componentDef,y,p,[ls]),Br(v,y,null)}finally{Ie()}var E=new la(this.componentType,i,Xi(js,o,y),y,o);return n&&!d||(v.node.child=o),E}},{key:"inputs",get:function(){return aa(this.componentDef.inputs)}},{key:"outputs",get:function(){return aa(this.componentDef.outputs)}}]),n}(Is),la=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,s){var a,u,c,l;return _classCallCheck(this,n),(a=e.call(this)).location=i,a._rootLView=o,a._tNode=s,a.destroyCbs=[],a.instance=r,a.hostView=a.changeDetectorRef=new Yi(o),u=o[1],c=o,null==(l=u.node)&&(u.node=l=Yr(0,null,2,-1,null,null)),c[6]=l,a.componentType=t,a}return _createClass(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(t){this.destroyCbs&&this.destroyCbs.push(t)}},{key:"injector",get:function(){return new pn(this._tNode,this._rootLView)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),ha=void 0,fa=["en",[["a","p"],["AM","PM"],ha],[["AM","PM"],ha,ha],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ha,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ha,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ha,"{1} 'at' {0}",ha],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],da={};function pa(t,e,n){"string"!=typeof e&&(n=e,e=t[_a.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),da[e]=t,n&&(da[e][_a.ExtraData]=n)}function va(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=ma(e);if(n)return n;var r=e.split("-")[0];if(n=ma(r))return n;if("en"===r)return fa;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function ya(t){return va(t)[_a.CurrencyCode]||null}function ga(t){return va(t)[_a.PluralCase]}function ma(t){return t in da||(da[t]=W.ng&&W.ng.common&&W.ng.common.locales&&W.ng.common.locales[t]),da[t]}var _a=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();function ba(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var wa=new Map,ka=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;_classCallCheck(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new sa(_assertThisInitialized(i));var o=Ft(t),s=t[Y]||null;return s&&ba(s),i._bootstrapComponents=Ye(o.bootstrap),i._r3Injector=lo(t,r,[{provide:pt,useValue:_assertThisInitialized(i)},{provide:As,useValue:i.componentFactoryResolver}],R(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return _createClass(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_o.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Default;return t===_o||t===pt||t===et?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(pt),Ca=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).moduleType=t,null!==Ft(t)&&function t(e){if(null!==e.\u0275mod.id){var n=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(R(e)," vs ").concat(R(e.name)))})(n,wa.get(n),e),wa.set(n,e)}var r=e.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(e){return t(e)}))}(t),r}return _createClass(n,[{key:"create",value:function(t){return new ka(this.moduleType,t)}}]),n}(vt),Ea=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(t=e.call(this)).__isAsync=r,t}return _createClass(n,[{key:"emit",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var o,s=function(t){return null},a=function(){return null};t&&"object"==typeof t?(o=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(s=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(o=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},e&&(s=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)}),r&&(a=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var u=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,o,s,a);return t instanceof i.a&&t.add(u),u}}]),n}(r.a);function Sa(){return this._results[Oo()]()}var Oa=function(){function t(){_classCallCheck(this,t),this.dirty=!0,this._results=[],this.changes=new Ea,this.length=0;var e=Oo(),n=t.prototype;n[e]||(n[e]=Sa)}return _createClass(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),Ta=function(){function t(e){_classCallCheck(this,t),this.queryList=e,this.matches=null}return _createClass(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),Ia=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==Ba(t,e).matches&&this.queries[e].setDirty()}}]),t}(),xa=function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.predicate=e,this.descendants=n,this.isStatic=r,this.read=i},Aa=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"track",value:function(t){this.queries.push(t)}},{key:"length",get:function(){return this.queries.length}}]),t}(),ja=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,Pa(e,n[r]));else{var i=this.metadata.predicate;i===ea?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ln(e,t,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===js||r===ra||r===ea&&0===e.type)this.addMatch(e.index,-2);else{var i=ln(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function Pa(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Da(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?Xi(js,t,e):0===t.type?$i(ea,js,t,e):null}(e,t):-2===n?function(t,e,n){return n===js?Xi(js,e,t):n===ea?$i(ea,js,e,t):n===ra?to(ra,js,e,t):void 0}(t,e,r):hn(t,t[1],n,e)}function Na(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,s=n.matches,a=[],u=0;u<s.length;u+=2){var c=s[u];a.push(c<0?null:Da(e,o[c],s[u+1],n.metadata.read))}i.matches=a}return i.matches}function Ra(t){var e=ce(),n=le(),r=be();we(r+1);var i=Ba(n,r);if(t.dirty&&ne(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?function t(e,n,r,i){var o=e.queries.getByIndex(r),s=o.matches;if(null!==s)for(var a=Na(e,n,o,r),u=0;u<s.length;u+=2){var c=s[u];if(c>0)i.push(a[u/2]);else{for(var l=s[u+1],h=n[-c],f=10;f<h.length;f++){var d=h[f];d[17]===d[3]&&t(d[1],d,l,i)}if(null!==h[9])for(var p=h[9],v=0;v<p.length;v++){var y=p[v];t(y[1],y,l,i)}}}return i}(n,e,r,[]):Na(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function La(t,e,n){Fa(le(),ce(),t,e,n,!0)}function Ma(t,e,n){Fa(le(),ce(),t,e,n,!1)}function Fa(t,e,n,r,i,o){t.firstCreatePass&&(za(t,new xa(n,r,o,i),-1),o&&(t.staticViewQueries=!0)),qa(t,e)}function Ua(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(za(t,new xa(n,r,!1,i),s.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),qa(t,e)}(le(),ce(),e,n,r,0,he(),t)}function Va(){return t=ce(),e=be(),t[19].queries[e].queryList;var t,e}function qa(t,e){var n=new Oa;!function(t,e,n,r){var i=wi(e);i.push(n),t.firstCreatePass&&ki(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[19]&&(e[19]=new Ia),e[19].queries.push(new Ta(n))}function za(t,e,n){null===t.queries&&(t.queries=new Aa),t.queries.track(new ja(e,n))}function Ba(t,e){return t.queries.getByIndex(e)}function Ha(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.Default,e=eo(!0);if(null!=e||t&k.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}var Ga=new tt("Application Initializer"),Wa=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();zo(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(Ga,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}(),Ka=new tt("AppId"),Qa={provide:Ka,useFactory:function(){return"".concat(Ja()).concat(Ja()).concat(Ja())},deps:[]};function Ja(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Za=new tt("Platform Initializer"),Ya=new tt("Platform ID"),Xa=new tt("appBootstrapListener"),$a=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}(),tu=new tt("LocaleId"),eu=new tt("DefaultCurrencyCode"),nu=function t(e,n){_classCallCheck(this,t),this.ngModuleFactory=e,this.componentFactories=n},ru=function(t){return new Ca(t)},iu=ru,ou=function(t){return Promise.resolve(ru(t))},su=function(t){var e=ru(t),n=Ye(Ft(t).declarations).reduce((function(t,e){var n=Lt(e);return n&&t.push(new ca(n)),t}),[]);return new nu(e,n)},au=su,uu=function(t){return Promise.resolve(su(t))},cu=function(){var t=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=iu,this.compileModuleAsync=ou,this.compileModuleAndAllComponentsSync=au,this.compileModuleAndAllComponentsAsync=uu}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}(),lu=new tt("compilerOptions"),hu=Promise.resolve(0);function fu(t){"undefined"==typeof Zone?hu.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var du=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,s=e.shouldCoalesceEventChangeDetection,a=void 0!==s&&s;if(_classCallCheck(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ea(!1),this.onMicrotaskEmpty=new Ea(!1),this.onStable=new Ea(!1),this.onError=new Ea(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=a,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=W.requestAnimationFrame,e=W.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(W,(function(){t.lastRequestAnimationFrameId=-1,gu(t),yu(t)})),gu(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(t,e,i,o,s,a){try{return mu(n),t.invokeTask(i,o,s,a)}finally{r&&"eventTask"===o.type&&r(),_u(n)}},onInvoke:function(t,e,r,i,o,s,a){try{return mu(n),t.invoke(r,i,o,s,a)}finally{_u(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,gu(n),yu(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,vu,pu,pu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function pu(){}var vu={};function yu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function gu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function mu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _u(t){t._nesting--,yu(t)}var bu=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ea,this.onMicrotaskEmpty=new Ea,this.onStable=new Ea,this.onError=new Ea}return _createClass(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),wu=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){du.assertNotInAngularZone(),fu((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())fu((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(du))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}(),ku=function(){var t=function(){function t(){_classCallCheck(this,t),this._applications=new Map,Su.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Su.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}();function Cu(t){Su=t}var Eu,Su=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),Ou=function(t,e,n){var r=t.get(lu,[]).concat(e),i=new Ca(n);if(0===wo.size)return Promise.resolve(i);var o,s,a=(o=r.map((function(t){return t.providers})),s=[],o.forEach((function(t){return t&&s.push.apply(s,_toConsumableArray(t))})),s);if(0===a.length)return Promise.resolve(i);var u=function(){var t=W.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),c=_o.create({providers:a}).get(u.ResourceLoader);return function(t){var e=[],n=new Map;function r(t){var e=n.get(t);if(!e){var r=function(t){return Promise.resolve(c.get(t))}(t);n.set(t,e=r.then(Co))}return e}return wo.forEach((function(t,n){var i=[];t.templateUrl&&i.push(r(t.templateUrl).then((function(e){t.template=e})));var o=t.styleUrls,s=t.styles||(t.styles=[]),a=t.styles.length;o&&o.forEach((function(e,n){s.push(""),i.push(r(e).then((function(r){s[a+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(t){ko.delete(t)}(n)}));e.push(u)})),wo=new Map,Promise.all(e).then((function(){}))}().then((function(){return i}))},Tu=new tt("AllowMultipleToken"),Iu=function t(e,n){_classCallCheck(this,t),this.name=e,this.token=n};function xu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+e,i=new tt(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Au();if(!o||o.injector.get(Tu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var s=n.concat(e).concat({provide:i,useValue:!0},{provide:io,useValue:"platform"});!function(t){if(Eu&&!Eu.destroyed&&!Eu.injector.get(Tu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Eu=t.get(ju);var e=t.get(Za,null);e&&e.forEach((function(t){return t()}))}(_o.create({providers:s,name:r}))}return function(t){var e=Au();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Au(){return Eu&&!Eu.destroyed?Eu:null}var ju=function(){var t=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new bu:("zone.js"===n?void 0:n)||new du({enableLongStackTrace:Mn(),shouldCoalesceEventChangeDetection:r})),s=[{provide:du,useValue:o}];return o.run((function(){var e=_o.create({providers:s,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(bn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Ru(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(t){r.handleError(t)}})})),function(t,e,r){try{var o=((s=n.injector.get(Wa)).runInitializers(),s.donePromise.then((function(){return ba(n.injector.get(tu,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return zo(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(a){throw e.runOutsideAngular((function(){return t.handleError(a)})),a}var s}(r,o)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Pu({},n);return Ou(this.injector,r,t).then((function(t){return e.bootstrapModuleFactory(t,r)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Nu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(R(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(_o))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}();function Pu(t,e){return Array.isArray(e)?e.reduce(Pu,t):Object.assign(Object.assign({},t),e)}var Du,Nu=((Du=function(){function t(e,n,r,i,a,c){var l=this;_classCallCheck(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=a,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Mn(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run((function(){l.tick()}))}});var h=new o.a((function(t){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular((function(){t.next(l._stable),t.complete()}))})),f=new o.a((function(t){var e;l._zone.runOutsideAngular((function(){e=l._zone.onStable.subscribe((function(){du.assertNotInAngularZone(),fu((function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,t.next(!0))}))}))}));var n=l._zone.onUnstable.subscribe((function(){du.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(s.a)(h,f.pipe((function(t){return u()((e=v,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,d);return r.source=t,r.subjectFactory=n,r})(t));var e})))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Is?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(pt),o=n.create(_o.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var s=o.injector.get(wu,null);return s&&o.injector.get(ku).registerApplication(o.location.nativeElement,s),this._loadComponent(o),Mn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(o){i.e(o)}finally{i.f()}}}catch(s){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(s)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Ru(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Xa,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),Ru(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||Du)(ct(du),ct($a),ct(_o),ct(bn),ct(As),ct(Wa))},Du.\u0275prov=S({token:Du,factory:Du.\u0275fac}),Du);function Ru(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Lu=function t(){_classCallCheck(this,t)},Mu=function t(){_classCallCheck(this,t)},Fu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Uu=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._compiler=e,this._config=n||Fu}return _createClass(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,r=_slicedToArray(t.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(t){return t[o]})).then((function(t){return Vu(t,i,o)})).then((function(t){return e._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var e=_slicedToArray(t.split("#"),2),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(t){return t[i+o]})).then((function(t){return Vu(t,r,i)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(cu),ct(Mu,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}();function Vu(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var qu=function(t){return null},zu=xu(null,"core",[{provide:Ya,useValue:"unknown"},{provide:ju,deps:[_o]},{provide:ku,deps:[]},{provide:$a,deps:[]}]),Bu=[{provide:Nu,useClass:Nu,deps:[du,$a,_o,bn,As,Wa]},{provide:ua,deps:[du],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:Wa,useClass:Wa,deps:[[new _,Ga]]},{provide:cu,useClass:cu,deps:[]},Qa,{provide:Zs,useFactory:function(){return $s},deps:[]},{provide:Ys,useFactory:function(){return ta},deps:[]},{provide:tu,useFactory:function(t){return ba(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new m(tu),new _,new w]]},{provide:eu,useValue:"USD"}],Hu=function(){var t=function t(e){_classCallCheck(this,t)};return t.\u0275mod=jt({type:t}),t.\u0275inj=O({factory:function(e){return new(e||t)(ct(Nu))},providers:Bu}),t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a((function(n){var r=new i.a,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}]),t}(),s=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(r.a)},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("SpAZ");function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o(e)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return h}));var r,i=n("7o/Q"),o=n("EY2u"),s=n("LRne"),a=n("HDdC"),u=((r=function(){function t(e,n,r){_classCallCheck(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new a.a((function(e){return e.error(t)}));case"C":return Object(o.b)()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r);function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new l(t,e))}}var l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.scheduler,this.delay))}}]),t}(),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new f(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(u.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(u.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(i.a),f=function t(e,n){_classCallCheck(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return u})),n.d(e,"m",(function(){return c})),n.d(e,"n",(function(){return f})),n.d(e,"o",(function(){return v}));var r=n("mrSG");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return a().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,g.prototype.create),o}return Object(r.c)(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?m(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new y(i,a,r);return u},t}();function m(t,e){return t.replace(_,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var _=/\{\$([^}]+)}/g;function b(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new k(t,e);return n.subscribe.bind(n)}var k=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function C(){}},qgXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n("3N8a").a),i=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(r)},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r,i,o=n("DH7j"),s=n("XoHu"),a=n("n6bG"),u=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),c=((i=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var c=0;c<n.length;++c)n[c].remove(this);if(Object(a.a)(r))try{r.call(this)}catch(p){e=p instanceof u?l(p.errors):[p]}if(Object(o.a)(i))for(var h=-1,f=i.length;++h<f;){var d=i[h];if(Object(s.a)(d))try{d.unsubscribe()}catch(p){e=e||[],p instanceof u?e=e.concat(l(p.errors)):e.push(p)}}if(e)throw new u(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((r=new i).closed=!0,r),i);function l(t){return t.reduce((function(t,e){return t.concat(e instanceof u?e.errors:e)}),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return g})),n.d(e,"f",(function(){return E})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return y})),n.d(e,"j",(function(){return k}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}var h=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;_classCallCheck(this,t),this.zone=e,this.delegate=n}return _createClass(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule((function(e){var n=this;r.runGuarded((function(){t.apply(n,[e])}))}),e,n)}}]),t}(),f=function(){function t(e){_classCallCheck(this,t),this.zone=e,this.task=null}return _createClass(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)})),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout((function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)}),10)}}]),t}(),d=function t(e){_classCallCheck(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular((function(){return new h(Zone.current)})),this.insideAngular=e.run((function(){return new h(Zone.current,i.a)}))};function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}var v=["ngOnDestroy"],y=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(i,o){return n.runOutsideAngular((function(){var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(v.indexOf(o)>-1)return function(){};var s=e.toPromise().then((function(t){var e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then((function(t){return n.run((function(){return t}))})):n.run((function(){return e}))}));return new Proxy((function(){}),{get:function(t,e){return s[e]},apply:function(t,e,n){return s.then((function(t){var e,i=t&&t.apply(void 0,_toConsumableArray(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i}))}})}))}})},g=function(t,e){e.forEach((function(e){Object.getOwnPropertyNames(e.prototype||e).forEach((function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))}))}))},m=new u.q("angularfire2.app.options"),_=new u.q("angularfire2.app.nameOrConfig"),b=new u.O("6.1.4");function w(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=c.a.apps.filter((function(t){return t&&t.name===i.name}))[0]||n.runOutsideAngular((function(){return c.a.initializeApp(e,i)}));try{JSON.stringify(e)!==JSON.stringify(o.options)&&C("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(s){}return o}var k=function(){C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(u.W)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,r)};function E(e,n,r,i,o){var s=_toArray(globalThis.\u0275AngularfireInstanceCache.get(e)||[]),a=s[0],u=s.slice(1);if(a){try{o.some((function(t,e){var n=u[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n}))&&C("error","".concat(n," was already initialized on the ").concat(r.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(l){}return a}var c=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[c].concat(_toConsumableArray(o))),c}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var S={provide:function t(){_classCallCheck(this,t)},useFactory:w,deps:[m,u.z,[new u.A,_]]},O=function(){var t=function(){function t(e){_classCallCheck(this,t),c.a.registerVersion("angularfire",b.full,e.toString()),c.a.registerVersion("angular",u.N.full)}return _createClass(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:m,useValue:e},{provide:_,useValue:n}]}}}]),t}();return t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({factory:function(e){return new(e||t)(u.Sb(u.B))},providers:[S]}),t}()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("7Hc7"),o=n("Y7HM"),s=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a;return _classCallCheck(this,n),(r=e.call(this)).source=t,r.delayTime=s,r.scheduler=a,(!Object(o.a)(s)||s<0)&&(r.delayTime=0),a&&"function"==typeof a.schedule||(r.scheduler=i.a),r}return _createClass(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(r.a);function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new u(t,e))}}var u=function(){function t(e,n){_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return new s(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}var a=function(){function t(e,n,r){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),u=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,s,a){var u;return _classCallCheck(this,n),(u=e.call(this,t))._tapNext=i,u._tapError=i,u._tapComplete=i,u._tapError=s||i,u._tapComplete=a||i,Object(o.a)(r)?(u._context=_assertThisInitialized(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i,u._tapError=r.error||i,u._tapComplete=r.complete||i),u}return _createClass(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(r.a)},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return u}),"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(s.f)(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=Object(o.h)(Object.keys(e)),v=p.next();!v.done;v=p.next())e[v.value]._addComponent(a)}catch(y){u={error:y}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),g.apply(void 0,t)};var m=p;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(m),e.a=m},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL"),i={apiKey:"AIzaSyD1O6sO7uFrwlns1gR1PGfAibtNu_uyHoA",authDomain:"notesapp-b2c5d.firebaseapp.com",projectId:"notesapp-b2c5d",storageBucket:"notesapp-b2c5d.appspot.com",messagingSenderId:"1013442246465",appId:"1:1013442246465:web:470dfefece2912fea653c0"},o=null;function s(){return o}var a,u=new r.q("DocumentToken"),c=((a=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||a)},a.\u0275prov=Object(r.Ib)({factory:l,token:a,providedIn:"platform"}),a);function l(){return Object(r.Sb)(d)}var h,f=new r.q("Location Initialized"),d=((h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=s().getLocation(),this._history=s().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return s().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){p()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){p()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(c)).\u0275fac=function(t){return new(t||h)(r.Sb(u))},h.\u0275prov=Object(r.Ib)({factory:v,token:h,providedIn:"platform"}),h);function p(){return!!window.history.pushState}function v(){return new d(Object(r.Sb)(u))}function y(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}var _,b=((_=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||_)},_.\u0275prov=Object(r.Ib)({factory:w,token:_,providedIn:"root"}),_);function w(t){var e=Object(r.Sb)(u).location;return new O(Object(r.Sb)(c),e&&e.origin||"")}var k,C,E,S=new r.q("appBaseHref"),O=((E=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;if(_classCallCheck(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return y(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(b)).\u0275fac=function(t){return new(t||E)(r.Sb(c),r.Sb(S,8))},E.\u0275prov=r.Ib({token:E,factory:E.\u0275fac}),E),T=((C=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=y(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(b)).\u0275fac=function(t){return new(t||C)(r.Sb(c),r.Sb(S,8))},C.\u0275prov=r.Ib({token:C,factory:C.\u0275fac}),C),I=((k=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=e;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=g(A(o)),this._platformStrategy.onPopState((function(t){i._subject.emit({url:i.path(!0),pop:!0,state:t.state,type:t.type})}))}return _createClass(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+m(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,A(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||k)(r.Sb(b),r.Sb(c))},k.normalizeQueryParams=m,k.joinWithSlash=y,k.stripTrailingSlash=g,k.\u0275prov=Object(r.Ib)({factory:x,token:k,providedIn:"root"}),k);function x(){return new I(Object(r.Sb)(b),Object(r.Sb)(c))}function A(t){return t.replace(/\/index.html$/,"")}var j,P=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),D=r.ob,N=function t(){_classCallCheck(this,t)},R=((j=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).locale=t,r}return _createClass(n,[{key:"getPluralCategory",value:function(t,e){switch(D(e||this.locale)(t)){case P.Zero:return"zero";case P.One:return"one";case P.Two:return"two";case P.Few:return"few";case P.Many:return"many";default:return"other"}}}]),n}(N)).\u0275fac=function(t){return new(t||j)(r.Sb(r.u))},j.\u0275prov=r.Ib({token:j,factory:j.\u0275fac}),j);function L(t,e){e=encodeURIComponent(e);var n,r=_createForOfIteratorHelper(t.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),s=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),a=s[0],u=s[1];if(a.trim()===e)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}var M,F,U,V,q,z,B,H=function(){function t(e,n,r,i){_classCallCheck(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return _createClass(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),G=((M=function(){function t(e,n,r){_classCallCheck(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(uC){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new H(null,e._ngForOf,-1,-1),null===i?void 0:i),s=new W(t,o);n.push(s)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var a=e._viewContainer.get(r);e._viewContainer.move(a,i);var u=new W(t,a);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var s=this._viewContainer.get(i);s.context.index=i,s.context.count=o,s.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}},{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(t){Object(r.W)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=t},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||M)(r.Mb(r.P),r.Mb(r.L),r.Mb(r.s))},M.\u0275dir=r.Hb({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),M),W=function t(e,n){_classCallCheck(this,t),this.record=e,this.view=n},K=((U=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:U}),U.\u0275inj=r.Jb({factory:function(t){return new(t||U)},providers:[{provide:N,useClass:R}]}),U),Q=((F=function t(){_classCallCheck(this,t)}).\u0275prov=Object(r.Ib)({token:F,providedIn:"root",factory:function(){return new J(Object(r.Sb)(u),window,Object(r.Sb)(r.m))}}),F),J=function(){function t(e,n,r){_classCallCheck(this,t),this.document=e,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='".concat(t,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(uC){return!1}}}]),t}(),Z=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=Y||(Y=document.querySelector("base"))?Y.getAttribute("href"):null;return null==n?null:(e=n,V||(V=document.createElement("a")),V.setAttribute("href",e),"/"===V.pathname.charAt(0)?V.pathname:"/"+V.pathname)}},{key:"resetBaseElement",value:function(){Y=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return L(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,o||(o=t)}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){_classCallCheck(this,t)}}())),Y=null,X=new r.q("TRANSITION_ID"),$=[{provide:r.d,useFactory:function(t,e,n){return function(){n.get(r.e).donePromise.then((function(){var n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[X,u,r.r],multi:!0}],tt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){r.qb.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},r.qb.getAllAngularRootElements=function(){return t.getAllRootElements()},r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push((function(t){var e=r.qb.getAllAngularTestabilities(),n=e.length,i=!1,o=function(e){i=i||e,0==--n&&t(i)};e.forEach((function(t){t.whenStable(o)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(r.Y)(new t)}}]),t}(),et=new r.q("EventManagerPlugins"),nt=((q=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=r})),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)}}]),t}()).\u0275fac=function(t){return new(t||q)(r.Sb(et),r.Sb(r.z))},q.\u0275prov=r.Ib({token:q,factory:q.\u0275fac}),q),rt=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),it=((B=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||B)},B.\u0275prov=r.Ib({token:B,factory:B.\u0275fac}),B),ot=((z=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return s().remove(t)}))}}]),n}(it)).\u0275fac=function(t){return new(t||z)(r.Sb(u))},z.\u0275prov=r.Ib({token:z,factory:z.\u0275fac}),z),st={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},at=/%COMP%/g;function ut(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?ut(t,i,n):(i=i.replace(at,t),n.push(i))}return n}function ct(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var lt,ht,ft,dt,pt=((lt=function(){function t(e,n,r){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new vt(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new yt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case r.Q.Native:case r.Q.ShadowDom:return new gt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=ut(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||lt)(r.Sb(nt),r.Sb(ot),r.Sb(r.c))},lt.\u0275prov=r.Ib({token:lt,factory:lt.\u0275fac}),lt),vt=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(st[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=st[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=st[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,i){i&r.G.DashCase?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ct(n)):this.eventManager.addEventListener(t,e,ct(n))}}]),t}(),yt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;_classCallCheck(this,n),(s=e.call(this,t)).component=i;var a,u=ut(o+"-"+i.id,i.styles,[]);return r.addStyles(u),s.contentAttr="_ngcontent-%COMP%".replace(at,o+"-"+i.id),s.hostAttr=(a=o+"-"+i.id,"_nghost-%COMP%".replace(at,a)),s}return _createClass(n,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,t,e);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(vt),gt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,s){var a;_classCallCheck(this,n),(a=e.call(this,t)).sharedStylesHost=i,a.hostEl=o,a.component=s,a.shadowRoot=s.encapsulation===r.Q.ShadowDom?o.attachShadow({mode:"open"}):o.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var u=ut(s.id,s.styles,[]),c=0;c<u.length;c++){var l=document.createElement("style");l.textContent=u[c],a.shadowRoot.appendChild(l)}return a}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(vt),mt=((ht=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(rt)).\u0275fac=function(t){return new(t||ht)(r.Sb(u))},ht.\u0275prov=r.Ib({token:ht,factory:ht.\u0275fac}),ht),_t=["alt","control","meta","shift"],bt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},kt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Ct=((ft=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return s().onAndCancel(t,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(_t.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")})),o+=i,0!=e.length||0===i.length)return null;var s={};return s.domEventName=r,s.fullKey=o,s}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&wt.hasOwnProperty(e)&&(e=wt[e]))}return bt[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),_t.forEach((function(r){r!=n&&(0,kt[r])(t)&&(e+=r+".")})),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded((function(){return e(i)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(rt)).\u0275fac=function(t){return new(t||ft)(r.Sb(u))},ft.\u0275prov=r.Ib({token:ft,factory:ft.\u0275fac}),ft),Et=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){Z.makeCurrent(),tt.init()},multi:!0},{provide:u,useFactory:function(){return Object(r.wb)(document),document},deps:[]}],St=Object(r.S)(r.X,"browser",Et),Ot=[[],{provide:r.ab,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:et,useClass:mt,multi:!0,deps:[u,r.z,r.B]},{provide:et,useClass:Ct,multi:!0,deps:[u]},[],{provide:pt,useClass:pt,deps:[nt,ot,r.c]},{provide:r.F,useExisting:pt},{provide:it,useExisting:ot},{provide:ot,useClass:ot,deps:[u]},{provide:r.M,useClass:r.M,deps:[r.z]},{provide:nt,useClass:nt,deps:[et,r.z]},[]],Tt=((dt=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:X,useExisting:r.c},$]}}}]),t}()).\u0275mod=r.Kb({type:dt}),dt.\u0275inj=r.Jb({factory:function(t){return new(t||dt)(r.Sb(dt,12))},providers:Ot,imports:[K,r.f]}),dt);"undefined"!=typeof window&&window;var It=n("LRne"),xt=n("Cfvw"),At=n("XNiG"),jt=n("9ppp"),Pt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._value=t,r}return _createClass(n,[{key:"_subscribe",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new jt.a;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),n}(At.a),Dt=n("HDdC"),Nt=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Rt=n("z+Ro"),Lt=n("DH7j"),Mt=n("l7GE"),Ft=n("ZUHj"),Ut=n("yCtX"),Vt={},qt=function(){function t(e){_classCallCheck(this,t),this.resultSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new zt(t,this.resultSelector))}}]),t}(),zt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(t){this.values.push(Vt),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(Ft.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n,r,i){var o=this.values,s=this.toRespond?o[n]===Vt?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Mt.a),Bt=n("EY2u");function Ht(t){return new Dt.a((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(xt.a)(n):Object(Bt.b)()).subscribe(e)}))}var Gt=n("lJxs"),Wt=n("bHdf");function Kt(){return Object(Wt.a)(1)}var Qt=n("7o/Q");function Jt(t,e){return function(n){return n.lift(new Zt(t,e))}}var Zt=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Yt(t,this.predicate,this.thisArg))}}]),t}(),Yt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(Qt.a),Xt=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function $t(t){return function(e){return 0===t?Object(Bt.b)():e.lift(new te(t))}}var te=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new Xt}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ee(t,this.total))}}]),t}(),ee=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(Qt.a);function ne(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe;return function(e){return e.lift(new re(t))}}var re=function(){function t(e){_classCallCheck(this,t),this.errorFactory=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ie(t,this.errorFactory))}}]),t}(),ie=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),n}(Qt.a);function oe(){return new Nt}function se(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new ae(t))}}var ae=function(){function t(e){_classCallCheck(this,t),this.defaultValue=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ue(t,this.defaultValue))}}]),t}(),ue=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(Qt.a),ce=n("SpAZ");function le(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Jt((function(e,n){return t(e,n,r)})):ce.a,$t(1),n?se(e):ne((function(){return new Nt})))}}var he=n("51Dv");function fe(t){return function(e){var n=new de(t),r=e.lift(n);return n.caught=r}}var de=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new pe(t,this.selector,this.caught))}}]),t}(),pe=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new he.a(this,void 0,void 0);this.add(r);var i=Object(Ft.a)(this,e,void 0,void 0,r);i!==r&&this.add(i)}}}]),n}(Mt.a);function ve(t){return function(e){return 0===t?Object(Bt.b)():e.lift(new ye(t))}}var ye=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new Xt}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ge(t,this.total))}}]),t}(),ge=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(Qt.a);function me(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Jt((function(e,n){return t(e,n,r)})):ce.a,ve(1),n?se(e):ne((function(){return new Nt})))}}var _e=n("5+tZ"),be=function(){function t(e,n,r){_classCallCheck(this,t),this.predicate=e,this.thisArg=n,this.source=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new we(t,this.predicate,this.thisArg,this.source))}}]),t}(),we=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;return _classCallCheck(this,n),(s=e.call(this,t)).predicate=r,s.thisArg=i,s.source=o,s.index=0,s.thisArg=i||_assertThisInitialized(s),s}return _createClass(n,[{key:"notifyComplete",value:function(t){this.destination.next(t),this.destination.complete()}},{key:"_next",value:function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(Qt.a);function ke(t,e){return"function"==typeof e?function(n){return n.pipe(ke((function(n,r){return Object(xt.a)(t(n,r)).pipe(Object(Gt.a)((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new Ce(t))}}var Ce=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ee(t,this.project))}}]),t}(),Ee=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new he.a(this,e,n),o=this.destination;o.add(i),this.innerSubscription=Object(Ft.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}}]),n}(Mt.a);function Se(){return Kt()(Object(It.a).apply(void 0,arguments))}function Oe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Object(Rt.a)(r)?(e.pop(),function(t){return Se(e,t,r)}):function(t){return Se(e,t)}}function Te(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ie(t,e,n))}}var Ie=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new xe(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),xe=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;return _classCallCheck(this,n),(s=e.call(this,t)).accumulator=r,s._seed=i,s.hasSeed=o,s.index=0,s}return _createClass(n,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),n}(Qt.a);function Ae(t,e){return Object(_e.a)(t,e,1)}var je,Pe=n("mCNh"),De=n("vkgz"),Ne=n("quSY"),Re=function(){function t(e){_classCallCheck(this,t),this.callback=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Le(t,this.callback))}}]),t}(),Le=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).add(new Ne.a(r)),i}return n}(Qt.a),Me=function t(e,n){_classCallCheck(this,t),this.id=e,this.url=n},Fe=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=s,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Me),Ue=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Me),Ve=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Me),qe=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Me),ze=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;return _classCallCheck(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Me),Be=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;return _classCallCheck(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Me),He=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,s){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a.shouldActivate=s,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Me),Ge=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;return _classCallCheck(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Me),We=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;return _classCallCheck(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Me),Ke=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),Qe=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),Je=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Ze=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Ye=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Xe=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),$e=function(){function t(e,n,r){_classCallCheck(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return _createClass(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),tn=((je=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||je)},je.\u0275cmp=r.Gb({type:je,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Nb(0,"router-outlet")},directives:function(){return[oi]},encapsulation:2}),je),en=function(){function t(e){_classCallCheck(this,t),this.params=e||{}}return _createClass(t,[{key:"has",value:function(t){return this.params.hasOwnProperty(t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function nn(t){return new en(t)}function rn(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function on(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var sn=function t(e,n){_classCallCheck(this,t),this.routes=e,this.module=n};function an(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];un(r,cn(e,r))}}function un(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&an(t.children,e)}function cn(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function ln(t){var e=t.children&&t.children.map(ln),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=tn),n}function hn(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!fn(t[n=r[o]],e[n]))return!1;return!0}function fn(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every((function(t){return e.indexOf(t)>-1})):t===e}function dn(t){return Array.prototype.concat.apply([],t)}function pn(t){return t.length>0?t[t.length-1]:null}function vn(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function yn(t){return Object(r.sb)(t)?t:Object(r.tb)(t)?Object(xt.a)(Promise.resolve(t)):Object(It.a)(t)}function gn(t,e,n){return n?function(t,e){return hn(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!wn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return fn(t[n],e[n])}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!wn(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!wn(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var s=i.slice(0,n.segments.length),a=i.slice(n.segments.length);return!!wn(n.segments,s)&&!!n.children.primary&&e(n.children.primary,r,a)}(e,n,n.segments)}(t.root,e.root)}var mn=function(){function t(e,n,r){_classCallCheck(this,t),this.root=e,this.queryParams=n,this.fragment=r}return _createClass(t,[{key:"toString",value:function(){return Sn.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=nn(this.queryParams)),this._queryParamMap}}]),t}(),_n=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.segments=e,this.children=n,this.parent=null,vn(n,(function(t,e){return t.parent=r}))}return _createClass(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return On(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),bn=function(){function t(e,n){_classCallCheck(this,t),this.path=e,this.parameters=n}return _createClass(t,[{key:"toString",value:function(){return Pn(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=nn(this.parameters)),this._parameterMap}}]),t}();function wn(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function kn(t,e){var n=[];return vn(t.children,(function(t,r){"primary"===r&&(n=n.concat(e(t,r)))})),vn(t.children,(function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))})),n}var Cn=function t(){_classCallCheck(this,t)},En=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"parse",value:function(t){var e=new Mn(t);return new mn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){return"".concat("/"+function t(e,n){if(!e.hasChildren())return On(e);if(n){var r=e.children.primary?t(e.children.primary,!1):"",i=[];return vn(e.children,(function(e,n){"primary"!==n&&i.push("".concat(n,":").concat(t(e,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=kn(e,(function(n,r){return"primary"===r?[t(e.children.primary,!1)]:["".concat(r,":").concat(t(n,!1))]}));return"".concat(On(e),"/(").concat(o.join("//"),")")}(t.root,!0)).concat((e=t.queryParams,n=Object.keys(e).map((function(t){var n=e[t];return Array.isArray(n)?n.map((function(e){return"".concat(In(t),"=").concat(In(e))})).join("&"):"".concat(In(t),"=").concat(In(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"");var e,n}}]),t}(),Sn=new En;function On(t){return t.segments.map((function(t){return Pn(t)})).join("/")}function Tn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function In(t){return Tn(t).replace(/%3B/gi,";")}function xn(t){return Tn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function An(t){return decodeURIComponent(t)}function jn(t){return An(t.replace(/\+/g,"%20"))}function Pn(t){return"".concat(xn(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(xn(t),"=").concat(xn(e[t]))})).join("")));var e}var Dn=/^[^\/()?;=#]+/;function Nn(t){var e=t.match(Dn);return e?e[0]:""}var Rn=/^[^=?&#]+/,Ln=/^[^?&#]+/,Mn=function(){function t(e){_classCallCheck(this,t),this.url=e,this.remaining=e}return _createClass(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _n([],{}):new _n([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new _n(t,e)),n}},{key:"parseSegment",value:function(){var t=Nn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new bn(An(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Nn(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Nn(this.remaining);r&&(n=r,this.capture(n))}t[An(e)]=An(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Rn);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(Ln);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=jn(e),o=jn(n);if(t.hasOwnProperty(i)){var s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Nn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new _n([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Fn=function(){function t(e){_classCallCheck(this,t),this._root=e}return _createClass(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Un(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=Un(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Vn(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return Vn(t,this._root).map((function(t){return t.value}))}},{key:"root",get:function(){return this._root.value}}]),t}();function Un(t,e){if(t===e.value)return e;var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=Un(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function Vn(t,e){if(t===e.value)return[e];var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=Vn(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var qn=function(){function t(e,n){_classCallCheck(this,t),this.value=e,this.children=n}return _createClass(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function zn(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var Bn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).snapshot=r,Jn(_assertThisInitialized(i),t),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Fn);function Hn(t,e){var n=function(t,e){var n=new Kn([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Qn("",new qn(n,[]))}(t,e),r=new Pt([new bn("",{})]),i=new Pt({}),o=new Pt({}),s=new Pt({}),a=new Pt(""),u=new Gn(r,i,s,a,o,"primary",e,n.root);return u.snapshot=n.root,new Bn(new qn(u,[]),n)}var Gn=function(){function t(e,n,r,i,o,s,a,u){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=u}return _createClass(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Gt.a)((function(t){return nn(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Gt.a)((function(t){return nn(t)})))),this._queryParamMap}}]),t}();function Wn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var Kn=function(){function t(e,n,r,i,o,s,a,u,c,l,h){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=nn(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=nn(this.queryParams)),this._queryParamMap}}]),t}(),Qn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,r)).url=t,Jn(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return Zn(this._root)}}]),n}(Fn);function Jn(t,e){e.value._routerState=t,e.children.forEach((function(e){return Jn(t,e)}))}function Zn(t){var e=t.children.length>0?" { ".concat(t.children.map(Zn).join(", ")," } "):"";return"".concat(t.value).concat(e)}function Yn(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,hn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),hn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!hn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),hn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Xn(t,e){return hn(t.params,e.params)&&function(t,e){return wn(t,e)&&t.every((function(t,n){return hn(t.parameters,e[n].parameters)}))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Xn(t.parent,e.parent))}function $n(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function tr(t,e,n,r,i){var o={};return r&&vn(r,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return""+t})):""+t})),new mn(n.root===t?e:function t(e,n,r){var i={};return vn(e.children,(function(e,o){i[o]=e===n?r:t(e,n,r)})),new _n(e.segments,i)}(n.root,t,e),o,i)}var er=function(){function t(e,n,r){if(_classCallCheck(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&$n(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(i&&i!==pn(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),nr=function t(e,n,r){_classCallCheck(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function rr(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function ir(t,e,n){if(t||(t=new _n([],{})),0===t.segments.length&&t.hasChildren())return or(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var s=t.segments[i],a=rr(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!cr(a,u,s))return o;r+=2}else{if(!cr(a,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new _n(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new _n(t.segments.slice(r.pathIndex),t.children),or(o,0,i)}return r.match&&0===i.length?new _n(t.segments,{}):r.match&&!t.hasChildren()?sr(t,e,n):r.match?or(t,0,i):sr(t,e,n)}function or(t,e,n){if(0===n.length)return new _n(t.segments,{});var r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return vn(r,(function(n,r){null!==n&&(i[r]=ir(t.children[r],e,n))})),vn(t.children,(function(t,e){void 0===r[e]&&(i[e]=t)})),new _n(t.segments,i)}function sr(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=ar(n[i].outlets);return new _n(r,o)}if(0===i&&$n(n[0]))r.push(new bn(t.segments[e].path,n[0])),i++;else{var s=rr(n[i]),a=i<n.length-1?n[i+1]:null;s&&a&&$n(a)?(r.push(new bn(s,ur(a))),i+=2):(r.push(new bn(s,{})),i++)}}return new _n(r,{})}function ar(t){var e={};return vn(t,(function(t,n){null!==t&&(e[n]=sr(new _n([],{}),0,t))})),e}function ur(t){var e={};return vn(t,(function(t,n){return e[n]=""+t})),e}function cr(t,e,n){return t==n.path&&hn(e,n.parameters)}var lr=function(){function t(e,n,r,i){_classCallCheck(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Yn(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=zn(e);t.children.forEach((function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]})),vn(i,(function(t,e){r.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=zn(t),o=t.value.component?r.children:e;vn(i,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=zn(e);t.children.forEach((function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new Xe(t.value.snapshot))})),t.children.length&&this.forwardEvent(new Ze(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(Yn(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),hr(a.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=c,s.outlet&&s.outlet.activateWith(r,c),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function hr(t){Yn(t.value),t.children.forEach(hr)}function fr(t){return"function"==typeof t}function dr(t){return t instanceof mn}var pr=function t(e){_classCallCheck(this,t),this.segmentGroup=e||null},vr=function t(e){_classCallCheck(this,t),this.urlTree=e};function yr(t){return new Dt.a((function(e){return e.error(new pr(t))}))}function gr(t){return new Dt.a((function(e){return e.error(new vr(t))}))}function mr(t){return new Dt.a((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var _r=function(){function t(e,n,i,o,s){_classCallCheck(this,t),this.configLoader=n,this.urlSerializer=i,this.urlTree=o,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(r.x)}return _createClass(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(Gt.a)((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(fe((function(e){if(e instanceof vr)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof pr)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(Gt.a)((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(fe((function(t){if(t instanceof pr)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new _n([],{primary:t}):t;return new mn(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Gt.a)((function(t){return new _n([],t)}))):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(It.a)({});var o=[],s=[],a={};return vn(n,(function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(t,e,c,u)).pipe(Object(Gt.a)((function(t){return a[i]=t})));"primary"===i?o.push(l):s.push(l)})),It.a.apply(null,o.concat(s)).pipe(Kt(),le(),Object(Gt.a)((function(){return a})))}(n.children)}},{key:"expandSegment",value:function(t,e,n,r,i,o){var s=this;return Object(It.a).apply(void 0,_toConsumableArray(n)).pipe(Object(Gt.a)((function(a){return s.expandSegmentAgainstRoute(t,e,n,a,r,i,o).pipe(fe((function(t){if(t instanceof pr)return Object(It.a)(null);throw t})))})),Kt(),me((function(t){return!!t})),fe((function(t,n){if(t instanceof Nt||"EmptyError"===t.name){if(s.noLeftoversInUrl(e,r,i))return Object(It.a)(new _n([],{}));throw new pr(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,s){return Cr(r)!==o?yr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):yr(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?gr(o):this.lineralizeSegments(n,o).pipe(Object(_e.a)((function(n){var o=new _n(n,{});return i.expandSegment(t,o,e,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var s=this,a=br(e,r,i),u=a.matched,c=a.consumedSegments,l=a.lastChild,h=a.positionalParamSegments;if(!u)return yr(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?gr(f):this.lineralizeSegments(r,f).pipe(Object(_e.a)((function(r){return s.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Gt.a)((function(t){return n._loadedConfig=t,new _n(r,{})}))):Object(It.a)(new _n(r,{}));var o=br(e,n,r),s=o.matched,a=o.consumedSegments,u=o.lastChild;if(!s)return yr(e);var c=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object(_e.a)((function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some((function(n){return kr(t,e,n)&&"primary"!==Cr(n)}))}(t,n,r)?{segmentGroup:wr(new _n(e,function(t,e){var n={};n.primary=e;var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==Cr(o)&&(n[Cr(o)]=new _n([],{}))}}catch(s){i.e(s)}finally{i.f()}return n}(r,new _n(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return kr(t,e,n)}))}(t,n,r)?{segmentGroup:wr(new _n(t.segments,function(t,e,n,r){var i,o={},s=_createForOfIteratorHelper(n);try{for(s.s();!(i=s.n()).done;){var a=i.value;kr(t,e,a)&&!r[Cr(a)]&&(o[Cr(a)]=new _n([],{}))}}catch(u){s.e(u)}finally{s.f()}return Object.assign(Object.assign({},r),o)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,a,c,r),s=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&s.hasChildren()?i.expandChildren(n,r,s).pipe(Object(Gt.a)((function(t){return new _n(a,t)}))):0===r.length&&0===u.length?Object(It.a)(new _n(a,{})):i.expandSegment(n,s,r,u,"primary",!0).pipe(Object(Gt.a)((function(t){return new _n(a.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Object(It.a)(new sn(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(It.a)(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?Object(xt.a)(i).pipe(Object(Gt.a)((function(r){var i,o=t.get(r);if(function(t){return t&&fr(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!fr(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return yn(i)}))).pipe(Kt(),(r=function(t){return!0===t},function(t){return t.lift(new be(r,void 0,t))})):Object(It.a)(!0)}(t.injector,e,n).pipe(Object(_e.a)((function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(Gt.a)((function(t){return e._loadedConfig=t,t}))):function(t){return new Dt.a((function(e){return e.error(rn("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):Object(It.a)(new sn([],t))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(It.a)(n);if(r.numberOfChildren>1||!r.children.primary)return mr(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new mn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return vn(t,(function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),s={};return vn(e.children,(function(e,o){s[o]=i.createSegmentGroup(t,e,n,r)})),new _n(o,s)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map((function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(s){i.e(s)}finally{i.f()}return t}}]),t}();function br(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||on)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function wr(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new _n(t.segments.concat(e.segments),e.children)}return t}function kr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Cr(t){return t.outlet||"primary"}var Er=function t(e){_classCallCheck(this,t),this.path=e,this.route=this.path[this.path.length-1]},Sr=function t(e,n){_classCallCheck(this,t),this.component=e,this.route=n};function Or(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Tr(t,e,n){var r=zn(t),i=t.value;vn(r,(function(t,r){Tr(t,i.component?e?e.children.getContext(r):null:e,n)})),n.canDeactivateChecks.push(new Sr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var Ir=Symbol("INITIAL_VALUE");function xr(){return ke((function(t){return(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=null,i=null;return Object(Rt.a)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(Lt.a)(e[0])&&(e=e[0]),Object(Ut.a)(e,i).lift(new qt(r))}).apply(void 0,_toConsumableArray(t.map((function(t){return t.pipe(ve(1),Oe(Ir))})))).pipe(Te((function(t,e){var n=!1;return e.reduce((function(t,r,i){if(t!==Ir)return t;if(r===Ir&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||dr(r))return r}return t}),t)}),Ir),Jt((function(t){return t!==Ir})),Object(Gt.a)((function(t){return dr(t)?t:!0===t})),ve(1))}))}function Ar(t,e){return null!==t&&e&&e(new Ye(t)),Object(It.a)(!0)}function jr(t,e){return null!==t&&e&&e(new Je(t)),Object(It.a)(!0)}function Pr(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(It.a)(!0);var i=r.map((function(r){return Ht((function(){var i,o=Or(r,e,n);if(function(t){return t&&fr(t.canActivate)}(o))i=yn(o.canActivate(e,t));else{if(!fr(o))throw new Error("Invalid CanActivate guard");i=yn(o(e,t))}return i.pipe(me())}))}));return Object(It.a)(i).pipe(xr())}function Dr(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return Ht((function(){var i=e.guards.map((function(i){var o,s=Or(i,e.node,n);if(function(t){return t&&fr(t.canActivateChild)}(s))o=yn(s.canActivateChild(r,t));else{if(!fr(s))throw new Error("Invalid CanActivateChild guard");o=yn(s(r,t))}return o.pipe(me())}));return Object(It.a)(i).pipe(xr())}))}));return Object(It.a)(i).pipe(xr())}var Nr=function t(){_classCallCheck(this,t)},Rr=function(){function t(e,n,r,i,o,s){_classCallCheck(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}return _createClass(t,[{key:"recognize",value:function(){try{var t=Fr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Kn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new qn(n,e),i=new Qn(this.url,r);return this.inheritParamsAndData(i._root),Object(It.a)(i)}catch(o){return new Dt.a((function(t){return t.error(o)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=Wn(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,r=this,i=kn(e,(function(e,n){return r.processSegmentGroup(t,e,n)}));return n={},i.forEach((function(t){var e=n[t.value.outlet];if(e){var r=e.url.map((function(t){return t.toString()})).join("/"),i=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[t.value.outlet]=t.value})),i.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),i}},{key:"processSegment",value:function(t,e,n,r){var i,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(a){if(!(a instanceof Nr))throw a}}}catch(u){o.e(u)}finally{o.f()}if(this.noLeftoversInUrl(e,n,r))return[];throw new Nr}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo)throw new Nr;if((t.outlet||"primary")!==r)throw new Nr;var i,o=[],s=[];if("**"===t.path){var a=n.length>0?pn(n).parameters:{};i=new Kn(n,a,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qr(t),r,t.component,t,Lr(e),Mr(e)+n.length,zr(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Nr;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||on)(n,t,e);if(!r)throw new Nr;var i={};vn(r.posParams,(function(t,e){i[e]=t.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,s=n.slice(u.lastChild),i=new Kn(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qr(t),r,t.component,t,Lr(e),Mr(e)+o.length,zr(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=Fr(e,o,s,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new qn(i,d)]}if(0===c.length&&0===f.length)return[new qn(i,[])];var p=this.processSegment(c,h,f,"primary");return[new qn(i,p)]}}]),t}();function Lr(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Mr(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Fr(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some((function(n){return Ur(t,e,n)&&"primary"!==Vr(n)}))}(t,n,r)){var o=new _n(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,s=_createForOfIteratorHelper(n);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(""===a.path&&"primary"!==Vr(a)){var u=new _n([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[Vr(a)]=u}}}catch(c){s.e(c)}finally{s.f()}return i}(t,e,r,new _n(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return Ur(t,e,n)}))}(t,n,r)){var s=new _n(t.segments,function(t,e,n,r,i,o){var s,a={},u=_createForOfIteratorHelper(r);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(Ur(t,n,c)&&!i[Vr(c)]){var l=new _n([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===o?t.segments.length:e.length,a[Vr(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),a)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}var a=new _n(t.segments,t.children);return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}function Ur(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Vr(t){return t.outlet||"primary"}function qr(t){return t.data||{}}function zr(t){return t.resolve||{}}function Br(t,e,n,r){var i=Or(t,e,r);return yn(i.resolve?i.resolve(e,n):i(e,n))}function Hr(t){return function(e){return e.pipe(ke((function(e){var n=t(e);return n?Object(xt.a)(n).pipe(Object(Gt.a)((function(){return e}))):Object(xt.a)([e])})))}}var Gr=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}(),Wr=new r.q("ROUTES"),Kr=function(){function t(e,n,r,i){_classCallCheck(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Gt.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new sn(dn(i.injector.get(Wr)).map(ln),i)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(xt.a)(this.loader.load(t)):yn(t()).pipe(Object(_e.a)((function(t){return t instanceof r.v?Object(It.a)(t):Object(xt.a)(e.compiler.compileModuleAsync(t))})))}}]),t}(),Qr=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function Jr(t){throw t}function Zr(t,e,n){return e.parse("/")}function Yr(t,e){return Object(It.a)(null)}var Xr,$r,ti,ei,ni=((Xr=function(){function t(e,n,i,o,s,a,u,c){var l=this;_classCallCheck(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=i,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new At.a,this.errorHandler=Jr,this.malformedUriErrorHandler=Zr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Yr,afterPreactivation:Yr},this.urlHandlingStrategy=new Qr,this.routeReuseStrategy=new Gr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(r.x),this.console=s.get(r.Z);var h=s.get(r.z);this.isNgZoneEnabled=h instanceof r.z,this.resetConfig(c),this.currentUrlTree=new mn(new _n([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Kr(a,u,(function(t){return l.triggerEvent(new Ke(t))}),(function(t){return l.triggerEvent(new Qe(t))})),this.routerState=Hn(this.currentUrlTree,this.rootComponentType),this.transitions=new Pt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(Jt((function(t){return 0!==t.id})),Object(Gt.a)((function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),ke((function(t){var r,i,o,s,a=!1,u=!1;return Object(It.a)(t).pipe(Object(De.a)((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}})),ke((function(t){var r,i,o,s,a=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||a)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(It.a)(t).pipe(ke((function(t){var r=e.transitions.getValue();return n.next(new Fe(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?Bt.a:[t]})),ke((function(t){return Promise.resolve(t)})),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,s=e.config,function(t){return t.pipe(ke((function(t){return function(t,e,n,r,i){return new _r(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Gt.a)((function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})})))})))}),Object(De.a)((function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})})),function(t,n,r,i,o){return function(r){return r.pipe(Object(_e.a)((function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Rr(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(s=r.urlAfterRedirects,e.serializeUrl(s)),i,o).pipe(Object(Gt.a)((function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})})));var s})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(De.a)((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),Object(De.a)((function(t){var r=new ze(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)})));if(a&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,c=t.extractedUrl,l=t.source,h=t.restoredState,f=t.extras,d=new Fe(u,e.serializeUrl(c),l,h);n.next(d);var p=Hn(c,e.rootComponentType).snapshot;return Object(It.a)(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Bt.a})),Hr((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,s=t.extras,a=s.skipLocationChange,u=s.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})})),Object(De.a)((function(t){var n=new Be(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),Object(Gt.a)((function(t){return Object.assign(Object.assign({},t),{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=zn(n);return e.children.forEach((function(e){!function(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){var c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!wn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!wn(t.url,e.url)||!hn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xn(t,e)||!hn(t.queryParams,e.queryParams);case"paramsChange":default:return!Xn(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Er(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new Sr(u&&u.outlet&&u.outlet.component||null,a))}else a&&Tr(n,u,o),o.canActivateChecks.push(new Er(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]})),vn(s,(function(t,e){return Tr(t,r.getContext(e),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(t,e){return function(n){return n.pipe(Object(_e.a)((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,s=o.canActivateChecks,a=o.canDeactivateChecks;return 0===a.length&&0===s.length?Object(It.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(xt.a)(t).pipe(Object(_e.a)((function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(It.a)(!0);var s=o.map((function(o){var s,a=Or(o,e,i);if(function(t){return t&&fr(t.canDeactivate)}(a))s=yn(a.canDeactivate(t,e,n,r));else{if(!fr(a))throw new Error("Invalid CanDeactivate guard");s=yn(a(t,e,n,r))}return s.pipe(me())}));return Object(It.a)(s).pipe(xr())}(t.component,t.route,n,e,r)})),me((function(t){return!0!==t}),!0))}(a,r,i,t).pipe(Object(_e.a)((function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(xt.a)(e).pipe(Ae((function(e){return Object(xt.a)([jr(e.route.parent,r),Ar(e.route,r),Dr(t,e.path,n),Pr(t,e.route,n)]).pipe(Kt(),me((function(t){return!0!==t}),!0))})),me((function(t){return!0!==t}),!0))}(r,s,t,e):Object(It.a)(n)})),Object(Gt.a)((function(t){return Object.assign(Object.assign({},n),{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),Object(De.a)((function(t){if(dr(t.guardsResult)){var n=rn('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),Object(De.a)((function(t){var n=new He(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),Jt((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new Ve(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0})),Hr((function(t){if(t.guards.canActivateChecks.length)return Object(It.a)(t).pipe(Object(De.a)((function(t){var n=new Ge(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),(n=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(Object(_e.a)((function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;return i.length?Object(xt.a)(i).pipe(Ae((function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(It.a)({});if(1===i.length){var o=i[0];return Br(t[o],e,n,r).pipe(Object(Gt.a)((function(t){return _defineProperty({},o,t)})))}var s={};return Object(xt.a)(i).pipe(Object(_e.a)((function(i){return Br(t[i],e,n,r).pipe(Object(Gt.a)((function(t){return s[i]=t,t})))}))).pipe(le(),Object(Gt.a)((function(){return s})))}(t._resolve,t,e,r).pipe(Object(Gt.a)((function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Wn(t,n).resolve),null})))}(t.route,e,n,r)})),function(t,e){return arguments.length>=2?function(n){return Object(Pe.a)(Te(t,e),$t(1),se(e))(n)}:function(e){return Object(Pe.a)(Te((function(e,n,r){return t(e,n,r+1)})),$t(1))(e)}}((function(t,e){return t})),Object(Gt.a)((function(e){return t}))):Object(It.a)(t)})))}),Object(De.a)((function(t){var n=new We(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})));var n,r})),Hr((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,s=t.extras,a=s.skipLocationChange,u=s.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})})),Object(Gt.a)((function(t){var n=function(t,e,n){var r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(e,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(e.shouldReuseRoute(s.value.snapshot,n.value))return t(e,n,s)}}catch(a){o.e(a)}finally{o.f()}return t(e,n)}))}(e,n,r);return new qn(i,o)}var s=e.retrieve(n.value);if(s){var a=s.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,a),a}var u,c=new Gn(new Pt((u=n.value).url),new Pt(u.params),new Pt(u.queryParams),new Pt(u.fragment),new Pt(u.data),u.outlet,u.component,u),l=n.children.map((function(n){return t(e,n)}));return new qn(c,l)}(t,e._root,n?n._root:void 0);return new Bn(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})})),Object(De.a)((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(i=e.rootContexts,o=e.routeReuseStrategy,s=function(t){return e.triggerEvent(t)},Object(Gt.a)((function(t){return new lr(o,t.targetRouterState,t.currentRouterState,s).activate(i),t}))),Object(De.a)({next:function(){a=!0},complete:function(){a=!0}}),(r=function(){if(!a&&!u){e.resetUrlToCurrentUrlTree();var r=new Ve(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Re(r))}),fe((function(r){if(u=!0,(a=r)&&a.ngNavigationCancelingError){var i=dr(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new Ve(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);return e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})}),0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var s=new qe(t.id,e.serializeUrl(t.extractedUrl),r);n.next(s);try{t.resolve(e.errorHandler(r))}catch(c){t.reject(c)}}var a;return Bt.a})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){an(t),this.config=t.map(ln),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,i=e.queryParams,o=e.fragment,s=e.preserveQueryParams,a=e.queryParamsHandling,u=e.preserveFragment;Object(r.W)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o,h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return tr(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new er(!0,0,t);var e=0,n=!1,r=t.reduce((function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return vn(r.outlets,(function(t,e){o[e]="string"==typeof t?t.split("/"):t})),[].concat(_toConsumableArray(t),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(t),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(t),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))})),t):[].concat(_toConsumableArray(t),[r])}),[]);return new er(n,e,r)}(n);if(o.toRoot())return tr(e.root,new _n([],{}),e,r,i);var s=function(t,e,n){if(t.isAbsolute)return new nr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new nr(n.snapshot._urlSegment,!0,0);var r=$n(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new nr(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?or(s.segmentGroup,s.index,o.commands):ir(s.segmentGroup,s.index,o.commands);return tr(s.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(r.W)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=dr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(dr(t))return gn(this.currentUrlTree,t,e);var n=this.parseUrl(t);return gn(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r&&(e[n]=r),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Ue(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,r,i){var o,s,a,u=this.getTransition();if(u&&"imperative"!==e&&"imperative"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"hashchange"==e&&"popstate"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"popstate"==e&&"hashchange"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);i?(o=i.resolve,s=i.reject,a=i.promise):a=new Promise((function(t,e){o=t,s=e}));var c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}()).\u0275fac=function(t){r.Vb()},Xr.\u0275dir=r.Hb({type:Xr}),Xr),ri=function t(){_classCallCheck(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new ii,this.attachRef=null},ii=function(){function t(){_classCallCheck(this,t),this.contexts=new Map}return _createClass(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new ri,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),oi=(($r=function(){function t(e,n,i,o,s){_classCallCheck(this,t),this.parentContexts=e,this.location=n,this.resolver=i,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=o||"primary",e.onChildOutletCreated(this.name,this)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new si(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}()).\u0275fac=function(t){return new(t||$r)(r.Mb(ii),r.Mb(r.P),r.Mb(r.j),r.Tb("name"),r.Mb(r.h))},$r.\u0275dir=r.Hb({type:$r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),$r),si=function(){function t(e,n,r){_classCallCheck(this,t),this.route=e,this.childContexts=n,this.parent=r}return _createClass(t,[{key:"get",value:function(t,e){return t===Gn?this.route:t===ii?this.childContexts:this.parent.get(t,e)}}]),t}(),ai=function t(){_classCallCheck(this,t)},ui=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return Object(It.a)(null)}}]),t}(),ci=((ei=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new Kr(n,r,(function(t){return e.triggerEvent(new Ke(t))}),(function(t){return e.triggerEvent(new Qe(t))}))}return _createClass(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(Jt((function(t){return t instanceof Ue})),Ae((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(a){i.e(a)}finally{i.f()}return Object(xt.a)(r).pipe(Object(Wt.a)(),Object(Gt.a)((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(Object(_e.a)((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}()).\u0275fac=function(t){return new(t||ei)(r.Sb(ni),r.Sb(r.w),r.Sb(r.i),r.Sb(r.r),r.Sb(ai))},ei.\u0275prov=r.Ib({token:ei,factory:ei.\u0275fac}),ei),li=((ti=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Fe?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ue&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof $e&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new $e(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){r.Vb()},ti.\u0275dir=r.Hb({type:ti}),ti),hi=new r.q("ROUTER_CONFIGURATION"),fi=new r.q("ROUTER_FORROOT_GUARD"),di=[I,{provide:Cn,useClass:En},{provide:ni,useFactory:function(t,e,n,r,i,o,a){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,h=new ni(null,t,e,n,r,i,o,dn(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=s();h.events.subscribe((function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()}))}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[Cn,ii,I,r.r,r.w,r.i,Wr,hi,[function(){return function t(){_classCallCheck(this,t)}}(),new r.A],[function(){return function t(){_classCallCheck(this,t)}}(),new r.A]]},ii,{provide:Gn,useFactory:function(t){return t.routerState.root},deps:[ni]},{provide:r.w,useClass:r.K},ci,ui,function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return e().pipe(fe((function(){return Object(It.a)(null)})))}}]),t}(),{provide:hi,useValue:{enableTracing:!1}}];function pi(){return new r.y("Router",ni)}var vi,yi=((vi=function(){function t(e,n){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[di,bi(e),{provide:fi,useFactory:_i,deps:[[ni,new r.A,new r.J]]},{provide:hi,useValue:n||{}},{provide:b,useFactory:mi,deps:[c,[new r.p(S),new r.A],hi]},{provide:li,useFactory:gi,deps:[ni,Q,hi]},{provide:ai,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ui},{provide:r.y,multi:!0,useFactory:pi},[ki,{provide:r.d,multi:!0,useFactory:Ci,deps:[ki]},{provide:Oi,useFactory:Ei,deps:[ki]},{provide:r.b,multi:!0,useExisting:Oi}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[bi(e)]}}}]),t}()).\u0275mod=r.Kb({type:vi}),vi.\u0275inj=r.Jb({factory:function(t){return new(t||vi)(r.Sb(fi,8),r.Sb(ni,8))}}),vi);function gi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new li(t,e,n)}function mi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new T(t,e):new O(t,e)}function _i(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function bi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Wr,multi:!0,useValue:t}]}var wi,ki=((wi=function(){function t(e){_classCallCheck(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new At.a}return _createClass(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(f,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),r=t.injector.get(ni),i=t.injector.get(hi);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return t.initNavigation?Object(It.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(hi),n=this.injector.get(ci),i=this.injector.get(li),o=this.injector.get(ni),s=this.injector.get(r.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}()).\u0275fac=function(t){return new(t||wi)(r.Sb(r.r))},wi.\u0275prov=r.Ib({token:wi,factory:wi.\u0275fac}),wi);function Ci(t){return t.appInitializer.bind(t)}function Ei(t){return t.bootstrapListener.bind(t)}var Si,Oi=new r.q("Router Initializer"),Ti=((Si=function t(){_classCallCheck(this,t),this.title="notesAppContentEditable"}).\u0275fac=function(t){return new(t||Si)},Si.\u0275cmp=r.Gb({type:Si,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Nb(0,"router-outlet")},directives:[oi],styles:["h1[_ngcontent-%COMP%]{text-align:center}"]}),Si),Ii=function(){function t(e,n){_classCallCheck(this,t),this.title=e,this.content=n,this.date=new Date,this.id=this.getId()}return _createClass(t,[{key:"getId",value:function(){return Math.floor(1e7*Math.random())}}]),t}(),xi=function t(){_classCallCheck(this,t)},Ai=function t(){_classCallCheck(this,t)},ji=function(){function t(e){var n=this;_classCallCheck(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach((function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=r.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}}))}:function(){n.headers=new Map,Object.keys(e).forEach((function(t){var r=e[t],i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(t,i))}))}:this.headers=new Map}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(t){return e.applyUpdate(t)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach((function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))}))}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,_toConsumableArray(n)),this.headers.set(e,r);break;case"d":var i=t.value;if(i){var o=this.headers.get(e);if(!o)return;0===(o=o.filter((function(t){return-1===i.indexOf(t)}))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return t(e.normalizedNames.get(n),e.headers.get(n))}))}}]),t}(),Pi=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"encodeKey",value:function(t){return Di(t)}},{key:"encodeValue",value:function(t){return Di(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function Di(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Ni=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,t),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Pi,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){var n=new Map;return t.length>0&&t.split("&").forEach((function(t){var r=t.indexOf("="),i=_slicedToArray(-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],2),o=i[0],s=i[1],a=n.get(o)||[];a.push(s),n.set(o,a)})),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(t){var r=n.fromObject[t];e.map.set(t,Array.isArray(r)?r:[r])}))):this.map=null}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map((function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map((function(e){return n+"="+t.encoder.encodeValue(e)})).join("&")})).filter((function(t){return""!==t})).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(e){return t.map.set(e,t.cloneFrom.map.get(e))})),this.updates.forEach((function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}})),this.cloneFrom=this.updates=null)}}]),t}();function Ri(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Li(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Mi(t){return"undefined"!=typeof FormData&&t instanceof FormData}var Fi=function(){function t(e,n,r,i){var o;if(_classCallCheck(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new ji),this.params){var s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{var a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Ni,this.urlWithParams=n}return _createClass(t,[{key:"serializeBody",value:function(){return null===this.body?null:Ri(this.body)||Li(this.body)||Mi(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ni?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Mi(this.body)?null:Li(this.body)?this.body.type||null:Ri(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ni?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((function(t,n){return t.set(n,e.setHeaders[n])}),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((function(t,n){return t.set(n,e.setParams[n])}),c)),new t(n,r,o,{params:c,headers:u,reportProgress:a,responseType:i,withCredentials:s})}}]),t}(),Ui=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}(),Vi=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,t),this.headers=e.headers||new ji,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},qi=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,r)).type=Ui.ResponseHeader,t}return _createClass(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(Vi),zi=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,r)).type=Ui.Response,t.body=void 0!==r.body?r.body:null,t}return _createClass(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(Vi),Bi=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),r.error=t.error||null,r}return n}(Vi);function Hi(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var Gi,Wi,Ki,Qi,Ji,Zi,Yi,Xi,$i,to,eo=((Gi=function(){function t(e){_classCallCheck(this,t),this.handler=e}return _createClass(t,[{key:"request",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof Fi)n=t;else{var o=void 0;o=i.headers instanceof ji?i.headers:new ji(i.headers);var s=void 0;i.params&&(s=i.params instanceof Ni?i.params:new Ni({fromObject:i.params})),n=new Fi(t,e,void 0!==i.body?i.body:null,{headers:o,params:s,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var a=Object(It.a)(n).pipe(Ae((function(t){return r.handler.handle(t)})));if(t instanceof Fi||"events"===i.observe)return a;var u=a.pipe(Jt((function(t){return t instanceof zi})));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(Object(Gt.a)((function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body})));case"blob":return u.pipe(Object(Gt.a)((function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body})));case"text":return u.pipe(Object(Gt.a)((function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body})));case"json":default:return u.pipe(Object(Gt.a)((function(t){return t.body})))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new Ni).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,Hi(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,Hi(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,Hi(n,e))}}]),t}()).\u0275fac=function(t){return new(t||Gi)(r.Sb(xi))},Gi.\u0275prov=r.Ib({token:Gi,factory:Gi.\u0275fac}),Gi),no=function(){function t(e,n){_classCallCheck(this,t),this.next=e,this.interceptor=n}return _createClass(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),ro=new r.q("HTTP_INTERCEPTORS"),io=((Wi=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Wi)},Wi.\u0275prov=r.Ib({token:Wi,factory:Wi.\u0275fac}),Wi),oo=/^\)\]\}',?\n/,so=function t(){_classCallCheck(this,t)},ao=((Qi=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}()).\u0275fac=function(t){return new(t||Qi)},Qi.\u0275prov=r.Ib({token:Qi,factory:Qi.\u0275fac}),Qi),uo=((Ki=function(){function t(e){_classCallCheck(this,t),this.xhrFactory=e}return _createClass(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new Dt.a((function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((function(t,e){return r.setRequestHeader(t,e.join(","))})),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var s=t.serializeBody(),a=null,u=function(){if(null!==a)return a;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new ji(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return a=new qi({headers:i,status:e,statusText:n,url:o})},c=function(){var e=u(),i=e.headers,o=e.status,s=e.statusText,a=e.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var h=c;c=c.replace(oo,"");try{c=""!==c?JSON.parse(c):null}catch(f){c=h,l&&(l=!1,c={error:f,text:c})}}l?(n.next(new zi({body:c,headers:i,status:o,statusText:s,url:a||void 0})),n.complete()):n.error(new Bi({error:c,headers:i,status:o,statusText:s,url:a||void 0}))},l=function(t){var e=u().url,i=new Bi({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(i)},h=!1,f=function(e){h||(n.next(u()),h=!0);var i={type:Ui.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(t){var e={type:Ui.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",c),r.addEventListener("error",l),t.reportProgress&&(r.addEventListener("progress",f),null!==s&&r.upload&&r.upload.addEventListener("progress",d)),r.send(s),n.next({type:Ui.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("load",c),t.reportProgress&&(r.removeEventListener("progress",f),null!==s&&r.upload&&r.upload.removeEventListener("progress",d)),r.abort()}}))}}]),t}()).\u0275fac=function(t){return new(t||Ki)(r.Sb(so))},Ki.\u0275prov=r.Ib({token:Ki,factory:Ki.\u0275fac}),Ki),co=new r.q("XSRF_COOKIE_NAME"),lo=new r.q("XSRF_HEADER_NAME"),ho=function t(){_classCallCheck(this,t)},fo=((to=function(){function t(e,n,r){_classCallCheck(this,t),this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=L(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}()).\u0275fac=function(t){return new(t||to)(r.Sb(u),r.Sb(r.B),r.Sb(co))},to.\u0275prov=r.Ib({token:to,factory:to.\u0275fac}),to),po=(($i=function(){function t(e,n){_classCallCheck(this,t),this.tokenService=e,this.headerName=n}return _createClass(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||$i)(r.Sb(ho),r.Sb(lo))},$i.\u0275prov=r.Ib({token:$i,factory:$i.\u0275fac}),$i),vo=((Xi=function(){function t(e,n){_classCallCheck(this,t),this.backend=e,this.injector=n,this.chain=null}return _createClass(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(ro,[]);this.chain=e.reduceRight((function(t,e){return new no(t,e)}),this.backend)}return this.chain.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Xi)(r.Sb(Ai),r.Sb(r.r))},Xi.\u0275prov=r.Ib({token:Xi,factory:Xi.\u0275fac}),Xi),yo=((Yi=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:po,useClass:io}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:co,useValue:e.cookieName}:[],e.headerName?{provide:lo,useValue:e.headerName}:[]]}}}]),t}()).\u0275mod=r.Kb({type:Yi}),Yi.\u0275inj=r.Jb({factory:function(t){return new(t||Yi)},providers:[po,{provide:ro,useExisting:po,multi:!0},{provide:ho,useClass:fo},{provide:co,useValue:"XSRF-TOKEN"},{provide:lo,useValue:"X-XSRF-TOKEN"}]}),Yi),go=((Zi=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:Zi}),Zi.\u0275inj=r.Jb({factory:function(t){return new(t||Zi)},providers:[eo,{provide:xi,useClass:vo},uo,{provide:Ai,useExisting:uo},ao,{provide:so,useExisting:ao}],imports:[[yo.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Zi),mo=((Ji=function(){function t(e){_classCallCheck(this,t),this.http=e,this.$notesChanged=new At.a,this.notes=[],this.baseUrl="https://notesapp-b2c5d-default-rtdb.firebaseio.com/",this.notesUrl="https://notesapp-b2c5d-default-rtdb.firebaseio.com/notes.json"}return _createClass(t,[{key:"addNote",value:function(){var t=this,e=new Ii("Type a title","Type content");this.http.post(this.notesUrl,e).subscribe((function(e){t.fetchPosts().subscribe((function(e){t.notes=e,t.$notesChanged.next(t.notes)}))}))}},{key:"onFetchPosts",value:function(){this.fetchPosts()}},{key:"fetchPosts",value:function(){var t=this;return this.http.get(this.notesUrl).pipe(Object(Gt.a)((function(e){var n=[];for(var r in e)e.hasOwnProperty(r)&&n.push(Object.assign(Object.assign({},e[r]),{id:r}));return t.notes=n,t.notes})))}},{key:"updateNote",value:function(t,e,n){this.http.patch(this.baseUrl+"notes/"+t+".json",{title:e.nativeElement.innerText,content:n.nativeElement.innerText}).subscribe((function(t){console.log(t)}))}},{key:"removeNote",value:function(t){var e=this;return this.http.delete(this.baseUrl+"notes/"+t+".json").subscribe((function(t){e.fetchPosts().subscribe((function(t){e.notes=t,e.$notesChanged.next(e.notes)}))}))}}]),t}()).\u0275fac=function(t){return new(t||Ji)(r.Sb(eo))},Ji.\u0275prov=r.Ib({token:Ji,factory:Ji.\u0275fac,providedIn:"root"}),Ji),_o=n("D0XW");function bo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_o.a;return function(n){return n.lift(new ko(t,e))}}var wo,ko=function(){function t(e,n){_classCallCheck(this,t),this.dueTime=e,this.scheduler=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Co(t,this.dueTime,this.scheduler))}}]),t}(),Co=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return _createClass(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Eo,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(Qt.a);function Eo(t){t.debouncedNext()}function So(t){return null!=t&&""+t!="false"}function Oo(t){return t instanceof r.l?t.nativeElement:t}try{wo="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(uC){wo=!1}var To,Io,xo,Ao,jo=((Ao=function t(e){_classCallCheck(this,t),this._platformId=e,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!wo)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}).\u0275fac=function(t){return new(t||Ao)(r.Sb(r.B,8))},Ao.\u0275prov=Object(r.Ib)({factory:function(){return new Ao(Object(r.Sb)(r.B,8))},token:Ao,providedIn:"root"}),Ao),Po=((xo=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:xo}),xo.\u0275inj=r.Jb({factory:function(t){return new(t||xo)}}),xo);function Do(t){return function(){if(null==To&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return To=!0}}))}finally{To=To||!1}return To}()?t:!!t.capture}function No(t){if(function(){if(null==Io){var t="undefined"!=typeof document?document.head:null;Io=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Io}()){var e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Ro(t){return 0===t.buttons}"undefined"!=typeof Element&&Element;var Lo,Mo=new r.q("cdk-focus-monitor-default-options"),Fo=Do({passive:!0,capture:!0}),Uo=((Lo=function(){function t(e,n,r,i){var o=this;_classCallCheck(this,t),this._ngZone=e,this._platform=n,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=function(){o._lastTouchTarget=null,o._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(t){if(!o._lastTouchTarget){var e=Ro(t)?"keyboard":"mouse";o._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=function(t){null!=o._touchTimeoutId&&clearTimeout(o._touchTimeoutId),o._lastTouchTarget=Vo(t),o._touchTimeoutId=setTimeout((function(){return o._lastTouchTarget=null}),650)},this._windowFocusListener=function(){o._windowFocused=!0,o._windowFocusTimeoutId=setTimeout((function(){return o._windowFocused=!1}))},this._rootNodeFocusAndBlurListener=function(t){for(var e=Vo(t),n="focus"===t.type?o._onFocus:o._onBlur,r=e;r;r=r.parentElement)n.call(o,t,r)},this._document=r,this._detectionMode=(null==i?void 0:i.detectionMode)||0}return _createClass(t,[{key:"monitor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._platform.isBrowser)return Object(It.a)(null);var n=Oo(t),r=No(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject.asObservable();var o={checkChildren:e,subject:new At.a,rootNode:r};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject.asObservable()}},{key:"stopMonitoring",value:function(t){var e=Oo(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}},{key:"focusVia",value:function(t,e,n){var r=Oo(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}},{key:"ngOnDestroy",value:function(){var t=this;this._elementInfo.forEach((function(e,n){return t.stopMonitoring(n)}))}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_toggleClass",value:function(t,e,n){n?t.classList.add(e):t.classList.remove(e)}},{key:"_getFocusOrigin",value:function(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}},{key:"_setClasses",value:function(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}},{key:"_setOriginForCurrentEventQueue",value:function(t){var e=this;this._ngZone.runOutsideAngular((function(){e._origin=t,0===e._detectionMode&&(e._originTimeoutId=setTimeout((function(){return e._origin=null}),1))}))}},{key:"_wasCausedByTouch",value:function(t){var e=Vo(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}},{key:"_onFocus",value:function(t,e){var n=this._elementInfo.get(e);if(n&&(n.checkChildren||e===Vo(t))){var r=this._getFocusOrigin(t);this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}}},{key:"_onBlur",value:function(t,e){var n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}},{key:"_emitOrigin",value:function(t,e){this._ngZone.run((function(){return t.next(e)}))}},{key:"_registerGlobalListeners",value:function(t){var e=this;if(this._platform.isBrowser){var n=t.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular((function(){n.addEventListener("focus",e._rootNodeFocusAndBlurListener,Fo),n.addEventListener("blur",e._rootNodeFocusAndBlurListener,Fo)})),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular((function(){var t=e._getDocument(),n=e._getWindow();t.addEventListener("keydown",e._documentKeydownListener,Fo),t.addEventListener("mousedown",e._documentMousedownListener,Fo),t.addEventListener("touchstart",e._documentTouchstartListener,Fo),n.addEventListener("focus",e._windowFocusListener)}))}}},{key:"_removeGlobalListeners",value:function(t){var e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){var n=this._rootNodeFocusListenerCount.get(e);n>1?this._rootNodeFocusListenerCount.set(e,n-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Fo),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Fo),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){var r=this._getDocument(),i=this._getWindow();r.removeEventListener("keydown",this._documentKeydownListener,Fo),r.removeEventListener("mousedown",this._documentMousedownListener,Fo),r.removeEventListener("touchstart",this._documentTouchstartListener,Fo),i.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}]),t}()).\u0275fac=function(t){return new(t||Lo)(r.Sb(r.z),r.Sb(jo),r.Sb(u,8),r.Sb(Mo,8))},Lo.\u0275prov=Object(r.Ib)({factory:function(){return new Lo(Object(r.Sb)(r.z),Object(r.Sb)(jo),Object(r.Sb)(u,8),Object(r.Sb)(Mo,8))},token:Lo,providedIn:"root"}),Lo);function Vo(t){return t.composedPath?t.composedPath()[0]:t.target}var qo,zo,Bo,Ho=((qo=function(){function t(e,n){_classCallCheck(this,t),this._platform=e,this._document=n}return _createClass(t,[{key:"getHighContrastMode",value:function(){if(!this._platform.isBrowser)return 0;var t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);var e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}},{key:"_applyBodyHighContrastModeCssClasses",value:function(){if(this._platform.isBrowser&&this._document.body){var t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");var e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}]),t}()).\u0275fac=function(t){return new(t||qo)(r.Sb(jo),r.Sb(u))},qo.\u0275prov=Object(r.Ib)({factory:function(){return new qo(Object(r.Sb)(jo),Object(r.Sb)(u))},token:qo,providedIn:"root"}),qo),Go=new r.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.V)(u)}}),Wo=((Bo=function(){function t(e){if(_classCallCheck(this,t),this.value="ltr",this.change=new r.n,e){var n=e.documentElement?e.documentElement.dir:null,i=(e.body?e.body.dir:null)||n;this.value="ltr"===i||"rtl"===i?i:"ltr"}}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),t}()).\u0275fac=function(t){return new(t||Bo)(r.Sb(Go,8))},Bo.\u0275prov=Object(r.Ib)({factory:function(){return new Bo(Object(r.Sb)(Go,8))},token:Bo,providedIn:"root"}),Bo),Ko=((zo=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:zo}),zo.\u0275inj=r.Jb({factory:function(t){return new(t||zo)}}),zo),Qo=new r.O("9.2.4"),Jo=function t(){_classCallCheck(this,t)};function Zo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function Yo(t){return{type:6,styles:t,offset:null}}function Xo(t){Promise.resolve(null).then(t)}var $o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+n}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;Xo((function(){return t._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}(),ts=function(){function t(e){var n=this;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var r=0,i=0,o=0,s=this.players.length;0==s?Xo((function(){return n._onFinish()})):this.players.forEach((function(t){t.onDone((function(){++r==s&&n._onFinish()})),t.onDestroy((function(){++i==s&&n._onDestroy()})),t.onStart((function(){++o==s&&n._onStart()}))})),this.totalTime=this.players.reduce((function(t,e){return Math.max(t,e.totalTime)}),0)}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(t){return t.init()}))}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(t){return t.play()}))}},{key:"pause",value:function(){this.players.forEach((function(t){return t.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(t){return t.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(t){return t.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(t){return t.destroy()})),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(t){return t.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach((function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)}))}},{key:"getPosition",value:function(){var t=0;return this.players.forEach((function(e){var n=e.getPosition();t=Math.min(n,t)})),t}},{key:"beforeDestroy",value:function(){this.players.forEach((function(t){t.beforeDestroy&&t.beforeDestroy()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}();function es(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ns(t){switch(t.length){case 0:return new $o;case 1:return t[0];default:return new ts(t)}}function rs(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=[],a=[],u=-1,c=null;if(r.forEach((function(t){var n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach((function(n){var r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case"*":a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}l[r]=a})),r||a.push(l),c=l,u=n})),s.length){var l="\n - ";throw new Error("Unable to animate due to the following errors:".concat(l).concat(s.join(l)))}return a}function is(t,e,n,r){switch(e){case"start":t.onStart((function(){return r(n&&os(n,"start",t))}));break;case"done":t.onDone((function(){return r(n&&os(n,"done",t))}));break;case"destroy":t.onDestroy((function(){return r(n&&os(n,"destroy",t))}))}}function os(t,e,n){var r=n.totalTime,i=ss(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function ss(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function as(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function us(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var cs=function(t,e){return!1},ls=function(t,e){return!1},hs=function(t,e,n){return[]},fs=es();(fs||"undefined"!=typeof Element)&&(cs=function(t,e){return t.contains(e)},ls=function(){if(fs||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:ls}(),hs=function(t,e,n){var r=[];if(n)r.push.apply(r,_toConsumableArray(t.querySelectorAll(e)));else{var i=t.querySelector(e);i&&r.push(i)}return r});var ds=null,ps=!1;function vs(t){ds||(ds=("undefined"!=typeof document?document.body:null)||{},ps=!!ds.style&&"WebkitAppearance"in ds.style);var e=!0;return ds.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in ds.style)&&ps)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in ds.style),e}var ys=ls,gs=cs,ms=hs;function _s(t){var e={};return Object.keys(t).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]})),e}var bs,ws=((bs=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return vs(t)}},{key:"matchesElement",value:function(t,e){return ys(t,e)}},{key:"containsElement",value:function(t,e){return gs(t,e)}},{key:"query",value:function(t,e,n){return ms(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,r,i){return arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6],new $o(n,r)}}]),t}()).\u0275fac=function(t){return new(t||bs)},bs.\u0275prov=r.Ib({token:bs,factory:bs.\u0275fac}),bs),ks=function(){var t=function t(){_classCallCheck(this,t)};return t.NOOP=new ws,t}();function Cs(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Es(parseFloat(e[1]),e[2])}function Es(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Ss(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var s=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};r=Es(parseFloat(s[1]),s[2]);var a=s[3];null!=a&&(i=Es(parseFloat(a),s[4]));var u=s[5];u&&(o=u)}else r=t;if(!n){var c=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&e.splice(l,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(t,e,n)}function Os(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}function Ts(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var r in t)n[r]=t[r];else Os(t,n);return n}function Is(t,e,n){return n?e+":"+n+";":""}function xs(t){for(var e="",n=0;n<t.style.length;n++){var r=t.style.item(n);e+=Is(0,r,t.style.getPropertyValue(r))}for(var i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(e+=Is(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[i]));t.setAttribute("style",e)}function As(t,e,n){t.style&&(Object.keys(e).forEach((function(r){var i=Fs(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]})),es()&&xs(t))}function js(t,e){t.style&&(Object.keys(e).forEach((function(e){var n=Fs(e);t.style[n]=""})),es()&&xs(t))}function Ps(t){return Array.isArray(t)?1==t.length?t[0]:Zo(t):t}var Ds=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ns(t){var e=[];if("string"==typeof t){for(var n;n=Ds.exec(t);)e.push(n[1]);Ds.lastIndex=0}return e}function Rs(t,e,n){var r=t.toString(),i=r.replace(Ds,(function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()}));return i==r?t:i}function Ls(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var Ms=/-+([a-z0-9])/g;function Fs(t){return t.replace(Ms,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()}))}function Us(t,e){return 0===t||0===e}function Vs(t,e,n){var r=Object.keys(n);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach((function(t){i.hasOwnProperty(t)||o.push(t),i[t]=n[t]})),o.length)for(var s=function(){var n=e[a];o.forEach((function(e){n[e]=zs(t,e)}))},a=1;a<e.length;a++)s()}return e}function qs(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function zs(t,e){return window.getComputedStyle(t)[e]}var Bs=new Set(["true","1"]),Hs=new Set(["false","0"]);function Gs(t,e){var n=Bs.has(t)||Hs.has(t),r=Bs.has(e)||Hs.has(e);return function(i,o){var s="*"==t||t==i,a="*"==e||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?Bs.has(t):Hs.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?Bs.has(e):Hs.has(e)),s&&a}}var Ws=new RegExp("s*:selfs*,?","g");function Ks(t,e,n){return new Qs(t).build(e,n)}var Qs=function(){function t(e){_classCallCheck(this,t),this._driver=e}return _createClass(t,[{key:"build",value:function(t,e){var n=new Js(e);return this._resetContextStyleTimingState(n),qs(this,Ps(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach((function(t){if(n._resetContextStyleTimingState(e),0==t.type){var a=t,u=a.name;u.toString().split(/\s*,\s*/).forEach((function(t){a.name=t,o.push(n.visitState(a,e))})),a.name=u}else if(1==t.type){var c=n.visitTransition(t,e);r+=c.queryCount,i+=c.depCount,s.push(c)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:t.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(t){if(Zs(t)){var e=t;Object.keys(e).forEach((function(t){Ns(e[t]).forEach((function(t){o.hasOwnProperty(t)||i.add(t)}))}))}})),i.size){var s=Ls(i.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(s.join(", ")))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=qs(this,Ps(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var o=i[1],s=i[2],a=i[3];e.push(Gs(o,a)),"<"!=s[0]||"*"==o&&"*"==a||e.push(Gs(a,o))}(t,i,r)})):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:Ys(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map((function(t){return qs(n,t,e)})),options:Ys(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map((function(t){e.currentTime=r;var o=qs(n,t,e);return i=Math.max(i,e.currentTime),o}));return e.currentTime=i,{type:3,steps:o,options:Ys(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Xs(Ss(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some((function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)}))){var i=Xs(0,0,"");return i.dynamic=!0,i.strValue=r,i}return Xs((n=n||Ss(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var i=t.styles?t.styles:Yo({});if(5==i.type)n=this.visitKeyframes(i,e);else{var o=t.styles,s=!1;if(!o){s=!0;var a={};r.easing&&(a.easing=r.easing),o=Yo(a)}e.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,e);u.isEmptyStep=s,n=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach((function(t){"string"==typeof t?"*"==t?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)})):n.push(t.styles);var r=!1,i=null;return n.forEach((function(t){if(Zs(t)){var e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(var o in e)if(e[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach((function(t){"string"!=typeof t&&Object.keys(t).forEach((function(r){if(n._driver.validateStyleProperty(r)){var s,a,u,c,l,h=e.collectedStyles[e.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(e.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),e.options&&(s=t[r],a=e.options,u=e.errors,c=a.params||{},(l=Ns(s)).length&&l.forEach((function(t){c.hasOwnProperty(t)||u.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))})))}else e.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],s=!1,a=!1,u=0,c=t.steps.map((function(t){var r=n._makeStyleAst(t,e),c=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach((function(t){if(Zs(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}}));else if(Zs(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),a=a||l<0||l>1,s=s||l<u,u=l,o.push(l),r}));a&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");var l=t.steps.length,h=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=e.currentTime,p=e.currentAnimateTimings,v=p.duration;return c.forEach((function(t,i){var s=h>0?i==f?1:h*i:o[i],a=s*v;e.currentTime=d+p.delay+a,p.duration=a,n._validateStyleAst(t,e),t.offset=s,r.styles.push(t)})),r}},{key:"visitReference",value:function(t,e){return{type:8,animation:qs(this,Ps(t.animation),e),options:Ys(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:Ys(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ys(t.options)}}},{key:"visitQuery",value:function(t,e){var n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;var i=_slicedToArray(function(t){var e=!!t.split(/\s*,\s*/).find((function(t){return":self"==t}));return e&&(t=t.replace(Ws,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(t){return".ng-trigger-"+t.substr(1)})).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),o=i[0],s=i[1];e.currentQuerySelector=n.length?n+" "+o:o,as(e.collectedStyles,e.currentQuerySelector,{});var a=qs(this,Ps(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Ys(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ss(t.timings,e.errors,!0);return{type:12,animation:qs(this,Ps(t.animation),e),timings:n,options:null}}}]),t}(),Js=function t(e){_classCallCheck(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Zs(t){return!Array.isArray(t)&&"object"==typeof t}function Ys(t){var e;return t?(t=Os(t)).params&&(t.params=(e=t.params)?Os(e):null):t={},t}function Xs(t,e,n){return{duration:t,delay:e,easing:n}}function $s(t,e,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var ta=function(){function t(){_classCallCheck(this,t),this._map=new Map}return _createClass(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,r=this._map.get(t);r||this._map.set(t,r=[]),(n=r).push.apply(n,_toConsumableArray(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),ea=new RegExp(":enter","g"),na=new RegExp(":leave","g");function ra(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},a=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new ia).buildKeyframes(t,e,n,r,i,o,s,a,u,c)}var ia=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"buildKeyframes",value:function(t,e,n,r,i,o,s,a,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new ta;var l=new sa(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),qs(this,n,l);var h=l.timelines.filter((function(t){return t.containsAnimation()}));if(h.length&&Object.keys(s).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([s],null,l.errors,a)}return h.length?h.map((function(t){return t.buildKeyframes()})):[$s(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?Cs(n.duration):null,o=null!=n.delay?Cs(n.delay):null;return 0!==i&&t.forEach((function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),qs(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=oa);var s=Cs(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach((function(t){return qs(n,t,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Cs(t.options.delay):0;t.steps.forEach((function(s){var a=e.createSubContext(t.options);o&&a.delayNextStep(o),qs(n,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)})),r.forEach((function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)})),e.transformIntoNewTimeline(i),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return Ss(e.params?Rs(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach((function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()})),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?Cs(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=oa);var s=r,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;var u=null;a.forEach((function(r,i){e.currentQueryIndex=i;var a=e.createSubContext(t.options,r);o&&a.delayNextStep(o),r===e.element&&(u=a.currentTimeline),qs(n,t.animation,a),a.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,a.currentTimeline.currentTime)})),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1),a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}var u=e.currentTimeline;a&&u.delayNextStep(a);var c=u.currentTime;qs(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),t}(),oa={},sa=function(){function t(e,n,r,i,o,s,a,u){_classCallCheck(this,t),this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=oa,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new aa(this._driver,n,0),a.push(this.currentTimeline)}return _createClass(t,[{key:"updateOptions",value:function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=Cs(r.duration)),null!=r.delay&&(i.delay=Cs(r.delay));var o=r.params;if(o){var s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach((function(t){e&&s.hasOwnProperty(t)||(s[t]=Rs(o[t],s,n.errors))}))}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach((function(t){n[t]=e[t]}))}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=oa,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new ua(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,r,i,o){var s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(ea,"."+this._enterClassName)).replace(na,"."+this._leaveClassName);var a=this._driver.query(this.element,t,1!=n);0!==n&&(a=n<0?a.slice(a.length+n,a.length):a.slice(0,n)),s.push.apply(s,_toConsumableArray(a))}return i||0!=s.length||o.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),s}},{key:"params",get:function(){return this.options.params}}]),t}(),aa=function(){function t(e,n,r,i){_classCallCheck(this,t),this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach((function(t){e._backFill[t]=e._globalTimelineStyles[t]||"*",e._currentKeyframe[t]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,r){var i=this;e&&(this._previousKeyframe.easing=e);var o=r&&r.params||{},s=function(t,e){var n,r={};return t.forEach((function(t){"*"===t?(n=n||Object.keys(e)).forEach((function(t){r[t]="*"})):Ts(t,!1,r)})),r}(t,this._globalTimelineStyles);Object.keys(s).forEach((function(t){var e=Rs(s[t],o,n);i._pendingStyles[t]=e,i._localTimelineStyles.hasOwnProperty(t)||(i._backFill[t]=i._globalTimelineStyles.hasOwnProperty(t)?i._globalTimelineStyles[t]:"*"),i._updateStyle(t,e)}))}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){t._currentKeyframe[n]=e[n]})),Object.keys(this._localTimelineStyles).forEach((function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])})))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach((function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach((function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(o,s){var a=Ts(o,!0);Object.keys(a).forEach((function(t){var r=a[t];"!"==r?e.add(t):"*"==r&&n.add(t)})),r||(a.offset=s/t.duration),i.push(a)}));var o=e.size?Ls(e.values()):[],s=n.size?Ls(n.values()):[];if(r){var a=i[0],u=Os(a);a.offset=0,u.offset=1,i=[a,u]}return $s(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}}]),t}(),ua=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,s,a){var u,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(u=e.call(this,t,r,a.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=s,u._stretchStartingKeyframe=c,u.timings={duration:a.duration,delay:a.delay,easing:a.easing},u}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],s=r+n,a=n/s,u=Ts(t[0],!1);u.offset=0,o.push(u);var c=Ts(t[0],!1);c.offset=ca(a),o.push(c);for(var l=t.length-1,h=1;h<=l;h++){var f=Ts(t[h],!1);f.offset=ca((n+f.offset*r)/s),o.push(f)}r=s,n=0,i="",t=o}return $s(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(aa);function ca(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var la=function t(){_classCallCheck(this,t)},ha=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(t,e){return Fs(t)}},{key:"normalizeStyleValue",value:function(t,e,n,r){var i="",o=n.toString().trim();if(fa[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&r.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+i}}]),n}(la),fa=function(t){var e={};return t.forEach((function(t){return e[t]=!0})),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function da(t,e,n,r,i,o,s,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var pa={},va=function(){function t(e,n,r){_classCallCheck(this,t),this._triggerName=e,this.ast=n,this._stateStyles=r}return _createClass(t,[{key:"match",value:function(t,e,n,r){return function(t,e,n,r,i){return t.some((function(t){return t(e,n,r,i)}))}(this.ast.matchers,t,e,n,r)}},{key:"buildStyles",value:function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}},{key:"build",value:function(t,e,n,r,i,o,s,a,u,c){var l=[],h=this.ast.options&&this.ast.options.params||pa,f=this.buildStyles(n,s&&s.params||pa,l),d=a&&a.params||pa,p=this.buildStyles(r,d,l),v=new Set,y=new Map,g=new Map,m="void"===r,_={params:Object.assign(Object.assign({},h),d)},b=c?[]:ra(t,e,this.ast.animation,i,o,f,p,_,u,l),w=0;if(b.forEach((function(t){w=Math.max(t.duration+t.delay,w)})),l.length)return da(e,this._triggerName,n,r,m,f,p,[],[],y,g,w,l);b.forEach((function(t){var n=t.element,r=as(y,n,{});t.preStyleProps.forEach((function(t){return r[t]=!0}));var i=as(g,n,{});t.postStyleProps.forEach((function(t){return i[t]=!0})),n!==e&&v.add(n)}));var k=Ls(v.values());return da(e,this._triggerName,n,r,m,f,p,b,k,y,g,w)}}]),t}(),ya=function(){function t(e,n){_classCallCheck(this,t),this.styles=e,this.defaultParams=n}return _createClass(t,[{key:"buildStyles",value:function(t,e){var n={},r=Os(this.defaultParams);return Object.keys(t).forEach((function(e){var n=t[e];null!=n&&(r[e]=n)})),this.styles.styles.forEach((function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach((function(t){var o=i[t];o.length>1&&(o=Rs(o,r,e)),n[t]=o}))}})),n}}]),t}(),ga=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(t){r.states[t.name]=new ya(t.style,t.options&&t.options.params||{})})),ma(this.states,"true","1"),ma(this.states,"false","0"),n.transitions.forEach((function(t){r.transitionFactories.push(new va(e,t,r.states))})),this.fallbackTransition=new va(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(t,[{key:"matchTransition",value:function(t,e,n,r){return this.transitionFactories.find((function(i){return i.match(t,e,n,r)}))||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),t}();function ma(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var _a=new ta,ba=function(){function t(e,n,r){_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass(t,[{key:"register",value:function(t,e){var n=[],r=Ks(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}},{key:"_buildPlayer",value:function(t,e,n){var r=t.element,i=rs(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],s=this._animations[t],a=new Map;if(s?(n=ra(this._driver,e,s,"ng-enter","ng-leave",{},{},i,_a,o)).forEach((function(t){var e=as(a,t.element,{});t.postStyleProps.forEach((function(t){return e[t]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));a.forEach((function(t,e){Object.keys(t).forEach((function(n){t[n]=r._driver.computeStyle(e,n,"*")}))}));var u=ns(n.map((function(t){var e=a.get(t.element);return r._buildPlayer(t,{},e)})));return this._playersById[t]=u,u.onDestroy((function(){return r.destroy(t)})),this.players.push(u),u}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}},{key:"listen",value:function(t,e,n,r){var i=ss(e,"","","");return is(this._getPlayer(t),n,i,r),function(){}}},{key:"command",value:function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])}}]),t}(),wa=[],ka={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ca={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ea=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,t),this.namespaceId=n;var r,i=e&&e.hasOwnProperty("value");if(this.value=null!=(r=i?e.value:e)?r:null,i){var o=Os(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(t,[{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach((function(t){null==n[t]&&(n[t]=e[t])}))}}},{key:"params",get:function(){return this.options.params}}]),t}(),Sa=new Ea("void"),Oa=function(){function t(e,n,r){_classCallCheck(this,t),this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Da(n,this._hostClassName)}return _createClass(t,[{key:"listen",value:function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var s=as(this._elementListeners,t,[]),a={name:e,phase:n,callback:r};s.push(a);var u=as(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(Da(t,"ng-trigger"),Da(t,"ng-trigger-"+e),u[e]=Sa),function(){o._engine.afterFlush((function(){var t=s.indexOf(a);t>=0&&s.splice(t,1),o._triggers[e]||delete u[e]}))}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(e),s=new Ia(this.id,e,t),a=this._engine.statesByElement.get(t);a||(Da(t,"ng-trigger"),Da(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,a={}));var u=a[e],c=new Ea(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),a[e]=c,u||(u=Sa),"void"===c.value||u.value!==c.value){var l=as(this._engine.playersByElement,t,[]);l.forEach((function(t){t.namespaceId==r.id&&t.triggerName==e&&t.queued&&t.destroy()}));var h=o.matchTransition(u.value,c.value,t,c.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:u,toState:c,player:s,isFallbackTransition:f}),f||(Da(t,"ng-animate-queued"),s.onStart((function(){Na(t,"ng-animate-queued")}))),s.onDone((function(){var e=r.players.indexOf(s);e>=0&&r.players.splice(e,1);var n=r._engine.playersByElement.get(t);if(n){var i=n.indexOf(s);i>=0&&n.splice(i,1)}})),this.players.push(s),l.push(s),s}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,c.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(c.value,c.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush((function(){js(t,p),As(t,v)}))}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach((function(e,n){delete e[t]})),this._elementListeners.forEach((function(n,r){e._elementListeners.set(r,n.filter((function(e){return e.name!=t})))}))}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach((function(t){return t.destroy()})),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this,r=this._engine.driver.query(t,".ng-trigger",!0);r.forEach((function(t){if(!t.__ng_removed){var r=n._engine.fetchNamespacesByElement(t);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(t,e,!1,!0)})):n.clearElementCache(t)}})),this._engine.afterFlushAnimationsDone((function(){return r.forEach((function(t){return n.clearElementCache(t)}))}))}},{key:"triggerLeaveAnimation",value:function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var s=[];if(Object.keys(o).forEach((function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&s.push(n)}})),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&ns(s).onDone((function(){return i._engine.processLeaveNode(t)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=e._triggers[i].fallbackTransition,s=e._engine.statesByElement.get(t)[i]||Sa,a=new Ea("void"),u=new Ia(e.id,i,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:i,transition:o,fromState:s,toState:a,player:u,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var s=t;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{var a=t.__ng_removed;a&&a!==ka||(r.afterFlush((function(){return n.clearElementCache(t)})),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}}},{key:"insertNode",value:function(t,e){Da(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,s=e._elementListeners.get(o);s&&s.forEach((function(e){if(e.name==r.triggerName){var n=ss(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,is(r.player,e.phase,n,e.callback)}})),i.markedForDestroy?e._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1}))}},{key:"destroy",value:function(t){this.players.forEach((function(t){return t.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find((function(e){return e.element===t}))||e}}]),t}(),Ta=function(){function t(e,n,r){_classCallCheck(this,t),this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return _createClass(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"createNamespace",value:function(t,e){var n=new Oa(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(e)}))}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var s=this._fetchNamespace(o);s&&e.add(s)}}return e}},{key:"trigger",value:function(t,e,n,r){if(xa(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}},{key:"insertNode",value:function(t,e,n,r){if(xa(e)){var i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var s=this._fetchNamespace(t);s&&s.insertNode(e,n)}r&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Da(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Na(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,r){if(xa(e)){var i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}},{key:"markElementAsRemoved",value:function(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,r,i){return xa(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}}},{key:"_buildInstruction",value:function(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach((function(t){return e.destroyActiveAnimationsForElement(t)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach((function(t){return e.finishActiveQueriedAnimationOnElement(t)}))}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach((function(t){t.queued?t.markedForDestroy=!0:t.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach((function(t){return t.finish()}))}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise((function(e){if(t.players.length)return ns(t.players).onDone((function(){return e()}));e()}))}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=ka,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach((function(t){e.markElementAsDisabled(t,!1)}))}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(e,n){return t._balanceNamespaceList(e,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)Da(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,e)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(t){return t()})),this._flushFns=[],this._whenQuietFns.length){var a=this._whenQuietFns;this._whenQuietFns=[],n.length?ns(n).onDone((function(){a.forEach((function(t){return t()}))})):a.forEach((function(t){return t()}))}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}},{key:"_flushAnimations",value:function(t,e){var n=this,r=new ta,i=[],o=new Map,s=[],a=new Map,u=new Map,c=new Map,l=new Set;this.disabledNodes.forEach((function(t){l.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),r=0;r<e.length;r++)l.add(e[r])}));var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=Pa(f,this.collectedEnterElements),p=new Map,v=0;d.forEach((function(t,e){var n="ng-enter"+v++;p.set(e,n),t.forEach((function(t){return Da(t,n)}))}));for(var y=[],g=new Set,m=new Set,_=0;_<this.collectedLeaveElements.length;_++){var b=this.collectedLeaveElements[_],w=b.__ng_removed;w&&w.setForRemoval&&(y.push(b),g.add(b),w.hasAnimation?this.driver.query(b,".ng-star-inserted",!0).forEach((function(t){return g.add(t)})):m.add(b))}var k=new Map,C=Pa(f,Array.from(g));C.forEach((function(t,e){var n="ng-leave"+v++;k.set(e,n),t.forEach((function(t){return Da(t,n)}))})),t.push((function(){d.forEach((function(t,e){var n=p.get(e);t.forEach((function(t){return Na(t,n)}))})),C.forEach((function(t,e){var n=k.get(e);t.forEach((function(t){return Na(t,n)}))})),y.forEach((function(t){n.processLeaveNode(t)}))}));for(var E=[],S=[],O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach((function(t){var e=t.player,o=t.element;if(E.push(e),n.collectedEnterElements.length){var l=o.__ng_removed;if(l&&l.setForMove)return void e.destroy()}var f=!h||!n.driver.containsElement(h,o),d=k.get(o),v=p.get(o),y=n._buildInstruction(t,r,v,d,f);if(y.errors&&y.errors.length)S.push(y);else{if(f)return e.onStart((function(){return js(o,y.fromStyles)})),e.onDestroy((function(){return As(o,y.toStyles)})),void i.push(e);if(t.isFallbackTransition)return e.onStart((function(){return js(o,y.fromStyles)})),e.onDestroy((function(){return As(o,y.toStyles)})),void i.push(e);y.timelines.forEach((function(t){return t.stretchStartingKeyframe=!0})),r.append(o,y.timelines),s.push({instruction:y,player:e,element:o}),y.queriedElements.forEach((function(t){return as(a,t,[]).push(e)})),y.preStyleProps.forEach((function(t,e){var n=Object.keys(t);if(n.length){var r=u.get(e);r||u.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}})),y.postStyleProps.forEach((function(t,e){var n=Object.keys(t),r=c.get(e);r||c.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}))}}));if(S.length){var T=[];S.forEach((function(t){T.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach((function(t){return T.push("- ".concat(t,"\n"))}))})),E.forEach((function(t){return t.destroy()})),this.reportError(T)}var I=new Map,x=new Map;s.forEach((function(t){var e=t.element;r.has(e)&&(x.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,I))})),i.forEach((function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach((function(t){as(I,e,[]).push(t),t.destroy()}))}));var A=y.filter((function(t){return La(t,u,c)})),j=new Map;ja(j,this.driver,m,c,"*").forEach((function(t){La(t,u,c)&&A.push(t)}));var P=new Map;d.forEach((function(t,e){ja(P,n.driver,new Set(t),u,"!")})),A.forEach((function(t){var e=j.get(t),n=P.get(t);j.set(t,Object.assign(Object.assign({},e),n))}));var D=[],N=[],R={};s.forEach((function(t){var e=t.element,s=t.player,a=t.instruction;if(r.has(e)){if(l.has(e))return s.onDestroy((function(){return As(e,a.toStyles)})),s.disabled=!0,s.overrideTotalTime(a.totalTime),void i.push(s);var u=R;if(x.size>1){for(var c=e,h=[];c=c.parentNode;){var f=x.get(c);if(f){u=f;break}h.push(c)}h.forEach((function(t){return x.set(t,u)}))}var d=n._buildAnimation(s.namespaceId,a,I,o,P,j);if(s.setRealPlayer(d),u===R)D.push(s);else{var p=n.playersByElement.get(u);p&&p.length&&(s.parentPlayer=ns(p)),i.push(s)}}else js(e,a.fromStyles),s.onDestroy((function(){return As(e,a.toStyles)})),N.push(s),l.has(e)&&i.push(s)})),N.forEach((function(t){var e=o.get(t.element);if(e&&e.length){var n=ns(e);t.setRealPlayer(n)}})),i.forEach((function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()}));for(var L=0;L<y.length;L++){var M=y[L],F=M.__ng_removed;if(Na(M,"ng-leave"),!F||!F.hasAnimation){var U=[];if(a.size){var V=a.get(M);V&&V.length&&U.push.apply(U,_toConsumableArray(V));for(var q=this.driver.query(M,".ng-animating",!0),z=0;z<q.length;z++){var B=a.get(q[z]);B&&B.length&&U.push.apply(U,_toConsumableArray(B))}}var H=U.filter((function(t){return!t.destroyed}));H.length?Ra(this,M,H):this.processLeaveNode(M)}}return y.length=0,D.forEach((function(t){n.players.push(t),t.onDone((function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)})),t.play()})),D}},{key:"elementContainsData",value:function(t,e){var n=!1,r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,r,i){var o=[];if(e){var s=this.playersByQueriedElement.get(t);s&&(o=s)}else{var a=this.playersByElement.get(t);if(a){var u=!i||"void"==i;a.forEach((function(t){t.queued||(u||t.triggerName==r)&&o.push(t)}))}}return(n||r)&&(o=o.filter((function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(t,e,n){var r,i=this,o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName,u=_createForOfIteratorHelper(e.timelines);try{var c=function(){var t=r.value.element,u=t!==o,c=as(n,t,[]);i._getPreviousPlayers(t,u,s,a,e.toState).forEach((function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)}))};for(u.s();!(r=u.n()).done;)c()}catch(l){u.e(l)}finally{u.f()}js(o,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,r,i,o){var s=this,a=e.triggerName,u=e.element,c=[],l=new Set,h=new Set,f=e.timelines.map((function(e){var f=e.element;l.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new $o(e.duration,e.delay);var p,v,y=f!==u,g=(p=(n.get(f)||wa).map((function(t){return t.getRealPlayer()})),v=[],function t(e,n){for(var r=0;r<e.length;r++){var i=e[r];i instanceof ts?t(i.players,n):n.push(i)}}(p,v),v).filter((function(t){return!!t.element&&t.element===f})),m=i.get(f),_=o.get(f),b=rs(0,s._normalizer,0,e.keyframes,m,_),w=s._buildPlayer(e,b,g);if(e.subTimeline&&r&&h.add(f),y){var k=new Ia(t,a,f);k.setRealPlayer(w),c.push(k)}return w}));c.forEach((function(t){as(s.playersByQueriedElement,t.element,[]).push(t),t.onDone((function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete t[e]}return r}(s.playersByQueriedElement,t.element,t)}))})),l.forEach((function(t){return Da(t,"ng-animating")}));var d=ns(f);return d.onDestroy((function(){l.forEach((function(t){return Na(t,"ng-animating")})),As(u,e.toStyles)})),h.forEach((function(t){as(r,t,[]).push(d)})),d}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new $o(t.duration,t.delay)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach((function(e){e.players.forEach((function(e){e.queued&&t.push(e)}))})),t}}]),t}(),Ia=function(){function t(e,n,r){_classCallCheck(this,t),this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new $o,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach((function(n){e._queuedCallbacks[n].forEach((function(e){return is(t,n,void 0,e)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart((function(){return n.triggerCallback("start")})),t.onDone((function(){return e.finish()})),t.onDestroy((function(){return e.destroy()}))}},{key:"_queueEvent",value:function(t,e){as(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function xa(t){return t&&1===t.nodeType}function Aa(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function ja(t,e,n,r,i){var o=[];n.forEach((function(t){return o.push(Aa(t))}));var s=[];r.forEach((function(n,r){var o={};n.forEach((function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Ca,s.push(r))})),t.set(r,o)}));var a=0;return n.forEach((function(t){return Aa(t,o[a++])})),s}function Pa(t,e){var n=new Map;if(t.forEach((function(t){return n.set(t,[])})),0==e.length)return n;var r=new Set(e),i=new Map;return e.forEach((function(t){var e=function t(e){if(!e)return 1;var o=i.get(e);if(o)return o;var s=e.parentNode;return o=n.has(s)?s:r.has(s)?1:t(s),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)})),n}function Da(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Na(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function Ra(t,e,n){ns(n).onDone((function(){return t.processLeaveNode(e)}))}function La(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach((function(t){return i.add(t)})):e.set(t,r),n.delete(t),!0}var Ma=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new Ta(e,n,r),this._timelineEngine=new ba(e,n,r),this._transitionEngine.onRemovalComplete=function(t,e){return i.onRemovalComplete(t,e)}}return _createClass(t,[{key:"registerTrigger",value:function(t,e,n,r,i){var o=t+"-"+r,s=this._triggerCache[o];if(!s){var a=[],u=Ks(this._driver,i,a);if(a.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(a.join("\n - ")));s=function(t,e){return new ga(t,e)}(r,u),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}},{key:"onRemove",value:function(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,e,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(us(n),2),o=i[0],s=i[1];this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,n,r)}},{key:"listen",value:function(t,e,n,r,i){if("@"==n.charAt(0)){var o=_slicedToArray(us(n),2),s=o[0],a=o[1];return this._timelineEngine.listen(s,e,a,i)}return this._transitionEngine.listen(t,e,n,r,i)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),t}();function Fa(t,e){var n=null,r=null;return Array.isArray(e)&&e.length?(n=Va(e[0]),e.length>1&&(r=Va(e[e.length-1]))):e&&(n=Va(e)),n||r?new Ua(t,n,r):null}var Ua=function(){var t=function(){function t(e,n,r){_classCallCheck(this,t),this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;var i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}return _createClass(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&As(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(As(this._element,this._initialStyles),this._endStyles&&(As(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(js(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(js(this._element,this._endStyles),this._endStyles=null),As(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function Va(t){for(var e=null,n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];qa(i)&&((e=e||{})[i]=t[i])}return e}function qa(t){return"display"===t||"position"===t}var za=function(){function t(e,n,r,i,o,s,a){var u=this;_classCallCheck(this,t),this._element=e,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=s,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return u._handleCallback(t)}}return _createClass(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=Qa(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),Ka(t,"",e),Wa(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){Ba(this._element,this._name,"paused")}},{key:"resume",value:function(){Ba(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=Ha(this._element,this._name);this._position=t*this._duration,Ka(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),Wa(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){var n=Qa(t,"").split(","),r=Ga(n,e);r>=0&&(n.splice(r,1),Ka(t,"",n.join(",")))}(this._element,this._name))}}]),t}();function Ba(t,e,n){Ka(t,"PlayState",n,Ha(t,e))}function Ha(t,e){var n=Qa(t,"");return n.indexOf(",")>0?Ga(n.split(","),e):Ga([n],e)}function Ga(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Wa(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Ka(t,e,n,r){var i="animation"+e;if(null!=r){var o=t.style[i];if(o.length){var s=o.split(",");s[r]=n,n=s.join(",")}}t.style[i]=n}function Qa(t,e){return t.style["animation"+e]}var Ja=function(){function t(e,n,r,i,o,s,a,u){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=a,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+o,this._buildStyler()}return _createClass(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new za(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return t.finish()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(e[r]=n?t._finalStyles[r]:zs(t.element,r))}))}this.currentSnapshot=e}}]),t}(),Za=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).element=t,i._startingStyles={},i.__initialized=!1,i._styles=_s(r),i}return _createClass(n,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(e){t._startingStyles[e]=t.element.style[e]})),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(e){return t.element.style.setProperty(e,t._styles[e])})),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)})),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}($o),Ya=function(){function t(){_classCallCheck(this,t),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return vs(t)}},{key:"matchesElement",value:function(t,e){return ys(t,e)}},{key:"containsElement",value:function(t,e){return gs(t,e)}},{key:"query",value:function(t,e,n){return ms(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map((function(t){return _s(t)}));var r="@keyframes ".concat(e," {\n"),i="";n.forEach((function(t){i=" ";var e=parseFloat(t.offset);r+="".concat(i).concat(100*e,"% {\n"),i+=" ",Object.keys(t).forEach((function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(e,": ").concat(n,";\n"))}})),r+=i+"}\n"})),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;s&&this._notifyFaultyScrubber();var a=o.filter((function(t){return t instanceof Ja})),u={};Us(n,r)&&a.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var c=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach((function(t){Object.keys(t).forEach((function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])}))})),e}(e=Vs(t,e,u));if(0==n)return new Za(t,c);var l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);var f=Fa(t,e),d=new Ja(t,e,l,n,r,i,c,f);return d.onDestroy((function(){var t;(t=h).parentNode.removeChild(t)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),t}(),Xa=function(){function t(e,n,r,i){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return t._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:zs(t.element,n))})),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),t}(),$a=function(){function t(){_classCallCheck(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(tu().toString()),this._cssKeyframesDriver=new Ya}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return vs(t)}},{key:"matchesElement",value:function(t,e){return ys(t,e)}},{key:"containsElement",value:function(t,e){return gs(t,e)}},{key:"query",value:function(t,e,n){return ms(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);var a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);var u={},c=o.filter((function(t){return t instanceof Xa}));Us(n,r)&&c.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var l=Fa(t,e=Vs(t,e=e.map((function(t){return Ts(t,!1)})),u));return new Xa(t,e,a,l)}}]),t}();function tu(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var eu,nu=((eu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this))._nextAnimationId=0,o._renderer=t.createRenderer(i.body,{id:"0",encapsulation:r.Q.None,styles:[],data:{animation:[]}}),o}return _createClass(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?Zo(t):t;return ou(this._renderer,null,e,"register",[n]),new ru(e,this._renderer)}}]),n}(Jo)).\u0275fac=function(t){return new(t||eu)(r.Sb(r.F),r.Sb(u))},eu.\u0275prov=r.Ib({token:eu,factory:eu.\u0275fac}),eu),ru=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._id=t,i._renderer=r,i}return _createClass(n,[{key:"create",value:function(t,e){return new iu(this._id,t,e||{},this._renderer)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),iu=function(){function t(e,n,r,i){_classCallCheck(this,t),this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return ou(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){return 0}}]),t}();function ou(t,e,n,r,i){return t.setProperty(e,"@@".concat(n,":").concat(r),i)}var su,au,uu,cu,lu=((su=function(){function t(e,n,r){_classCallCheck(this,t),this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return _createClass(t,[{key:"createRenderer",value:function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new hu("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,s=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(s,t),e.data.animation.forEach((function e(r){Array.isArray(r)?r.forEach(e):n.engine.registerTrigger(o,s,t,r.name,r)})),new fu(this,s,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then((function(){t._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(t,e,n){var r=this;t>=0&&t<this._microtaskId?this._zone.run((function(){return e(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(t){var e=_slicedToArray(t,2);(0,e[0])(e[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([e,n]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}()).\u0275fac=function(t){return new(t||su)(r.Sb(r.F),r.Sb(Ma),r.Sb(r.z))},su.\u0275prov=r.Ib({token:su,factory:su.\u0275fac}),su),hu=function(){function t(e,n,r){_classCallCheck(this,t),this.namespaceId=e,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return _createClass(t,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,r){this.delegate.setStyle(t,e,n,r)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}},{key:"data",get:function(){return this.delegate.data}}]),t}(),fu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;return _classCallCheck(this,n),(s=e.call(this,r,i,o)).factory=t,s.namespaceId=r,s}return _createClass(n,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){var r,i,o=this;if("@"==e.charAt(0)){var s,a=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),u=e.substr(1),c="";return"@"!=u.charAt(0)&&(i=(r=u).indexOf("."),u=(s=_slicedToArray([r.substring(0,i),r.substr(i+1)],2))[0],c=s[1]),this.engine.listen(this.namespaceId,a,u,c,(function(t){o.factory.scheduleListenerCallback(t._data||-1,n,t)}))}return this.delegate.listen(t,e,n)}}]),n}(hu),du=((au=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){return _classCallCheck(this,n),e.call(this,t.body,r,i)}return n}(Ma)).\u0275fac=function(t){return new(t||au)(r.Sb(u),r.Sb(ks),r.Sb(la))},au.\u0275prov=r.Ib({token:au,factory:au.\u0275fac}),au),pu=new r.q("AnimationModuleType"),vu=[{provide:ks,useFactory:function(){return"function"==typeof tu()?new $a:new Ya}},{provide:pu,useValue:"BrowserAnimations"},{provide:Jo,useClass:nu},{provide:la,useFactory:function(){return new ha}},{provide:Ma,useClass:du},{provide:r.F,useFactory:function(t,e,n){return new lu(t,e,n)},deps:[pt,Ma,r.z]}],yu=((uu=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:uu}),uu.\u0275inj=r.Jb({factory:function(t){return new(t||uu)},providers:vu,imports:[Tt]}),uu),gu=new r.O("9.2.4"),mu=new r.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),_u=((cu=function(){function t(e,n,r){_classCallCheck(this,t),this._hasDoneGlobalChecks=!1,this._document=r,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=n,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return _createClass(t,[{key:"_getDocument",value:function(){var t=this._document||document;return"object"==typeof t&&t?t:null}},{key:"_getWindow",value:function(){var t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}},{key:"_checksAreEnabled",value:function(){return Object(r.W)()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var t=this._getWindow();return t&&(t.__karma__||t.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){var t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){var t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(!t&&e&&e.body&&"function"==typeof getComputedStyle){var n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);var r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}}},{key:"_checkCdkVersionMatch",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&gu.full!==Qo.full&&console.warn("The Angular Material version ("+gu.full+") does not match the Angular CDK version ("+Qo.full+").\nPlease ensure the versions of these two packages exactly match.")}}]),t}()).\u0275mod=r.Kb({type:cu}),cu.\u0275inj=r.Jb({factory:function(t){return new(t||cu)(r.Sb(Ho),r.Sb(mu,8),r.Sb(u,8))},imports:[[Ko],Ko]}),cu);try{"undefined"!=typeof Intl}catch(uC){!1}var bu,wu,ku,Cu,Eu=function(){function t(e,n,r){_classCallCheck(this,t),this._renderer=e,this.element=n,this.config=r,this.state=3}return _createClass(t,[{key:"fadeOut",value:function(){this._renderer.fadeOutRipple(this)}}]),t}(),Su={enterDuration:450,exitDuration:400},Ou=Do({passive:!0}),Tu=["mousedown","touchstart"],Iu=["mouseup","mouseleave","touchend","touchcancel"],xu=function(){function t(e,n,r,i){_classCallCheck(this,t),this._target=e,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Oo(r))}return _createClass(t,[{key:"fadeInRipple",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},Su),r.animation);r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);var s=r.radius||function(t,e,n){var r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),a=t-i.left,u=e-i.top,c=o.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=a-s+"px",l.style.top=u-s+"px",l.style.height=2*s+"px",l.style.width=2*s+"px",null!=r.color&&(l.style.backgroundColor=r.color),l.style.transitionDuration=c+"ms",this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";var h=new Eu(this,l,r);return h.state=0,this._activeRipples.add(h),r.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone((function(){var t=h===n._mostRecentTransientRipple;h.state=1,r.persistent||t&&n._isPointerDown||h.fadeOut()}),c),h}},{key:"fadeOutRipple",value:function(t){var e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),e){var n=t.element,r=Object.assign(Object.assign({},Su),t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone((function(){t.state=3,n.parentNode.removeChild(n)}),r.exitDuration)}}},{key:"fadeOutAll",value:function(){this._activeRipples.forEach((function(t){return t.fadeOut()}))}},{key:"setupTriggerEvents",value:function(t){var e=Oo(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Tu))}},{key:"handleEvent",value:function(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Iu),this._pointerUpEventsRegistered=!0)}},{key:"_onMousedown",value:function(t){var e=Ro(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}},{key:"_onTouchStart",value:function(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;for(var e=t.changedTouches,n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}},{key:"_onPointerUp",value:function(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach((function(t){!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()})))}},{key:"_runTimeoutOutsideZone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ngZone.runOutsideAngular((function(){return setTimeout(t,e)}))}},{key:"_registerEvents",value:function(t){var e=this;this._ngZone.runOutsideAngular((function(){t.forEach((function(t){e._triggerElement.addEventListener(t,e,Ou)}))}))}},{key:"_removeTriggerEvents",value:function(){var t=this;this._triggerElement&&(Tu.forEach((function(e){t._triggerElement.removeEventListener(e,t,Ou)})),this._pointerUpEventsRegistered&&Iu.forEach((function(e){t._triggerElement.removeEventListener(e,t,Ou)})))}}]),t}(),Au=new r.q("mat-ripple-global-options"),ju=((wu=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new xu(this,n,e,r)}return _createClass(t,[{key:"ngOnInit",value:function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}},{key:"ngOnDestroy",value:function(){this._rippleRenderer._removeTriggerEvents()}},{key:"fadeOutAll",value:function(){this._rippleRenderer.fadeOutAll()}},{key:"_setupTriggerEventsIfEnabled",value:function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}},{key:"launch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}},{key:"trigger",get:function(){return this._trigger||this._elementRef.nativeElement},set:function(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}},{key:"rippleConfig",get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}},{key:"rippleDisabled",get:function(){return this.disabled||!!this._globalOptions.disabled}}]),t}()).\u0275fac=function(t){return new(t||wu)(r.Mb(r.l),r.Mb(r.z),r.Mb(jo),r.Mb(Au,8),r.Mb(pu,8))},wu.\u0275dir=r.Hb({type:wu,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Eb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),wu),Pu=((bu=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:bu}),bu.\u0275inj=r.Jb({factory:function(t){return new(t||bu)},imports:[[_u,Po],_u]}),bu),Du=["mat-button",""],Nu=["*"],Ru=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Lu=function(t,e){return function(t){_inherits(r,t);var n=_createSuper(r);function r(){var t;_classCallCheck(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(t=n.call.apply(n,[this].concat(o))).color=e,t}return _createClass(r,[{key:"color",get:function(){return this._color},set:function(t){var n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),n&&this._elementRef.nativeElement.classList.add("mat-"+n),this._color=n)}}]),r}(t)}(function(t){return function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i)))._disabled=!1,t}return _createClass(n,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=So(t)}}]),n}(t)}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i)))._disableRipple=!1,t}return _createClass(n,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(t){this._disableRipple=So(t)}}]),n}((function t(e){_classCallCheck(this,t),this._elementRef=e})))),Mu=((Cu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;_classCallCheck(this,n),(o=e.call(this,t))._focusMonitor=r,o._animationMode=i,o.isRoundButton=o._hasHostAttributes("mat-fab","mat-mini-fab"),o.isIconButton=o._hasHostAttributes("mat-icon-button");var s,a=_createForOfIteratorHelper(Ru);try{for(a.s();!(s=a.n()).done;){var u=s.value;o._hasHostAttributes(u)&&o._getHostElement().classList.add(u)}}catch(c){a.e(c)}finally{a.f()}return t.nativeElement.classList.add("mat-button-base"),o._focusMonitor.monitor(o._elementRef,!0),o.isRoundButton&&(o.color="accent"),o}return _createClass(n,[{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._getHostElement(),t,e)}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_hasHostAttributes",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.some((function(e){return t._getHostElement().hasAttribute(e)}))}}]),n}(Lu)).\u0275fac=function(t){return new(t||Cu)(r.Mb(r.l),r.Mb(Uo),r.Mb(pu,8))},Cu.\u0275cmp=r.Gb({type:Cu,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&r.kc(ju,!0),2&t&&r.cc(n=r.Xb())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:3,hostBindings:function(t,e){2&t&&(r.Db("disabled",e.disabled||null),r.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.zb],attrs:Du,ngContentSelectors:Nu,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.ac(),r.Pb(0,"span",0),r.Zb(1),r.Ob(),r.Nb(2,"div",1),r.Nb(3,"div",2)),2&t&&(r.Cb(2),r.Eb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.bc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[ju],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),Cu),Fu=((ku=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:ku}),ku.\u0275inj=r.Jb({factory:function(t){return new(t||ku)},imports:[[Pu,_u],_u]}),ku),Uu=n("n6bG");function Vu(t,e,n,r){return Object(Uu.a)(n)&&(r=n,n=void 0),r?Vu(t,e,n).pipe(Object(Gt.a)((function(t){return Object(Lt.a)(t)?r.apply(void 0,_toConsumableArray(t)):r(t)}))):new Dt.a((function(r){!function t(e,n,r,i,o){var s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var a=e;e.addEventListener(n,r,o),s=function(){return a.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var u=e;e.on(n,r),s=function(){return u.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var c=e;e.addListener(n,r),s=function(){return c.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,h=e.length;l<h;l++)t(e[l],n,r,i,o)}i.add(s)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)}))}var qu=n("VRyK"),zu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),Bu=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(zu);n("7Hc7");var Hu=function(){function t(e,n){_classCallCheck(this,t),this.compare=e,this.keySelector=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Gu(t,this.compare,this.keySelector))}}]),t}(),Gu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return _createClass(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(Qt.a),Wu=function(){function t(e){_classCallCheck(this,t),this.durationSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ku(t,this.durationSelector))}}]),t}(),Ku=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).durationSelector=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e;try{e=(0,this.durationSelector)(t)}catch(r){return this.destination.error(r)}var n=Object(Ft.a)(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}},{key:"notifyNext",value:function(t,e,n,r){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(Mt.a),Qu=n("Y7HM");function Ju(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Zu(t){return function(e){return e.lift(new Yu(t))}}var Yu=function(){function t(e){_classCallCheck(this,t),this.notifier=e}return _createClass(t,[{key:"call",value:function(t,e){var n=new Xu(t),r=Object(Ft.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}]),t}(),Xu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).seenValue=!1,r}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(Mt.a);function $u(){return function(t){return t.lift(new tc)}}var tc=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ec(t))}}]),t}(),ec=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).hasPrev=!1,r}return _createClass(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(Qt.a);n("qgXg");var nc=n("pxpQ");n("Ylt2");var rc,ic,oc=((ic=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this._platform=e,this._document=r,n.runOutsideAngular((function(){var t=i._getWindow();i._change=e.isBrowser?Object(qu.a)(Vu(t,"resize"),Vu(t,"orientationchange")):Object(It.a)(),i._invalidateCache=i.change().subscribe((function(){return i._updateViewportSize()}))}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._invalidateCache.unsubscribe()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,r=e.height;return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=this._getDocument(),e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe(function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_o.a;return e=function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return Object(Qu.a)(e)?r=Number(e)<1?1:Number(e):Object(Rt.a)(e)&&(n=e),Object(Rt.a)(n)||(n=_o.a),new Dt.a((function(e){var i=Object(Qu.a)(t)?t:+t-n.now();return n.schedule(Ju,i,{index:0,period:r,subscriber:e})}))}(t,n)},function(t){return t.lift(new Wu(e))}}(t)):this._change}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_updateViewportSize",value:function(){var t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}]),t}()).\u0275fac=function(t){return new(t||ic)(r.Sb(jo),r.Sb(r.z),r.Sb(u,8))},ic.\u0275prov=Object(r.Ib)({factory:function(){return new ic(Object(r.Sb)(jo),Object(r.Sb)(r.z),Object(r.Sb)(u,8))},token:ic,providedIn:"root"}),ic),sc=((rc=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:rc}),rc.\u0275inj=r.Jb({factory:function(t){return new(t||rc)}}),rc);function ac(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}function uc(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function cc(t,e){var n=e?"":"none";uc(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function lc(t){var e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function hc(t,e){return t.getPropertyValue(e).split(",").map((function(t){return t.trim()}))}function fc(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function dc(t,e,n){var r=t.top,i=t.bottom,o=t.left,s=t.right;return n>=r&&n<=i&&e>=o&&e<=s}function pc(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function vc(t,e,n,r){var i=t.top,o=t.right,s=t.bottom,a=t.left,u=t.width*e,c=t.height*e;return r>i-c&&r<s+c&&n>a-u&&n<o+u}var yc=function(){function t(e,n){_classCallCheck(this,t),this._document=e,this._viewportRuler=n,this.positions=new Map}return _createClass(t,[{key:"clear",value:function(){this.positions.clear()}},{key:"cache",value:function(t){var e=this;this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach((function(t){e.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:fc(t)})}))}},{key:"handleScroll",value:function(t){var e=t.target,n=this.positions.get(e);if(!n)return null;var r,i,o=e===this._document?e.documentElement:e,s=n.scrollPosition;if(e===this._document){var a=this._viewportRuler.getViewportScrollPosition();r=a.top,i=a.left}else r=e.scrollTop,i=e.scrollLeft;var u=s.top-r,c=s.left-i;return this.positions.forEach((function(t,n){t.clientRect&&e!==n&&o.contains(n)&&pc(t.clientRect,u,c)})),s.top=r,s.left=i,{top:u,left:c}}}]),t}(),gc=Do({passive:!0}),mc=Do({passive:!1}),_c=function(){function t(e,n,r,i,o,s){var a=this;_classCallCheck(this,t),this._config=n,this._document=r,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new At.a,this._pointerMoveSubscription=Ne.a.EMPTY,this._pointerUpSubscription=Ne.a.EMPTY,this._scrollSubscription=Ne.a.EMPTY,this._resizeSubscription=Ne.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new At.a,this.started=new At.a,this.released=new At.a,this.ended=new At.a,this.entered=new At.a,this.exited=new At.a,this.dropped=new At.a,this.moved=this._moveEvents.asObservable(),this._pointerDown=function(t){if(a.beforeStarted.next(),a._handles.length){var e=a._handles.find((function(e){var n=t.target;return!!n&&(n===e||e.contains(n))}));!e||a._disabledHandles.has(e)||a.disabled||a._initializeDragSequence(e,t)}else a.disabled||a._initializeDragSequence(a._rootElement,t)},this._pointerMove=function(t){t.preventDefault();var e=a._getPointerPositionOnPage(t);if(a._hasStartedDragging){a._boundaryElement&&(a._previewRect&&(a._previewRect.width||a._previewRect.height)||(a._previewRect=(a._preview||a._rootElement).getBoundingClientRect()));var n=a._getConstrainedPointerPosition(e);if(a._hasMoved=!0,a._updatePointerDirectionDelta(n),a._dropContainer)a._updateActiveDropContainer(n);else{var r=a._activeTransform;r.x=n.x-a._pickupPositionOnPage.x+a._passiveTransform.x,r.y=n.y-a._pickupPositionOnPage.y+a._passiveTransform.y,a._applyRootElementTransform(r.x,r.y),"undefined"!=typeof SVGElement&&a._rootElement instanceof SVGElement&&a._rootElement.setAttribute("transform","translate(".concat(r.x," ").concat(r.y,")"))}a._moveEvents.observers.length&&a._ngZone.run((function(){a._moveEvents.next({source:a,pointerPosition:n,event:t,distance:a._getDragDistance(n),delta:a._pointerDirectionDelta})}))}else if(Math.abs(e.x-a._pickupPositionOnPage.x)+Math.abs(e.y-a._pickupPositionOnPage.y)>=a._config.dragStartThreshold){if(!(Date.now()>=a._dragStartTime+a._getDragStartDelay(t)))return void a._endDragSequence(t);a._dropContainer&&a._dropContainer.isDragging()||(a._hasStartedDragging=!0,a._ngZone.run((function(){return a._startDragSequence(t)})))}},this._pointerUp=function(t){a._endDragSequence(t)},this.withRootElement(e),this._parentPositions=new yc(r,o),s.registerDragItem(this)}return _createClass(t,[{key:"getPlaceholderElement",value:function(){return this._placeholder}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getVisibleElement",value:function(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}},{key:"withHandles",value:function(t){return this._handles=t.map((function(t){return Oo(t)})),this._handles.forEach((function(t){return cc(t,!1)})),this._toggleNativeDragInteractions(),this}},{key:"withPreviewTemplate",value:function(t){return this._previewTemplate=t,this}},{key:"withPlaceholderTemplate",value:function(t){return this._placeholderTemplate=t,this}},{key:"withRootElement",value:function(t){var e=this,n=Oo(t);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular((function(){n.addEventListener("mousedown",e._pointerDown,mc),n.addEventListener("touchstart",e._pointerDown,gc)})),this._initialTransform=void 0,this._rootElement=n),this}},{key:"withBoundaryElement",value:function(t){var e=this;return this._boundaryElement=t?Oo(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe((function(){return e._containInsideBoundaryOnResize()}))),this}},{key:"dispose",value:function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Cc(this._rootElement),Cc(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}},{key:"isDragging",value:function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}},{key:"reset",value:function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}},{key:"disableHandle",value:function(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}},{key:"enableHandle",value:function(t){this._disabledHandles.delete(t)}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"_withDropContainer",value:function(t){this._dropContainer=t}},{key:"getFreeDragPosition",value:function(){var t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}},{key:"setFreeDragPosition",value:function(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}},{key:"_sortFromLastPointerPosition",value:function(){var t=this._pointerPositionAtLastDirectionChange;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t))}},{key:"_removeSubscriptions",value:function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}},{key:"_destroyPreview",value:function(){this._preview&&Cc(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}},{key:"_destroyPlaceholder",value:function(){this._placeholder&&Cc(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}},{key:"_endDragSequence",value:function(t){var e=this;this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then((function(){e._cleanupDragArtifacts(t),e._cleanupCachedDimensions(),e._dragDropRegistry.stopDragging(e)}))):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run((function(){e.ended.next({source:e,distance:e._getDragDistance(e._getPointerPositionOnPage(t))})})),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}},{key:"_startDragSequence",value:function(t){this.started.next({source:this}),Ec(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();var e,n=this._dropContainer;if(n){var r=this._rootElement,i=r.parentNode,o=this._preview=this._createPreviewElement(),s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");i.insertBefore(a,r),r.style.display="none",this._document.body.appendChild(i.replaceChild(s,r)),(e=this._document,e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body).appendChild(o),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}},{key:"_initializeDragSequence",value:function(t,e){var n=this;e.stopPropagation();var r=this.isDragging(),i=Ec(e),o=!i&&0!==e.button,s=this._rootElement,a=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),!(r||o||a)){this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor,s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe((function(t){n._updateOnScroll(t)})),this._boundaryElement&&(this._boundaryRect=fc(this._boundaryElement));var u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);var c=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}}},{key:"_cleanupDragArtifacts",value:function(t){var e=this;this._rootElement.style.display="",this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run((function(){var n=e._dropContainer,r=n.getItemIndex(e),i=e._getPointerPositionOnPage(t),o=e._getDragDistance(e._getPointerPositionOnPage(t)),s=n._isOverContainer(i.x,i.y);e.ended.next({source:e,distance:o}),e.dropped.next({item:e,currentIndex:r,previousIndex:e._initialIndex,container:n,previousContainer:e._initialContainer,isPointerOverContainer:s,distance:o}),n.drop(e,r,e._initialContainer,s,o,e._initialIndex),e._dropContainer=e._initialContainer}))}},{key:"_updateActiveDropContainer",value:function(t){var e=this,n=t.x,r=t.y,i=this._initialContainer._getSiblingContainerFromPosition(this,n,r);!i&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,r)&&(i=this._initialContainer),i&&i!==this._dropContainer&&this._ngZone.run((function(){e.exited.next({item:e,container:e._dropContainer}),e._dropContainer.exit(e),e._dropContainer=i,e._dropContainer.enter(e,n,r,i===e._initialContainer&&i.sortingDisabled?e._initialIndex:void 0),e.entered.next({item:e,container:i,currentIndex:i.getItemIndex(e)})})),this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,n,r,this._pointerDirectionDelta),this._preview.style.transform=bc(n-this._pickupPositionInElement.x,r-this._pickupPositionInElement.y)}},{key:"_createPreviewElement",value:function(){var t,e=this._previewTemplate,n=this.previewClass,r=e?e.template:null;if(r&&e){var i=e.matchSize?this._rootElement.getBoundingClientRect():null,o=e.viewContainer.createEmbeddedView(r,e.context);o.detectChanges(),t=Sc(o,this._document),this._previewRef=o,e.matchSize?Oc(t,i):t.style.transform=bc(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var s=this._rootElement;Oc(t=wc(s),s.getBoundingClientRect())}return uc(t.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),cc(t,!1),t.classList.add("cdk-drag-preview"),t.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach((function(e){return t.classList.add(e)})):t.classList.add(n)),t}},{key:"_animatePreviewToPlaceholder",value:function(){var t=this;if(!this._hasMoved)return Promise.resolve();var e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=bc(e.left,e.top);var n=function(t){var e=getComputedStyle(t),n=hc(e,"transition-property"),r=n.find((function(t){return"transform"===t||"all"===t}));if(!r)return 0;var i=n.indexOf(r),o=hc(e,"transition-duration"),s=hc(e,"transition-delay");return lc(o[i])+lc(s[i])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular((function(){return new Promise((function(e){var r=function n(r){(!r||r.target===t._preview&&"transform"===r.propertyName)&&(t._preview.removeEventListener("transitionend",n),e(),clearTimeout(i))},i=setTimeout(r,1.5*n);t._preview.addEventListener("transitionend",r)}))}))}},{key:"_createPlaceholderElement",value:function(){var t,e=this._placeholderTemplate,n=e?e.template:null;return n?(this._placeholderRef=e.viewContainer.createEmbeddedView(n,e.context),this._placeholderRef.detectChanges(),t=Sc(this._placeholderRef,this._document)):t=wc(this._rootElement),t.classList.add("cdk-drag-placeholder"),t}},{key:"_getPointerPositionInElement",value:function(t,e){var n=this._rootElement.getBoundingClientRect(),r=t===this._rootElement?null:t,i=r?r.getBoundingClientRect():n,o=Ec(e)?e.targetTouches[0]:e,s=this._getViewportScrollPosition();return{x:i.left-n.left+(o.pageX-i.left-s.left),y:i.top-n.top+(o.pageY-i.top-s.top)}}},{key:"_getPointerPositionOnPage",value:function(t){var e=Ec(t)?t.touches[0]||t.changedTouches[0]:t,n=this._getViewportScrollPosition();return{x:e.pageX-n.left,y:e.pageY-n.top}}},{key:"_getConstrainedPointerPosition",value:function(t){var e=this.constrainPosition?this.constrainPosition(t,this):t,n=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===n?e.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==n||(e.x=this._pickupPositionOnPage.x),this._boundaryRect){var r=this._pickupPositionInElement,i=r.x,o=r.y,s=this._boundaryRect,a=this._previewRect,u=s.top+o,c=s.bottom-(a.height-o);e.x=kc(e.x,s.left+i,s.right-(a.width-i)),e.y=kc(e.y,u,c)}return e}},{key:"_updatePointerDirectionDelta",value:function(t){var e=t.x,n=t.y,r=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-i.x),s=Math.abs(n-i.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=e>i.x?1:-1,i.x=e),s>this._config.pointerDirectionChangeThreshold&&(r.y=n>i.y?1:-1,i.y=n),r}},{key:"_toggleNativeDragInteractions",value:function(){if(this._rootElement&&this._handles){var t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,cc(this._rootElement,t))}}},{key:"_removeRootElementListeners",value:function(t){t.removeEventListener("mousedown",this._pointerDown,mc),t.removeEventListener("touchstart",this._pointerDown,gc)}},{key:"_applyRootElementTransform",value:function(t,e){var n=bc(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}},{key:"_getDragDistance",value:function(t){var e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}},{key:"_cleanupCachedDimensions",value:function(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}},{key:"_containInsideBoundaryOnResize",value:function(){var t=this._passiveTransform,e=t.x,n=t.y;if(!(0===e&&0===n||this.isDragging())&&this._boundaryElement){var r=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(!(0===r.width&&0===r.height||0===i.width&&0===i.height)){var o=r.left-i.left,s=i.right-r.right,a=r.top-i.top,u=i.bottom-r.bottom;r.width>i.width?(o>0&&(e+=o),s>0&&(e-=s)):e=0,r.height>i.height?(a>0&&(n+=a),u>0&&(n-=u)):n=0,e===this._passiveTransform.x&&n===this._passiveTransform.y||this.setFreeDragPosition({y:n,x:e})}}}},{key:"_getDragStartDelay",value:function(t){var e=this.dragStartDelay;return"number"==typeof e?e:Ec(t)?e.touch:e?e.mouse:0}},{key:"_updateOnScroll",value:function(t){var e=this._parentPositions.handleScroll(t);this._boundaryRect&&e&&pc(this._boundaryRect,e.top,e.left)}},{key:"_getViewportScrollPosition",value:function(){var t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}},{key:"disabled",get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(t){var e=So(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}}]),t}();function bc(t,e){return"translate3d(".concat(Math.round(t),"px, ").concat(Math.round(e),"px, 0)")}function wc(t){var e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),r=t.querySelectorAll("canvas");e.removeAttribute("id");for(var i=0;i<n.length;i++)n[i].removeAttribute("id");if(r.length)for(var o=e.querySelectorAll("canvas"),s=0;s<r.length;s++){var a=o[s].getContext("2d");a&&a.drawImage(r[s],0,0)}return e}function kc(t,e,n){return Math.max(e,Math.min(n,t))}function Cc(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ec(t){return"t"===t.type[0]}function Sc(t,e){var n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];var r=e.createElement("div");return n.forEach((function(t){return r.appendChild(t)})),r}function Oc(t,e){t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.transform=bc(e.left,e.top)}function Tc(t,e){return Math.max(0,Math.min(e,t))}var Ic=function(){function t(e,n,r,i,o){var s=this;_classCallCheck(this,t),this._dragDropRegistry=n,this._ngZone=i,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=function(){return!0},this.beforeStarted=new At.a,this.entered=new At.a,this.exited=new At.a,this.dropped=new At.a,this.sorted=new At.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Ne.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new At.a,this._cachedShadowRoot=null,this._startScrollInterval=function(){s._stopScrolling(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_o.a;return(!Object(Qu.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=_o.a),new Dt.a((function(n){return n.add(e.schedule(ac,t,{subscriber:n,counter:0,period:t})),n}))}(0,Bu).pipe(Zu(s._stopScrollTimers)).subscribe((function(){var t=s._scrollNode;1===s._verticalScrollDirection?Ac(t,-2):2===s._verticalScrollDirection&&Ac(t,2),1===s._horizontalScrollDirection?jc(t,-2):2===s._horizontalScrollDirection&&jc(t,2)}))},this.element=Oo(e),this._document=r,this.withScrollableParents([this.element]),n.registerDropContainer(this),this._parentPositions=new yc(r,o)}return _createClass(t,[{key:"dispose",value:function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"start",value:function(){var t=this,e=Oo(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach((function(e){return e._startReceiving(t)})),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}},{key:"enter",value:function(t,e,n,r){var i;this.start(),null==r?-1===(i=this.sortingDisabled?this._draggables.indexOf(t):-1)&&(i=this._getItemIndexFromPointerPosition(t,e,n)):i=r;var o=this._activeDraggables,s=o.indexOf(t),a=t.getPlaceholderElement(),u=o[i];if(u===t&&(u=o[i+1]),s>-1&&o.splice(s,1),u&&!this._dragDropRegistry.isDragging(u)){var c=u.getRootElement();c.parentElement.insertBefore(a,c),o.splice(i,0,t)}else{var l=Oo(this.element);this._shouldEnterAsFirstChild(e,n)?(l.insertBefore(a,o[0].getRootElement()),o.unshift(t)):(l.appendChild(a),o.push(t))}a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}},{key:"exit",value:function(t){this._reset(),this.exited.next({item:t,container:this})}},{key:"drop",value:function(t,e,n,r,i,o){this._reset(),null==o&&(o=n.getItemIndex(t)),this.dropped.next({item:t,currentIndex:e,previousIndex:o,container:this,previousContainer:n,isPointerOverContainer:r,distance:i})}},{key:"withItems",value:function(t){var e=this,n=this._draggables;return this._draggables=t,t.forEach((function(t){return t._withDropContainer(e)})),this.isDragging()&&(n.filter((function(t){return t.isDragging()})).every((function(e){return-1===t.indexOf(e)}))?this._reset():this._cacheItems()),this}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"connectedTo",value:function(t){return this._siblings=t.slice(),this}},{key:"withOrientation",value:function(t){return this._orientation=t,this}},{key:"withScrollableParents",value:function(t){var e=Oo(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e].concat(_toConsumableArray(t)):t.slice(),this}},{key:"getScrollableParents",value:function(){return this._scrollableElements}},{key:"getItemIndex",value:function(t){return this._isDragging?xc("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,(function(e){return e.drag===t})):this._draggables.indexOf(t)}},{key:"isReceiving",value:function(){return this._activeSiblings.size>0}},{key:"_sortItem",value:function(t,e,n,r){if(!this.sortingDisabled&&vc(this._clientRect,.05,e,n)){var i=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,n,r);if(!(-1===o&&i.length>0)){var s="horizontal"===this._orientation,a=xc(i,(function(e){return e.drag===t})),u=i[o],c=i[a].clientRect,l=u.clientRect,h=a>o?1:-1;this._previousSwap.drag=u.drag,this._previousSwap.delta=s?r.x:r.y;var f=this._getItemOffsetPx(c,l,h),d=this._getSiblingOffsetPx(a,i,h),p=i.slice();!function(t,e,n){var r=Tc(e,t.length-1),i=Tc(n,t.length-1);if(r!==i){for(var o=t[r],s=i<r?-1:1,a=r;a!==i;a+=s)t[a]=t[a+s];t[i]=o}}(i,a,o),this.sorted.next({previousIndex:a,currentIndex:o,container:this,item:t}),i.forEach((function(e,n){if(p[n]!==e){var r=e.drag===t,i=r?f:d,o=r?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=i,s?(o.style.transform="translate3d(".concat(Math.round(e.offset),"px, 0, 0)"),pc(e.clientRect,0,i)):(o.style.transform="translate3d(0, ".concat(Math.round(e.offset),"px, 0)"),pc(e.clientRect,i,0))}}))}}}},{key:"_startScrollingIfNecessary",value:function(t,e){var n=this;if(!this.autoScrollDisabled){var r,i=0,o=0;if(this._parentPositions.positions.forEach((function(s,a){var u;a!==n._document&&s.clientRect&&!r&&vc(s.clientRect,.05,t,e)&&(u=_slicedToArray(function(t,e,n,r){var i=Pc(e,r),o=Dc(e,n),s=0,a=0;if(i){var u=t.scrollTop;1===i?u>0&&(s=1):t.scrollHeight-u>t.clientHeight&&(s=2)}if(o){var c=t.scrollLeft;1===o?c>0&&(a=1):t.scrollWidth-c>t.clientWidth&&(a=2)}return[s,a]}(a,s.clientRect,t,e),2),i=u[0],o=u[1],(i||o)&&(r=a))})),!i&&!o){var s=this._viewportRuler.getViewportSize(),a=s.width,u=s.height,c={width:a,height:u,top:0,right:a,bottom:u,left:0};i=Pc(c,e),o=Dc(c,t),r=window}!r||i===this._verticalScrollDirection&&o===this._horizontalScrollDirection&&r===this._scrollNode||(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=r,(i||o)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}}},{key:"_stopScrolling",value:function(){this._stopScrollTimers.next()}},{key:"_cacheParentPositions",value:function(){var t=Oo(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}},{key:"_cacheItemPositions",value:function(){var t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map((function(t){var e=t.getVisibleElement();return{drag:t,offset:0,clientRect:fc(e)}})).sort((function(e,n){return t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top}))}},{key:"_reset",value:function(){var t=this;this._isDragging=!1;var e=Oo(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach((function(t){var e=t.getRootElement();e&&(e.style.transform="")})),this._siblings.forEach((function(e){return e._stopReceiving(t)})),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}},{key:"_getSiblingOffsetPx",value:function(t,e,n){var r="horizontal"===this._orientation,i=e[t].clientRect,o=e[t+-1*n],s=i[r?"width":"height"]*n;if(o){var a=r?"left":"top",u=r?"right":"bottom";-1===n?s-=o.clientRect[a]-i[u]:s+=i[a]-o.clientRect[u]}return s}},{key:"_getItemOffsetPx",value:function(t,e,n){var r="horizontal"===this._orientation,i=r?e.left-t.left:e.top-t.top;return-1===n&&(i+=r?e.width-t.width:e.height-t.height),i}},{key:"_shouldEnterAsFirstChild",value:function(t,e){if(!this._activeDraggables.length)return!1;var n=this._itemPositions,r="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){var i=n[n.length-1].clientRect;return r?t>=i.right:e>=i.bottom}var o=n[0].clientRect;return r?t<=o.left:e<=o.top}},{key:"_getItemIndexFromPointerPosition",value:function(t,e,n,r){var i=this,o="horizontal"===this._orientation;return xc(this._itemPositions,(function(s,a,u){var c=s.drag,l=s.clientRect;if(c===t)return u.length<2;if(r){var h=o?r.x:r.y;if(c===i._previousSwap.drag&&h===i._previousSwap.delta)return!1}return o?e>=Math.floor(l.left)&&e<Math.floor(l.right):n>=Math.floor(l.top)&&n<Math.floor(l.bottom)}))}},{key:"_cacheItems",value:function(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}},{key:"_isOverContainer",value:function(t,e){return dc(this._clientRect,t,e)}},{key:"_getSiblingContainerFromPosition",value:function(t,e,n){return this._siblings.find((function(r){return r._canReceive(t,e,n)}))}},{key:"_canReceive",value:function(t,e,n){if(!dc(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;var r=this._getShadowRoot().elementFromPoint(e,n);if(!r)return!1;var i=Oo(this.element);return r===i||i.contains(r)}},{key:"_startReceiving",value:function(t){var e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}},{key:"_stopReceiving",value:function(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}},{key:"_listenToScrollEvents",value:function(){var t=this;this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe((function(e){if(t.isDragging()){var n=t._parentPositions.handleScroll(e);n&&(t._itemPositions.forEach((function(t){pc(t.clientRect,n.top,n.left)})),t._itemPositions.forEach((function(e){var n=e.drag;t._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})))}else t.isReceiving()&&t._cacheParentPositions()}))}},{key:"_getShadowRoot",value:function(){if(!this._cachedShadowRoot){var t=No(Oo(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}]),t}();function xc(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function Ac(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function jc(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function Pc(t,e){var n=t.top,r=t.bottom,i=.05*t.height;return e>=n-i&&e<=n+i?1:e>=r-i&&e<=r+i?2:0}function Dc(t,e){var n=t.left,r=t.right,i=.05*t.width;return e>=n-i&&e<=n+i?1:e>=r-i&&e<=r+i?2:0}var Nc,Rc,Lc,Mc,Fc,Uc,Vc=Do({passive:!1,capture:!0}),qc=((Nc=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new At.a,this.pointerUp=new At.a,this.scroll=new At.a,this._preventDefaultWhileDragging=function(t){r._activeDragInstances.size&&t.preventDefault()},this._document=n}return _createClass(t,[{key:"registerDropContainer",value:function(t){this._dropInstances.has(t)||this._dropInstances.add(t)}},{key:"registerDragItem",value:function(t){var e=this;this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular((function(){e._document.addEventListener("touchmove",e._preventDefaultWhileDragging,Vc)}))}},{key:"removeDropContainer",value:function(t){this._dropInstances.delete(t)}},{key:"removeDragItem",value:function(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,Vc)}},{key:"startDragging",value:function(t,e){var n=this;if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){var r=e.type.startsWith("touch"),i=r?"touchend":"mouseup";this._globalListeners.set(r?"touchmove":"mousemove",{handler:function(t){return n.pointerMove.next(t)},options:Vc}).set(i,{handler:function(t){return n.pointerUp.next(t)},options:!0}).set("scroll",{handler:function(t){return n.scroll.next(t)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Vc}),this._ngZone.runOutsideAngular((function(){n._globalListeners.forEach((function(t,e){n._document.addEventListener(e,t.handler,t.options)}))}))}}},{key:"stopDragging",value:function(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}},{key:"isDragging",value:function(t){return this._activeDragInstances.has(t)}},{key:"ngOnDestroy",value:function(){var t=this;this._dragInstances.forEach((function(e){return t.removeDragItem(e)})),this._dropInstances.forEach((function(e){return t.removeDropContainer(e)})),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}},{key:"_clearGlobalListeners",value:function(){var t=this;this._globalListeners.forEach((function(e,n){t._document.removeEventListener(n,e.handler,e.options)})),this._globalListeners.clear()}}]),t}()).\u0275fac=function(t){return new(t||Nc)(r.Sb(r.z),r.Sb(u))},Nc.\u0275prov=Object(r.Ib)({factory:function(){return new Nc(Object(r.Sb)(r.z),Object(r.Sb)(u))},token:Nc,providedIn:"root"}),Nc),zc={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Bc=((Rc=function(){function t(e,n,r,i){_classCallCheck(this,t),this._document=e,this._ngZone=n,this._viewportRuler=r,this._dragDropRegistry=i}return _createClass(t,[{key:"createDrag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zc;return new _c(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}},{key:"createDropList",value:function(t){return new Ic(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}]),t}()).\u0275fac=function(t){return new(t||Rc)(r.Sb(u),r.Sb(r.z),r.Sb(oc),r.Sb(qc))},Rc.\u0275prov=Object(r.Ib)({factory:function(){return new Rc(Object(r.Sb)(u),Object(r.Sb)(r.z),Object(r.Sb)(oc),Object(r.Sb)(qc))},token:Rc,providedIn:"root"}),Rc),Hc=new r.q("CDK_DRAG_PARENT"),Gc=((Fc=function(){function t(e,n){_classCallCheck(this,t),this.element=e,this._stateChanges=new At.a,this._disabled=!1,this._parentDrag=n,cc(e.nativeElement,!1)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=So(t),this._stateChanges.next(this)}}]),t}()).\u0275fac=function(t){return new(t||Fc)(r.Mb(r.l),r.Mb(Hc,8))},Fc.\u0275dir=r.Hb({type:Fc,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]}}),Fc),Wc=((Mc=function t(e){_classCallCheck(this,t),this.templateRef=e}).\u0275fac=function(t){return new(t||Mc)(r.Mb(r.L))},Mc.\u0275dir=r.Hb({type:Mc,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"}}),Mc),Kc=((Lc=function(){function t(e){_classCallCheck(this,t),this.templateRef=e,this._matchSize=!1}return _createClass(t,[{key:"matchSize",get:function(){return this._matchSize},set:function(t){this._matchSize=So(t)}}]),t}()).\u0275fac=function(t){return new(t||Lc)(r.Mb(r.L))},Lc.\u0275dir=r.Hb({type:Lc,selectors:[["ng-template","cdkDragPreview",""]],inputs:{matchSize:"matchSize",data:"data"}}),Lc),Qc=new r.q("CDK_DRAG_CONFIG"),Jc=new r.q("CDK_DROP_LIST"),Zc=((Uc=function(){function t(e,n,i,o,s,a,u,c,l){var h=this;_classCallCheck(this,t),this.element=e,this.dropContainer=n,this._document=i,this._ngZone=o,this._viewContainerRef=s,this._dir=u,this._changeDetectorRef=l,this._destroyed=new At.a,this.started=new r.n,this.released=new r.n,this.ended=new r.n,this.entered=new r.n,this.exited=new r.n,this.dropped=new r.n,this.moved=new Dt.a((function(t){var e=h._dragRef.moved.pipe(Object(Gt.a)((function(t){return{source:h,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}}))).subscribe(t);return function(){e.unsubscribe()}})),this._dragRef=c.createDrag(e,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:null==a?void 0:a.zIndex}),this._dragRef.data=this,a&&this._assignDefaults(a),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}return _createClass(t,[{key:"getPlaceholderElement",value:function(){return this._dragRef.getPlaceholderElement()}},{key:"getRootElement",value:function(){return this._dragRef.getRootElement()}},{key:"reset",value:function(){this._dragRef.reset()}},{key:"getFreeDragPosition",value:function(){return this._dragRef.getFreeDragPosition()}},{key:"ngAfterViewInit",value:function(){var t=this;this._ngZone.onStable.asObservable().pipe(ve(1),Zu(this._destroyed)).subscribe((function(){t._updateRootElement(),t._handles.changes.pipe(Oe(t._handles),Object(De.a)((function(e){var n=e.filter((function(e){return e._parentDrag===t})).map((function(t){return t.element}));t._dragRef.withHandles(n)})),ke((function(t){return Object(qu.a).apply(void 0,_toConsumableArray(t.map((function(t){return t._stateChanges.pipe(Oe(t))}))))})),Zu(t._destroyed)).subscribe((function(e){var n=t._dragRef,r=e.element.nativeElement;e.disabled?n.disableHandle(r):n.enableHandle(r)})),t.freeDragPosition&&t._dragRef.setFreeDragPosition(t.freeDragPosition)}))}},{key:"ngOnChanges",value:function(t){var e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}},{key:"ngOnDestroy",value:function(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}},{key:"_updateRootElement",value:function(){var t=this.element.nativeElement,e=this.rootElementSelector?Yc(t,this.rootElementSelector):t;if(e&&e.nodeType!==this._document.ELEMENT_NODE)throw Error('cdkDrag must be attached to an element node. Currently attached to "'.concat(e.nodeName,'".'));this._dragRef.withRootElement(e||t)}},{key:"_getBoundaryElement",value:function(){var t=this.boundaryElement;if(!t)return null;if("string"==typeof t)return Yc(this.element.nativeElement,t);var e=Oo(t);if(Object(r.W)()&&!e.contains(this.element.nativeElement))throw Error("Draggable element is not inside of the node passed into cdkDragBoundary.");return e}},{key:"_syncInputs",value:function(t){var e=this;t.beforeStarted.subscribe((function(){if(!t.isDragging()){var n=e._dir,r=e.dragStartDelay,i=e._placeholderTemplate?{template:e._placeholderTemplate.templateRef,context:e._placeholderTemplate.data,viewContainer:e._viewContainerRef}:null,o=e._previewTemplate?{template:e._previewTemplate.templateRef,context:e._previewTemplate.data,matchSize:e._previewTemplate.matchSize,viewContainer:e._viewContainerRef}:null;t.disabled=e.disabled,t.lockAxis=e.lockAxis,t.dragStartDelay="object"==typeof r&&r?r:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}(r),t.constrainPosition=e.constrainPosition,t.previewClass=e.previewClass,t.withBoundaryElement(e._getBoundaryElement()).withPlaceholderTemplate(i).withPreviewTemplate(o),n&&t.withDirection(n.value)}}))}},{key:"_handleEvents",value:function(t){var e=this;t.started.subscribe((function(){e.started.emit({source:e}),e._changeDetectorRef.markForCheck()})),t.released.subscribe((function(){e.released.emit({source:e})})),t.ended.subscribe((function(t){e.ended.emit({source:e,distance:t.distance}),e._changeDetectorRef.markForCheck()})),t.entered.subscribe((function(t){e.entered.emit({container:t.container.data,item:e,currentIndex:t.currentIndex})})),t.exited.subscribe((function(t){e.exited.emit({container:t.container.data,item:e})})),t.dropped.subscribe((function(t){e.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:e,distance:t.distance})}))}},{key:"_assignDefaults",value:function(t){var e=t.lockAxis,n=t.dragStartDelay,r=t.constrainPosition,i=t.previewClass,o=t.boundaryElement,s=t.draggingDisabled,a=t.rootElementSelector;this.disabled=null!=s&&s,this.dragStartDelay=n||0,e&&(this.lockAxis=e),r&&(this.constrainPosition=r),i&&(this.previewClass=i),o&&(this.boundaryElement=o),a&&(this.rootElementSelector=a)}},{key:"disabled",get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(t){this._disabled=So(t),this._dragRef.disabled=this._disabled}}]),t}()).\u0275fac=function(t){return new(t||Uc)(r.Mb(r.l),r.Mb(Jc,12),r.Mb(u),r.Mb(r.z),r.Mb(r.P),r.Mb(Qc,8),r.Mb(Wo,8),r.Mb(Bc),r.Mb(r.h))},Uc.\u0275dir=r.Hb({type:Uc,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Fb(n,Kc,!0),r.Fb(n,Wc,!0),r.Fb(n,Gc,!0)),2&t&&(r.cc(i=r.Xb())&&(e._previewTemplate=i.first),r.cc(i=r.Xb())&&(e._placeholderTemplate=i.first),r.cc(i=r.Xb())&&(e._handles=i))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&r.Eb("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[r.Bb([{provide:Hc,useExisting:Uc}]),r.Ab]}),Uc);function Yc(t,e){for(var n=t.parentElement;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}var Xc,$c,tl=((Xc=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:Xc}),Xc.\u0275inj=r.Jb({factory:function(t){return new(t||Xc)},providers:[Bc],imports:[sc]}),Xc),el=["title"],nl=["content"],rl=["note"],il=(($c=function(){function t(e){_classCallCheck(this,t),this.notemaker=e}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;Vu(this.title.nativeElement,"keyup").pipe(bo(1e3)).subscribe((function(e){t.updateNote(t.note.id,t.title,t.content)})),Vu(this.content.nativeElement,"keyup").pipe(bo(1e3)).subscribe((function(e){t.updateNote(t.note.id,t.title,t.content)})),Vu(this.title.nativeElement,"click").subscribe((function(e){var n=e.target.innerText;console.log(n),"Type a title"==n&&(t.title.nativeElement.innerText="")})),Vu(this.content.nativeElement,"click").subscribe((function(e){var n=e.target.innerText;console.log(n),"Type content"==n&&(t.content.nativeElement.innerText="")}))}},{key:"updateNote",value:function(t,e,n){this.notemaker.updateNote(t,e,n)}},{key:"removeNote",value:function(t){this.notemaker.removeNote(t)}},{key:"dragEnd",value:function(t){console.log(t)}}]),t}()).\u0275fac=function(t){return new(t||$c)(r.Mb(mo))},$c.\u0275cmp=r.Gb({type:$c,selectors:[["app-note"]],viewQuery:function(t,e){var n;1&t&&(r.fc(el,!0),r.fc(nl,!0),r.fc(rl,!0)),2&t&&(r.cc(n=r.Xb())&&(e.title=n.first),r.cc(n=r.Xb())&&(e.content=n.first),r.cc(n=r.Xb())&&(e.noteContainer=n.first))},inputs:{note:"note"},decls:12,vars:2,consts:[["id","note","cdkDrag",""],[1,"note-buttons-container"],["mat-mini-fab","","color","accent",3,"click"],[1,"material-icons"],[1,"note-text-container"],["contenteditable","true",3,"mousedown"],["title",""],["content",""]],template:function(t,e){1&t&&(r.Pb(0,"article",0),r.Pb(1,"div",1),r.Pb(2,"button",2),r.Wb("click",(function(){return e.removeNote(e.note.id)})),r.Pb(3,"span",3),r.ic(4," delete "),r.Ob(),r.Ob(),r.Ob(),r.Pb(5,"div",4),r.Pb(6,"h3",5,6),r.Wb("mousedown",(function(t){return t.stopPropagation()})),r.ic(8),r.Ob(),r.Pb(9,"p",5,7),r.Wb("mousedown",(function(t){return t.stopPropagation()})),r.ic(11),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.Cb(8),r.jc(" ",e.note.title," "),r.Cb(3),r.jc(" ",e.note.content," "))},directives:[Zc,Mu],styles:["#note[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:200px;min-height:200px;background-color:#ff0;word-wrap:break-word;margin:15px;box-shadow:0 5px 15px 5px rgba(0,0,0,.3);position:relative}#note[_ngcontent-%COMP%]   .note-buttons-container[_ngcontent-%COMP%]{background-color:#c2c20b;width:100%;position:relative;height:25px}#note[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{outline:none}#note[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;font-size:.9rem}#note[_ngcontent-%COMP%]   .mat-mini-fab[_ngcontent-%COMP%]{position:absolute;bottom:-8px;right:-8px;transform:scale(.45)}#note[_ngcontent-%COMP%]   .note-text-container[_ngcontent-%COMP%]{padding:0 10px 7px}#note[_ngcontent-%COMP%]   .note-text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}"]}),$c);function ol(t,e){1&t&&r.Nb(0,"app-note",6),2&t&&r.bc("note",e.$implicit)}var sl,al=((sl=function(){function t(e,n){_classCallCheck(this,t),this.route=e,this.notemaker=n,this.isLoading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.notes=this.route.snapshot.data.notes,this.notemaker.$notesChanged.subscribe((function(e){console.log("updating"),t.notes=e}))}},{key:"addNote",value:function(){this.notemaker.addNote()}},{key:"onFetchPosts",value:function(){var t=this;this.notemaker.fetchPosts().subscribe((function(e){t.notes=e}))}}]),t}()).\u0275fac=function(t){return new(t||sl)(r.Mb(Gn),r.Mb(mo))},sl.\u0275cmp=r.Gb({type:sl,selectors:[["app-notes"]],decls:7,vars:1,consts:[["id","notes"],[1,"button-container"],["mat-fab","","color","warn",3,"click"],[1,"material-icons"],[1,"notes-container"],[3,"note",4,"ngFor","ngForOf"],[3,"note"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"button",2),r.Wb("click",(function(){return e.addNote()})),r.Pb(3,"span",3),r.ic(4," note_add "),r.Ob(),r.Ob(),r.Ob(),r.Pb(5,"div",4),r.hc(6,ol,1,1,"app-note",5),r.Ob(),r.Ob()),2&t&&(r.Cb(6),r.bc("ngForOf",e.notes))},directives:[Mu,G,il],styles:["#notes[_ngcontent-%COMP%]{height:100vh;flex-wrap:wrap;justify-content:flex-start;align-items:center;display:flex;flex-direction:column;position:relative}#notes[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:20px;width:100%}#notes[_ngcontent-%COMP%]   .mat-fab[_ngcontent-%COMP%]{-webkit-animation:addButton 2s linear infinite alternate;animation:addButton 2s linear infinite alternate}@-webkit-keyframes addButton{0%{transform:scale(.8)}to{transform:scale(1)}}@keyframes addButton{0%{transform:scale(.8)}to{transform:scale(1)}}"]}),sl),ul=n("spgP"),cl=n("Jgta"),ll=n("mrSG"),hl=n("zIRd"),fl=n("q/0M"),dl=n("qOnz"),pl=function(t,e){return(pl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function vl(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var yl,gl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ml=ml||{},_l=gl||self;function bl(){}function wl(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function kl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Cl="closure_uid_"+(1e9*Math.random()>>>0),El=0;function Sl(t,e,n){return t.call.apply(t.bind,arguments)}function Ol(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Tl(t,e,n){return(Tl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Sl:Ol).apply(null,arguments)}function Il(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function xl(){return Date.now()}function Al(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function jl(){this.j=this.j,this.i=this.i}jl.prototype.j=!1,jl.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Cl)&&t[Cl]||(t[Cl]=++El)}(this)},jl.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Pl=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Dl=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Nl(t){return Array.prototype.concat.apply([],arguments)}function Rl(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ll(t){return/^[\s\xa0]*$/.test(t)}var Ml,Fl=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ul(t,e){return-1!=t.indexOf(e)}function Vl(t,e){return t<e?-1:t>e?1:0}t:{var ql=_l.navigator;if(ql){var zl=ql.userAgent;if(zl){Ml=zl;break t}}Ml=""}function Bl(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Hl(t){var e={};for(var n in t)e[n]=t[n];return e}var Gl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wl(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Gl.length;o++)n=Gl[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Kl(t){return Kl[" "](t),t}Kl[" "]=bl;var Ql,Jl,Zl=Ul(Ml,"Opera"),Yl=Ul(Ml,"Trident")||Ul(Ml,"MSIE"),Xl=Ul(Ml,"Edge"),$l=Xl||Yl,th=Ul(Ml,"Gecko")&&!(Ul(Ml.toLowerCase(),"webkit")&&!Ul(Ml,"Edge"))&&!(Ul(Ml,"Trident")||Ul(Ml,"MSIE"))&&!Ul(Ml,"Edge"),eh=Ul(Ml.toLowerCase(),"webkit")&&!Ul(Ml,"Edge");function nh(){var t=_l.document;return t?t.documentMode:void 0}t:{var rh="",ih=(Jl=Ml,th?/rv:([^\);]+)(\)|;)/.exec(Jl):Xl?/Edge\/([\d\.]+)/.exec(Jl):Yl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Jl):eh?/WebKit\/(\S+)/.exec(Jl):Zl?/(?:Version)[ \/]?(\S+)/.exec(Jl):void 0);if(ih&&(rh=ih?ih[1]:""),Yl){var oh=nh();if(null!=oh&&oh>parseFloat(rh)){Ql=String(oh);break t}}Ql=rh}var sh={};function ah(t){return function(t,e){var n=sh;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Fl(String(Ql)).split("."),r=Fl(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Vl(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Vl(0==s[2].length,0==a[2].length)||Vl(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var uh=_l.document&&Yl&&(nh()||parseInt(Ql,10))||void 0,ch=!Yl||9<=Number(uh),lh=Yl&&!ah("9"),hh=function(){if(!_l.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{_l.addEventListener("test",bl,e),_l.removeEventListener("test",bl,e)}catch(n){}return t}();function fh(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function dh(t,e){if(fh.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(th){t:{try{Kl(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ph[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}fh.prototype.b=function(){this.defaultPrevented=!0},Al(dh,fh);var ph={2:"touch",3:"pen",4:"mouse"};dh.prototype.b=function(){dh.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,lh)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var vh="closure_listenable_"+(1e6*Math.random()|0),yh=0;function gh(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++yh,this.Y=this.Z=!1}function mh(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function _h(t){this.src=t,this.a={},this.b=0}function bh(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Pl(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(mh(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function wh(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}_h.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=wh(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new gh(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var kh="closure_lm_"+(1e6*Math.random()|0),Ch={};function Eh(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Ph(r),e&&e[vh]?e.wa(n,r,kl(i)?!!i.capture:!!i,o):Sh(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Eh(t,e[o],n,r,i);return null}return n=Ph(n),t&&t[vh]?t.va(e,n,kl(r)?!!r.capture:!!r,i):Sh(t,e,n,!1,r,i)}function Sh(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=kl(i)?!!i.capture:!!i;if(s&&!ch)return null;var a=Ah(t);if(a||(t[kh]=a=new _h(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=xh,e=ch?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)hh||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Th(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Oh(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[vh])bh(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Th(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ah(e))?(bh(n,t),0==n.b&&(n.src=null,e[kh]=null)):mh(t)}}}function Th(t){return t in Ch?Ch[t]:Ch[t]="on"+t}function Ih(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Oh(t),n.call(r,e)}function xh(t,e){if(t.Y)return!0;if(!ch){if(!e)t:{e=["window","event"];for(var n=_l,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ih(t,e=new dh(e,this))}return Ih(t,new dh(e,this))}function Ah(t){return(t=t[kh])instanceof _h?t:null}var jh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ph(t){return"function"==typeof t?t:(t[jh]||(t[jh]=function(e){return t.handleEvent(e)}),t[jh])}function Dh(){jl.call(this),this.c=new _h(this),this.J=this,this.C=null}function Nh(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new fh(e,t);else if(e instanceof fh)e.target=e.target||t;else{var i=e;Wl(e=new fh(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Rh(s,r,!0,e)&&i}if(i=Rh(s=e.a=t,r,!0,e)&&i,i=Rh(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Rh(s=e.a=n[o],r,!1,e)&&i}function Rh(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&bh(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Al(Dh,jl),Dh.prototype[vh]=!0,(yl=Dh.prototype).addEventListener=function(t,e,n,r){Eh(this,t,e,n,r)},yl.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=kl(i)?!!i.capture:!!i,r=Ph(r),e&&e[vh]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=wh(s=e.a[n],r,i,o))&&(mh(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Ah(e))&&(n=e.a[n.toString()],e=-1,n&&(e=wh(n,r,i,o)),(r=-1<e?n[e]:null)&&Oh(r))}(this,t,e,n,r)},yl.G=function(){if(Dh.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)mh(n[r]);delete e.a[t],e.b--}}this.C=null},yl.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},yl.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Lh=_l.JSON.stringify;function Mh(){this.b=this.a=null}var Fh,Uh=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new qh}),(function(t){t.reset()}));function Vh(){var t=Gh,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function qh(){this.next=this.b=this.a=null}function zh(t){_l.setTimeout((function(){throw t}),0)}function Bh(t,e){Fh||function(){var t=_l.Promise.resolve(void 0);Fh=function(){t.then(Wh)}}(),Hh||(Fh(),Hh=!0),Gh.add(t,e)}Mh.prototype.add=function(t,e){var n=Uh.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},qh.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},qh.prototype.reset=function(){this.next=this.b=this.a=null};var Hh=!1,Gh=new Mh;function Wh(){for(var t;t=Vh();){try{t.a.call(t.b)}catch(n){zh(n)}var e=Uh;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Hh=!1}function Kh(t,e){Dh.call(this),this.b=t||1,this.a=e||_l,this.f=Tl(this.Za,this),this.g=xl()}function Qh(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Jh(t,e,n){if("function"==typeof t)n&&(t=Tl(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Tl(t.handleEvent,t)}return 2147483647<Number(e)?-1:_l.setTimeout(t,e||0)}function Zh(t){t.a=Jh((function(){t.a=null,t.c&&(t.c=!1,Zh(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Al(Kh,Dh),(yl=Kh.prototype).aa=!1,yl.M=null,yl.Za=function(){if(this.aa){var t=xl()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Nh(this,"tick"),this.aa&&(Qh(this),this.start()))}},yl.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=xl())},yl.G=function(){Kh.X.G.call(this),Qh(this),delete this.a};var Yh=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}pl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Zh(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(_l.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(jl);function Xh(t){jl.call(this),this.b=t,this.a={}}Al(Xh,jl);var $h=[];function tf(t,e,n,r){Array.isArray(n)||(n&&($h[0]=n.toString()),n=$h);for(var i=0;i<n.length;i++){var o=Eh(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ef(t){Bl(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Oh(t)}),t),t.a={}}function nf(){this.a=!0}function rf(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Lh(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Xh.prototype.G=function(){Xh.X.G.call(this),ef(this)},Xh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},nf.prototype.info=function(){};var of={},sf=null;function af(){return sf=sf||new Dh}function uf(t){fh.call(this,of.Fa,t)}function cf(t){var e=af();Nh(e,new uf(e,t))}function lf(t,e){fh.call(this,of.STAT_EVENT,t),this.stat=e}function hf(t){var e=af();Nh(e,new lf(e,t))}function ff(t){fh.call(this,of.Ga,t)}function df(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return _l.setTimeout((function(){t()}),e)}of.Fa="serverreachability",Al(uf,fh),of.STAT_EVENT="statevent",Al(lf,fh),of.Ga="timingevent",Al(ff,fh);var pf={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},vf={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function yf(){}function gf(){}yf.prototype.a=null;var mf,_f={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function bf(){fh.call(this,"d")}function wf(){fh.call(this,"c")}function kf(){}function Cf(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Xh(this),this.P=Ef,this.R=new Kh(t=$l?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Al(bf,fh),Al(wf,fh),Al(kf,yf),mf=new kf;var Ef=45e3,Sf={},Of={};function Tf(t,e,n){t.H=1,t.i=Jf(Bf(e)),t.j=n,t.I=!0,If(t,null)}function If(t,e){t.u=xl(),jf(t),t.l=Bf(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),ud(n.b,"t",r),t.D=0,t.a=np(t.g,t.g.C?e:null),0<t.O&&(t.F=new Yh(Tl(t.Ca,t,t.a),t.O)),tf(t.J,t.a,"readystatechange",t.Xa),e=t.B?Hl(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),cf(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function xf(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Af(t,n);if(i==Of){4==e&&(t.h=4,hf(14),r=!1),rf(t.c,t.f,null,"[Incomplete Response]");break}if(i==Sf){t.h=4,hf(15),rf(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}rf(t.c,t.f,i,null),Lf(t,i)}4==e&&0==n.length&&(t.h=1,hf(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qd(e),e.F=!0,hf(11))):(rf(t.c,t.f,n,"[Invalid Chunked Response]"),Rf(t),Nf(t))}function Af(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Of:(n=Number(e.substring(n,r)),isNaN(n)?Sf:(r+=1)+n>e.length?Of:(e=e.substr(r,n),t.D=r+n,e))}function jf(t){t.T=xl()+t.P,Pf(t,t.P)}function Pf(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=df(Tl(t.Va,t),e)}function Df(t){t.o&&(_l.clearTimeout(t.o),t.o=null)}function Nf(t){0==t.g.v||t.A||Yd(t.g,t)}function Rf(t){Df(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Qh(t.R),ef(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Lf(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||vd(n.b,t)))if(n.I=t.N,!t.C&&vd(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(qC){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Zd(n),Ud(n)}Kd(n),hf(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=df(Tl(n.Sa,n),6e3));if(1>=pd(n.b)&&n.ea){try{n.ea()}catch(qC){}n.ea=void 0}}else $d(n,11)}else if((t.C||n.a==t)&&Zd(n),!Ll(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Ul(l,"spdy")||Ul(l,"quic")||Ul(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(yd(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Qf(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=xl()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=ep(u,u.C?u.ga:null,u.fa),d.C){gd(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(Df(p),jf(p)),u.a=d}else Wd(u);0<n.g.length&&zd(n)}else"stop"!=i[0]&&"close"!=i[0]||$d(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?$d(n,7):Fd(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);cf(4)}catch(qC){}}function Mf(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(wl(t)||"string"==typeof t)Dl(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(wl(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(wl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ff(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ff)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Uf(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Vf(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Vf(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Vf(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(yl=Cf.prototype).setTimeout=function(t){this.P=t},yl.Xa=function(t){t=t.target;var e=this.F;e&&3==Nd(t)?e.f():this.Ca(t)},yl.Ca=function(t){try{if(t==this.a)t:{var e=Nd(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!$l&&!this.a.$())){this.A||4!=e||7==n||cf(8==n||0>=r?3:2),Df(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ll(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,hf(12),Rf(this),Nf(this);break t}rf(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Lf(this,u)}this.I?(xf(this,e,o),$l&&this.b&&3==e&&(tf(this.J,this.R,"tick",this.Wa),this.R.start())):(rf(this.c,this.f,o,null),Lf(this,o)),4==e&&Rf(this),this.b&&!this.A&&(4==e?Yd(this.g,this):(this.b=!1,jf(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,hf(12)):(this.h=0,hf(13)),Rf(this),Nf(this)}}}catch(c){}},yl.Wa=function(){if(this.a){var t=Nd(this.a),e=this.a.$();this.D<e.length&&(Df(this),xf(this,t,e),this.b&&4!=t&&jf(this))}},yl.cancel=function(){this.A=!0,Rf(this)},yl.Va=function(){this.o=null;var t=xl();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(cf(3),hf(17)),Rf(this),this.h=2,Nf(this)):Pf(this,this.T-t)},(yl=Ff.prototype).K=function(){Uf(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},yl.L=function(){return Uf(this),this.a.concat()},yl.get=function(t,e){return Vf(this.b,t)?this.b[t]:e},yl.set=function(t,e){Vf(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},yl.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var qf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function zf(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof zf){this.a=void 0!==e?e:t.a,Hf(this,t.f),this.j=t.j,Gf(this,t.c),Wf(this,t.h),this.g=t.g,e=t.b;var n=new id;n.c=e.c,e.a&&(n.a=new Ff(e.a),n.b=e.b),Kf(this,n),this.i=t.i}else t&&(n=String(t).match(qf))?(this.a=!!e,Hf(this,n[1]||"",!0),this.j=Zf(n[2]||""),Gf(this,n[3]||"",!0),Wf(this,n[4]),this.g=Zf(n[5]||"",!0),Kf(this,n[6]||"",!0),this.i=Zf(n[7]||"")):(this.a=!!e,this.b=new id(null,this.a))}function Bf(t){return new zf(t)}function Hf(t,e,n){t.f=n?Zf(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Gf(t,e,n){t.c=n?Zf(e,!0):e}function Wf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Kf(t,e,n){e instanceof id?(t.b=e,function(t,e){e&&!t.f&&(od(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(sd(this,e),ud(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Yf(e,nd)),t.b=new id(e,t.a))}function Qf(t,e,n){t.b.set(e,n)}function Jf(t){return Qf(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^xl()).toString(36)),t}function Zf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Yf(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Xf),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Xf(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}zf.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Yf(e,$f,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Yf(e,$f,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Yf(n,"/"==n.charAt(0)?ed:td,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Yf(n,rd)),t.join("")};var $f=/[#\/\?@]/g,td=/[#\?:]/g,ed=/[#\?]/g,nd=/[#\?@]/g,rd=/#/g;function id(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function od(t){t.a||(t.a=new Ff,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function sd(t,e){od(t),e=cd(t,e),Vf(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Vf((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Uf(t)))}function ad(t,e){return od(t),e=cd(t,e),Vf(t.a.b,e)}function ud(t,e,n){sd(t,e),0<n.length&&(t.c=null,t.a.set(cd(t,e),Rl(n)),t.b+=n.length)}function cd(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(yl=id.prototype).add=function(t,e){od(this),this.c=null,t=cd(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},yl.forEach=function(t,e){od(this),this.a.forEach((function(n,r){Dl(n,(function(n){t.call(e,n,r,this)}),this)}),this)},yl.L=function(){od(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},yl.K=function(t){od(this);var e=[];if("string"==typeof t)ad(this,t)&&(e=Nl(e,this.a.get(cd(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Nl(e,t[n])}return e},yl.set=function(t,e){return od(this),this.c=null,ad(this,t=cd(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},yl.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},yl.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ld=function(t,e){this.b=t,this.a=e};function hd(t){this.g=t||fd,t=_l.PerformanceNavigationTiming?0<(t=_l.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(_l.ia&&_l.ia.ya&&_l.ia.ya()&&_l.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var fd=10;function dd(t){return!!t.b||!!t.a&&t.a.size>=t.f}function pd(t){return t.b?1:t.a?t.a.size:0}function vd(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function yd(t,e){t.a?t.a.add(e):t.b=e}function gd(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function md(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=vl(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Rl(t.c)}function _d(){}function bd(){this.a=new _d}function wd(t,e,n){var r=n||"";try{Mf(t,(function(t,n){var i=t;kl(t)&&(i=Lh(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function kd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}hd.prototype.cancel=function(){var t,e;if(this.c=md(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=vl(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},_d.prototype.stringify=function(t){return _l.JSON.stringify(t,void 0)},_d.prototype.parse=function(t){return _l.JSON.parse(t,void 0)};var Cd=_l.JSON.parse;function Ed(t){Dh.call(this),this.headers=new Ff,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Sd,this.D=this.F=!1}Al(Ed,Dh);var Sd="",Od=/^https?$/i,Td=["POST","PUT"];function Id(t){return"content-type"==t.toLowerCase()}function xd(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ad(t),Pd(t)}function Ad(t){t.u||(t.u=!0,Nh(t,"complete"),Nh(t,"error"))}function jd(t){if(t.b&&void 0!==ml&&(!t.s[1]||4!=Nd(t)||2!=t.W()))if(t.l&&4==Nd(t))Jh(t.za,0,t);else if(Nh(t,"readystatechange"),4==Nd(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(qf)[1]||null;if(!o&&_l.self&&_l.self.location){var s=_l.self.location.protocol;o=s.substr(0,s.length-1)}i=!Od.test(o?o.toLowerCase():"")}e=i}if(e)Nh(t,"complete"),Nh(t,"success");else{t.h=6;try{var a=2<Nd(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Ad(t)}}finally{Pd(t)}}}function Pd(t,e){if(t.a){Dd(t);var n=t.a,r=t.s[0]?bl:null;t.a=null,t.s=null,e||Nh(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function Dd(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(_l.clearTimeout(t.m),t.m=null)}function Nd(t){return t.a?t.a.readyState:0}function Rd(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Bl(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Qf(t,e,n))}function Ld(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Md(t){this.pa=0,this.g=[],this.c=new nf,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Ld("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Ld("baseRetryDelayMs",5e3,t),this.Ra=Ld("retryDelaySeedMs",1e4,t),this.Ma=Ld("forwardChannelMaxRetries",2,t),this.ma=Ld("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new hd(t&&t.concurrentRequestLimit),this.ka=new bd,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Fd(t){if(Vd(t),3==t.v){var e=t.R++,n=Bf(t.B);Qf(n,"SID",t.J),Qf(n,"RID",e),Qf(n,"TYPE","terminate"),Hd(t,n),(e=new Cf(t,t.c,e,void 0)).H=2,e.i=Jf(Bf(n)),n=!1,_l.navigator&&_l.navigator.sendBeacon&&(n=_l.navigator.sendBeacon(e.i.toString(),"")),!n&&_l.Image&&((new Image).src=e.i,n=!0),n||(e.a=np(e.g,null),e.a.ba(e.i)),e.u=xl(),jf(e)}tp(t)}function Ud(t){t.a&&(Qd(t),t.a.cancel(),t.a=null)}function Vd(t){Ud(t),t.j&&(_l.clearTimeout(t.j),t.j=null),Zd(t),t.b.cancel(),t.h&&("number"==typeof t.h&&_l.clearTimeout(t.h),t.h=null)}function qd(t,e){t.g.push(new ld(t.Oa++,e)),3==t.v&&zd(t)}function zd(t){dd(t.b)||t.h||(t.h=!0,Bh(t.Ba,t),t.u=0)}function Bd(t,e){var n;n=e?e.f:t.R++;var r=Bf(t.B);Qf(r,"SID",t.J),Qf(r,"RID",n),Qf(r,"AID",t.P),Hd(t,r),t.i&&t.l&&Rd(r,t.i,t.l),n=new Cf(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Gd(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),yd(t.b,n),Tf(n,r,e)}function Hd(t,e){t.f&&Mf({},(function(t,n){Qf(e,n,t)}))}function Gd(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Tl(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{wd(l,s,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Wd(t){t.a||t.j||(t.T=1,Bh(t.Aa,t),t.o=0)}function Kd(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=df(Tl(t.Aa,t),Xd(t,t.o)),t.o++,0))}function Qd(t){null!=t.s&&(_l.clearTimeout(t.s),t.s=null)}function Jd(t){t.a=new Cf(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Bf(t.la);Qf(e,"RID","rpc"),Qf(e,"SID",t.J),Qf(e,"CI",t.H?"0":"1"),Qf(e,"AID",t.P),Hd(t,e),Qf(e,"TYPE","xmlhttp"),t.i&&t.l&&Rd(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Jf(Bf(e)),n.j=null,n.I=!0,If(n,t)}function Zd(t){null!=t.m&&(_l.clearTimeout(t.m),t.m=null)}function Yd(t,e){var n=null;if(t.a==e){Zd(t),Qd(t),t.a=null;var r=2}else{if(!vd(t.b,e))return;n=e.s,gd(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=xl()-e.u;var i=t.u;Nh(r=af(),new ff(r,n,e,i)),zd(t)}else Wd(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(pd(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=df(Tl(t.Ba,t,e),Xd(t,t.u)),t.u++,0)))}(t,e)||2==r&&Kd(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:$d(t,5);break;case 4:$d(t,10);break;case 3:$d(t,6);break;default:$d(t,2)}}function Xd(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function $d(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Tl(t.Ya,t);n||(n=new zf("//www.google.com/images/cleardot.gif"),_l.location&&"http"==_l.location.protocol||Hf(n,"https"),Jf(n)),function(t,e){var n=new nf;if(_l.Image){var r=new Image;r.onload=Il(kd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Il(kd,n,r,"TestLoadImage: error",!1,e),r.onabort=Il(kd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Il(kd,n,r,"TestLoadImage: timeout",!1,e),_l.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else hf(2);t.v=0,t.f&&t.f.ra(e),tp(t),Vd(t)}function tp(t){t.v=0,t.I=-1,t.f&&(0==md(t.b).length&&0==t.g.length||(t.b.c.length=0,Rl(t.g),t.g.length=0),t.f.qa())}function ep(t,e,n){var r=function(t){return t instanceof zf?Bf(t):new zf(t,void 0)}(n);if(""!=r.c)e&&Gf(r,e+"."+r.c),Wf(r,r.h);else{var i=_l.location;r=function(t,e,n,r){var i=new zf(null,void 0);return t&&Hf(i,t),e&&Gf(i,e),n&&Wf(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Bl(t.V,(function(t,e){Qf(r,e,t)})),n=t.na,(e=t.A)&&n&&Qf(r,e,n),Qf(r,"VER",t.ha),Hd(t,r),r}function np(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ed(t.Na)).F=t.C,e}function rp(){}function ip(){if(Yl&&!(10<=Number(uh)))throw Error("Environmental error: no available transport.")}function op(t,e){Dh.call(this),this.a=new Md(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ll(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ll(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new up(this)}function sp(t){bf.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function ap(){wf.call(this),this.status=1}function up(t){this.a=t}(yl=Ed.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:mf),this.a.onreadystatechange=Tl(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void xd(this,o)}t=n||"";var i=new Ff(this.headers);r&&Mf(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Id,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=_l.FormData&&t instanceof _l.FormData,!(0<=Pl(Td,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Dd(this),0<this.o&&((this.D=function(t){return Yl&&ah(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Tl(this.xa,this)):this.m=Jh(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){xd(this,o)}},yl.xa=function(){void 0!==ml&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Nh(this,"timeout"),this.abort(8))},yl.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Nh(this,"complete"),Nh(this,"abort"),Pd(this))},yl.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Pd(this,!0)),Ed.X.G.call(this)},yl.za=function(){this.j||(this.A||this.l||this.g?jd(this):this.Ua())},yl.Ua=function(){jd(this)},yl.W=function(){try{return 2<Nd(this)?this.a.status:-1}catch(Jl){return-1}},yl.$=function(){try{return this.a?this.a.responseText:""}catch(Jl){return""}},yl.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Cd(e)}},yl.ua=function(){return this.h},yl.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(yl=Md.prototype).ha=8,yl.v=1,yl.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Cf(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Wl(r=Hl(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Gd(this,n,e),Qf(i=Bf(this.B),"RID",t),Qf(i,"CVER",22),this.A&&Qf(i,"X-HTTP-Session-Id",this.A),Hd(this,i),this.i&&r&&Rd(i,this.i,r),yd(this.b,n),this.Ia&&Qf(i,"TYPE","init"),this.da?(Qf(i,"$req",e),Qf(i,"SID","null"),n.U=!0,Tf(n,i,null)):Tf(n,i,e),this.v=2}}else 3==this.v&&(t?Bd(this,t):0==this.g.length||dd(this.b)||Bd(this))},yl.Aa=function(){if(this.j=null,Jd(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=df(Tl(this.Ta,this),t)}},yl.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,hf(10),Ud(this),Jd(this))},yl.Sa=function(){null!=this.m&&(this.m=null,Ud(this),Kd(this),hf(19))},yl.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),hf(2)):(this.c.info("Failed to ping google.com"),hf(1))},(yl=rp.prototype).ta=function(){},yl.sa=function(){},yl.ra=function(){},yl.qa=function(){},yl.Ja=function(){},ip.prototype.a=function(t,e){return new op(t,e)},Al(op,Dh),op.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;hf(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=ep(t,null,t.fa),zd(t)},op.prototype.close=function(){Fd(this.a)},op.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,qd(this.a,e)}else this.l?((e={}).__data__=Lh(t),qd(this.a,e)):qd(this.a,t)},op.prototype.G=function(){this.a.f=null,delete this.f,Fd(this.a),delete this.a,op.X.G.call(this)},Al(sp,bf),Al(ap,wf),Al(up,rp),up.prototype.ta=function(){Nh(this.a,"a")},up.prototype.sa=function(t){Nh(this.a,new sp(t))},up.prototype.ra=function(t){Nh(this.a,new ap(t))},up.prototype.qa=function(){Nh(this.a,"b")},ip.prototype.createWebChannel=ip.prototype.a,op.prototype.send=op.prototype.h,op.prototype.open=op.prototype.g,op.prototype.close=op.prototype.close,pf.NO_ERROR=0,pf.TIMEOUT=8,pf.HTTP_ERROR=6,vf.COMPLETE="complete",gf.EventType=_f,_f.OPEN="a",_f.CLOSE="b",_f.ERROR="c",_f.MESSAGE="d",Dh.prototype.listen=Dh.prototype.va,Ed.prototype.listenOnce=Ed.prototype.wa,Ed.prototype.getLastError=Ed.prototype.Qa,Ed.prototype.getLastErrorCode=Ed.prototype.ua,Ed.prototype.getStatus=Ed.prototype.W,Ed.prototype.getResponseJson=Ed.prototype.Pa,Ed.prototype.getResponseText=Ed.prototype.$,Ed.prototype.send=Ed.prototype.ba;var cp=pf,lp=vf,hp=of,fp=gf,dp=Ed,pp=n("/6Yf"),vp=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},yp=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),gp=function(){function t(t){this.uid=t}return t.prototype.u=function(){return null!=this.uid},t.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();gp.UNAUTHENTICATED=new gp(null),gp.l=new gp("google-credentials-uid"),gp._=new gp("first-party-uid");var mp=new fl.b("@firebase/firestore");function _p(){return mp.logLevel}function bp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(mp.logLevel<=fl.a.DEBUG){var r=e.map(Cp);mp.debug.apply(mp,Object(ll.g)(["Firestore (8.1.2): "+t],r))}}function wp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(mp.logLevel<=fl.a.ERROR){var r=e.map(Cp);mp.error.apply(mp,Object(ll.g)(["Firestore (8.1.2): "+t],r))}}function kp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(mp.logLevel<=fl.a.WARN){var r=e.map(Cp);mp.warn.apply(mp,Object(ll.g)(["Firestore (8.1.2): "+t],r))}}function Cp(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function Ep(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.1.2) INTERNAL ASSERTION FAILED: "+t;throw wp(e),new Error(e)}function Sp(t,e){t||Ep()}function Op(t,e){return t}var Tp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ip=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(ll.c)(e,t),e}(Error),xp=function(t,e){this.user=e,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+t},Ap=function(){function t(){this.I=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.m=function(){},t.prototype.A=function(t){this.I=t,t(gp.UNAUTHENTICATED)},t.prototype.R=function(){this.I=null},t}(),jp=function(){function t(t){var e=this;this.P=null,this.currentUser=gp.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){e.V++,e.currentUser=e.p(),e.g=!0,e.I&&e.I(e.currentUser)},this.V=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),t.get().then((function(t){e.auth=t,e.P&&e.auth.addAuthTokenListener(e.P)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.V!==e?(bp("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Sp("string"==typeof n.accessToken),new xp(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.m=function(){this.forceRefresh=!0},t.prototype.A=function(t){this.I=t,this.g&&t(this.currentUser)},t.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},t.prototype.p=function(){var t=this.auth&&this.auth.getUid();return Sp(null===t||"string"==typeof t),new gp(t)},t}(),Pp=function(){function t(t,e){this.v=t,this.S=e,this.type="FirstParty",this.user=gp._}return Object.defineProperty(t.prototype,"T",{get:function(){var t={"X-Goog-AuthUser":this.S},e=this.v.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Dp=function(){function t(t,e){this.v=t,this.S=e}return t.prototype.getToken=function(){return Promise.resolve(new Pp(this.v,this.S))},t.prototype.A=function(t){t(gp._)},t.prototype.R=function(){},t.prototype.m=function(){},t}();function Np(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Rp=function(){function t(){}return t.D=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Np(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Lp(t,e){return t<e?-1:t>e?1:0}function Mp(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Fp(t){return t+"\0"}var Up=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ip(Tp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ip(Tp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ip(Tp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ip(Tp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.C=function(t){return this.seconds===t.seconds?Lp(this.nanoseconds,t.nanoseconds):Lp(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Vp=function(){function t(t){this.timestamp=t}return t.N=function(e){return new t(e)},t.min=function(){return new t(new Up(0,0))},t.prototype.F=function(t){return this.timestamp.C(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t}(),qp=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ep(),void 0===n?n=t.length-e:n>t.length-e&&Ep(),this.segments=t,this.offset=e,this.k=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.$(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.L(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.B=function(t){return this.L(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},t.prototype.U=function(){return this.segments[this.offset]},t.prototype.K=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.W=function(){return 0===this.length},t.prototype.j=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.G=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},t.$=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),zp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ll.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.H().join("/")},e.prototype.toString=function(){return this.J()},e.Y=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Ip(Tp.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.X=function(){return new e([])},e}(qp),Bp=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Hp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ll.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.Z=function(t){return Bp.test(t)},e.prototype.J=function(){return this.H().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.Z(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},e.et=function(){return new e(["__name__"])},e.nt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ip(Tp.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Ip(Tp.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ip(Tp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ip(Tp.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.X=function(){return new e([])},e}(qp),Gp=function(){function t(t){this.path=t}return t.st=function(e){return new t(zp.Y(e))},t.it=function(e){return new t(zp.Y(e).B(5))},t.prototype.rt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===zp.$(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.$=function(t,e){return zp.$(t.path,e.path)},t.ot=function(t){return t.length%2==0},t.ct=function(e){return new t(new zp(e.slice()))},t}();function Wp(t){return null==t}function Kp(t){return 0===t&&1/t==-1/0}function Qp(t){return"number"==typeof t&&Number.isInteger(t)&&!Kp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Jp=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ut=null};function Zp(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Jp(t,e,n,r,i,o,s)}function Yp(t){var e=Op(t);if(null===e.ut){var n=e.path.J();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.J()+t.op.toString()+Gv(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.J()+t.dir}(t)})).join(","),Wp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Gg(e.startAt)),e.endAt&&(n+="|ub:",n+=Gg(e.endAt)),e.ut=n}return e.ut}function Xp(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Zg(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!qv(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Kg(t.startAt,e.startAt)&&Kg(t.endAt,e.endAt)}function $p(t){return Gp.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}var tv=function(){function t(t){this.at=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.at)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.at)},t.prototype.ht=function(){return 2*this.at.length},t.prototype.F=function(t){return Lp(this.at,t.at)},t.prototype.isEqual=function(t){return this.at===t.at},t}();tv.lt=new tv("");var ev,nv,rv=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Vp.min()),void 0===o&&(o=Vp.min()),void 0===s&&(s=tv.lt),this.target=t,this.targetId=e,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.dt=function(e){return new t(this.target,this.targetId,this._t,e,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.wt=function(e,n){return new t(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Et=function(e){return new t(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,e,this.resumeToken)},t}(),iv=function(t){this.count=t};function ov(t){switch(t){case Tp.OK:return Ep();case Tp.CANCELLED:case Tp.UNKNOWN:case Tp.DEADLINE_EXCEEDED:case Tp.RESOURCE_EXHAUSTED:case Tp.INTERNAL:case Tp.UNAVAILABLE:case Tp.UNAUTHENTICATED:return!1;case Tp.INVALID_ARGUMENT:case Tp.NOT_FOUND:case Tp.ALREADY_EXISTS:case Tp.PERMISSION_DENIED:case Tp.FAILED_PRECONDITION:case Tp.ABORTED:case Tp.OUT_OF_RANGE:case Tp.UNIMPLEMENTED:case Tp.DATA_LOSS:return!0;default:return Ep()}}function sv(t){if(void 0===t)return wp("GRPC error has no .code"),Tp.UNKNOWN;switch(t){case ev.OK:return Tp.OK;case ev.CANCELLED:return Tp.CANCELLED;case ev.UNKNOWN:return Tp.UNKNOWN;case ev.DEADLINE_EXCEEDED:return Tp.DEADLINE_EXCEEDED;case ev.RESOURCE_EXHAUSTED:return Tp.RESOURCE_EXHAUSTED;case ev.INTERNAL:return Tp.INTERNAL;case ev.UNAVAILABLE:return Tp.UNAVAILABLE;case ev.UNAUTHENTICATED:return Tp.UNAUTHENTICATED;case ev.INVALID_ARGUMENT:return Tp.INVALID_ARGUMENT;case ev.NOT_FOUND:return Tp.NOT_FOUND;case ev.ALREADY_EXISTS:return Tp.ALREADY_EXISTS;case ev.PERMISSION_DENIED:return Tp.PERMISSION_DENIED;case ev.FAILED_PRECONDITION:return Tp.FAILED_PRECONDITION;case ev.ABORTED:return Tp.ABORTED;case ev.OUT_OF_RANGE:return Tp.OUT_OF_RANGE;case ev.UNIMPLEMENTED:return Tp.UNIMPLEMENTED;case ev.DATA_LOSS:return Tp.DATA_LOSS;default:return Ep()}}(nv=ev||(ev={}))[nv.OK=0]="OK",nv[nv.CANCELLED=1]="CANCELLED",nv[nv.UNKNOWN=2]="UNKNOWN",nv[nv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nv[nv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nv[nv.NOT_FOUND=5]="NOT_FOUND",nv[nv.ALREADY_EXISTS=6]="ALREADY_EXISTS",nv[nv.PERMISSION_DENIED=7]="PERMISSION_DENIED",nv[nv.UNAUTHENTICATED=16]="UNAUTHENTICATED",nv[nv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nv[nv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nv[nv.ABORTED=10]="ABORTED",nv[nv.OUT_OF_RANGE=11]="OUT_OF_RANGE",nv[nv.UNIMPLEMENTED=12]="UNIMPLEMENTED",nv[nv.INTERNAL=13]="INTERNAL",nv[nv.UNAVAILABLE=14]="UNAVAILABLE",nv[nv.DATA_LOSS=15]="DATA_LOSS";var av=function(){function t(t,e){this.$=t,this.root=e||cv.EMPTY}return t.prototype.Tt=function(e,n){return new t(this.$,this.root.Tt(e,n,this.$).copy(null,null,cv.It,null,null))},t.prototype.remove=function(e){return new t(this.$,this.root.remove(e,this.$).copy(null,null,cv.It,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.W();){var n=this.$(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.W();){var r=this.$(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.W=function(){return this.root.W()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.At=function(){return this.root.At()},t.prototype.Rt=function(){return this.root.Rt()},t.prototype.Pt=function(t){return this.root.Pt(t)},t.prototype.forEach=function(t){this.Pt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Pt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.yt=function(){return new uv(this.root,null,this.$,!1)},t.prototype.Vt=function(t){return new uv(this.root,t,this.$,!1)},t.prototype.vt=function(){return new uv(this.root,null,this.$,!0)},t.prototype.bt=function(t){return new uv(this.root,t,this.$,!0)},t}(),uv=function(){function t(t,e,n,r){this.St=r,this.Dt=[];for(var i=1;!t.W();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.St?t.left:t.right;else{if(0===i){this.Dt.push(t);break}this.Dt.push(t),t=this.St?t.right:t.left}}return t.prototype.Ct=function(){var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.St)for(t=t.left;!t.W();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.W();)this.Dt.push(t),t=t.left;return e},t.prototype.Nt=function(){return this.Dt.length>0},t.prototype.xt=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),cv=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.W=function(){return!1},t.prototype.Pt=function(t){return this.left.Pt(t)||t(this.key,this.value)||this.right.Pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.W()?this:this.left.min()},t.prototype.At=function(){return this.min().key},t.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},t.prototype.Tt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Tt(t,e,n))).Ft()},t.prototype.Ot=function(){if(this.left.W())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.Ot(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(e,i.key)){if(i.right.W())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Bt()),t.left.Mt()&&t.left.left.Mt()&&(t=t.$t()),t.left.Mt()&&t.right.Mt()&&(t=t.qt()),t},t.prototype.kt=function(){var t=this.qt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.$t())).Bt()).qt()),t},t.prototype.Lt=function(){var t=this.qt();return t.left.left.Mt()&&(t=(t=t.$t()).qt()),t},t.prototype.Bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.$t=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.qt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.Qt();return Math.pow(2,t)<=this.size+1},t.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw Ep();if(this.right.Mt())throw Ep();var t=this.left.Qt();if(t!==this.right.Qt())throw Ep();return t+(this.Mt()?0:1)},t}();cv.EMPTY=null,cv.RED=!0,cv.It=!1,cv.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ep()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ep()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ep()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ep()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ep()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Tt=function(t,e,n){return new cv(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.W=function(){return!0},t.prototype.Pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.At=function(){return null},t.prototype.Rt=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.Qt=function(){return 0},t}());var lv=function(){function t(t){this.$=t,this.data=new av(this.$)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.At()},t.prototype.last=function(){return this.data.Rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pt((function(e,n){return t(e),!1}))},t.prototype.Kt=function(t,e){for(var n=this.data.Vt(t[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Wt=function(t,e){var n;for(n=void 0!==e?this.data.Vt(e):this.data.yt();n.Nt();)if(!t(n.Ct().key))return},t.prototype.jt=function(t){var e=this.data.Vt(t);return e.Nt()?e.Ct().key:null},t.prototype.yt=function(){return new hv(this.data.yt())},t.prototype.Vt=function(t){return new hv(this.data.Vt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Tt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.W=function(){return this.data.W()},t.prototype.Gt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),r=e.data.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(0!==this.$(i,o))return!1}return!0},t.prototype.H=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.$);return n.data=e,n},t}(),hv=function(){function t(t){this.zt=t}return t.prototype.Ct=function(){return this.zt.Ct().key},t.prototype.Nt=function(){return this.zt.Nt()},t}(),fv=new av(Gp.$);function dv(){return fv}function pv(){return dv()}var vv=new av(Gp.$);function yv(){return vv}var gv=new av(Gp.$),mv=new lv(Gp.$);function _v(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=mv,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var bv=new lv(Lp);function wv(){return bv}var kv=function(){function t(t){this.$=t?function(e,n){return t(e,n)||Gp.$(e.key,n.key)}:function(t,e){return Gp.$(t.key,e.key)},this.Ht=yv(),this.Jt=new av(this.$)}return t.Yt=function(e){return new t(e.$)},t.prototype.has=function(t){return null!=this.Ht.get(t)},t.prototype.get=function(t){return this.Ht.get(t)},t.prototype.first=function(){return this.Jt.At()},t.prototype.last=function(){return this.Jt.Rt()},t.prototype.W=function(){return this.Jt.W()},t.prototype.indexOf=function(t){var e=this.Ht.get(t);return e?this.Jt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Jt.Pt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ht.Tt(t.key,t),e.Jt.Tt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ht.remove(t),this.Jt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Jt.yt(),r=e.Jt.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.$=this.$,r.Ht=e,r.Jt=n,r},t}(),Cv=function(){function t(){this.Xt=new av(Gp.$)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Xt.get(e);n?0!==t.type&&3===n.type?this.Xt=this.Xt.Tt(e,t):3===t.type&&1!==n.type?this.Xt=this.Xt.Tt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Xt=this.Xt.Tt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Xt=this.Xt.remove(e):1===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):Ep():this.Xt=this.Xt.Tt(e,t)},t.prototype.Zt=function(){var t=[];return this.Xt.Pt((function(e,n){t.push(n)})),t},t}(),Ev=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=o,this.ne=s,this.se=a}return t.ie=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,kv.Yt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ne===t.ne&&this.ee.isEqual(t.ee)&&Ag(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.te.isEqual(t.te)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Sv=function(){function t(t,e,n,r,i){this.ft=t,this.re=e,this.oe=n,this.ce=r,this.ue=i}return t.ae=function(e,n){var r=new Map;return r.set(e,Ov.he(e,n)),new t(Vp.min(),r,wv(),dv(),_v())},t}(),Ov=function(){function t(t,e,n,r,i){this.resumeToken=t,this.le=e,this._e=n,this.fe=r,this.de=i}return t.he=function(e,n){return new t(tv.lt,n,_v(),_v(),_v())},t}(),Tv=function(t,e,n,r){this.we=t,this.removedTargetIds=e,this.key=n,this.Ee=r},Iv=function(t,e){this.targetId=t,this.Te=e},xv=function(t,e,n,r){void 0===n&&(n=tv.lt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Av=function(){function t(){this.Ie=0,this.me=Dv(),this.Ae=tv.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(t.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),t.prototype.Ve=function(t){t.ht()>0&&(this.Pe=!0,this.Ae=t)},t.prototype.pe=function(){var t=_v(),e=_v(),n=_v();return this.me.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ep()}})),new Ov(this.Ae,this.Re,t,e,n)},t.prototype.ve=function(){this.Pe=!1,this.me=Dv()},t.prototype.be=function(t,e){this.Pe=!0,this.me=this.me.Tt(t,e)},t.prototype.Se=function(t){this.Pe=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.Ie+=1},t.prototype.Ce=function(){this.Ie-=1},t.prototype.Ne=function(){this.Pe=!0,this.Re=!0},t}(),jv=function(){function t(t){this.xe=t,this.Fe=new Map,this.Oe=dv(),this.Me=Pv(),this.ke=new lv(Lp)}return t.prototype.$e=function(t){for(var e=0,n=t.we;e<n.length;e++){var r=n[e];t.Ee instanceof yg?this.Le(r,t.Ee):t.Ee instanceof gg&&this.Be(r,t.key,t.Ee)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Be(o[i],t.key,t.Ee)},t.prototype.qe=function(t){var e=this;this.Ue(t,(function(n){var r=e.Qe(n);switch(t.state){case 0:e.Ke(n)&&r.Ve(t.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(t.resumeToken);break;case 2:r.Ce(),r.ge||e.removeTarget(n);break;case 3:e.Ke(n)&&(r.Ne(),r.Ve(t.resumeToken));break;case 4:e.Ke(n)&&(e.We(n),r.Ve(t.resumeToken));break;default:Ep()}}))},t.prototype.Ue=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fe.forEach((function(t,r){n.Ke(r)&&e(r)}))},t.prototype.je=function(t){var e=t.targetId,n=t.Te.count,r=this.Ge(e);if(r){var i=r.target;if($p(i))if(0===n){var o=new Gp(i.path);this.Be(e,o,new gg(o,Vp.min()))}else Sp(1===n);else this.ze(e)!==n&&(this.We(e),this.ke=this.ke.add(e))}},t.prototype.He=function(t){var e=this,n=new Map;this.Fe.forEach((function(r,i){var o=e.Ge(i);if(o){if(r.le&&$p(o.target)){var s=new Gp(o.target.path);null!==e.Oe.get(s)||e.Je(i,s)||e.Be(i,s,new gg(s,t))}r.ye&&(n.set(i,r.pe()),r.ve())}}));var r=_v();this.Me.forEach((function(t,n){var i=!0;n.Wt((function(t){var n=e.Ge(t);return!n||2===n._t||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Sv(t,n,this.ke,this.Oe,r);return this.Oe=dv(),this.Me=Pv(),this.ke=new lv(Lp),i},t.prototype.Le=function(t,e){if(this.Ke(t)){var n=this.Je(t,e.key)?2:0;this.Qe(t).be(e.key,n),this.Oe=this.Oe.Tt(e.key,e),this.Me=this.Me.Tt(e.key,this.Ye(e.key).add(t))}},t.prototype.Be=function(t,e,n){if(this.Ke(t)){var r=this.Qe(t);this.Je(t,e)?r.be(e,1):r.Se(e),this.Me=this.Me.Tt(e,this.Ye(e).delete(t)),n&&(this.Oe=this.Oe.Tt(e,n))}},t.prototype.removeTarget=function(t){this.Fe.delete(t)},t.prototype.ze=function(t){var e=this.Qe(t).pe();return this.xe.Xe(t).size+e._e.size-e.de.size},t.prototype.De=function(t){this.Qe(t).De()},t.prototype.Qe=function(t){var e=this.Fe.get(t);return e||(e=new Av,this.Fe.set(t,e)),e},t.prototype.Ye=function(t){var e=this.Me.get(t);return e||(e=new lv(Lp),this.Me=this.Me.Tt(t,e)),e},t.prototype.Ke=function(t){var e=null!==this.Ge(t);return e||bp("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.Fe.get(t);return e&&e.ge?null:this.xe.Ze(t)},t.prototype.We=function(t){var e=this;this.Fe.set(t,new Av),this.xe.Xe(t).forEach((function(n){e.Be(t,n,null)}))},t.prototype.Je=function(t,e){return this.xe.Xe(t).has(e)},t}();function Pv(){return new av(Gp.$)}function Dv(){return new av(Gp.$)}function Nv(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Rv(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Lv(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mv(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Fv(t){var e=Wv(t.mapValue.fields.__local_write_time__.timestampValue);return new Up(e.seconds,e.nanos)}var Uv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vv(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mv(t)?4:10:Ep()}function qv(t,e){var n=Vv(t);if(n!==Vv(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fv(t).isEqual(Fv(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Wv(t.timestampValue),r=Wv(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Qv(t.bytesValue).isEqual(Qv(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Kv(t.geoPointValue.latitude)===Kv(e.geoPointValue.latitude)&&Kv(t.geoPointValue.longitude)===Kv(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Kv(t.integerValue)===Kv(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Kv(t.doubleValue),r=Kv(e.doubleValue);return n===r?Kp(n)===Kp(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Mp(t.arrayValue.values||[],e.arrayValue.values||[],qv);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Nv(n)!==Nv(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!qv(n[i],r[i])))return!1;return!0}(t,e);default:return Ep()}}function zv(t,e){return void 0!==(t.values||[]).find((function(t){return qv(t,e)}))}function Bv(t,e){var n=Vv(t),r=Vv(e);if(n!==r)return Lp(n,r);switch(n){case 0:return 0;case 1:return Lp(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Kv(t.integerValue||t.doubleValue),r=Kv(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Hv(t.timestampValue,e.timestampValue);case 4:return Hv(Fv(t),Fv(e));case 5:return Lp(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Qv(t),r=Qv(e);return n.F(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Lp(n[i],r[i]);if(0!==o)return o}return Lp(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Lp(Kv(t.latitude),Kv(e.latitude));return 0!==n?n:Lp(Kv(t.longitude),Kv(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Bv(n[i],r[i]);if(o)return o}return Lp(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Lp(r[s],o[s]);if(0!==a)return a;var u=Bv(n[r[s]],i[o[s]]);if(0!==u)return u}return Lp(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Ep()}}function Hv(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Lp(t,e);var n=Wv(t),r=Wv(e),i=Lp(n.seconds,r.seconds);return 0!==i?i:Lp(n.nanos,r.nanos)}function Gv(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Wv(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Qv(e.bytesValue).toBase64():"referenceValue"in e?Gp.it(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):Ep();var n}(t)}function Wv(t){if(Sp(!!t),"string"==typeof t){var e=0,n=Uv.exec(t);if(Sp(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Kv(t.seconds),nanos:Kv(t.nanos)}}function Kv(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Qv(t){return"string"==typeof t?tv.fromBase64String(t):tv.fromUint8Array(t)}function Jv(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function Zv(t){return!!t&&"integerValue"in t}function Yv(t){return!!t&&"arrayValue"in t}function Xv(t){return!!t&&"nullValue"in t}function $v(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ty(t){return!!t&&"mapValue"in t}var ey={asc:"ASCENDING",desc:"DESCENDING"},ny={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ry=function(t,e){this.t=t,this.tn=e};function iy(t){return{integerValue:""+t}}function oy(t,e){if(t.tn){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kp(e)?"-0":e}}function sy(t,e){return Qp(e)?iy(e):oy(t,e)}function ay(t,e){return t.tn?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function uy(t,e){return t.tn?e.toBase64():e.toUint8Array()}function cy(t,e){return ay(t,e.M())}function ly(t){return Sp(!!t),Vp.N(function(t){var e=Wv(t);return new Up(e.seconds,e.nanos)}(t))}function hy(t,e){return function(t){return new zp(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).J()}function fy(t){var e=zp.Y(t);return Sp(Ny(e)),e}function dy(t,e){return hy(t.t,e.path)}function py(t,e){var n=fy(e);if(n.get(1)!==t.t.projectId)throw new Ip(Tp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Ip(Tp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Gp(my(n))}function vy(t,e){return hy(t.t,e)}function yy(t){var e=fy(t);return 4===e.length?zp.X():my(e)}function gy(t){return new zp(["projects",t.t.projectId,"databases",t.t.database]).J()}function my(t){return Sp(t.length>4&&"documents"===t.get(4)),t.B(5)}function _y(t,e,n){return{name:dy(t,e),fields:n.proto.mapValue.fields}}function by(t,e){var n;if(e instanceof ig)n={update:_y(t,e.key,e.value)};else if(e instanceof lg)n={delete:dy(t,e.key)};else if(e instanceof og)n={update:_y(t,e.key,e.data),updateMask:Dy(e.en)};else if(e instanceof ag)n={transform:{document:dy(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Uy)return{fieldPath:e.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof Vy)return{fieldPath:e.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof zy)return{fieldPath:e.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof Hy)return{fieldPath:e.field.J(),increment:n.nn};throw Ep()}(0,t)}))}};else{if(!(e instanceof hg))return Ep();n={verify:dy(t,e.key)}}return e.rn.sn||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:cy(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ep()}(t,e.rn)),n}function wy(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Zy.updateTime(ly(t.updateTime)):void 0!==t.exists?Zy.exists(t.exists):Zy.on()}(e.currentDocument):Zy.on();if(e.update){var r=py(t,e.update.name),i=new fg({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Ky((t.fieldPaths||[]).map((function(t){return Hp.nt(t)})))}(e.updateMask);return new og(r,i,o,n)}return new ig(r,i,n)}if(e.delete){var s=py(t,e.delete);return new lg(s,n)}if(e.transform){var a=py(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(Sp("REQUEST_TIME"===e.setToServerValue),n=new Uy):"appendMissingElements"in e?n=new Vy(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new zy(e.removeAllFromArray.values||[]):"increment"in e?n=new Hy(t,e.increment):Ep();var r=Hp.nt(e.fieldPath);return new Qy(r,n)}(t,e)}));return Sp(!0===n.exists),new ag(a,u)}if(e.verify){var c=py(t,e.verify);return new hg(c,n)}return Ep()}function ky(t,e){return{documents:[vy(t,e.path)]}}function Cy(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=vy(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=vy(t,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if($v(t.value))return{unaryFilter:{field:xy(t.field),op:"IS_NAN"}};if(Xv(t.value))return{unaryFilter:{field:xy(t.field),op:"IS_NULL"}}}else if("!="===t.op){if($v(t.value))return{unaryFilter:{field:xy(t.field),op:"IS_NOT_NAN"}};if(Xv(t.value))return{unaryFilter:{field:xy(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xy(t.field),op:Iy(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:xy(t.field),direction:Ty(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.tn||Wp(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Sy(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Sy(e.endAt)),n}function Ey(t){var e=yy(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Sp(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[Py(e)]:void 0!==e.fieldFilter?[jy(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Ep():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Qg(Ay(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Wp(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Oy(n.startAt));var l=null;return n.endAt&&(l=Oy(n.endAt)),bg(e,i,a,s,u,"F",c,l)}function Sy(t){return{before:t.before,values:t.position}}function Oy(t){return new Hg(t.values||[],!!t.before)}function Ty(t){return ey[t]}function Iy(t){return ny[t]}function xy(t){return{fieldPath:t.J()}}function Ay(t){return Hp.nt(t.fieldPath)}function jy(t){return Rg.create(Ay(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ep()}}(t.fieldFilter.op),t.fieldFilter.value)}function Py(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ay(t.unaryFilter.field);return Rg.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ay(t.unaryFilter.field);return Rg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ay(t.unaryFilter.field);return Rg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ay(t.unaryFilter.field);return Rg.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ep()}}function Dy(t){var e=[];return t.fields.forEach((function(t){return e.push(t.J())})),{fieldPaths:e}}function Ny(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Ry=function(){this.cn=void 0};function Ly(t,e,n){return t instanceof Uy?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Vy?qy(t,e):t instanceof zy?By(t,e):function(t,e){var n=Fy(t,e),r=Gy(n)+Gy(t.nn);return Zv(n)&&Zv(t.nn)?iy(r):oy(t.serializer,r)}(t,e)}function My(t,e,n){return t instanceof Vy?qy(t,e):t instanceof zy?By(t,e):n}function Fy(t,e){return t instanceof Hy?Zv(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Uy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ll.c)(e,t),e}(Ry),Vy=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ll.c)(e,t),e}(Ry);function qy(t,e){for(var n=Wy(e),r=function(t){n.some((function(e){return qv(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var zy=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ll.c)(e,t),e}(Ry);function By(t,e){for(var n=Wy(e),r=function(t){n=n.filter((function(e){return!qv(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Hy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.nn=n,r}return Object(ll.c)(e,t),e}(Ry);function Gy(t){return Kv(t.integerValue||t.doubleValue)}function Wy(t){return Yv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ky=function(){function t(t){this.fields=t,t.sort(Hp.$)}return t.prototype.un=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].j(t))return!0;return!1},t.prototype.isEqual=function(t){return Mp(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Qy=function(t,e){this.field=t,this.transform=e},Jy=function(t,e){this.version=t,this.transformResults=e},Zy=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.on=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Yy(t,e){return void 0!==t.updateTime?e instanceof yg&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof yg}var Xy=function(){};function $y(t,e,n){return t instanceof ig?function(t,e,n){return new yg(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof og?function(t,e,n){if(!Yy(t.rn,e))return new mg(t.key,n.version);var r=sg(t,e);return new yg(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof ag?function(t,e,n){if(Sp(null!=n.transformResults),!Yy(t.rn,e))return new mg(t.key,n.version);var r=ug(0,e),i=function(t,e,n){var r=[];Sp(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof yg&&(a=e.field(o.field)),r.push(My(s,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=cg(t,r.data(),i);return new yg(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new gg(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function tg(t,e,n,r){return t instanceof ig?function(t,e){if(!Yy(t.rn,e))return e;var n=rg(e);return new yg(t.key,n,t.value,{an:!0})}(t,e):t instanceof og?function(t,e){if(!Yy(t.rn,e))return e;var n=rg(e),r=sg(t,e);return new yg(t.key,n,r,{an:!0})}(t,e):t instanceof ag?function(t,e,n,r){if(!Yy(t.rn,e))return e;var i=ug(0,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof yg&&(c=n.field(a.field)),null===c&&r instanceof yg&&(c=r.field(a.field)),i.push(Ly(u,c,e))}return i}(t.fieldTransforms,n,e,r),s=cg(t,i.data(),o);return new yg(t.key,i.version,s,{an:!0})}(t,e,r,n):function(t,e){return Yy(t.rn,e)?new gg(t.key,Vp.min()):e}(t,e)}function eg(t,e){return t instanceof ag?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof yg?e.field(o.field):void 0,a=Fy(o.transform,s||null);null!=a&&(n=null==n?(new dg).set(o.field,a):n.set(o.field,a))}return n?n.hn():null}(t,e):null}function ng(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.rn.isEqual(e.rn)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.en.isEqual(e.en):2!==t.type||Mp(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Vy&&e instanceof Vy||t instanceof zy&&e instanceof zy?Mp(t.elements,e.elements,qv):t instanceof Hy&&e instanceof Hy?qv(t.nn,e.nn):t instanceof Uy&&e instanceof Uy}(t.transform,e.transform)}(t,e)})))}function rg(t){return t instanceof yg?t.version:Vp.min()}var ig=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.rn=r,i.type=0,i}return Object(ll.c)(e,t),e}(Xy),og=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.en=r,o.rn=i,o.type=1,o}return Object(ll.c)(e,t),e}(Xy);function sg(t,e){return function(t,e){var n=new dg(e);return t.en.fields.forEach((function(e){if(!e.W()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.hn()}(t,e instanceof yg?e.data():fg.empty())}var ag=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.rn=Zy.exists(!0),r}return Object(ll.c)(e,t),e}(Xy);function ug(t,e){return e}function cg(t,e,n){for(var r=new dg(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.hn()}var lg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=3,r}return Object(ll.c)(e,t),e}(Xy),hg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=4,r}return Object(ll.c)(e,t),e}(Xy),fg=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.W())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!ty(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.K()])||null},t.prototype.isEqual=function(t){return qv(this.proto,t.proto)},t}(),dg=function(){function t(t){void 0===t&&(t=fg.empty()),this.ln=t,this._n=new Map}return t.prototype.set=function(t,e){return this.fn(t,e),this},t.prototype.delete=function(t){return this.fn(t,null),this},t.prototype.fn=function(t,e){for(var n=this._n,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Vv(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.K(),e)},t.prototype.hn=function(){var t=this.dn(Hp.X(),this._n);return null!=t?new fg(t):this.ln},t.prototype.dn=function(t,e){var n=this,r=!1,i=this.ln.field(t),o=ty(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.dn(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function pg(t){var e=[];return Rv(t.fields||{},(function(t,n){var r=new Hp([t]);if(ty(n)){var i=pg(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new Ky(e)}var vg=function(t,e){this.key=t,this.version=e},yg=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).wn=r,o.an=!!i.an,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(ll.c)(e,t),e.prototype.field=function(t){return this.wn.field(t)},e.prototype.data=function(){return this.wn},e.prototype.En=function(){return this.wn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.an===t.an&&this.hasCommittedMutations===t.hasCommittedMutations&&this.wn.isEqual(t.wn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(vg),gg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(ll.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(vg),mg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ll.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(vg),_g=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Tn=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.In=null,this.mn=null};function bg(t,e,n,r,i,o,s,a){return new _g(t,e,n,r,i,o,s,a)}function wg(t){return new _g(t)}function kg(t){return!Wp(t.limit)&&"F"===t.limitType}function Cg(t){return!Wp(t.limit)&&"L"===t.limitType}function Eg(t){return t.Tn.length>0?t.Tn[0].field:null}function Sg(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.An())return r.field}return null}function Og(t){return null!==t.collectionGroup}function Tg(t){var e=Op(t);if(null===e.In){e.In=[];var n=Sg(e),r=Eg(e);if(null!==n&&null===r)n.tt()||e.In.push(new Qg(n)),e.In.push(new Qg(Hp.et(),"asc"));else{for(var i=!1,o=0,s=e.Tn;o<s.length;o++){var a=s[o];e.In.push(a),a.field.tt()&&(i=!0)}if(!i){var u=e.Tn.length>0?e.Tn[e.Tn.length-1].dir:"asc";e.In.push(new Qg(Hp.et(),u))}}}return e.In}function Ig(t){var e=Op(t);if(!e.mn)if("F"===e.limitType)e.mn=Zp(e.path,e.collectionGroup,Tg(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Tg(e);r<i.length;r++){var o=i[r];n.push(new Qg(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Hg(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Hg(e.startAt.position,!e.startAt.before):null;e.mn=Zp(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.mn}function xg(t,e,n){return new _g(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ag(t,e){return Xp(Ig(t),Ig(e))&&t.limitType===e.limitType}function jg(t){return Yp(Ig(t))+"|lt:"+t.limitType}function Pg(t){return"Query(target="+function(t){var e=t.path.J();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.J()+" "+e.op+" "+Gv(e.value);var e})).join(", ")+"]"),Wp(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.J()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Gg(t.startAt)),t.endAt&&(e+=", endAt: "+Gg(t.endAt)),"Target("+e+")"}(Ig(t))+"; limitType="+t.limitType+")"}function Dg(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.rt(t.collectionGroup)&&t.path.j(n):Gp.ot(t.path)?t.path.isEqual(n):t.path.G(n)}(t,e)&&function(t,e){for(var n=0,r=t.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Wg(t.startAt,Tg(t),e)||t.endAt&&Wg(t.endAt,Tg(t),e))}(t,e)}function Ng(t){return function(e,n){for(var r=!1,i=0,o=Tg(t);i<o.length;i++){var s=o[i],a=Jg(s,e,n);if(0!==a)return a;r=r||s.field.tt()}return 0}}var Rg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(ll.c)(e,t),e.create=function(t,n,r){return t.tt()?"in"===n||"not-in"===n?this.Rn(t,n,r):new Lg(t,n,r):"array-contains"===n?new Vg(t,r):"in"===n?new qg(t,r):"not-in"===n?new zg(t,r):"array-contains-any"===n?new Bg(t,r):new e(t,n,r)},e.Rn=function(t,e,n){return"in"===e?new Mg(t,n):new Fg(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Pn(Bv(e,this.value)):null!==e&&Vv(this.value)===Vv(e)&&this.Pn(Bv(e,this.value))},e.prototype.Pn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ep()}},e.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Lg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Gp.it(r.referenceValue),i}return Object(ll.c)(e,t),e.prototype.matches=function(t){var e=Gp.$(t.key,this.key);return this.Pn(e)},e}(Rg),Mg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ug(0,n),r}return Object(ll.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Rg),Fg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ug(0,n),r}return Object(ll.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Rg);function Ug(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Gp.it(t.referenceValue)}))}var Vg=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(ll.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Yv(e)&&zv(e.arrayValue,this.value)},e}(Rg),qg=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(ll.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&zv(this.value.arrayValue,e)},e}(Rg),zg=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(ll.c)(e,t),e.prototype.matches=function(t){if(zv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!zv(this.value.arrayValue,e)},e}(Rg),Bg=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(ll.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Yv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return zv(e.value.arrayValue,t)}))},e}(Rg),Hg=function(t,e){this.position=t,this.before=e};function Gg(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Gv(t)})).join(",")}function Wg(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.tt()?Gp.$(Gp.it(s.referenceValue),n.key):Bv(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Kg(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!qv(t.position[n],e.position[n]))return!1;return!0}var Qg=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Jg(t,e,n){var r=t.field.tt()?Gp.$(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Bv(r,i):Ep()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ep()}}function Zg(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Yg=function(){function t(t,e,n,r){this.batchId=t,this.gn=e,this.baseMutations=n,this.mutations=r}return t.prototype.yn=function(t,e,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=$y(o,e,r[i]))}return e},t.prototype.pn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=tg(i,e,e,this.gn))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=tg(u,e,o,this.gn))}return e},t.prototype.vn=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.pn(r.key,t.get(r.key));i&&(n=n.Tt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),_v())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Mp(this.mutations,t.mutations,(function(t,e){return ng(t,e)}))&&Mp(this.baseMutations,t.baseMutations,(function(t,e){return ng(t,e)}))},t}(),Xg=function(){function t(t,e,n,r){this.batch=t,this.bn=e,this.Vn=n,this.Sn=r}return t.from=function(e,n,r){Sp(e.mutations.length===r.length);for(var i=gv,o=e.mutations,s=0;s<o.length;s++)i=i.Tt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),$g=function(){function t(t,e){this.Dn=t,this.Cn=e,this.Nn={}}return t.prototype.get=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.Cn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Dn(t),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.Nn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],t))return 1===n.length?delete this.Nn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Rv(this.Nn,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.W=function(){return Lv(this.Nn)},t}(),tm=function(){function t(t){var e=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,t((function(t){e.On=!0,e.result=t,e.xn&&e.xn(t)}),(function(t){e.On=!0,e.error=t,e.Fn&&e.Fn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Mn&&Ep(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(e,this.result):new t((function(t,i){r.xn=function(n){r.$n(e,n).next(t,i)},r.Fn=function(e){r.kn(n,e).next(t,i)}}))},t.prototype.Ln=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.$n=function(e,n){return e?this.Bn((function(){return e(n)})):t.resolve(n)},t.prototype.kn=function(e,n){return e?this.Bn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.qn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Un=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.qn(r)},t}(),em=function(){function t(){this.Qn=new $g((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Kn=!1}return t.prototype.Wn=function(t){var e=this.Qn.get(t);return e?e.readTime:Vp.min()},t.prototype.jn=function(t,e){this.Gn(),this.Qn.set(t.key,{zn:t,readTime:e})},t.prototype.Hn=function(t,e){void 0===e&&(e=null),this.Gn(),this.Qn.set(t,{zn:null,readTime:e})},t.prototype.Jn=function(t,e){this.Gn();var n=this.Qn.get(e);return void 0!==n?tm.resolve(n.zn):this.Yn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.Gn(),this.Kn=!0,this.Zn(t)},t.prototype.Gn=function(){},t}(),nm=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function rm(t){return new ry(t,!0)}function im(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var om="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sm=function(){function t(){this.ts=[]}return t.prototype.es=function(t){this.ts.push(t)},t.prototype.ns=function(){this.ts.forEach((function(t){return t()}))},t}(),am=function(){function t(t,e,n){this.ss=t,this.rs=e,this.os=n}return t.prototype.cs=function(t,e){var n=this;return this.rs.us(t,e).next((function(r){return n.hs(t,e,r)}))},t.prototype.hs=function(t,e,n){return this.ss.Jn(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].pn(e,t);return t}))},t.prototype.ls=function(t,e,n){var r=pv();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].pn(t,e);r=r.Tt(t,e)})),r},t.prototype._s=function(t,e){var n=this;return this.ss.getEntries(t,e).next((function(e){return n.fs(t,e)}))},t.prototype.fs=function(t,e){var n=this;return this.rs.ds(t,e).next((function(r){var i=n.ls(t,e,r),o=dv();return i.forEach((function(t,e){e||(e=new gg(t,Vp.min())),o=o.Tt(t,e)})),o}))},t.prototype.ws=function(t,e,n){return function(t){return Gp.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Es(t,e.path):Og(e)?this.Ts(t,e,n):this.Is(t,e,n)},t.prototype.Es=function(t,e){return this.cs(t,new Gp(e)).next((function(t){var e=yv();return t instanceof yg&&(e=e.Tt(t.key,t)),e}))},t.prototype.Ts=function(t,e,n){var r=this,i=e.collectionGroup,o=yv();return this.os.As(t,i).next((function(s){return tm.forEach(s,(function(s){var a=function(t,e){return new _g(e,null,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.Is(t,a,n).next((function(t){t.forEach((function(t,e){o=o.Tt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Is=function(t,e,n){var r,i,o=this;return this.ss.ws(t,e,n).next((function(n){return r=n,o.rs.Rs(t,e)})).next((function(e){return o.Ps(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=tg(u,l,l,o.gn);r=h instanceof yg?r.Tt(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Dg(e,n)||(r=r.remove(t))})),r}))},t.prototype.Ps=function(t,e,n){for(var r=_v(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof og&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ss.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof yg&&(c=c.Tt(t,e))})),c}))},t}(),um=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.gs=n,this.ys=r}return t.Vs=function(e,n){for(var r=_v(),i=_v(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),cm=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ps=function(t){return n.vs(t)},this.bs=function(t){return e.Ss(t)})}return t.prototype.vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.bs&&this.bs(t),t},t}();cm.Ds=-1;var lm=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=t,this.Ns=e,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ms=0},t.prototype.Ls=function(){this.Ms=this.Os},t.prototype.Bs=function(t){var e=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&bp("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ks=this.Cs.Us(this.Ns,i,(function(){return e.$s=Date.now(),t()})),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},t.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},t.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},t.prototype.qs=function(){return(Math.random()-.5)*this.Ms},t}(),hm=function(){function t(e,n,r){this.name=e,this.version=n,this.Ws=r,12.2===t.js(Object(dl.g)())&&wp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return bp("SimpleDb","Removing database:",t),gm(window.indexedDB.deleteDatabase(t)).Ln()},t.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(t.zs())return!0;var e=Object(dl.g)(),n=t.js(e),r=0<n&&n<10,i=t.Hs(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.zs=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Js)},t.Ys=function(t,e){return t.store(e)},t.js=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Hs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Xs=function(t){return Object(ll.b)(this,void 0,void 0,(function(){var e,n=this;return Object(ll.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(bp("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new dm(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Ip(Tp.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new dm(t,n))},i.onupgradeneeded=function(t){bp("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Ws.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){bp("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(t){return n.Zs(t)}),this.db)]}}))}))},t.prototype.ti=function(t){this.Zs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(ll.b)(this,void 0,void 0,(function(){var i,o,s,a,u;return Object(ll.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(ll.d)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Xs(t)];case 2:return a.db=h.sent(),e=vm.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),tm.reject(t)})).Ln(),u={},s.catch((function(){})),[4,e.ei];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return bp("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),fm=function(){function t(t){this.ni=t,this.si=!1,this.ii=null}return Object.defineProperty(t.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ni=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.si=!0},t.prototype.oi=function(t){this.ii=t},t.prototype.delete=function(){return gm(this.ni.delete())},t}(),dm=function(t){function e(e,n){var r=this;return(r=t.call(this,Tp.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(ll.c)(e,t),e}(Ip);function pm(t){return"IndexedDbTransactionError"===t.name}var vm=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ci=new nm,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){e.error?n.ci.reject(new dm(t,e.error)):n.ci.resolve()},this.transaction.onerror=function(e){var r=_m(e.target.error);n.ci.reject(new dm(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new dm(n,e)}},Object.defineProperty(t.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ci.reject(t),this.aborted||(bp("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ym(e)},t}(),ym=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(bp("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(bp("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),gm(n)},t.prototype.add=function(t){return bp("SimpleDb","ADD",this.store.name,t,t),gm(this.store.add(t))},t.prototype.get=function(t){var e=this;return gm(this.store.get(t)).next((function(n){return void 0===n&&(n=null),bp("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return bp("SimpleDb","DELETE",this.store.name,t),gm(this.store.delete(t))},t.prototype.count=function(){return bp("SimpleDb","COUNT",this.store.name),gm(this.store.count())},t.prototype.ui=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ai(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.hi=function(t,e){bp("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.li=!1;var r=this.cursor(n);return this.ai(r,(function(t,e,n){return n.delete()}))},t.prototype._i=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ai(r,e)},t.prototype.fi=function(t){var e=this.cursor({});return new tm((function(n,r){e.onerror=function(t){var e=_m(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.ai=function(t,e){var n=[];return new tm((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new fm(i),s=e(i.primaryKey,i.value,o);if(s instanceof tm){var a=s.catch((function(t){return o.done(),tm.reject(t)}));n.push(a)}o.On?r():null===o.ri?i.continue():i.continue(o.ri)}else r()}})).next((function(){return tm.qn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.li?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function gm(t){return new tm((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=_m(t.target.error);n(e)}}))}var mm=!1;function _m(t){var e=hm.js(Object(dl.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ip("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return mm||(mm=!0,setTimeout((function(){throw r}),0)),r}}return t}function bm(){return"undefined"!=typeof window?window:null}function wm(){return"undefined"!=typeof document?document:null}var km=function(){function t(t,e,n,r,i){this.di=t,this.Ns=e,this.wi=n,this.op=r,this.Ei=i,this.Ti=new nm,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch((function(t){}))}return t.Ii=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.mi=setTimeout((function(){return e.Ai()}),t)},t.prototype.Ks=function(){return this.Ai()},t.prototype.cancel=function(t){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new Ip(Tp.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Ai=function(){var t=this;this.di.Ri((function(){return null!==t.mi?(t.clearTimeout(),t.op().then((function(e){return t.Ti.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},t}(),Cm=function(){function t(){var t=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new lm(this,"async_queue_retry"),this.Di=function(){var e=wm();e&&bp("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Si.Qs()};var e=wm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(t.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t){this.enqueue(t)},t.prototype.Ni=function(t){this.xi(),this.Fi(t)},t.prototype.Oi=function(){if(!this.yi){this.yi=!0;var t=wm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Di)}},t.prototype.enqueue=function(t){return this.xi(),this.yi?new Promise((function(t){})):this.Fi(t)},t.prototype.Mi=function(t){var e=this;this.Ri((function(){return e.gi.push(t),e.ki()}))},t.prototype.ki=function(){return Object(ll.b)(this,void 0,void 0,(function(){var t,e=this;return Object(ll.d)(this,(function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!pm(t=n.sent()))throw t;return bp("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gi.length>0&&this.Si.Bs((function(){return e.ki()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Fi=function(t){var e=this,n=this.Pi.then((function(){return e.vi=!0,t().catch((function(t){throw e.pi=t,e.vi=!1,wp("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.vi=!1,t}))}));return this.Pi=n,n},t.prototype.Us=function(t,e,n){var r=this;this.xi(),this.bi.indexOf(t)>-1&&(e=0);var i=km.Ii(this,t,e,n,(function(t){return r.$i(t)}));return this.Vi.push(i),i},t.prototype.xi=function(){this.pi&&Ep()},t.prototype.Li=function(){},t.prototype.Bi=function(){return Object(ll.b)(this,void 0,void 0,(function(){var t;return Object(ll.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Pi];case 1:e.sent(),e.label=2;case 2:if(t!==this.Pi)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.qi=function(t){for(var e=0,n=this.Vi;e<n.length;e++)if(n[e].Ns===t)return!0;return!1},t.prototype.Ui=function(t){var e=this;return this.Bi().then((function(){e.Vi.sort((function(t,e){return t.wi-e.wi}));for(var n=0,r=e.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ns===t)break}return e.Bi()}))},t.prototype.Qi=function(t){this.bi.push(t)},t.prototype.$i=function(t){var e=this.Vi.indexOf(t);this.Vi.splice(e,1)},t}();function Em(t,e){if(wp("AsyncQueue",e+": "+t),pm(t))return new Ip(Tp.UNAVAILABLE,e+": "+t);throw t}function Sm(t,e){var n=t[1],r=e[1],i=Lp(t[0],e[0]);return 0===i?Lp(n,r):i}var Om=function(){function t(t){this.Ki=t,this.buffer=new lv(Sm),this.Wi=0}return t.prototype.ji=function(){return++this.Wi},t.prototype.Gi=function(t){var e=[t,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Sm(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Tm={zi:!1,Hi:0,Ji:0,Yi:0},Im=function(){function t(t,e,n){this.Xi=t,this.Zi=e,this.tr=n}return t.er=function(e){return new t(e,t.nr,t.sr)},t}();Im.nr=10,Im.sr=1e3,Im.ir=new Im(41943040,Im.nr,Im.sr),Im.rr=new Im(-1,0,0);var xm=function(){function t(t,e){this.cr=t,this.di=e,this.ur=!1,this.ar=null}return t.prototype.start=function(t){-1!==this.cr.params.Xi&&this.hr(t)},t.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(t.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),t.prototype.hr=function(t){var e=this,n=this.ur?3e5:6e4;bp("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,(function(){return Object(ll.b)(e,void 0,void 0,(function(){var e;return Object(ll.d)(this,(function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return pm(e=n.sent())?(bp("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,rb(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Am=function(){function t(t,e){this.dr=t,this.params=e}return t.prototype.wr=function(t,e){return this.dr.Er(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Tr=function(t,e){var n=this;if(0===e)return tm.resolve(cm.Ds);var r=new Om(e);return this.dr.Ue(t,(function(t){return r.Gi(t.sequenceNumber)})).next((function(){return n.dr.Ir(t,(function(t){return r.Gi(t)}))})).next((function(){return r.maxValue}))},t.prototype.mr=function(t,e,n){return this.dr.mr(t,e,n)},t.prototype.Ar=function(t,e){return this.dr.Ar(t,e)},t.prototype.Rr=function(t,e){var n=this;return-1===this.params.Xi?(bp("LruGarbageCollector","Garbage collection skipped; disabled"),tm.resolve(Tm)):this.Pr(t).next((function(r){return r<n.params.Xi?(bp("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Xi),Tm):n.gr(t,e)}))},t.prototype.Pr=function(t){return this.dr.Pr(t)},t.prototype.gr=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.wr(t,this.params.Zi).next((function(e){return e>c.params.tr?(bp("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.tr+" from "+e),r=c.params.tr):r=e,o=Date.now(),c.Tr(t,r)})).next((function(r){return n=r,s=Date.now(),c.mr(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.Ar(t,n)})).next((function(t){return u=Date.now(),_p()<=fl.a.DEBUG&&bp("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),tm.resolve({zi:!0,Hi:r,Ji:i,Yi:t})}))},t}(),jm=function(){function t(){}return t.prototype.yr=function(t){this.Vr=t},t.prototype.ws=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Tn.length||1===t.Tn.length&&t.Tn[0].field.tt())}(e)||n.isEqual(Vp.min())?this.pr(t,e):this.Vr._s(t,r).next((function(o){var s=i.vr(e,o);return(kg(e)||Cg(e))&&i.br(e.limitType,s,r,n)?i.pr(t,e):(_p()<=fl.a.DEBUG&&bp("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Pg(e)),i.Vr.ws(t,e,n).next((function(t){return s.forEach((function(e){t=t.Tt(e.key,e)})),t})))}))},t.prototype.vr=function(t,e){var n=new lv(Ng(t));return e.forEach((function(e,r){r instanceof yg&&Dg(t,r)&&(n=n.add(r))})),n},t.prototype.br=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},t.prototype.pr=function(t,e){return _p()<=fl.a.DEBUG&&bp("QueryEngine","Using full collection scan to execute query:",Pg(e)),this.Vr.ws(t,e,Vp.min())},t}();function Pm(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Nm(e)),e=Dm(t.get(n),e);return Nm(e)}function Dm(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Nm(t){return t+"\x01\x01"}function Rm(t){var e=t.length;if(Sp(e>=2),2===e)return Sp("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),zp.X();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Ep(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Ep()}o=s+2}return new zp(r)}var Lm=function(t){this.Sr=t};function Mm(t,e){if(e.document)return function(t,e,n){var r=py(t,e.name),i=ly(e.updateTime),o=new fg({mapValue:{fields:e.fields}});return new yg(r,i,o,{hasCommittedMutations:!!n})}(t.Sr,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Gp.ct(e.noDocument.path),r=zm(e.noDocument.readTime);return new gg(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Gp.ct(e.unknownDocument.path),o=zm(e.unknownDocument.version);return new mg(i,o)}return Ep()}function Fm(t,e,n){var r=Um(n),i=e.key.path.q().H();if(e instanceof yg){var o=function(t,e){return{name:dy(t,e.key),fields:e.En().mapValue.fields,updateTime:ay(t,e.version.M())}}(t.Sr,e);return new v_(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof gg){var s=e.key.path.H(),a=qm(e.version),u=e.hasCommittedMutations;return new v_(null,new d_(s,a),null,u,r,i)}if(e instanceof mg){var c=e.key.path.H(),l=qm(e.version);return new v_(new p_(c,l),null,null,!0,r,i)}return Ep()}function Um(t){var e=t.M();return[e.seconds,e.nanoseconds]}function Vm(t){var e=new Up(t[0],t[1]);return Vp.N(e)}function qm(t){var e=t.M();return new u_(e.seconds,e.nanoseconds)}function zm(t){var e=new Up(t.seconds,t.nanoseconds);return Vp.N(e)}function Bm(t,e){var n=(e.baseMutations||[]).map((function(e){return wy(t.Sr,e)})),r=e.mutations.map((function(e){return wy(t.Sr,e)})),i=Up.fromMillis(e.localWriteTimeMs);return new Yg(e.batchId,i,n,r)}function Hm(t){var e,n,r=zm(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?zm(t.lastLimboFreeSnapshotVersion):Vp.min();return void 0!==t.query.documents?(Sp(1===(n=t.query).documents.length),e=Ig(wg(yy(n.documents[0])))):e=function(t){return Ig(Ey(t))}(t.query),new rv(e,t.targetId,0,t.lastListenSequenceNumber,r,i,tv.fromBase64String(t.resumeToken))}function Gm(t,e){var n,r=qm(e.ft),i=qm(e.lastLimboFreeSnapshotVersion);n=$p(e.target)?ky(t.Sr,e.target):Cy(t.Sr,e.target);var o=e.resumeToken.toBase64();return new g_(e.targetId,Yp(e.target),r,o,e.sequenceNumber,i,n)}function Wm(t){var e=Ey({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?xg(e,e.limit,"L"):e}var Km=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.os=n,this.Dr=r,this.Cr={}}return t.Nr=function(e,n,r,i){return Sp(""!==e.uid),new t(e.u()?e.uid:"",n,r,i)},t.prototype.Fr=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zm(t)._i({index:h_.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Or=function(t,e,n,r){var i=this,o=Ym(t),s=Zm(t);return s.add({}).next((function(a){Sp("number"==typeof a);for(var u=new Yg(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return by(t.Sr,e)})),i=n.mutations.map((function(e){return by(t.Sr,e)}));return new h_(e,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new lv((function(t,e){return Lp(t.J(),e.J())})),f=0,d=r;f<d.length;f++){var p=d[f],v=f_.key(i.userId,p.key.path,a);h=h.add(p.key.path.q()),l.push(s.put(c)),l.push(o.put(v,f_.PLACEHOLDER))}return h.forEach((function(e){l.push(i.os.Mr(t,e))})),t.es((function(){i.Cr[a]=u.keys()})),tm.qn(l).next((function(){return u}))}))},t.prototype.kr=function(t,e){var n=this;return Zm(t).get(e).next((function(t){return t?(Sp(t.userId===n.userId),Bm(n.serializer,t)):null}))},t.prototype.$r=function(t,e){var n=this;return this.Cr[e]?tm.resolve(this.Cr[e]):this.kr(t,e).next((function(t){if(t){var r=t.keys();return n.Cr[e]=r,r}return null}))},t.prototype.Lr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Zm(t)._i({index:h_.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Sp(e.batchId>=r),o=Bm(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.Br=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Zm(t)._i({index:h_.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.qr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zm(t).ui(h_.userMutationsIndex,n).next((function(t){return t.map((function(t){return Bm(e.serializer,t)}))}))},t.prototype.us=function(t,e){var n=this,r=f_.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ym(t)._i({range:i},(function(r,i,s){var a=r[0],u=r[2],c=Rm(r[1]);if(a===n.userId&&e.path.isEqual(c))return Zm(t).get(u).next((function(t){if(!t)throw Ep();Sp(t.userId===n.userId),o.push(Bm(n.serializer,t))}));s.done()})).next((function(){return o}))},t.prototype.ds=function(t,e){var n=this,r=new lv(Lp),i=[];return e.forEach((function(e){var o=f_.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Ym(t)._i({range:s},(function(t,i,o){var s=t[0],a=t[2],u=Rm(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),tm.qn(i).next((function(){return n.Ur(t,r)}))},t.prototype.Rs=function(t,e){var n=this,r=e.path,i=r.length+1,o=f_.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new lv(Lp);return Ym(t)._i({range:s},(function(t,e,o){var s=t[0],u=t[2],c=Rm(t[1]);s===n.userId&&r.j(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Ur(t,a)}))},t.prototype.Ur=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Zm(t).get(e).next((function(t){if(null===t)throw Ep();Sp(t.userId===n.userId),r.push(Bm(n.serializer,t))})))})),tm.qn(i).next((function(){return r}))},t.prototype.Qr=function(t,e){var n=this;return Jm(t.Kr,this.userId,e).next((function(r){return t.es((function(){n.Wr(e.batchId)})),tm.forEach(r,(function(e){return n.Dr.jr(t,e)}))}))},t.prototype.Wr=function(t){delete this.Cr[t]},t.prototype.Gr=function(t){var e=this;return this.Fr(t).next((function(n){if(!n)return tm.resolve();var r=IDBKeyRange.lowerBound(f_.prefixForUser(e.userId)),i=[];return Ym(t)._i({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Rm(t[1]);i.push(o)}else r.done()})).next((function(){Sp(0===i.length)}))}))},t.prototype.zr=function(t,e){return Qm(t,this.userId,e)},t.prototype.Hr=function(t){var e=this;return Xm(t).get(this.userId).next((function(t){return t||new l_(e.userId,-1,"")}))},t}();function Qm(t,e,n){var r=f_.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Ym(t)._i({range:o,li:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function Jm(t,e,n){var r=t.store(h_.store),i=t.store(f_.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r._i({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Sp(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=f_.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return tm.qn(o).next((function(){return c}))}function Zm(t){return F_.Ys(t,h_.store)}function Ym(t){return F_.Ys(t,f_.store)}function Xm(t){return F_.Ys(t,l_.store)}var $m=function(){function t(t,e){this.serializer=t,this.os=e}return t.prototype.jn=function(t,e,n){return n_(t).put(r_(e),n)},t.prototype.Hn=function(t,e){var n=n_(t),r=r_(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Jr(t,r)}))},t.prototype.Jn=function(t,e){var n=this;return n_(t).get(r_(e)).next((function(t){return n.Yr(t)}))},t.prototype.Xr=function(t,e){var n=this;return n_(t).get(r_(e)).next((function(t){var e=n.Yr(t);return e?{zn:e,size:i_(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=pv();return this.Zr(t,e,(function(t,e){var i=n.Yr(e);r=r.Tt(t,i)})).next((function(){return r}))},t.prototype.eo=function(t,e){var n=this,r=pv(),i=new av(Gp.$);return this.Zr(t,e,(function(t,e){var o=n.Yr(e);o?(r=r.Tt(t,o),i=i.Tt(t,i_(e))):(r=r.Tt(t,null),i=i.Tt(t,0))})).next((function(){return{no:r,so:i}}))},t.prototype.Zr=function(t,e,n){if(e.W())return tm.resolve();var r=IDBKeyRange.bound(e.first().path.H(),e.last().path.H()),i=e.yt(),o=i.Ct();return n_(t)._i({range:r},(function(t,e,r){for(var s=Gp.ct(t);o&&Gp.$(o,s)<0;)n(o,null),o=i.Ct();o&&o.isEqual(s)&&(n(o,e),o=i.Nt()?i.Ct():null),o?r.oi(o.path.H()):r.done()})).next((function(){for(;o;)n(o,null),o=i.Nt()?i.Ct():null}))},t.prototype.ws=function(t,e,n){var r=this,i=yv(),o=e.path.length+1,s={};if(n.isEqual(Vp.min())){var a=e.path.H();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.H(),c=Um(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=v_.collectionReadTimeIndex}return n_(t)._i(s,(function(t,n,s){if(t.length===o){var a=Mm(r.serializer,n);e.path.j(a.key.path)?a instanceof yg&&Dg(e,a)&&(i=i.Tt(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.io=function(t){return new t_(this,!!t&&t.ro)},t.prototype.oo=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return e_(t).get(y_.key).next((function(t){return Sp(!!t),t}))},t.prototype.Jr=function(t,e){return e_(t).put(y_.key,e)},t.prototype.Yr=function(t){if(t){var e=Mm(this.serializer,t);return e instanceof gg&&e.version.isEqual(Vp.min())?null:e}return null},t}(),t_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).co=e,r.ro=n,r.uo=new $g((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(ll.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[],r=0,i=new lv((function(t,e){return Lp(t.J(),e.J())}));return this.Qn.forEach((function(o,s){var a=e.uo.get(o);if(s.zn){var u=Fm(e.co.serializer,s.zn,e.Wn(o));i=i.add(o.path.q());var c=i_(u);r+=c-a,n.push(e.co.jn(t,o,u))}else if(r-=a,e.ro){var l=Fm(e.co.serializer,new gg(o,Vp.min()),e.Wn(o));n.push(e.co.jn(t,o,l))}else n.push(e.co.Hn(t,o))})),i.forEach((function(r){n.push(e.co.os.Mr(t,r))})),n.push(this.co.updateMetadata(t,r)),tm.qn(n)},e.prototype.Yn=function(t,e){var n=this;return this.co.Xr(t,e).next((function(t){return null===t?(n.uo.set(e,0),null):(n.uo.set(e,t.size),t.zn)}))},e.prototype.Xn=function(t,e){var n=this;return this.co.eo(t,e).next((function(t){var e=t.no;return t.so.forEach((function(t,e){n.uo.set(t,e)})),e}))},e}(em);function e_(t){return F_.Ys(t,y_.store)}function n_(t){return F_.Ys(t,v_.store)}function r_(t){return t.path.H()}function i_(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ep();e=t.noDocument}return JSON.stringify(e).length}var o_=function(){function t(){this.ao=new s_}return t.prototype.Mr=function(t,e){return this.ao.add(e),tm.resolve()},t.prototype.As=function(t,e){return tm.resolve(this.ao.getEntries(e))},t}(),s_=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.K(),n=t.q(),r=this.index[e]||new lv(zp.$),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.K(),n=t.q(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new lv(zp.$)).H()},t}(),a_=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Sp(n<r&&n>=0&&r<=11);var o=new vm("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(c_.store)}(t),function(t){t.createObjectStore(l_.store,{keyPath:l_.keyPath}),t.createObjectStore(h_.store,{keyPath:h_.keyPath,autoIncrement:!0}).createIndex(h_.userMutationsIndex,h_.userMutationsKeyPath,{unique:!0}),t.createObjectStore(f_.store)}(t),w_(t),function(t){t.createObjectStore(v_.store)}(t));var s=tm.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(m_.store),t.deleteObjectStore(g_.store),t.deleteObjectStore(__.store)}(t),w_(t)),s=s.next((function(){return function(t){var e=t.store(__.store),n=new __(0,0,Vp.min().M(),0);return e.put(__.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(h_.store).ui().next((function(n){t.deleteObjectStore(h_.store),t.createObjectStore(h_.store,{keyPath:h_.keyPath,autoIncrement:!0}).createIndex(h_.userMutationsIndex,h_.userMutationsKeyPath,{unique:!0});var r=e.store(h_.store),i=n.map((function(t){return r.put(t)}));return tm.qn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(k_.store,{keyPath:k_.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(y_.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(v_.store);e.createIndex(v_.readTimeIndex,v_.readTimeIndexPath,{unique:!1}),e.createIndex(v_.collectionReadTimeIndex,v_.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(C_.store,{keyPath:C_.keyPath})}(t),function(t){t.createObjectStore(E_.store,{keyPath:E_.keyPath})}(t)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(v_.store)._i((function(t,n){e+=i_(n)})).next((function(){var n=new y_(e);return t.store(y_.store).put(y_.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(l_.store),r=t.store(h_.store);return n.ui().next((function(n){return tm.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui(h_.userMutationsIndex,i).next((function(r){return tm.forEach(r,(function(r){Sp(r.userId===n.userId);var i=Bm(e.serializer,r);return Jm(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(m_.store),n=t.store(v_.store);return t.store(__.store).get(__.key).next((function(t){var r=[];return n._i((function(n,i){var o=new zp(n),s=function(t){return[0,Pm(t)]}(o);r.push(e.get(s).next((function(n){return n?tm.resolve():function(n){return e.put(new m_(0,Pm(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return tm.qn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(b_.store,{keyPath:b_.keyPath});var n=e.store(b_.store),r=new s_,i=function(t){if(r.add(t)){var e=t.K(),i=t.q();return n.put({collectionId:e,parent:Pm(i)})}};return e.store(v_.store)._i({li:!0},(function(t,e){var n=new zp(t);return i(n.q())})).next((function(){return e.store(f_.store)._i({li:!0},(function(t,e){var n=Rm(t[1]);return i(n.q())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(g_.store);return n._i((function(t,r){var i=Hm(r),o=Gm(e.serializer,i);return n.put(o)}))},t}(),u_=function(t,e){this.seconds=t,this.nanoseconds=e},c_=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};c_.store="owner",c_.key="owner";var l_=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};l_.store="mutationQueues",l_.keyPath="userId";var h_=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};h_.store="mutations",h_.keyPath="batchId",h_.userMutationsIndex="userMutationsIndex",h_.userMutationsKeyPath=["userId","batchId"];var f_=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Pm(e)]},t.key=function(t,e,n){return[t,Pm(e),n]},t}();f_.store="documentMutations",f_.PLACEHOLDER=new f_;var d_=function(t,e){this.path=t,this.readTime=e},p_=function(t,e){this.path=t,this.version=e},v_=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};v_.store="remoteDocuments",v_.readTimeIndex="readTimeIndex",v_.readTimeIndexPath="readTime",v_.collectionReadTimeIndex="collectionReadTimeIndex",v_.collectionReadTimeIndexPath=["parentPath","readTime"];var y_=function(t){this.byteSize=t};y_.store="remoteDocumentGlobal",y_.key="remoteDocumentGlobalKey";var g_=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};g_.store="targets",g_.keyPath="targetId",g_.queryTargetsIndexName="queryTargetsIndex",g_.queryTargetsKeyPath=["canonicalId","targetId"];var m_=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};m_.store="targetDocuments",m_.keyPath=["targetId","path"],m_.documentTargetsIndex="documentTargetsIndex",m_.documentTargetsKeyPath=["path","targetId"];var __=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};__.key="targetGlobalKey",__.store="targetGlobal";var b_=function(t,e){this.collectionId=t,this.parent=e};function w_(t){t.createObjectStore(m_.store,{keyPath:m_.keyPath}).createIndex(m_.documentTargetsIndex,m_.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(g_.store,{keyPath:g_.keyPath}).createIndex(g_.queryTargetsIndexName,g_.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(__.store)}b_.store="collectionParents",b_.keyPath=["collectionId","parent"];var k_=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};k_.store="clientMetadata",k_.keyPath="clientId";var C_=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};C_.store="bundles",C_.keyPath="bundleId";var E_=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};E_.store="namedQueries",E_.keyPath="name";var S_=Object(ll.g)(Object(ll.g)(Object(ll.g)(Object(ll.g)([l_.store,h_.store,f_.store,v_.store,g_.store,c_.store,__.store,m_.store],[k_.store]),[y_.store]),[b_.store]),[C_.store,E_.store]),O_=function(){function t(t){this.serializer=t}return t.prototype.ho=function(t,e){return T_(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:zm(e.createTime),version:e.version};var e}))},t.prototype.lo=function(t,e){return T_(t).put({bundleId:(n=e).id,createTime:qm(ly(n.createTime)),version:n.version});var n},t.prototype._o=function(t,e){return I_(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Wm(e.bundledQuery),readTime:zm(e.readTime)};var e}))},t.prototype.fo=function(t,e){return I_(t).put(function(t){return{name:t.name,readTime:qm(ly(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function T_(t){return F_.Ys(t,C_.store)}function I_(t){return F_.Ys(t,E_.store)}var x_=function(){function t(){this.wo=new s_}return t.prototype.Mr=function(t,e){var n=this;if(!this.wo.has(e)){var r=e.K(),i=e.q();t.es((function(){n.wo.add(e)}));var o={collectionId:r,parent:Pm(i)};return A_(t).put(o)}return tm.resolve()},t.prototype.As=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Fp(e),""],!1,!0);return A_(t).ui(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Rm(o.parent))}return n}))},t}();function A_(t){return F_.Ys(t,b_.store)}var j_=function(){function t(t){this.Eo=t}return t.prototype.next=function(){return this.Eo+=2,this.Eo},t.To=function(){return new t(0)},t.Io=function(){return new t(-1)},t}(),P_=function(){function t(t,e){this.Dr=t,this.serializer=e}return t.prototype.mo=function(t){var e=this;return this.Ao(t).next((function(n){var r=new j_(n.highestTargetId);return n.highestTargetId=r.next(),e.Ro(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Po=function(t){return this.Ao(t).next((function(t){return Vp.N(new Up(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.yo=function(t){return this.Ao(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Vo=function(t,e,n){var r=this;return this.Ao(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ro(t,i)}))},t.prototype.po=function(t,e){var n=this;return this.vo(t,e).next((function(){return n.Ao(t).next((function(r){return r.targetCount+=1,n.bo(e,r),n.Ro(t,r)}))}))},t.prototype.So=function(t,e){return this.vo(t,e)},t.prototype.Do=function(t,e){var n=this;return this.Co(t,e.targetId).next((function(){return D_(t).delete(e.targetId)})).next((function(){return n.Ao(t)})).next((function(e){return Sp(e.targetCount>0),e.targetCount-=1,n.Ro(t,e)}))},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return D_(t)._i((function(s,a){var u=Hm(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Do(t,u)))})).next((function(){return tm.qn(o)})).next((function(){return i}))},t.prototype.Ue=function(t,e){return D_(t)._i((function(t,n){var r=Hm(n);e(r)}))},t.prototype.Ao=function(t){return N_(t).get(__.key).next((function(t){return Sp(null!==t),t}))},t.prototype.Ro=function(t,e){return N_(t).put(__.key,e)},t.prototype.vo=function(t,e){return D_(t).put(Gm(this.serializer,e))},t.prototype.bo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.No=function(t){return this.Ao(t).next((function(t){return t.targetCount}))},t.prototype.xo=function(t,e){var n=Yp(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return D_(t)._i({range:r,index:g_.queryTargetsIndexName},(function(t,n,r){var o=Hm(n);Xp(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.Fo=function(t,e,n){var r=this,i=[],o=R_(t);return e.forEach((function(e){var s=Pm(e.path);i.push(o.put(new m_(n,s))),i.push(r.Dr.Oo(t,n,e))})),tm.qn(i)},t.prototype.Mo=function(t,e,n){var r=this,i=R_(t);return tm.forEach(e,(function(e){var o=Pm(e.path);return tm.qn([i.delete([n,o]),r.Dr.ko(t,n,e)])}))},t.prototype.Co=function(t,e){var n=R_(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.$o=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=R_(t),i=_v();return r._i({range:n,li:!0},(function(t,e,n){var r=Rm(t[1]),o=new Gp(r);i=i.add(o)})).next((function(){return i}))},t.prototype.zr=function(t,e){var n=Pm(e.path),r=IDBKeyRange.bound([n],[Fp(n)],!1,!0),i=0;return R_(t)._i({index:m_.documentTargetsIndex,li:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ze=function(t,e){return D_(t).get(e).next((function(t){return t?Hm(t):null}))},t}();function D_(t){return F_.Ys(t,g_.store)}function N_(t){return F_.Ys(t,__.store)}function R_(t){return F_.Ys(t,m_.store)}var L_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",M_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kr=e,r.Lo=n,r}return Object(ll.c)(e,t),e}(sm),F_=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Cs=o,this.window=s,this.document=a,this.Bo=c,this.qo=l,this.Uo=null,this.Qo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ko=null,this.inForeground=!1,this.Wo=null,this.jo=null,this.Go=Number.NEGATIVE_INFINITY,this.zo=function(t){return Promise.resolve()},!t.Gs())throw new Ip(Tp.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Dr=new q_(this,i),this.Ho=n+"main",this.serializer=new Lm(u),this.Jo=new hm(this.Ho,11,new a_(this.serializer)),this.Yo=new P_(this.Dr,this.serializer),this.os=new x_,this.ss=function(t,e){return new $m(t,e)}(this.serializer,this.os),this.Xo=new O_(this.serializer),this.window&&this.window.localStorage?this.Zo=this.window.localStorage:(this.Zo=null,!1===l&&wp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ys=function(t,e){if(t instanceof M_)return hm.Ys(t.Kr,e);throw Ep()},t.prototype.start=function(){var t=this;return this.tc().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ip(Tp.FAILED_PRECONDITION,L_);return t.ec(),t.nc(),t.sc(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Yo.yo(e)}))})).then((function(e){t.Uo=new cm(e,t.Bo)})).then((function(){t.Qo=!0})).catch((function(e){return t.Jo&&t.Jo.close(),Promise.reject(e)}))},t.prototype.ic=function(t){var e=this;return this.zo=function(n){return Object(ll.b)(e,void 0,void 0,(function(){return Object(ll.d)(this,(function(e){return this.lr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.rc=function(t){var e=this;this.Jo.ti((function(n){return Object(ll.b)(e,void 0,void 0,(function(){return Object(ll.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.oc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Cs.Ri((function(){return Object(ll.b)(e,void 0,void 0,(function(){return Object(ll.d)(this,(function(t){switch(t.label){case 0:return this.lr?[4,this.tc()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.tc=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return V_(e).put(new k_(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.cc(e).next((function(e){e||(t.isPrimary=!1,t.Cs.Mi((function(){return t.zo(!1)})))}))})).next((function(){return t.uc(e)})).next((function(n){return t.isPrimary&&!n?t.ac(e).next((function(){return!1})):!!n&&t.hc(e).next((function(){return!0}))}))})).catch((function(e){if(pm(e))return bp("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return bp("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Cs.Mi((function(){return t.zo(e)})),t.isPrimary=e}))},t.prototype.cc=function(t){var e=this;return U_(t).get(c_.key).next((function(t){return tm.resolve(e.lc(t))}))},t.prototype._c=function(t){return V_(t).delete(this.clientId)},t.prototype.fc=function(){return Object(ll.b)(this,void 0,void 0,(function(){var e,n,r,i=this;return Object(ll.d)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.dc(this.Go,18e5)?[3,2]:(this.Go=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Ys(e,k_.store);return n.ui().next((function(t){var e=i.wc(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return tm.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Zo)for(n=0,r=e;n<r.length;n++)this.Zo.removeItem(this.Ec(r[n].clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.sc=function(){var t=this;this.jo=this.Cs.Us("client_metadata_refresh",4e3,(function(){return t.tc().then((function(){return t.fc()})).then((function(){return t.sc()}))}))},t.prototype.lc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.uc=function(t){var e=this;return this.qo?tm.resolve(!0):U_(t).get(c_.key).next((function(n){if(null!==n&&e.dc(n.leaseTimestampMs,5e3)&&!e.Tc(n.ownerId)){if(e.lc(n)&&e.networkEnabled)return!0;if(!e.lc(n)){if(!n.allowTabSynchronization)throw new Ip(Tp.FAILED_PRECONDITION,L_);return!1}}return!(!e.networkEnabled||!e.inForeground)||V_(t).ui().next((function(t){return void 0===e.wc(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&bp("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Ic=function(){return Object(ll.b)(this,void 0,void 0,(function(){var t=this;return Object(ll.d)(this,(function(e){switch(e.label){case 0:return this.Qo=!1,this.mc(),this.jo&&(this.jo.cancel(),this.jo=null),this.Ac(),this.Rc(),[4,this.Jo.runTransaction("shutdown","readwrite",[c_.store,k_.store],(function(e){var n=new M_(e,cm.Ds);return t.ac(n).next((function(){return t._c(n)}))}))];case 1:return e.sent(),this.Jo.close(),this.Pc(),[2]}}))}))},t.prototype.wc=function(t,e){var n=this;return t.filter((function(t){return n.dc(t.updateTimeMs,e)&&!n.Tc(t.clientId)}))},t.prototype.gc=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return V_(e).ui().next((function(e){return t.wc(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"lr",{get:function(){return this.Qo},enumerable:!1,configurable:!0}),t.prototype.yc=function(t){return Km.Nr(t,this.serializer,this.os,this.Dr)},t.prototype.Vc=function(){return this.Yo},t.prototype.vc=function(){return this.ss},t.prototype.bc=function(){return this.os},t.prototype.Sc=function(){return this.Xo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return bp("IndexedDbPersistence","Starting transaction:",t),this.Jo.runTransaction(t,"readonly"===e?"readonly":"readwrite",S_,(function(o){return r=new M_(o,i.Uo?i.Uo.next():cm.Ds),"readwrite-primary"===e?i.cc(r).next((function(t){return!!t||i.uc(r)})).next((function(e){if(!e)throw wp("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Cs.Mi((function(){return i.zo(!1)})),new Ip(Tp.FAILED_PRECONDITION,om);return n(r)})).next((function(t){return i.hc(r).next((function(){return t}))})):i.Dc(r).next((function(){return n(r)}))})).then((function(t){return r.ns(),t}))},t.prototype.Dc=function(t){var e=this;return U_(t).get(c_.key).next((function(t){if(null!==t&&e.dc(t.leaseTimestampMs,5e3)&&!e.Tc(t.ownerId)&&!e.lc(t)&&!(e.qo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ip(Tp.FAILED_PRECONDITION,L_)}))},t.prototype.hc=function(t){var e=new c_(this.clientId,this.allowTabSynchronization,Date.now());return U_(t).put(c_.key,e)},t.Gs=function(){return hm.Gs()},t.prototype.ac=function(t){var e=this,n=U_(t);return n.get(c_.key).next((function(t){return e.lc(t)?(bp("IndexedDbPersistence","Releasing primary lease."),n.delete(c_.key)):tm.resolve()}))},t.prototype.dc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(wp("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.ec=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Wo=function(){t.Cs.Ri((function(){return t.inForeground="visible"===t.document.visibilityState,t.tc()}))},this.document.addEventListener("visibilitychange",this.Wo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Ac=function(){this.Wo&&(this.document.removeEventListener("visibilitychange",this.Wo),this.Wo=null)},t.prototype.nc=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ko=function(){e.mc(),e.Cs.Ri((function(){return e.Ic()}))},this.window.addEventListener("unload",this.Ko))},t.prototype.Rc=function(){this.Ko&&(this.window.removeEventListener("unload",this.Ko),this.Ko=null)},t.prototype.Tc=function(t){var e;try{var n=null!==(null===(e=this.Zo)||void 0===e?void 0:e.getItem(this.Ec(t)));return bp("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return wp("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.mc=function(){if(this.Zo)try{this.Zo.setItem(this.Ec(this.clientId),String(Date.now()))}catch(t){wp("Failed to set zombie client id.",t)}},t.prototype.Pc=function(){if(this.Zo)try{this.Zo.removeItem(this.Ec(this.clientId))}catch(t){}},t.prototype.Ec=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function U_(t){return F_.Ys(t,c_.store)}function V_(t){return F_.Ys(t,k_.store)}var q_=function(){function t(t,e){this.db=t,this.cr=new Am(this,e)}return t.prototype.Er=function(t){var e=this.Cc(t);return this.db.Vc().No(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Cc=function(t){var e=0;return this.Ir(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ue=function(t,e){return this.db.Vc().Ue(t,e)},t.prototype.Ir=function(t,e){return this.Nc(t,(function(t,n){return e(n)}))},t.prototype.Oo=function(t,e,n){return z_(t,n)},t.prototype.ko=function(t,e,n){return z_(t,n)},t.prototype.mr=function(t,e,n){return this.db.Vc().mr(t,e,n)},t.prototype.jr=function(t,e){return z_(t,e)},t.prototype.xc=function(t,e){return function(t,e){var n=!1;return Xm(t).fi((function(r){return Qm(t,r,e).next((function(t){return t&&(n=!0),tm.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Ar=function(t,e){var n=this,r=this.db.vc().io(),i=[],o=0;return this.Nc(t,(function(s,a){if(a<=e){var u=n.xc(t,s).next((function(e){if(!e)return o++,r.Jn(t,s).next((function(){return r.Hn(s),R_(t).delete([0,Pm(s.path)])}))}));i.push(u)}})).next((function(){return tm.qn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.dt(t.Lo);return this.db.Vc().So(t,n)},t.prototype.Fc=function(t,e){return z_(t,e)},t.prototype.Nc=function(t,e){var n,r=R_(t),i=cm.Ds;return r._i({index:m_.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==cm.Ds&&e(new Gp(Rm(n)),i),i=s,n=o):i=cm.Ds})).next((function(){i!==cm.Ds&&e(new Gp(Rm(n)),i)}))},t.prototype.Pr=function(t){return this.db.vc().oo(t)},t}();function z_(t,e){return R_(t).put(function(t,e){return new m_(0,Pm(t.path),e)}(e,t.Lo))}function B_(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var H_=function(){function t(t,e,n,r){this.persistence=t,this.Oc=e,this.serializer=r,this.Mc=new av(Lp),this.kc=new $g((function(t){return Yp(t)}),Xp),this.$c=Vp.min(),this.rs=t.yc(n),this.Lc=t.vc(),this.Yo=t.Vc(),this.Bc=new am(this.Lc,this.rs,this.persistence.bc()),this.Xo=t.Sc(),this.Oc.yr(this.Bc)}return t.prototype._r=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Rr(n,e.Mc)}))},t}();function G_(t,e,n,r){return new H_(t,e,n,r)}function W_(t,e){return Object(ll.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(ll.d)(this,(function(s){switch(s.label){case 0:return n=Op(t),r=n.rs,i=n.Bc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.rs.qr(t).next((function(s){return o=s,r=n.persistence.yc(e),i=new am(n.Lc,r,n.persistence.bc()),r.qr(t)})).next((function(e){for(var n=[],r=[],s=_v(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)s=s.add(y[v].key)}return i._s(t,s).next((function(t){return{qc:t,Uc:n,Qc:r}}))}))}))];case 1:return o=s.sent(),[2,(n.rs=r,n.Bc=i,n.Oc.yr(n.Bc),o)]}}))}))}function K_(t,e){var n=Op(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Lc.io({ro:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=tm.resolve();return o.forEach((function(t){s=s.next((function(){return r.Jn(e,t)})).next((function(e){var o=e,s=n.Sn.get(t);Sp(null!==s),(!o||o.version.F(s)<0)&&(o=i.yn(t,o,n))&&r.jn(o,n.bn)}))})),s.next((function(){return t.rs.Qr(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.rs.Gr(t)})).next((function(){return n.Bc._s(t,r)}))}))}function Q_(t){var e=Op(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Yo.Po(t)}))}function J_(t,e){var n=Op(t),r=e.ft,i=n.Mc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Lc.io({ro:!0});i=n.Mc;var s=[];e.re.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.Yo.Mo(t,e.de,o).next((function(){return n.Yo.Fo(t,e._e,o)})));var u=e.resumeToken;if(u.ht()>0){var c=a.wt(u,r).dt(t.Lo);i=i.Tt(o,c),function(t,e,n){return Sp(e.resumeToken.ht()>0),0===t.resumeToken.ht()||e.ft.O()-t.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(a,c,e)&&s.push(n.Yo.So(t,c))}}}));var a=dv();if(e.ce.forEach((function(r,i){e.ue.has(r)&&s.push(n.persistence.Dr.Fc(t,r))})),s.push(function(t,e,n,r,i){var o=_v();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var i=dv();return n.forEach((function(n,o){var s=t.get(n),a=r;o instanceof gg&&o.version.isEqual(Vp.min())?(e.Hn(n,a),i=i.Tt(n,o)):null==s||o.version.F(s.version)>0||0===o.version.F(s.version)&&s.hasPendingWrites?(e.jn(o,a),i=i.Tt(n,o)):bp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),i}))}(t,o,e.ce,r).next((function(t){a=t}))),!r.isEqual(Vp.min())){var u=n.Yo.Po(t).next((function(e){return n.Yo.Vo(t,t.Lo,r)}));s.push(u)}return tm.qn(s).next((function(){return o.apply(t)})).next((function(){return n.Bc.fs(t,a)}))})).then((function(t){return n.Mc=i,t}))}function Z_(t,e){var n=Op(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.rs.Lr(t,e)}))}function Y_(t,e){var n=Op(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Yo.xo(t,e).next((function(i){return i?tm.resolve(r=i):n.Yo.mo(t).next((function(i){return r=new rv(e,i,0,t.Lo),n.Yo.po(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Mc.get(t.targetId);return(null===r||t.ft.F(r.ft)>0)&&(n.Mc=n.Mc.Tt(t.targetId,t),n.kc.set(e,t.targetId)),t}))}function X_(t,e,n){return Object(ll.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(ll.d)(this,(function(a){switch(a.label){case 0:r=Op(t),i=r.Mc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Dr.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!pm(s=a.sent()))throw s;return bp("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Mc=r.Mc.remove(e),r.kc.delete(i.target),[2]}}))}))}function $_(t,e,n){var r=Op(t),i=Vp.min(),o=_v();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Op(t),i=r.kc.get(n);return void 0!==i?tm.resolve(r.Mc.get(i)):r.Yo.xo(e,n)}(r,t,Ig(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Yo.$o(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Oc.ws(t,e,n?i:Vp.min(),n?o:_v())})).next((function(t){return{documents:t,Kc:o}}))}))}function tb(t,e){var n=Op(t),r=Op(n.Yo),i=n.Mc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ze(t,e).next((function(t){return t?t.target:null}))}))}function eb(t){var e=Op(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Op(t),i=dv(),o=Um(n),s=n_(e),a=IDBKeyRange.lowerBound(o,!0);return s._i({index:v_.readTimeIndex,range:a},(function(t,e){var n=Mm(r.serializer,e);i=i.Tt(n.key,n),o=e.readTime})).next((function(){return{Wc:i,readTime:Vm(o)}}))}(e.Lc,t,e.$c)})).then((function(t){var n=t.Wc;return e.$c=t.readTime,n}))}function nb(t){return Object(ll.b)(this,void 0,void 0,(function(){var e;return Object(ll.d)(this,(function(n){return[2,(e=Op(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=n_(t),n=Vp.min();return e._i({index:v_.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Vm(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$c=t}))]}))}))}function rb(t){return Object(ll.b)(this,void 0,void 0,(function(){return Object(ll.d)(this,(function(e){if(t.code!==Tp.FAILED_PRECONDITION||t.message!==om)throw t;return bp("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var ib=function(){function t(t,e,n,r,i,o){this.Cs=t,this.jc=n,this.Gc=r,this.zc=i,this.listener=o,this.state=0,this.Hc=0,this.Jc=null,this.stream=null,this.Si=new lm(t,e)}return t.prototype.Yc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Xc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Zc()},t.prototype.stop=function(){return Object(ll.b)(this,void 0,void 0,(function(){return Object(ll.d)(this,(function(t){switch(t.label){case 0:return this.Yc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.tu=function(){this.state=0,this.Si.reset()},t.prototype.eu=function(){var t=this;this.Xc()&&null===this.Jc&&(this.Jc=this.Cs.Us(this.jc,6e4,(function(){return t.nu()})))},t.prototype.su=function(t){this.iu(),this.stream.send(t)},t.prototype.nu=function(){return Object(ll.b)(this,void 0,void 0,(function(){return Object(ll.d)(this,(function(t){return this.Xc()?[2,this.close(0)]:[2]}))}))},t.prototype.iu=function(){this.Jc&&(this.Jc.cancel(),this.Jc=null)},t.prototype.close=function(t,e){return Object(ll.b)(this,void 0,void 0,(function(){return Object(ll.d)(this,(function(n){switch(n.label){case 0:return this.iu(),this.Si.cancel(),this.Hc++,3!==t?this.Si.reset():e&&e.code===Tp.RESOURCE_EXHAUSTED?(wp(e.toString()),wp("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):e&&e.code===Tp.UNAUTHENTICATED&&this.zc.m(),null!==this.stream&&(this.ru(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ou(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ru=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.cu(this.Hc),n=this.Hc;this.zc.getToken().then((function(e){t.Hc===n&&t.uu(e)}),(function(n){e((function(){var e=new Ip(Tp.UNKNOWN,"Fetching auth token failed: "+n.message);return t.au(e)}))}))},t.prototype.uu=function(t){var e=this,n=this.cu(this.Hc);this.stream=this.hu(t),this.stream.lu((function(){n((function(){return e.state=2,e.listener.lu()}))})),this.stream.ou((function(t){n((function(){return e.au(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Zc=function(){var t=this;this.state=4,this.Si.Bs((function(){return Object(ll.b)(t,void 0,void 0,(function(){return Object(ll.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.au=function(t){return bp("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.cu=function(t){var e=this;return function(n){e.Cs.Ri((function(){return e.Hc===t?n():(bp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),ob=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return Object(ll.c)(e,t),e.prototype.hu=function(t){return this.Gc._u("Listen",t)},e.prototype.onMessage=function(t){this.Si.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ep()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.tn?(Sp(void 0===e||"string"==typeof e),tv.fromBase64String(e||"")):(Sp(void 0===e||e instanceof Uint8Array),tv.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){var e=void 0===t.code?Tp.UNKNOWN:sv(t.code);return new Ip(e,t.message||"")}(s);n=new xv(r,i,o,a||null)}else if("documentChange"in e){var u=e.documentChange,c=py(t,u.document.name),l=ly(u.document.updateTime),h=new fg({mapValue:{fields:u.document.fields}}),f=new yg(c,l,h,{});n=new Tv(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=py(t,d.document),v=d.readTime?ly(d.readTime):Vp.min(),y=new gg(p,v);n=new Tv([],d.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){var g=e.documentRemove,m=py(t,g.document);n=new Tv([],g.removedTargetIds||[],m,null)}else{if(!("filter"in e))return Ep();var _=e.filter,b=new iv(_.count||0);n=new Iv(_.targetId,b)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Vp.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Vp.min():e.readTime?ly(e.readTime):Vp.min()}(t);return this.listener.fu(e,n)},e.prototype.du=function(t){var e={};e.database=gy(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=$p(r)?{documents:ky(t,r)}:{query:Cy(t,r)}).targetId=e.targetId,e.resumeToken.ht()>0?n.resumeToken=uy(t,e.resumeToken):e.ft.F(Vp.min())>0&&(n.readTime=ay(t,e.ft.M())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ep()}}(0,e._t);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.su(e)},e.prototype.wu=function(t){var e={};e.database=gy(this.serializer),e.removeTarget=t,this.su(e)},e}(ib),sb=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.Eu=!1,s}return Object(ll.c)(e,t),Object.defineProperty(e.prototype,"Tu",{get:function(){return this.Eu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Eu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ru=function(){this.Eu&&this.Iu([])},e.prototype.hu=function(t){return this.Gc._u("Write",t)},e.prototype.onMessage=function(t){if(Sp(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Eu){this.Si.reset();var e=function(t,e){return t&&t.length>0?(Sp(void 0!==e),t.map((function(t){return function(t,e){var n=ly(t.updateTime?t.updateTime:e);n.isEqual(Vp.min())&&(n=ly(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Jy(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=ly(t.commitTime);return this.listener.mu(n,e)}return Sp(!t.writeResults||0===t.writeResults.length),this.Eu=!0,this.listener.Au()},e.prototype.Ru=function(){var t={};t.database=gy(this.serializer),this.su(t)},e.prototype.Iu=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return by(e.serializer,t)}))};this.su(n)},e}(ib),ab=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Gc=n,i.serializer=r,i.Pu=!1,i}return Object(ll.c)(e,t),e.prototype.gu=function(){if(this.Pu)throw new Ip(Tp.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.yu=function(t,e,n){var r=this;return this.gu(),this.credentials.getToken().then((function(i){return r.Gc.yu(t,e,n,i)})).catch((function(t){throw t.code===Tp.UNAUTHENTICATED&&r.credentials.m(),t}))},e.prototype.Vu=function(t,e,n){var r=this;return this.gu(),this.credentials.getToken().then((function(i){return r.Gc.Vu(t,e,n,i)})).catch((function(t){throw t.code===Tp.UNAUTHENTICATED&&r.credentials.m(),t}))},e.prototype.terminate=function(){this.Pu=!1},e}((function(){})),ub=function(){function t(t,e){this.di=t,this.pu=e,this.state="Unknown",this.vu=0,this.bu=null,this.Su=!0}return t.prototype.Du=function(){var t=this;0===this.vu&&(this.Cu("Unknown"),this.bu=this.di.Us("online_state_timeout",1e4,(function(){return t.bu=null,t.Nu("Backend didn't respond within 10 seconds."),t.Cu("Offline"),Promise.resolve()})))},t.prototype.xu=function(t){"Online"===this.state?this.Cu("Unknown"):(this.vu++,this.vu>=1&&(this.Fu(),this.Nu("Connection failed 1 times. Most recent error: "+t.toString()),this.Cu("Offline")))},t.prototype.set=function(t){this.Fu(),this.vu=0,"Online"===t&&(this.Su=!1),this.Cu(t)},t.prototype.Cu=function(t){t!==this.state&&(this.state=t,this.pu(t))},t.prototype.Nu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Su?(wp(e),this.Su=!1):bp("OnlineStateTracker",e)},t.prototype.Fu=function(){null!==this.bu&&(this.bu.cancel(),this.bu=null)},t}(),cb=function(t,e,n,r,i){var o=this;this.Ou=t,this.Mu=e,this.di=n,this.ku={},this.$u=[],this.Lu=new Map,this.Bu=new Set,this.qu=[],this.Uu=i,this.Uu.Qu((function(t){n.Ri((function(){return Object(ll.b)(o,void 0,void 0,(function(){return Object(ll.d)(this,(function(t){switch(t.label){case 0:return mb(this)?(bp("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(ll.b)(this,void 0,void 0,(function(){var e;return Object(ll.d)(this,(function(n){switch(n.label){case 0:return(e=Op(t)).Bu.add(4),[4,hb(e)];case 1:return n.sent(),e.Ku.set("Unknown"),e.Bu.delete(4),[4,lb(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Ku=new ub(n,r)};function lb(t){return Object(ll.b)(this,void 0,void 0,(function(){var e,n;return Object(ll.d)(this,(function(r){switch(r.label){case 0:if(!mb(t))return[3,4];e=0,n=t.qu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function hb(t){return Object(ll.b)(this,void 0,void 0,(function(){var e,n;return Object(ll.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.qu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function fb(t,e){var n=Op(t);n.Lu.has(e.targetId)||(n.Lu.set(e.targetId,e),gb(n)?yb(n):Db(n).Xc()&&pb(n,e))}function db(t,e){var n=Op(t),r=Db(n);n.Lu.delete(e),r.Xc()&&vb(n,e),0===n.Lu.size&&(r.Xc()?r.eu():mb(n)&&n.Ku.set("Unknown"))}function pb(t,e){t.Wu.De(e.targetId),Db(t).du(e)}function vb(t,e){t.Wu.De(e),Db(t).wu(e)}function yb(t){t.Wu=new jv({Xe:function(e){return t.ku.Xe(e)},Ze:function(e){return t.Lu.get(e)||null}}),Db(t).start(),t.Ku.Du()}function gb(t){return mb(t)&&!Db(t).Yc()&&t.Lu.size>0}function mb(t){return 0===Op(t).Bu.size}function _b(t){t.Wu=void 0}function bb(t){return Object(ll.b)(this,void 0,void 0,(function(){return Object(ll.d)(this,(function(e){return t.Lu.forEach((function(e,n){pb(t,e)})),[2]}))}))}function wb(t,e){return Object(ll.b)(this,void 0,void 0,(function(){return Object(ll.d)(this,(function(n){return _b(t),gb(t)?(t.Ku.xu(e),yb(t)):t.Ku.set("Unknown"),[2]}))}))}function kb(t,e,n){return Object(ll.b)(this,void 0,void 0,(function(){var r,i,o;return Object(ll.d)(this,(function(s){switch(s.label){case 0:if(t.Ku.set("Online"),!(e instanceof xv&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(ll.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(ll.d)(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Lu.has(o=i[r])?[4,t.ku.ju(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Lu.delete(o),t.Wu.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),bp("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Cb(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Tv?t.Wu.$e(e):e instanceof Iv?t.Wu.je(e):t.Wu.qe(e),n.isEqual(Vp.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Q_(t.Ou)];case 8:return i=s.sent(),n.F(i)>=0?[4,function(t,e){var n=t.Wu.He(e);return n.re.forEach((function(n,r){if(n.resumeToken.ht()>0){var i=t.Lu.get(r);i&&t.Lu.set(r,i.wt(n.resumeToken,e))}})),n.oe.forEach((function(e){var n=t.Lu.get(e);if(n){t.Lu.set(e,n.wt(tv.lt,n.ft)),vb(t,e);var r=new rv(n.target,e,1,n.sequenceNumber);pb(t,r)}})),t.ku.Gu(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return bp("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Cb(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Cb(t,e,n){return Object(ll.b)(this,void 0,void 0,(function(){var r=this;return Object(ll.d)(this,(function(i){switch(i.label){case 0:if(!pm(e))throw e;return t.Bu.add(1),[4,hb(t)];case 1:return i.sent(),t.Ku.set("Offline"),n||(n=function(){return Q_(t.Ou)}),t.di.Mi((function(){return Object(ll.b)(r,void 0,void 0,(function(){return Object(ll.d)(this,(function(e){switch(e.label){case 0:return bp("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Bu.delete(1),[4,lb(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Eb(t,e){return e().catch((function(n){return Cb(t,n,e)}))}function Sb(t){return Object(ll.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(ll.d)(this,(function(s){switch(s.label){case 0:e=Op(t),n=Nb(e),r=e.$u.length>0?e.$u[e.$u.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return mb(t)&&t.$u.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Z_(e.Ou,r)];case 3:return null===(i=s.sent())?(0===e.$u.length&&n.eu(),[3,7]):(r=i.batchId,function(t,e){t.$u.push(e);var n=Nb(t);n.Xc()&&n.Tu&&n.Iu(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Cb(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Ob(e)&&Tb(e),[2]}}))}))}function Ob(t){return mb(t)&&!Nb(t).Yc()&&t.$u.length>0}function Tb(t){Nb(t).start()}function Ib(t){return Object(ll.b)(this,void 0,void 0,(function(){return Object(ll.d)(this,(function(e){return Nb(t).Ru(),[2]}))}))}function xb(t){return Object(ll.b)(this,void 0,void 0,(function(){var e,n,r;return Object(ll.d)(this,(function(i){for(e=Nb(t),n=0,r=t.$u;n<r.length;n++)e.Iu(r[n].mutations);return[2]}))}))}function Ab(t,e,n){return Object(ll.b)(this,void 0,void 0,(function(){var r,i;return Object(ll.d)(this,(function(o){switch(o.label){case 0:return r=t.$u.shift(),i=Xg.from(r,e,n),[4,Eb(t,(function(){return t.ku.zu(i)}))];case 1:return o.sent(),[4,Sb(t)];case 2:return o.sent(),[2]}}))}))}function jb(t,e){return Object(ll.b)(this,void 0,void 0,(function(){return Object(ll.d)(this,(function(n){switch(n.label){case 0:return e&&Nb(t).Tu?[4,function(t,e){return Object(ll.b)(this,void 0,void 0,(function(){var n,r;return Object(ll.d)(this,(function(i){switch(i.label){case 0:return ov(r=e.code)&&r!==Tp.ABORTED?(n=t.$u.shift(),Nb(t).tu(),[4,Eb(t,(function(){return t.ku.Hu(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Sb(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Ob(t)&&Tb(t),[2]}}))}))}function Pb(t,e){return Object(ll.b)(this,void 0,void 0,(function(){var n;return Object(ll.d)(this,(function(r){switch(r.label){case 0:return n=Op(t),e?(n.Bu.delete(2),[4,lb(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Bu.add(2),[4,hb(n)]);case 3:r.sent(),n.Ku.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Db(t){var e=this;return t.Ju||(t.Ju=function(t,e,n){var r=Op(t);return r.gu(),new ob(e,r.Gc,r.credentials,r.serializer,n)}(t.Mu,t.di,{lu:bb.bind(null,t),ou:wb.bind(null,t),fu:kb.bind(null,t)}),t.qu.push((function(n){return Object(ll.b)(e,void 0,void 0,(function(){return Object(ll.d)(this,(function(e){switch(e.label){case 0:return n?(t.Ju.tu(),gb(t)?yb(t):t.Ku.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ju.stop()];case 2:e.sent(),_b(t),e.label=3;case 3:return[2]}}))}))}))),t.Ju}function Nb(t){var e=this;return t.Yu||(t.Yu=function(t,e,n){var r=Op(t);return r.gu(),new sb(e,r.Gc,r.credentials,r.serializer,n)}(t.Mu,t.di,{lu:Ib.bind(null,t),ou:jb.bind(null,t),Au:xb.bind(null,t),mu:Ab.bind(null,t)}),t.qu.push((function(n){return Object(ll.b)(e,void 0,void 0,(function(){return Object(ll.d)(this,(function(e){switch(e.label){case 0:return n?(t.Yu.tu(),[4,Sb(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Yu.stop()];case 3:e.sent(),t.$u.length>0&&(bp("RemoteStore","Stopping write stream with "+t.$u.length+" pending writes"),t.$u=[]),e.label=4;case 4:return[2]}}))}))}))),t.Yu}var Rb=function(){this.Xu=void 0,this.listeners=[]},Lb=function(){this.queries=new $g((function(t){return jg(t)}),Ag),this.onlineState="Unknown",this.Zu=new Set};function Mb(t,e){return Object(ll.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(ll.d)(this,(function(c){switch(c.label){case 0:if(n=Op(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Rb),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.ta(r)];case 2:return s.Xu=c.sent(),[3,4];case 3:return a=c.sent(),u=Em(a,"Initialization of query '"+Pg(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.ea(n.onlineState),o.Xu&&e.na(o.Xu)&&qb(n),[2]}}))}))}function Fb(t,e){return Object(ll.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(ll.d)(this,(function(a){return n=Op(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.sa(r))]:[2]}))}))}function Ub(t,e){for(var n=Op(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].na(s)&&(r=!0);a.Xu=s}}r&&qb(n)}function Vb(t,e,n){var r=Op(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function qb(t){t.Zu.forEach((function(t){t.next()}))}var zb=function(){function t(t,e,n){this.query=t,this.ia=e,this.ra=!1,this.oa=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.na=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Ev(t.query,t.docs,t.te,e,t.ee,t.fromCache,t.ne,!0)}var o=!1;return this.ra?this.ca(t)&&(this.ia.next(t),o=!0):this.ua(t,this.onlineState)&&(this.aa(t),o=!0),this.oa=t,o},t.prototype.onError=function(t){this.ia.error(t)},t.prototype.ea=function(t){this.onlineState=t;var e=!1;return this.oa&&!this.ra&&this.ua(this.oa,t)&&(this.aa(this.oa),e=!0),e},t.prototype.ua=function(t,e){return!t.fromCache||!(this.options.ha&&"Offline"!==e||t.docs.W()&&"Offline"!==e)},t.prototype.ca=function(t){return t.docChanges.length>0||!!(t.ne||this.oa&&this.oa.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.aa=function(t){t=Ev.ie(t.query,t.docs,t.ee,t.fromCache),this.ra=!0,this.ia.next(t)},t}(),Bb=function(){function t(){this.la=new lv(Hb._a),this.fa=new lv(Hb.da)}return t.prototype.W=function(){return this.la.W()},t.prototype.Oo=function(t,e){var n=new Hb(t,e);this.la=this.la.add(n),this.fa=this.fa.add(n)},t.prototype.wa=function(t,e){var n=this;t.forEach((function(t){return n.Oo(t,e)}))},t.prototype.ko=function(t,e){this.Ea(new Hb(t,e))},t.prototype.Ta=function(t,e){var n=this;t.forEach((function(t){return n.ko(t,e)}))},t.prototype.Ia=function(t){var e=this,n=new Gp(new zp([])),r=new Hb(n,t),i=new Hb(n,t+1),o=[];return this.fa.Kt([r,i],(function(t){e.Ea(t),o.push(t.key)})),o},t.prototype.ma=function(){var t=this;this.la.forEach((function(e){return t.Ea(e)}))},t.prototype.Ea=function(t){this.la=this.la.delete(t),this.fa=this.fa.delete(t)},t.prototype.Aa=function(t){var e=new Gp(new zp([])),n=new Hb(e,t),r=new Hb(e,t+1),i=_v();return this.fa.Kt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.zr=function(t){var e=new Hb(t,0),n=this.la.jt(e);return null!==n&&t.isEqual(n.key)},t}(),Hb=function(){function t(t,e){this.key=t,this.Ra=e}return t._a=function(t,e){return Gp.$(t.key,e.key)||Lp(t.Ra,e.Ra)},t.da=function(t,e){return Lp(t.Ra,e.Ra)||Gp.$(t.key,e.key)},t}();function Gb(t,e){return"firestore_clients_"+t+"_"+e}function Wb(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.u()&&(r+="_"+e.uid),r}function Kb(t,e){return"firestore_targets_"+t+"_"+e}var Qb=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Pa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new Ip(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(wp("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ga=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Jb=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Pa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Ip(r.error.code,r.error.message)),i?new t(e,r.state,o):(wp("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ga=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Zb=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Pa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=wv(),s=0;i&&s<r.activeTargetIds.length;++s)i=Qp(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(wp("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Yb=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Pa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(wp("SharedClientState","Failed to parse online state: "+e),null)},t}(),Xb=function(){function t(){this.activeTargetIds=wv()}return t.prototype.ya=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Va=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ga=function(){var t={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),$b=function(){function t(t,e,n,r,i){this.window=t,this.Cs=e,this.persistenceKey=n,this.pa=r,this.va=null,this.pu=null,this.ps=null,this.ba=this.Sa.bind(this),this.Da=new av(Lp),this.lr=!1,this.Ca=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Na=Gb(this.persistenceKey,this.pa),this.xa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Da=this.Da.Tt(this.pa,new Xb),this.Fa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Oa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Ma=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ka=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.$a=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ba)}return t.Gs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(ll.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(ll.d)(this,(function(h){switch(h.label){case 0:return[4,this.va.gc()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.pa&&(i=this.getItem(Gb(this.persistenceKey,r)))&&(o=Zb.Pa(r,i))&&(this.Da=this.Da.Tt(o.clientId,o));for(this.La(),(s=this.storage.getItem(this.ka))&&(a=this.Ba(s))&&this.qa(a),u=0,c=this.Ca;u<c.length;u++)this.Sa(c[u]);return this.Ca=[],this.window.addEventListener("unload",(function(){return l.Ic()})),this.lr=!0,[2]}}))}))},t.prototype.Ss=function(t){this.setItem(this.xa,JSON.stringify(t))},t.prototype.Ua=function(){return this.Qa(this.Da)},t.prototype.Ka=function(t){var e=!1;return this.Da.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Wa=function(t){this.ja(t,"pending")},t.prototype.Ga=function(t,e,n){this.ja(t,e,n),this.za(t)},t.prototype.Ha=function(t){var e="not-current";if(this.Ka(t)){var n=this.storage.getItem(Kb(this.persistenceKey,t));if(n){var r=Jb.Pa(t,n);r&&(e=r.state)}}return this.Ja.ya(t),this.La(),e},t.prototype.Ya=function(t){this.Ja.Va(t),this.La()},t.prototype.Xa=function(t){return this.Ja.activeTargetIds.has(t)},t.prototype.Za=function(t){this.removeItem(Kb(this.persistenceKey,t))},t.prototype.th=function(t,e,n){this.eh(t,e,n)},t.prototype.nh=function(t,e,n){var r=this;e.forEach((function(t){r.za(t)})),this.currentUser=t,n.forEach((function(t){r.Wa(t)}))},t.prototype.sh=function(t){this.ih(t)},t.prototype.rh=function(){this.oh()},t.prototype.Ic=function(){this.lr&&(this.window.removeEventListener("storage",this.ba),this.removeItem(this.Na),this.lr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return bp("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){bp("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){bp("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Sa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(bp("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Na)return void wp("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi((function(){return Object(ll.b)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Object(ll.d)(this,(function(a){if(this.lr){if(null!==n.key)if(this.Fa.test(n.key)){if(null==n.newValue)return t=this.uh(n.key),[2,this.ah(t,null)];if(e=this.hh(n.key,n.newValue))return[2,this.ah(e.clientId,e)]}else if(this.Oa.test(n.key)){if(null!==n.newValue&&(r=this.lh(n.key,n.newValue)))return[2,this._h(r)]}else if(this.Ma.test(n.key)){if(null!==n.newValue&&(i=this.fh(n.key,n.newValue)))return[2,this.dh(i)]}else if(n.key===this.ka){if(null!==n.newValue&&(o=this.Ba(n.newValue)))return[2,this.qa(o)]}else if(n.key===this.xa)(s=function(t){var e=cm.Ds;if(null!=t)try{var n=JSON.parse(t);Sp("number"==typeof n),e=n}catch(t){wp("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==cm.Ds&&this.ps(s);else if(n.key===this.$a)return[2,this.va.wh()]}else this.Ca.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ja",{get:function(){return this.Da.get(this.pa)},enumerable:!1,configurable:!0}),t.prototype.La=function(){this.setItem(this.Na,this.Ja.ga())},t.prototype.ja=function(t,e,n){var r=new Qb(this.currentUser,t,e,n),i=Wb(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ga())},t.prototype.za=function(t){var e=Wb(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ih=function(t){this.storage.setItem(this.ka,JSON.stringify({clientId:this.pa,onlineState:t}))},t.prototype.eh=function(t,e,n){var r=Kb(this.persistenceKey,t),i=new Jb(t,e,n);this.setItem(r,i.ga())},t.prototype.oh=function(){this.setItem(this.$a,"value-not-used")},t.prototype.uh=function(t){var e=this.Fa.exec(t);return e?e[1]:null},t.prototype.hh=function(t,e){var n=this.uh(t);return Zb.Pa(n,e)},t.prototype.lh=function(t,e){var n=this.Oa.exec(t),r=Number(n[1]);return Qb.Pa(new gp(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fh=function(t,e){var n=this.Ma.exec(t),r=Number(n[1]);return Jb.Pa(r,e)},t.prototype.Ba=function(t){return Yb.Pa(t)},t.prototype._h=function(t){return Object(ll.b)(this,void 0,void 0,(function(){return Object(ll.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.va.Eh(t.batchId,t.state,t.error)]:(bp("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.dh=function(t){return this.va.Th(t.targetId,t.state,t.error)},t.prototype.ah=function(t,e){var n=this,r=e?this.Da.Tt(t,e):this.Da.remove(t),i=this.Qa(this.Da),o=this.Qa(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.va.Ih(s,a).then((function(){n.Da=r}))},t.prototype.qa=function(t){this.Da.get(t.clientId)&&this.pu(t.onlineState)},t.prototype.Qa=function(t){var e=wv();return t.forEach((function(t,n){e=e.Gt(n.activeTargetIds)})),e},t}(),tw=function(){function t(){this.mh=new Xb,this.Ah={},this.pu=null,this.ps=null}return t.prototype.Wa=function(t){},t.prototype.Ga=function(t,e,n){},t.prototype.Ha=function(t){return this.mh.ya(t),this.Ah[t]||"not-current"},t.prototype.th=function(t,e,n){this.Ah[t]=e},t.prototype.Ya=function(t){this.mh.Va(t)},t.prototype.Xa=function(t){return this.mh.activeTargetIds.has(t)},t.prototype.Za=function(t){delete this.Ah[t]},t.prototype.Ua=function(){return this.mh.activeTargetIds},t.prototype.Ka=function(t){return this.mh.activeTargetIds.has(t)},t.prototype.start=function(){return this.mh=new Xb,Promise.resolve()},t.prototype.nh=function(t,e,n){},t.prototype.sh=function(t){},t.prototype.Ic=function(){},t.prototype.Ss=function(t){},t.prototype.rh=function(){},t}(),ew=function(t){this.key=t},nw=function(t){this.key=t},rw=function(){function t(t,e){this.query=t,this.Rh=e,this.Ph=null,this.le=!1,this.gh=_v(),this.ee=_v(),this.yh=Ng(t),this.Vh=new kv(this.yh)}return Object.defineProperty(t.prototype,"ph",{get:function(){return this.Rh},enumerable:!1,configurable:!0}),t.prototype.bh=function(t,e){var n=this,r=e?e.Sh:new Cv,i=e?e.Vh:this.Vh,o=e?e.ee:this.ee,s=i,a=!1,u=kg(this.query)&&i.size===this.query.limit?i.last():null,c=Cg(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pt((function(t,e){var l=i.get(t),h=e instanceof yg?e:null;h&&(h=Dg(n.query,h)?h:null);var f=!!l&&n.ee.has(l.key),d=!!h&&(h.an||n.ee.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Dh(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.yh(h,u)>0||c&&n.yh(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),kg(this.query)||Cg(this.query))for(;s.size>this.query.limit;){var l=kg(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Vh:s,Sh:r,br:a,ee:o}},t.prototype.Dh=function(t,e){return t.an&&e.hasCommittedMutations&&!e.an},t.prototype.Zn=function(t,e,n){var r=this,i=this.Vh;this.Vh=t.Vh,this.ee=t.ee;var o=t.Sh.Zt();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ep()}};return n(t)-n(e)}(t.type,e.type)||r.yh(t.doc,e.doc)})),this.Ch(n);var s=e?this.Nh():[],a=0===this.gh.size&&this.le?1:0,u=a!==this.Ph;return this.Ph=a,0!==o.length||u?{snapshot:new Ev(this.query,t.Vh,i,o,t.ee,0===a,u,!1),xh:s}:{xh:s}},t.prototype.ea=function(t){return this.le&&"Offline"===t?(this.le=!1,this.Zn({Vh:this.Vh,Sh:new Cv,ee:this.ee,br:!1},!1)):{xh:[]}},t.prototype.Fh=function(t){return!this.Rh.has(t)&&!!this.Vh.has(t)&&!this.Vh.get(t).an},t.prototype.Ch=function(t){var e=this;t&&(t._e.forEach((function(t){return e.Rh=e.Rh.add(t)})),t.fe.forEach((function(t){})),t.de.forEach((function(t){return e.Rh=e.Rh.delete(t)})),this.le=t.le)},t.prototype.Nh=function(){var t=this;if(!this.le)return[];var e=this.gh;this.gh=_v(),this.Vh.forEach((function(e){t.Fh(e.key)&&(t.gh=t.gh.add(e.key))}));var n=[];return e.forEach((function(e){t.gh.has(e)||n.push(new nw(e))})),this.gh.forEach((function(t){e.has(t)||n.push(new ew(t))})),n},t.prototype.Oh=function(t){this.Rh=t.Kc,this.gh=_v();var e=this.bh(t.documents);return this.Zn(e,!0)},t.prototype.Mh=function(){return Ev.ie(this.query,this.Vh,this.ee,0===this.Ph)},t}(),iw=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ow=function(t){this.key=t,this.kh=!1},sw=function(){function t(t,e,n,r,i,o){this.Ou=t,this.$h=e,this.Lh=n,this.Bh=r,this.currentUser=i,this.qh=o,this.Uh={},this.Qh=new $g((function(t){return jg(t)}),Ag),this.Kh=new Map,this.Wh=[],this.jh=new av(Gp.$),this.Gh=new Map,this.zh=new Bb,this.Hh={},this.Jh=new Map,this.Yh=j_.Io(),this.onlineState="Unknown",this.Xh=void 0}return Object.defineProperty(t.prototype,"Zh",{get:function(){return!0===this.Xh},enumerable:!1,configurable:!0}),t}();function aw(t,e){return Object(ll.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(ll.d)(this,(function(a){switch(a.label){case 0:return n=Lw(t),(i=n.Qh.get(e))?(n.Bh.Ha(i.targetId),r=i.view.Mh(),[3,4]):[3,1];case 1:return[4,Y_(n.Ou,Ig(e))];case 2:return o=a.sent(),s=n.Bh.Ha(o.targetId),[4,uw(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.Zh&&fb(n.$h,o),a.label=4;case 4:return[2,r]}}))}))}function uw(t,e,n,r){return Object(ll.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Object(ll.d)(this,(function(l){switch(l.label){case 0:return t.tl=function(e,n,r){return function(t,e,n,r){return Object(ll.b)(this,void 0,void 0,(function(){var i,o,s;return Object(ll.d)(this,(function(a){switch(a.label){case 0:return(i=e.view.bh(n)).br?[4,$_(t.Ou,e.query,!1).then((function(t){return e.view.bh(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.re.get(e.targetId),s=e.view.Zn(i,t.Zh,o),[2,(ww(t,e.targetId,s.xh),s.snapshot)]}}))}))}(t,e,n,r)},[4,$_(t.Ou,e,!0)];case 1:return i=l.sent(),o=new rw(e,i.Kc),s=o.bh(i.documents),a=Ov.he(n,r&&"Offline"!==t.onlineState),u=o.Zn(s,t.Zh,a),ww(t,n,u.xh),c=new iw(e,n,o),[2,(t.Qh.set(e,c),t.Kh.has(n)?t.Kh.get(n).push(e):t.Kh.set(n,[e]),u.snapshot)]}}))}))}function cw(t,e){return Object(ll.b)(this,void 0,void 0,(function(){var n,r,i;return Object(ll.d)(this,(function(o){switch(o.label){case 0:return n=Op(t),r=n.Qh.get(e),(i=n.Kh.get(r.targetId)).length>1?[2,(n.Kh.set(r.targetId,i.filter((function(t){return!Ag(t,e)}))),void n.Qh.delete(e))]:n.Zh?(n.Bh.Ya(r.targetId),n.Bh.Ka(r.targetId)?[3,2]:[4,X_(n.Ou,r.targetId,!1).then((function(){n.Bh.Za(r.targetId),db(n.$h,r.targetId),_w(n,r.targetId)})).catch(rb)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return _w(n,r.targetId),[4,X_(n.Ou,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function lw(t,e,n){return Object(ll.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(ll.d)(this,(function(a){switch(a.label){case 0:r=Mw(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Op(t),i=Up.now(),o=e.reduce((function(t,e){return t.add(e.key)}),_v());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Bc._s(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=eg(c,n.get(c.key));null!=l&&s.push(new og(c.key,l,pg(l.proto.mapValue),Zy.exists(!0)))}return r.rs.Or(t,i,s,e)}))})).then((function(t){var e=t.vn(n);return{batchId:t.batchId,Qn:e}}))}(r.Ou,e)];case 2:return i=a.sent(),r.Bh.Wa(i.batchId),function(t,e,n){var r=t.Hh[t.currentUser.h()];r||(r=new av(Lp)),r=r.Tt(e,n),t.Hh[t.currentUser.h()]=r}(r,i.batchId,n),[4,Ew(r,i.Qn)];case 3:return a.sent(),[4,Sb(r.$h)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Em(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function hw(t,e){return Object(ll.b)(this,void 0,void 0,(function(){var n,r;return Object(ll.d)(this,(function(i){switch(i.label){case 0:n=Op(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,J_(n.Ou,e)];case 2:return r=i.sent(),e.re.forEach((function(t,e){var r=n.Gh.get(e);r&&(Sp(t._e.size+t.fe.size+t.de.size<=1),t._e.size>0?r.kh=!0:t.fe.size>0?Sp(r.kh):t.de.size>0&&(Sp(r.kh),r.kh=!1))})),[4,Ew(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,rb(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function fw(t,e,n){var r=Op(t);if(r.Zh&&0===n||!r.Zh&&1===n){var i=[];r.Qh.forEach((function(t,n){var r=n.view.ea(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Op(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].ea(e)&&(r=!0)})),r&&qb(n)}(r.Lh,e),i.length&&r.Uh.fu(i),r.onlineState=e,r.Zh&&r.Bh.sh(e)}}function dw(t,e,n){return Object(ll.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Object(ll.d)(this,(function(c){switch(c.label){case 0:return(r=Op(t)).Bh.th(e,"rejected",n),i=r.Gh.get(e),(o=i&&i.key)?(s=(s=new av(Gp.$)).Tt(o,new gg(o,Vp.min())),a=_v().add(o),u=new Sv(Vp.min(),new Map,new lv(Lp),s,a),[4,hw(r,u)]):[3,2];case 1:return c.sent(),r.jh=r.jh.remove(o),r.Gh.delete(e),Cw(r),[3,4];case 2:return[4,X_(r.Ou,e,!1).then((function(){return _w(r,e,n)})).catch(rb)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function pw(t,e){return Object(ll.b)(this,void 0,void 0,(function(){var n,r,i;return Object(ll.d)(this,(function(o){switch(o.label){case 0:n=Op(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,K_(n.Ou,e)];case 2:return i=o.sent(),mw(n,r,null),gw(n,r),n.Bh.Ga(r,"acknowledged"),[4,Ew(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,rb(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function vw(t,e,n){return Object(ll.b)(this,void 0,void 0,(function(){var r,i;return Object(ll.d)(this,(function(o){switch(o.label){case 0:r=Op(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Op(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.rs.kr(t,e).next((function(e){return Sp(null!==e),r=e.keys(),n.rs.Qr(t,e)})).next((function(){return n.rs.Gr(t)})).next((function(){return n.Bc._s(t,r)}))}))}(r.Ou,e)];case 2:return i=o.sent(),mw(r,e,n),gw(r,e),r.Bh.Ga(e,"rejected",n),[4,Ew(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,rb(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function yw(t,e){return Object(ll.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(ll.d)(this,(function(a){switch(a.label){case 0:mb((n=Op(t)).$h)||bp("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Op(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.rs.Br(t)}))}(n.Ou)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Jh.get(r)||[]).push(e),n.Jh.set(r,i),[3,4]);case 3:return o=a.sent(),s=Em(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function gw(t,e){(t.Jh.get(e)||[]).forEach((function(t){t.resolve()})),t.Jh.delete(e)}function mw(t,e,n){var r=Op(t),i=r.Hh[r.currentUser.h()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Hh[r.currentUser.h()]=i}}function _w(t,e,n){void 0===n&&(n=null),t.Bh.Ya(e);for(var r=0,i=t.Kh.get(e);r<i.length;r++){var o=i[r];t.Qh.delete(o),n&&t.Uh.el(o,n)}t.Kh.delete(e),t.Zh&&t.zh.Ia(e).forEach((function(e){t.zh.zr(e)||bw(t,e)}))}function bw(t,e){var n=t.jh.get(e);null!==n&&(db(t.$h,n),t.jh=t.jh.remove(e),t.Gh.delete(n),Cw(t))}function ww(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ew?(t.zh.Oo(o.key,e),kw(t,o)):o instanceof nw?(bp("SyncEngine","Document no longer in limbo: "+o.key),t.zh.ko(o.key,e),t.zh.zr(o.key)||bw(t,o.key)):Ep()}}function kw(t,e){var n=e.key;t.jh.get(n)||(bp("SyncEngine","New document in limbo: "+n),t.Wh.push(n),Cw(t))}function Cw(t){for(;t.Wh.length>0&&t.jh.size<t.qh;){var e=t.Wh.shift(),n=t.Yh.next();t.Gh.set(n,new ow(e)),t.jh=t.jh.Tt(e,n),fb(t.$h,new rv(Ig(wg(e.path)),n,2,cm.Ds))}}function Ew(t,e,n){return Object(ll.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(ll.d)(this,(function(a){switch(a.label){case 0:return r=Op(t),i=[],o=[],s=[],r.Qh.W()?[3,3]:(r.Qh.forEach((function(t,a){s.push(r.tl(a,e,n).then((function(t){if(t){r.Zh&&r.Bh.th(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=um.Vs(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.Uh.fu(i),[4,function(t,e){return Object(ll.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Object(ll.d)(this,(function(l){switch(l.label){case 0:n=Op(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return tm.forEach(e,(function(e){return tm.forEach(e.gs,(function(r){return n.persistence.Dr.Oo(t,e.targetId,r)})).next((function(){return tm.forEach(e.ys,(function(r){return n.persistence.Dr.ko(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!pm(r=l.sent()))throw r;return bp("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Mc.get(a),c=u.Et(u.ft),n.Mc=n.Mc.Tt(a,c));return[2]}}))}))}(r.Ou,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Sw(t,e){return Object(ll.b)(this,void 0,void 0,(function(){var n,r;return Object(ll.d)(this,(function(i){switch(i.label){case 0:return(n=Op(t)).currentUser.isEqual(e)?[3,3]:(bp("SyncEngine","User change. New user:",e.h()),[4,W_(n.Ou,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Jh.forEach((function(t){t.forEach((function(t){t.reject(new Ip(Tp.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Jh.clear()}(n),n.Bh.nh(e,r.Uc,r.Qc),[4,Ew(n,r.qc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Ow(t,e){var n=Op(t),r=n.Gh.get(e);if(r&&r.kh)return _v().add(r.key);var i=_v(),o=n.Kh.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Qh.get(a[s]);i=i.Gt(u.view.ph)}return i}function Tw(t,e){return Object(ll.b)(this,void 0,void 0,(function(){var n,r,i;return Object(ll.d)(this,(function(o){switch(o.label){case 0:return[4,$_((n=Op(t)).Ou,e.query,!0)];case 1:return r=o.sent(),i=e.view.Oh(r),[2,(n.Zh&&ww(n,e.targetId,i.xh),i)]}}))}))}function Iw(t){return Object(ll.b)(this,void 0,void 0,(function(){var e;return Object(ll.d)(this,(function(n){return[2,eb((e=Op(t)).Ou).then((function(t){return Ew(e,t)}))]}))}))}function xw(t,e,n,r){return Object(ll.b)(this,void 0,void 0,(function(){var i,o;return Object(ll.d)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=Op(t),r=Op(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.$r(t,e).next((function(e){return e?n.Bc._s(t,e):tm.resolve(null)}))}))}((i=Op(t)).Ou,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Sb(i.$h)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(mw(i,e,r||null),gw(i,e),function(t,e){Op(Op(t).rs).Wr(e)}(i.Ou,e)):Ep(),s.label=4;case 4:return[4,Ew(i,o)];case 5:return s.sent(),[3,7];case 6:bp("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function Aw(t,e){return Object(ll.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(ll.d)(this,(function(c){switch(c.label){case 0:return Lw(n=Op(t)),Mw(n),!0!==e||!0===n.Xh?[3,3]:(r=n.Bh.Ua(),[4,jw(n,r.H())]);case 1:return i=c.sent(),n.Xh=!0,[4,Pb(n.$h,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)fb(n.$h,s[o]);return[3,7];case 3:return!1!==e||!1===n.Xh?[3,7]:(a=[],u=Promise.resolve(),n.Kh.forEach((function(t,e){n.Bh.Xa(e)?a.push(e):u=u.then((function(){return _w(n,e),X_(n.Ou,e,!0)})),db(n.$h,e)})),[4,u]);case 4:return c.sent(),[4,jw(n,a)];case 5:return c.sent(),function(t){var e=Op(t);e.Gh.forEach((function(t,n){db(e.$h,n)})),e.zh.ma(),e.Gh=new Map,e.jh=new av(Gp.$)}(n),n.Xh=!1,[4,Pb(n.$h,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function jw(t,e,n){return Object(ll.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(ll.d)(this,(function(v){switch(v.label){case 0:n=Op(t),r=[],i=[],o=0,s=e,v.label=1;case 1:return o<s.length?(u=void 0,(c=n.Kh.get(a=s[o]))&&0!==c.length?[4,Y_(n.Ou,Ig(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.Qh.get(h[l]),[4,Tw(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,tb(n.Ou,a)];case 8:return p=v.sent(),[4,Y_(n.Ou,p)];case 9:return u=v.sent(),[4,uw(n,Pw(p),a,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Uh.fu(i),r)]}}))}))}function Pw(t){return bg(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Dw(t){var e=Op(t);return Op(Op(e.Ou).persistence).gc()}function Nw(t,e,n,r){return Object(ll.b)(this,void 0,void 0,(function(){var i,o,s;return Object(ll.d)(this,(function(a){switch(a.label){case 0:return(i=Op(t)).Xh?(bp("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Kh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,eb(i.Ou)];case 3:return o=a.sent(),s=Sv.ae(e,"current"===n),[4,Ew(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,X_(i.Ou,e,!0)];case 6:return a.sent(),_w(i,e,r),[3,8];case 7:Ep(),a.label=8;case 8:return[2]}}))}))}function Rw(t,e,n){return Object(ll.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h;return Object(ll.d)(this,(function(f){switch(f.label){case 0:if(!(r=Lw(t)).Xh)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Kh.has(s=o[i])?(bp("SyncEngine","Adding an already active target "+s),[3,5]):[4,tb(r.Ou,s)]:[3,6];case 2:return a=f.sent(),[4,Y_(r.Ou,a)];case 3:return u=f.sent(),[4,uw(r,Pw(a),u.targetId,!1)];case 4:f.sent(),fb(r.$h,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(ll.d)(this,(function(e){switch(e.label){case 0:return r.Kh.has(t)?[4,X_(r.Ou,t,!1).then((function(){db(r.$h,t),_w(r,t)})).catch(rb)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Lw(t){var e=Op(t);return e.$h.ku.Gu=hw.bind(null,e),e.$h.ku.Xe=Ow.bind(null,e),e.$h.ku.ju=dw.bind(null,e),e.Uh.fu=Ub.bind(null,e.Lh),e.Uh.el=Vb.bind(null,e.Lh),e}function Mw(t){var e=Op(t);return e.$h.ku.zu=pw.bind(null,e),e.$h.ku.Hu=vw.bind(null,e),e}var Fw=function(){function t(t,e){this.os=t,this.Dr=e,this.rs=[],this.nl=1,this.sl=new lv(Hb._a)}return t.prototype.Fr=function(t){return tm.resolve(0===this.rs.length)},t.prototype.Or=function(t,e,n,r){var i=this.nl;this.nl++;var o=new Yg(i,e,n,r);this.rs.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.sl=this.sl.add(new Hb(u.key,i)),this.os.Mr(t,u.key.path.q())}return tm.resolve(o)},t.prototype.kr=function(t,e){return tm.resolve(this.il(e))},t.prototype.Lr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return tm.resolve(this.rs.length>r?this.rs[r]:null)},t.prototype.Br=function(){return tm.resolve(0===this.rs.length?-1:this.nl-1)},t.prototype.qr=function(t){return tm.resolve(this.rs.slice())},t.prototype.us=function(t,e){var n=this,r=new Hb(e,0),i=new Hb(e,Number.POSITIVE_INFINITY),o=[];return this.sl.Kt([r,i],(function(t){var e=n.il(t.Ra);o.push(e)})),tm.resolve(o)},t.prototype.ds=function(t,e){var n=this,r=new lv(Lp);return e.forEach((function(t){var e=new Hb(t,0),i=new Hb(t,Number.POSITIVE_INFINITY);n.sl.Kt([e,i],(function(t){r=r.add(t.Ra)}))})),tm.resolve(this.ol(r))},t.prototype.Rs=function(t,e){var n=e.path,r=n.length+1,i=n;Gp.ot(i)||(i=i.child(""));var o=new Hb(new Gp(i),0),s=new lv(Lp);return this.sl.Wt((function(t){var e=t.key.path;return!!n.j(e)&&(e.length===r&&(s=s.add(t.Ra)),!0)}),o),tm.resolve(this.ol(s))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.il(t);null!==r&&n.push(r)})),n},t.prototype.Qr=function(t,e){var n=this;Sp(0===this.cl(e.batchId,"removed")),this.rs.shift();var r=this.sl;return tm.forEach(e.mutations,(function(i){var o=new Hb(i.key,e.batchId);return r=r.delete(o),n.Dr.jr(t,i.key)})).next((function(){n.sl=r}))},t.prototype.Wr=function(t){},t.prototype.zr=function(t,e){var n=new Hb(e,0),r=this.sl.jt(n);return tm.resolve(e.isEqual(r&&r.key))},t.prototype.Gr=function(t){return tm.resolve()},t.prototype.cl=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.rs.length?0:t-this.rs[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.rs.length?null:this.rs[e]},t}(),Uw=function(){function t(t,e){this.os=t,this.ul=e,this.docs=new av(Gp.$),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ul(e);return this.docs=this.docs.Tt(r,{zn:e,size:s,readTime:n}),this.size+=s-o,this.os.Mr(t,r.path.q())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Jn=function(t,e){var n=this.docs.get(e);return tm.resolve(n?n.zn:null)},t.prototype.getEntries=function(t,e){var n=this,r=pv();return e.forEach((function(t){var e=n.docs.get(t);r=r.Tt(t,e?e.zn:null)})),tm.resolve(r)},t.prototype.ws=function(t,e,n){for(var r=yv(),i=new Gp(e.path.child("")),o=this.docs.Vt(i);o.Nt();){var s=o.Ct(),a=s.value,u=a.zn,c=a.readTime;if(!e.path.j(s.key.path))break;c.F(n)<=0||u instanceof yg&&Dg(e,u)&&(r=r.Tt(u.key,u))}return tm.resolve(r)},t.prototype.al=function(t,e){return tm.forEach(this.docs,(function(t){return e(t)}))},t.prototype.io=function(t){return new Vw(this)},t.prototype.oo=function(t){return tm.resolve(this.size)},t}(),Vw=function(t){function e(e){var n=this;return(n=t.call(this)||this).co=e,n}return Object(ll.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[];return this.Qn.forEach((function(r,i){i&&i.zn?n.push(e.co.jn(t,i.zn,e.Wn(r))):e.co.Hn(r)})),tm.qn(n)},e.prototype.Yn=function(t,e){return this.co.Jn(t,e)},e.prototype.Xn=function(t,e){return this.co.getEntries(t,e)},e}(em),qw=function(){function t(t){this.persistence=t,this.hl=new $g((function(t){return Yp(t)}),Xp),this.lastRemoteSnapshotVersion=Vp.min(),this.highestTargetId=0,this.ll=0,this._l=new Bb,this.targetCount=0,this.fl=j_.To()}return t.prototype.Ue=function(t,e){return this.hl.forEach((function(t,n){return e(n)})),tm.resolve()},t.prototype.Po=function(t){return tm.resolve(this.lastRemoteSnapshotVersion)},t.prototype.yo=function(t){return tm.resolve(this.ll)},t.prototype.mo=function(t){return this.highestTargetId=this.fl.next(),tm.resolve(this.highestTargetId)},t.prototype.Vo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),tm.resolve()},t.prototype.vo=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new j_(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.po=function(t,e){return this.vo(e),this.targetCount+=1,tm.resolve()},t.prototype.So=function(t,e){return this.vo(e),tm.resolve()},t.prototype.Do=function(t,e){return this.hl.delete(e.target),this._l.Ia(e.targetId),this.targetCount-=1,tm.resolve()},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return this.hl.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.hl.delete(s),o.push(r.Co(t,a.targetId)),i++)})),tm.qn(o).next((function(){return i}))},t.prototype.No=function(t){return tm.resolve(this.targetCount)},t.prototype.xo=function(t,e){var n=this.hl.get(e)||null;return tm.resolve(n)},t.prototype.Fo=function(t,e,n){return this._l.wa(e,n),tm.resolve()},t.prototype.Mo=function(t,e,n){this._l.Ta(e,n);var r=this.persistence.Dr,i=[];return r&&e.forEach((function(e){i.push(r.jr(t,e))})),tm.qn(i)},t.prototype.Co=function(t,e){return this._l.Ia(e),tm.resolve()},t.prototype.$o=function(t,e){var n=this._l.Aa(e);return tm.resolve(n)},t.prototype.zr=function(t,e){return tm.resolve(this._l.zr(e))},t}(),zw=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.ho=function(t,e){return tm.resolve(this.dl.get(e))},t.prototype.lo=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:ly(n.createTime)}),tm.resolve()},t.prototype._o=function(t,e){return tm.resolve(this.wl.get(e))},t.prototype.fo=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:Wm(n.bundledQuery),readTime:ly(n.readTime)}),tm.resolve()},t}(),Bw=function(){function t(t,e){var n=this;this.El={},this.Uo=new cm(0),this.Qo=!1,this.Qo=!0,this.Dr=t(this),this.Yo=new qw(this),this.os=new o_,this.ss=function(t,e){return new Uw(t,(function(t){return n.Dr.Tl(t)}))}(this.os),this.serializer=new Lm(e),this.Xo=new zw(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Ic=function(){return this.Qo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"lr",{get:function(){return this.Qo},enumerable:!1,configurable:!0}),t.prototype.rc=function(){},t.prototype.oc=function(){},t.prototype.bc=function(){return this.os},t.prototype.yc=function(t){var e=this.El[t.h()];return e||(e=new Fw(this.os,this.Dr),this.El[t.h()]=e),e},t.prototype.Vc=function(){return this.Yo},t.prototype.vc=function(){return this.ss},t.prototype.Sc=function(){return this.Xo},t.prototype.runTransaction=function(t,e,n){var r=this;bp("MemoryPersistence","Starting transaction:",t);var i=new Hw(this.Uo.next());return this.Dr.Il(),n(i).next((function(t){return r.Dr.ml(i).next((function(){return t}))})).Ln().then((function(t){return i.ns(),t}))},t.prototype.Al=function(t,e){return tm.Un(Object.values(this.El).map((function(n){return function(){return n.zr(t,e)}})))},t}(),Hw=function(t){function e(e){var n=this;return(n=t.call(this)||this).Lo=e,n}return Object(ll.c)(e,t),e}(sm),Gw=function(){function t(t){this.persistence=t,this.Rl=new Bb,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw Ep()},enumerable:!1,configurable:!0}),t.prototype.Oo=function(t,e,n){return this.Rl.Oo(n,e),this.yl.delete(n.toString()),tm.resolve()},t.prototype.ko=function(t,e,n){return this.Rl.ko(n,e),this.yl.add(n.toString()),tm.resolve()},t.prototype.jr=function(t,e){return this.yl.add(e.toString()),tm.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.Ia(e.targetId).forEach((function(t){return n.yl.add(t.toString())}));var r=this.persistence.Vc();return r.$o(t,e.targetId).next((function(t){t.forEach((function(t){return n.yl.add(t.toString())}))})).next((function(){return r.Do(t,e)}))},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.vc().io();return tm.forEach(this.yl,(function(r){var i=Gp.st(r);return e.Vl(t,i).next((function(t){t||n.Hn(i)}))})).next((function(){return e.Pl=null,n.apply(t)}))},t.prototype.Fc=function(t,e){var n=this;return this.Vl(t,e).next((function(t){t?n.yl.delete(e.toString()):n.yl.add(e.toString())}))},t.prototype.Tl=function(t){return 0},t.prototype.Vl=function(t,e){var n=this;return tm.Un([function(){return tm.resolve(n.Rl.zr(e))},function(){return n.persistence.Vc().zr(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),Ww=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.lu=function(t){this.bl=t},t.prototype.ou=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),Kw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Qw=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(ll.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise((function(i,o){var s=new dp;s.listenOnce(lp.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case cp.NO_ERROR:var e=s.getResponseJson();bp("Connection","XHR received:",JSON.stringify(e)),i(e);break;case cp.TIMEOUT:bp("Connection",'RPC "'+t+'" timed out'),o(new Ip(Tp.DEADLINE_EXCEEDED,"Request time out"));break;case cp.HTTP_ERROR:var n=s.getStatus();if(bp("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Tp).indexOf(e)>=0?e:Tp.UNKNOWN}(r.status);o(new Ip(a,r.message))}else o(new Ip(Tp.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Ip(Tp.UNAVAILABLE,"Connection failed."));break;default:Ep()}}finally{bp("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype._u=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new ip,i=af(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(o.initMessageHeaders,e),Object(dl.l)()||Object(dl.n)()||Object(dl.j)()||Object(dl.k)()||Object(dl.o)()||Object(dl.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");bp("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Ww({pl:function(t){c?bp("Connection","Not sending because WebChannel is closed:",t):(u||(bp("Connection","Opening WebChannel transport."),a.open(),u=!0),bp("Connection","WebChannel sending:",t),a.send(t))},vl:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,fp.EventType.OPEN,(function(){c||bp("Connection","WebChannel transport opened.")})),h(a,fp.EventType.CLOSE,(function(){c||(c=!0,bp("Connection","WebChannel transport closed"),l.Nl())})),h(a,fp.EventType.ERROR,(function(t){c||(c=!0,kp("Connection","WebChannel transport errored:",t),l.Nl(new Ip(Tp.UNAVAILABLE,"The operation could not be completed")))})),h(a,fp.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Sp(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){bp("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=ev[t];if(void 0!==e)return sv(e)}(i),s=r.message;void 0===o&&(o=Tp.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Nl(new Ip(o,s)),a.close()}else bp("Connection","WebChannel received:",n),l.xl(n)}})),h(i,hp.STAT_EVENT,(function(t){10===t.stat?bp("Connection","Detected buffering proxy"):11===t.stat&&bp("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Cl()}),0),l},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.yu=function(t,e,n,r){var i=this.kl(t,e);bp("RestConnection","Sending: ",i,n);var o={};return this.$l(o,r),this.Ll(t,i,o,n).then((function(t){return bp("RestConnection","Received: ",t),t}),(function(e){throw kp("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Vu=function(t,e,n,r){return this.yu(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.1.2",t["Content-Type"]="text/plain",e)for(var n in e.T)e.T.hasOwnProperty(n)&&(t[n]=e.T[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+Kw[t]},t}()),Jw=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Qu=function(t){this.Kl.push(t)},t.prototype.Ic=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){bp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){bp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Zw=function(){function t(){}return t.prototype.Qu=function(t){},t.prototype.Ic=function(){},t}(),Yw=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(ll.b)(this,void 0,void 0,(function(){return Object(ll.d)(this,(function(e){switch(e.label){case 0:return this.serializer=rm(t.Fl.t),this.Bh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Ou=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return G_(this.persistence,new jm,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new Bw(Gw.gl,this.serializer)},t.prototype.jl=function(t){return new tw},t.prototype.terminate=function(){return Object(ll.b)(this,void 0,void 0,(function(){return Object(ll.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.Bh.Ic()];case 1:return t.sent(),[4,this.persistence.Ic()];case 2:return t.sent(),[2]}}))}))},t}(),Xw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(ll.c)(e,t),e.prototype.initialize=function(e){return Object(ll.b)(this,void 0,void 0,(function(){return Object(ll.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,nb(this.Ou)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,Mw(this.Xl.va)];case 4:return n.sent(),[4,Sb(this.Xl.$h)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return G_(this.persistence,new jm,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new xm(this.persistence.Dr.cr,t.di)},e.prototype.Gl=function(t){var e=B_(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?Im.er(this.cacheSizeBytes):Im.ir;return new F_(this.synchronizeTabs,e,t.clientId,n,t.di,bm(),wm(),this.serializer,this.Bh,!!this.forceOwnership)},e.prototype.jl=function(t){return new tw},e}(Yw),$w=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(ll.c)(e,t),e.prototype.initialize=function(e){return Object(ll.b)(this,void 0,void 0,(function(){var n,r=this;return Object(ll.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.va,this.Bh instanceof $b?(this.Bh.va={Eh:xw.bind(null,n),Th:Nw.bind(null,n),Ih:Rw.bind(null,n),gc:Dw.bind(null,n),wh:Iw.bind(null,n)},[4,this.Bh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.ic((function(t){return Object(ll.b)(r,void 0,void 0,(function(){return Object(ll.d)(this,(function(e){switch(e.label){case 0:return[4,Aw(this.Xl.va,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.lr?this.zl.start(this.Ou):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=bm();if(!$b.Gs(e))throw new Ip(Tp.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=B_(t.Fl.t,t.Fl.persistenceKey);return new $b(e,t.di,n,t.clientId,t.Yl)},e}(Xw),tk=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(ll.b)(this,void 0,void 0,(function(){var n=this;return Object(ll.d)(this,(function(r){switch(r.label){case 0:return this.Ou?[3,2]:(this.Ou=t.Ou,this.Bh=t.Bh,this.Mu=this.Zl(e),this.$h=this.t_(e),this.Lh=this.e_(e),this.va=this.n_(e,!t.synchronizeTabs),this.Bh.pu=function(t){return fw(n.va,t,1)},this.$h.ku.s_=Sw.bind(null,this.va),[4,Pb(this.$h,this.va.Zh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new Lb},t.prototype.Zl=function(t){var e=rm(t.Fl.t),n=new Qw(t.Fl);return function(t,e,n){return new ab(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Ou,n=this.Mu,r=t.di,i=function(t){return fw(s.va,t,0)},o=Jw.Gs()?new Jw:new Zw,new cb(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var a=new sw(t,e,n,r,i,o);return s&&(a.Xh=!0),a}(this.Ou,this.$h,this.Lh,this.Bh,t.Yl,t.qh,e)},t.prototype.terminate=function(){return function(t){return Object(ll.b)(this,void 0,void 0,(function(){var e;return Object(ll.d)(this,(function(n){switch(n.label){case 0:return e=Op(t),bp("RemoteStore","RemoteStore shutting down."),e.Bu.add(5),[4,hb(e)];case 1:return n.sent(),e.Uu.Ic(),e.Ku.set("Unknown"),[2]}}))}))}(this.$h)},t}(),ek=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function nk(t,e,n){if(!n)throw new Ip(Tp.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function rk(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ip(Tp.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ik(t,e,n,r){if(!0===e&&!0===r)throw new Ip(Tp.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function ok(t){if(!Gp.ot(t))throw new Ip(Tp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function sk(t){if(Gp.ot(t))throw new Ip(Tp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function ak(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ep()}function uk(t,e){if("_delegate"in t&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ip(Tp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ak(t);throw new Ip(Tp.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function ck(t,e){if(e<=0)throw new Ip(Tp.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var lk=function(t){this._methodName=t},hk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ll.c)(e,t),e.prototype.c_=function(t){if(2!==t.u_)throw t.a_(1===t.u_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.en.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(lk);function fk(t,e,n){return new yC({u_:3,h_:e.settings.h_,methodName:t._methodName,l_:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var dk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ll.c)(e,t),e.prototype.c_=function(t){return new Qy(t.path,new Uy)},e.prototype.isEqual=function(t){return t instanceof e},e}(lk),pk=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).__=n,r}return Object(ll.c)(e,t),e.prototype.c_=function(t){var e=fk(this,t,!0),n=this.__.map((function(t){return kC(t,e)})),r=new Vy(n);return new Qy(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(lk),vk=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).__=n,r}return Object(ll.c)(e,t),e.prototype.c_=function(t){var e=fk(this,t,!0),n=this.__.map((function(t){return kC(t,e)})),r=new zy(n);return new Qy(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(lk),yk=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(ll.c)(e,t),e.prototype.c_=function(t){var e=new Hy(t.serializer,sy(t.serializer,this.f_));return new Qy(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(lk),gk=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ip(Tp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ip(Tp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.d_=t,this.w_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.d_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.d_===t.d_&&this.w_===t.w_},t.prototype.toJSON=function(){return{latitude:this.d_,longitude:this.w_}},t.prototype.C=function(t){return Lp(this.d_,t.d_)||Lp(this.w_,t.w_)},t}(),mk=function(){function t(t){this.E_=t}return t.fromBase64String=function(e){try{return new t(tv.fromBase64String(e))}catch(e){throw new Ip(Tp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(tv.fromUint8Array(e))},t.prototype.toBase64=function(){return this.E_.toBase64()},t.prototype.toUint8Array=function(){return this.E_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.E_.isEqual(t.E_)},t}(),_k=function(t){this.o_=t},bk=new Map,wk=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ip(Tp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ip(Tp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,ik("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),kk=function(){function t(t,e){this.T_="(lite)",this.I_=new wk({}),this.m_=!1,t instanceof yp?(this.A_=t,this.R_=new Ap):(this.P_=t,this.A_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ip(Tp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yp(t.options.projectId)}(t),this.R_=new jp(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.P_)throw new Ip(Tp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.P_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"g_",{get:function(){return this.m_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y_",{get:function(){return void 0!==this.V_},enumerable:!1,configurable:!0}),t.prototype.p_=function(t){if(this.m_)throw new Ip(Tp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.I_=new wk(t),void 0!==t.credentials&&(this.R_=function(t){if(!t)return new Ap;switch(t.type){case"gapi":var e=t.client;return Sp(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Dp(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Ip(Tp.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.v_=function(){return this.I_},t.prototype.b_=function(){return this.m_=!0,this.I_},t.prototype._delete=function(){return this.V_||(this.V_=this.S_()),this.V_},t.prototype.S_=function(){return function(t){var e=bk.get(t);e&&(bp("ComponentProvider","Removing Datastore"),bk.delete(t),e.terminate())}(this),Promise.resolve()},t}();function Ck(){if("undefined"==typeof Uint8Array)throw new Ip(Tp.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ek(){if("undefined"==typeof atob)throw new Ip(Tp.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Sk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ll.c)(e,t),e.fromBase64String=function(t){return Ek(),new e(mk.fromBase64String(t))},e.fromUint8Array=function(t){return Ck(),new e(mk.fromUint8Array(t))},e.prototype.toBase64=function(){return Ek(),this.o_.toBase64()},e.prototype.toUint8Array=function(){return Ck(),this.o_.toUint8Array()},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(_k),Ok=function(){function t(){}return t.prototype.D_=function(t,e){switch(void 0===e&&(e="none"),Vv(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Kv(t.integerValue||t.doubleValue);case 3:return this.C_(t.timestampValue);case 4:return this.N_(t,e);case 5:return t.stringValue;case 6:return this.x_(Qv(t.bytesValue));case 7:return this.F_(t.referenceValue);case 8:return this.O_(t.geoPointValue);case 9:return this.M_(t.arrayValue,e);case 10:return this.k_(t.mapValue,e);default:throw Ep()}},t.prototype.k_=function(t,e){var n=this,r={};return Rv(t.fields||{},(function(t,i){r[t]=n.D_(i,e)})),r},t.prototype.O_=function(t){return new gk(Kv(t.latitude),Kv(t.longitude))},t.prototype.M_=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.D_(t,e)}))},t.prototype.N_=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return Mv(n)?t(n):n}(t);return null==n?null:this.D_(n,e);case"estimate":return this.C_(Fv(t));default:return null}},t.prototype.C_=function(t){var e=Wv(t);return new Up(e.seconds,e.nanos)},t.prototype.L_=function(t,e){var n=zp.Y(t);Sp(Ny(n));var r=new yp(n.get(1),n.get(3)),i=new Gp(n.B(5));return r.isEqual(e)||wp("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Tk=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ll.c)(e,t),e.prototype.x_=function(t){return new Sk(new mk(t))},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return tE.B_(e,this.firestore,null)},e}(Ok),Ik=function(){function t(t,e,n,r,i){this.q_=t,this.U_=e,this.Q_=n,this.K_=r,this.W_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.Q_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Gk(this.q_,this.W_,this.Q_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.K_},t.prototype.data=function(){if(this.K_){if(this.W_){var t=new xk(this.q_,this.U_,this.Q_,this.K_,null);return this.W_.fromFirestore(t)}return this.U_.D_(this.K_.En())}},t.prototype.get=function(t){if(this.K_){var e=this.K_.data().field(Ak("DocumentSnapshot.get",t));if(null!==e)return this.U_.D_(e)}},t}(),xk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ll.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ik);function Ak(t,e){return"string"==typeof e?IC(t,e):e instanceof _k?e.o_.j_:e.j_}var jk=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ip(Tp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.j_=new Hp(t)}return t.prototype.isEqual=function(t){return this.j_.isEqual(t.j_)},t}(),Pk=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).G_=new Cm,r.T_="name"in e?e.name:"[DEFAULT]",r}return Object(ll.c)(e,t),e.prototype.S_=function(){return this.z_||YC(this),this.z_.terminate()},e}(kk);function Dk(t,e,n){var r=this,i=new nm;return t.di.enqueue((function(){return Object(ll.b)(r,void 0,void 0,(function(){var r;return Object(ll.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,NC(t,n)];case 1:return o.sent(),[4,RC(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Tp.FAILED_PRECONDITION||t.code===Tp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Nk(t){if(t.g_||t.y_)throw new Ip(Tp.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Rk=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).q_=e,a.H_=e,a.metadata=o,a}return Object(ll.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.K_){if(this.W_){var e=new Lk(this.q_,this.U_,this.Q_,this.K_,this.metadata,null);return this.W_.fromFirestore(e,t)}return this.U_.D_(this.K_.En(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.K_){var n=this.K_.data().field(Ak("DocumentSnapshot.get",t));if(null!==n)return this.U_.D_(n,e.serverTimestamps)}},e}(Ik),Lk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ll.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Rk),Mk=function(){function t(t,e,n,r){this.q_=t,this.U_=e,this.J_=r,this.metadata=new iE(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.J_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.J_.docs.forEach((function(r){t.call(e,new Lk(n.q_,n.U_,r.key,r,new iE(n.J_.ee.has(r.key),n.J_.fromCache),n.query.W_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.J_.se)throw new Ip(Tp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Y_&&this.X_===e||(this.Y_=function(t,e){if(t.J_.te.W()){var n=0;return t.J_.docChanges.map((function(e){return{type:"added",doc:new Lk(t.q_,t.U_,e.doc.key,e.doc,new iE(t.J_.ee.has(e.doc.key),t.J_.fromCache),t.query.W_),oldIndex:-1,newIndex:n++}}))}var r=t.J_.te;return t.J_.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Lk(t.q_,t.U_,e.doc.key,e.doc,new iE(t.J_.ee.has(e.doc.key),t.J_.fromCache),t.query.W_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Fk(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.X_=e),this.Y_},t}();function Fk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ep()}}function Uk(t,e){return t instanceof Rk&&e instanceof Rk?t.q_===e.q_&&t.Q_.isEqual(e.Q_)&&(null===t.K_?null===e.K_:t.K_.isEqual(e.K_))&&t.W_===e.W_:t instanceof Mk&&e instanceof Mk&&t.q_===e.q_&&lC(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.J_.isEqual(e.J_)}var Vk=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ll.c)(e,t),e.prototype.x_=function(t){return new mk(t)},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return new Gk(this.firestore,null,e)},e}(Ok);function qk(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=uk(t,Gk);var o=uk(t.firestore,Pk),s=hC(o);return e instanceof _k&&(e=e.o_),Bk(o,("string"==typeof e||e instanceof jk?bC(s,"updateDoc",t.Q_,e,n,r):_C(s,"updateDoc",t.Q_,e)).tf(t.Q_,Zy.exists(!0)))}function zk(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof _k&&(t=t.o_);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||im(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(im(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Gk)c=uk(t.firestore,Pk),l=wg(t.Q_.path),u={next:function(e){i[a]&&i[a](Hk(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=uk(t,Wk);c=uk(d.firestore,Pk),l=d.Z_;var p=new Vk(c);u={next:function(t){i[a]&&i[a](new Mk(c,p,d,t))},error:i[a+1],complete:i[a+2]},iC(t.Z_)}return function(t,e,n,r){var i=this,o=new ek(r),s=new zb(e,o,n);return t.di.Ri((function(){return Object(ll.b)(i,void 0,void 0,(function(){var e;return Object(ll.d)(this,(function(n){switch(n.label){case 0:return e=Mb,[4,zC(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.r_(),t.di.Ri((function(){return Object(ll.b)(i,void 0,void 0,(function(){var e;return Object(ll.d)(this,(function(n){switch(n.label){case 0:return e=Fb,[4,zC(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(ZC(c),l,h,u)}function Bk(t,e){return function(t,e){var n=this,r=new nm;return t.di.Ri((function(){return Object(ll.b)(n,void 0,void 0,(function(){var n;return Object(ll.d)(this,(function(i){switch(i.label){case 0:return n=lw,[4,qC(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(ZC(t),e)}function Hk(t,e,n){var r=n.docs.get(e.Q_),i=new Vk(t);return new Rk(t,i,e.Q_,r,new iE(n.hasPendingWrites,n.fromCache),e.W_)}var Gk=function(){function t(t,e,n){this.W_=e,this.Q_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"ef",{get:function(){return this.Q_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.Q_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Q_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new oC(this.firestore,this.W_,this.Q_.path.q())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.Q_)},t}(),Wk=function(){function t(t,e,n){this.W_=e,this.Z_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.Z_)},t}(),Kk=function(){};function Qk(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.nf(t)}return t}var Jk=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).sf=e,i.rf=n,i.cf=r,i.type="where",i}return Object(ll.c)(e,t),e.prototype.nf=function(t){var e=hC(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.tt()){if("array-contains"===o||"array-contains-any"===o)throw new Ip(Tp.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){nC(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(eC(r,t,l[c]));a={arrayValue:{values:u}}}else a=eC(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||nC(s,o),a=wC(n,"where",s,"in"===o||"not-in"===o);var h=Rg.create(i,o,a);return function(t,e){if(e.An()){var n=Sg(t);if(null!==n&&!n.isEqual(e.field))throw new Ip(Tp.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Eg(t);null!==r&&rC(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Ip(Tp.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.Z_,0,e,t.firestore.A_,this.sf,this.rf,this.cf);return new Wk(t.firestore,t.W_,function(t,e){var n=t.filters.concat([e]);return new _g(t.path,t.collectionGroup,t.Tn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.Z_,n))},e}(Kk),Zk=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).sf=e,r.uf=n,r.type="orderBy",r}return Object(ll.c)(e,t),e.prototype.nf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Ip(Tp.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ip(Tp.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Qg(e,n);return function(t,e){if(null===Eg(t)){var n=Sg(t);null!==n&&rC(0,n,e.field)}}(t,r),r}(t.Z_,this.sf,this.uf);return new Wk(t.firestore,t.W_,function(t,e){var n=t.Tn.concat([e]);return new _g(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.Z_,e))},e}(Kk),Yk=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.af=n,i.hf=r,i}return Object(ll.c)(e,t),e.prototype.nf=function(t){return new Wk(t.firestore,t.W_,xg(t.Z_,this.af,this.hf))},e}(Kk),Xk=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.lf=n,i._f=r,i}return Object(ll.c)(e,t),e.prototype.nf=function(t){var e=tC(t,this.type,this.lf,this._f);return new Wk(t.firestore,t.W_,function(t,e){return new _g(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.Z_,e))},e}(Kk),$k=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.lf=n,i._f=r,i}return Object(ll.c)(e,t),e.prototype.nf=function(t){var e=tC(t,this.type,this.lf,this._f);return new Wk(t.firestore,t.W_,function(t,e){return new _g(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.Z_,e))},e}(Kk);function tC(t,e,n,r){if(n[0]instanceof _k&&(n[0]=n[0].o_),n[0]instanceof Ik)return function(t,e,n,r,i){if(!r)throw new Ip(Tp.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Tg(t);s<a.length;s++){var u=a[s];if(u.field.tt())o.push(Jv(e,r.key));else{var c=r.field(u.field);if(Mv(c))throw new Ip(Tp.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.J();throw new Ip(Tp.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Hg(o,i)}(t.Z_,t.firestore.A_,e,n[0].K_,r);var i=hC(t.firestore);return function(t,e,n,r,i,o){var s=t.Tn;if(i.length>s.length)throw new Ip(Tp.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.tt()){if("string"!=typeof c)throw new Ip(Tp.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Og(t)&&-1!==c.indexOf("/"))throw new Ip(Tp.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(zp.Y(c));if(!Gp.ot(l))throw new Ip(Tp.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Gp(l);a.push(Jv(e,h))}else{var f=wC(n,r,c);a.push(f)}}return new Hg(a,o)}(t.Z_,t.firestore.A_,i,e,n,r)}function eC(t,e,n){if(n instanceof _k&&(n=n.o_),"string"==typeof n){if(""===n)throw new Ip(Tp.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Og(e)&&-1!==n.indexOf("/"))throw new Ip(Tp.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(zp.Y(n));if(!Gp.ot(r))throw new Ip(Tp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Jv(t,new Gp(r))}if(n instanceof Gk)return Jv(t,n.Q_);throw new Ip(Tp.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ak(n)+".")}function nC(t,e){if(!Array.isArray(t)||0===t.length)throw new Ip(Tp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ip(Tp.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function rC(t,e,n){if(!n.isEqual(e))throw new Ip(Tp.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function iC(t){if(Cg(t)&&0===t.Tn.length)throw new Ip(Tp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var oC=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,wg(r))||this).firestore=e,i.ef=r,i.type="collection",i}return Object(ll.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Z_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Z_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.ef.q();return t.W()?null:new Gk(this.firestore,null,new Gp(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.ef)},e}(Wk);function sC(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t instanceof _k&&(t=t.o_),nk("collection","path",e),t instanceof kk){var i=zp.Y.apply(zp,Object(ll.g)([e],n));return sk(i),new oC(t,null,i)}if(!(t instanceof Gk||t instanceof oC))throw new Ip(Tp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=zp.Y.apply(zp,Object(ll.g)([t.path],n)).child(zp.Y(e));return sk(o),new oC(t.firestore,null,o)}function aC(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t instanceof _k&&(t=t.o_),1===arguments.length&&(e=Rp.D()),nk("doc","path",e),t instanceof kk){var i=zp.Y.apply(zp,Object(ll.g)([e],n));return ok(i),new Gk(t,null,new Gp(i))}if(!(t instanceof Gk||t instanceof oC))throw new Ip(Tp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=t.ef.child(zp.Y.apply(zp,Object(ll.g)([e],n)));return ok(o),new Gk(t.firestore,t instanceof oC?t.W_:null,new Gp(o))}var uC=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ll.c)(e,t),e.prototype.x_=function(t){return new mk(t)},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return new Gk(this.firestore,null,e)},e}(Ok);function cC(t,e){return t instanceof _k&&(t=t.o_),e instanceof _k&&(e=e.o_),(t instanceof Gk||t instanceof oC)&&(e instanceof Gk||e instanceof oC)&&t.firestore===e.firestore&&t.path===e.path&&t.W_===e.W_}function lC(t,e){return t instanceof _k&&(t=t.o_),e instanceof _k&&(e=e.o_),t instanceof Wk&&e instanceof Wk&&t.firestore===e.firestore&&Ag(t.Z_,e.Z_)&&t.W_===e.W_}function hC(t){var e=t.b_(),n=rm(t.A_);return new gC(t.A_,!!e.ignoreUndefinedProperties,n)}var fC=/^__.*__$/,dC=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.tf=function(t,e){var n=[];return n.push(null!==this.en?new og(t,this.data,this.en,e):new ig(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new ag(t,this.fieldTransforms)),n},t}(),pC=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.tf=function(t,e){var n=[new og(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new ag(t,this.fieldTransforms)),n},t}();function vC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ep()}}var yC=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ff(),this.fieldTransforms=i||[],this.en=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u_",{get:function(){return this.settings.u_},enumerable:!1,configurable:!0}),t.prototype.df=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},t.prototype.wf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.df({path:n,l_:!1});return r.Ef(t),r},t.prototype.Tf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.df({path:n,l_:!1});return r.ff(),r},t.prototype.If=function(t){return this.df({path:void 0,l_:!0})},t.prototype.a_=function(t){return xC(t,this.settings.methodName,this.settings.mf||!1,this.path,this.settings.h_)},t.prototype.contains=function(t){return void 0!==this.en.find((function(e){return t.j(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.j(e.field)}))},t.prototype.ff=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Ef(this.path.get(t))},t.prototype.Ef=function(t){if(0===t.length)throw this.a_("Document fields must not be empty");if(vC(this.u_)&&fC.test(t))throw this.a_('Document fields cannot begin and end with "__"')},t}(),gC=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||rm(t)}return t.prototype.Af=function(t,e,n,r){return void 0===r&&(r=!1),new yC({u_:t,methodName:e,h_:n,path:Hp.X(),l_:!1,mf:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function mC(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Af(o.merge||o.mergeFields?2:0,e,n,i);SC("Data must be an object, but it was:",s,r);var a,u,c=CC(r,s);if(o.merge)a=new Ky(s.en),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=OC(e,f[h],n);if(!s.contains(d))throw new Ip(Tp.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");AC(l,d)||l.push(d)}a=new Ky(l),u=s.fieldTransforms.filter((function(t){return a.un(t.field)}))}else a=null,u=s.fieldTransforms;return new dC(new fg(c),a,u)}function _C(t,e,n,r){var i=t.Af(1,e,n);SC("Data must be an object, but it was:",i,r);var o=[],s=new dg;Rv(r,(function(t,r){var a=IC(e,t,n);r instanceof _k&&(r=r.o_);var u=i.Tf(a);if(r instanceof hk)o.push(a);else{var c=kC(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Ky(o);return new pC(s.hn(),a,i.fieldTransforms)}function bC(t,e,n,r,i,o){var s=t.Af(1,e,n),a=[OC(e,r,n)],u=[i];if(o.length%2!=0)throw new Ip(Tp.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(OC(e,o[c])),u.push(o[c+1]);for(var l=[],h=new dg,f=a.length-1;f>=0;--f)if(!AC(l,a[f])){var d=a[f],p=u[f];p instanceof _k&&(p=p.o_);var v=s.Tf(d);if(p instanceof hk)l.push(d);else{var y=kC(p,v);null!=y&&(l.push(d),h.set(d,y))}}var g=new Ky(l);return new pC(h.hn(),g,s.fieldTransforms)}function wC(t,e,n,r){return void 0===r&&(r=!1),kC(n,t.Af(r?4:3,e))}function kC(t,e){if(t instanceof _k&&(t=t.o_),EC(t))return SC("Unsupported field value:",e,t),CC(t,e);if(t instanceof lk)return function(t,e){if(!vC(e.u_))throw e.a_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.a_(t._methodName+"() is not currently supported inside arrays");var n=t.c_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.settings.l_&&4!==e.u_)throw e.a_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=kC(o[i],e.If(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof _k&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return sy(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Up.fromDate(t);return{timestampValue:ay(e.serializer,n)}}if(t instanceof Up){var r=new Up(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ay(e.serializer,r)}}if(t instanceof gk)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof mk)return{bytesValue:uy(e.serializer,t.E_)};if(t instanceof Gk){var i=e.t,o=t.firestore.A_;if(!o.isEqual(i))throw e.a_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:hy(t.firestore.A_||e.t,t.Q_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.a_("Unsupported field value: "+ak(t))}(t,e)}function CC(t,e){var n={};return Lv(t)?e.path&&e.path.length>0&&e.en.push(e.path):Rv(t,(function(t,r){var i=kC(r,e.wf(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function EC(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Up||t instanceof gk||t instanceof mk||t instanceof Gk||t instanceof lk)}function SC(t,e,n){if(!EC(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=ak(n);throw e.a_("an object"===r?t+" a custom object":t+" "+r)}}function OC(t,e,n){if(e instanceof _k&&(e=e.o_),e instanceof jk)return e.j_;if("string"==typeof e)return IC(t,e);throw xC("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var TC=new RegExp("[~\\*/\\[\\]]");function IC(t,e,n){if(e.search(TC)>=0)throw xC("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(jk.bind.apply(jk,Object(ll.g)([void 0],e.split("."))))).j_}catch(r){throw xC("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function xC(t,e,n,r,i){var o=r&&!r.W(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Ip(Tp.INVALID_ARGUMENT,(a+=". ")+t+u)}function AC(t,e){return t.some((function(t){return t.isEqual(e)}))}var jC=function(){function t(t){this.Mu=t,this.Rf=new Map,this.mutations=[],this.Pf=!1,this.gf=null,this.yf=new Set}return t.prototype.Vf=function(t){return Object(ll.b)(this,void 0,void 0,(function(){var e,n=this;return Object(ll.d)(this,(function(r){switch(r.label){case 0:if(this.pf(),this.mutations.length>0)throw new Ip(Tp.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(ll.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(ll.d)(this,(function(u){switch(u.label){case 0:return n=Op(t),r=gy(n.serializer)+"/documents",i={documents:e.map((function(t){return dy(n.serializer,t)}))},[4,n.Vu("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Sp(!!e.found);var n=py(t,e.found.name),r=ly(e.found.updateTime),i=new fg({mapValue:{fields:e.found.fields}});return new yg(n,r,i,{})}(t,e):"missing"in e?function(t,e){Sp(!!e.missing),Sp(!!e.readTime);var n=py(t,e.missing),r=ly(e.readTime);return new gg(n,r)}(t,e):Ep()}(n.serializer,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Sp(!!e),a.push(e)})),a)]}}))}))}(this.Mu,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof gg||t instanceof yg?n.vf(t):Ep()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.tf(t,this.rn(t))),this.yf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.tf(t,this.bf(t)))}catch(t){this.gf=t}this.yf.add(t.toString())},t.prototype.delete=function(t){this.write([new lg(t,this.rn(t))]),this.yf.add(t.toString())},t.prototype.commit=function(){return Object(ll.b)(this,void 0,void 0,(function(){var t,e=this;return Object(ll.d)(this,(function(n){switch(n.label){case 0:if(this.pf(),this.gf)throw this.gf;return t=this.Rf,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Gp.st(n);e.mutations.push(new hg(r,e.rn(r)))})),[4,function(t,e){return Object(ll.b)(this,void 0,void 0,(function(){var n,r,i;return Object(ll.d)(this,(function(o){switch(o.label){case 0:return n=Op(t),r=gy(n.serializer)+"/documents",i={writes:e.map((function(t){return by(n.serializer,t)}))},[4,n.yu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Mu,this.mutations)];case 1:return n.sent(),this.Pf=!0,[2]}}))}))},t.prototype.vf=function(t){var e;if(t instanceof yg)e=t.version;else{if(!(t instanceof gg))throw Ep();e=Vp.min()}var n=this.Rf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ip(Tp.ABORTED,"Document version changed between two reads.")}else this.Rf.set(t.key.toString(),e)},t.prototype.rn=function(t){var e=this.Rf.get(t.toString());return!this.yf.has(t.toString())&&e?Zy.updateTime(e):Zy.on()},t.prototype.bf=function(t){var e=this.Rf.get(t.toString());if(!this.yf.has(t.toString())&&e){if(e.isEqual(Vp.min()))throw new Ip(Tp.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zy.updateTime(e)}return Zy.exists(!0)},t.prototype.write=function(t){this.pf(),this.mutations=this.mutations.concat(t)},t.prototype.pf=function(){},t}(),PC=function(){function t(t,e,n,r){this.di=t,this.Mu=e,this.updateFunction=n,this.Ti=r,this.Sf=5,this.Si=new lm(this.di,"transaction_retry")}return t.prototype.run=function(){this.Df()},t.prototype.Df=function(){var t=this;this.Si.Bs((function(){return Object(ll.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(ll.d)(this,(function(r){return t=new jC(this.Mu),(e=this.Cf(t))&&e.then((function(e){n.di.Ri((function(){return t.commit().then((function(){n.Ti.resolve(e)})).catch((function(t){n.Nf(t)}))}))})).catch((function(t){n.Nf(t)})),[2]}))}))}))},t.prototype.Cf=function(t){try{var e=this.updateFunction(t);return!Wp(e)&&e.catch&&e.then?e:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ti.reject(t),null}},t.prototype.Nf=function(t){var e=this;this.Sf>0&&this.xf(t)?(this.Sf-=1,this.di.Ri((function(){return e.Df(),Promise.resolve()}))):this.Ti.reject(t)},t.prototype.xf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ov(e)}return!1},t}(),DC=function(){function t(t,e,n){var r=this;this.credentials=t,this.di=e,this.Fl=n,this.user=gp.UNAUTHENTICATED,this.clientId=Rp.D(),this.Ff=function(){},this.g=new nm,this.credentials.A((function(t){bp("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.Ff(t)),r.g.resolve()}))}return t.prototype.getConfiguration=function(){return Object(ll.b)(this,void 0,void 0,(function(){return Object(ll.d)(this,(function(t){switch(t.label){case 0:return[4,this.g.promise];case 1:return[2,(t.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,qh:100})]}}))}))},t.prototype.Of=function(t){var e=this;this.Ff=t,this.g.promise.then((function(){return e.Ff(e.user)}))},t.prototype.Mf=function(){if(this.di.Ci)throw new Ip(Tp.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.di.Oi();var e=new nm;return this.di.Ni((function(){return Object(ll.b)(t,void 0,void 0,(function(){var t,n;return Object(ll.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.kf?[4,this.kf.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.$f?[4,this.$f.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Em(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function NC(t,e){return Object(ll.b)(this,void 0,void 0,(function(){var n,r=this;return Object(ll.d)(this,(function(i){switch(i.label){case 0:return t.di.Li(),bp("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.Of((function(n){return t.di.Mi((function(){return Object(ll.b)(r,void 0,void 0,(function(){return Object(ll.d)(this,(function(t){switch(t.label){case 0:return[4,W_(e.Ou,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.rc((function(){return t.terminate()})),t.$f=e,[2]}}))}))}function RC(t,e){return Object(ll.b)(this,void 0,void 0,(function(){var n,r;return Object(ll.d)(this,(function(i){switch(i.label){case 0:return t.di.Li(),[4,LC(t)];case 1:return n=i.sent(),bp("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.Of((function(n){return t.di.Mi((function(){return function(t,e){return Object(ll.b)(this,void 0,void 0,(function(){var n,r;return Object(ll.d)(this,(function(i){switch(i.label){case 0:return(n=Op(t)).di.Li(),bp("RemoteStore","RemoteStore received new credentials"),r=mb(n),n.Bu.add(3),[4,hb(n)];case 1:return i.sent(),r&&n.Ku.set("Unknown"),[4,n.ku.s_(e)];case 2:return i.sent(),n.Bu.delete(3),[4,lb(n)];case 3:return i.sent(),[2]}}))}))}(e.$h,n)}))})),t.kf=e,[2]}}))}))}function LC(t){return Object(ll.b)(this,void 0,void 0,(function(){return Object(ll.d)(this,(function(e){switch(e.label){case 0:return t.$f?[3,2]:(bp("FirestoreClient","Using default OfflineComponentProvider"),[4,NC(t,new Yw)]);case 1:e.sent(),e.label=2;case 2:return[2,t.$f]}}))}))}function MC(t){return Object(ll.b)(this,void 0,void 0,(function(){return Object(ll.d)(this,(function(e){switch(e.label){case 0:return t.kf?[3,2]:(bp("FirestoreClient","Using default OnlineComponentProvider"),[4,RC(t,new tk)]);case 1:e.sent(),e.label=2;case 2:return[2,t.kf]}}))}))}function FC(t){return LC(t).then((function(t){return t.persistence}))}function UC(t){return LC(t).then((function(t){return t.Ou}))}function VC(t){return MC(t).then((function(t){return t.$h}))}function qC(t){return MC(t).then((function(t){return t.va}))}function zC(t){return Object(ll.b)(this,void 0,void 0,(function(){var e,n;return Object(ll.d)(this,(function(r){switch(r.label){case 0:return[4,MC(t)];case 1:return e=r.sent(),[2,((n=e.Lh).ta=aw.bind(null,e.va),n.sa=cw.bind(null,e.va),n)]}}))}))}function BC(t,e,n){var r=this;void 0===n&&(n={});var i=new nm;return t.di.Ri((function(){return Object(ll.b)(r,void 0,void 0,(function(){var r;return Object(ll.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new ek({next:function(o){e.Ri((function(){return Fb(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Ip(Tp.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Ip(Tp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new zb(wg(n.path),o,{includeMetadataChanges:!0,ha:!0});return Mb(t,s)},[4,zC(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.di,e,n,i])]}}))}))})),i.promise}function HC(t,e,n){var r=this;void 0===n&&(n={});var i=new nm;return t.di.Ri((function(){return Object(ll.b)(r,void 0,void 0,(function(){var r;return Object(ll.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new ek({next:function(n){e.Ri((function(){return Fb(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Ip(Tp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new zb(n,o,{includeMetadataChanges:!0,ha:!0});return Mb(t,s)},[4,zC(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.di,e,n,i])]}}))}))})),i.promise}var GC=function(){function t(t,e){this.q_=t,this.Lf=e,this.Bf=[],this.qf=!1,this.Uf=hC(t)}return t.prototype.set=function(t,e,n){this.Qf();var r=WC(t,this.q_),i=fE(r.W_,e,n),o=mC(this.Uf,"WriteBatch.set",r.Q_,i,null!==r.W_,n);return this.Bf=this.Bf.concat(o.tf(r.Q_,Zy.on())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Qf();var o,s=WC(t,this.q_);return e instanceof _k&&(e=e.o_),o="string"==typeof e||e instanceof jk?bC(this.Uf,"WriteBatch.update",s.Q_,e,n,r):_C(this.Uf,"WriteBatch.update",s.Q_,e),this.Bf=this.Bf.concat(o.tf(s.Q_,Zy.exists(!0))),this},t.prototype.delete=function(t){this.Qf();var e=WC(t,this.q_);return this.Bf=this.Bf.concat(new lg(e.Q_,Zy.on())),this},t.prototype.commit=function(){return this.Qf(),this.qf=!0,this.Bf.length>0?this.Lf(this.Bf):Promise.resolve()},t.prototype.Qf=function(){if(this.qf)throw new Ip(Tp.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function WC(t,e){if(t instanceof _k&&(t=t.o_),t.firestore!==e)throw new Ip(Tp.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var KC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).q_=e,r}return Object(ll.c)(e,t),e.prototype.get=function(e){var n=this,r=WC(e,this.q_),i=new Vk(this.q_);return t.prototype.get.call(this,e).then((function(t){return new Rk(n.q_,i,r.Q_,t.K_,new iE(!1,!1),r.W_)}))},e}(function(){function t(t,e){this.q_=t,this.Kf=e,this.Uf=hC(t)}return t.prototype.get=function(t){var e=this,n=WC(t,this.q_),r=new uC(this.q_);return this.Kf.Vf([n.Q_]).then((function(t){if(!t||1!==t.length)return Ep();var i=t[0];if(i instanceof gg)return new Ik(e.q_,r,n.Q_,null,n.W_);if(i instanceof yg)return new Ik(e.q_,r,i.key,i,n.W_);throw Ep()}))},t.prototype.set=function(t,e,n){var r=WC(t,this.q_),i=fE(r.W_,e,n),o=mC(this.Uf,"Transaction.set",r.Q_,i,null!==r.W_,n);return this.Kf.set(r.Q_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=WC(t,this.q_);return e instanceof _k&&(e=e.o_),o="string"==typeof e||e instanceof jk?bC(this.Uf,"Transaction.update",s.Q_,e,n,r):_C(this.Uf,"Transaction.update",s.Q_,e),this.Kf.update(s.Q_,o),this},t.prototype.delete=function(t){var e=WC(t,this.q_);return this.Kf.delete(e.Q_),this},t}()),QC=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Nk(t=uk(t,Pk));var n=ZC(t),r=t.b_(),i=new tk;return Dk(n,i,new Xw(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Nk(t=uk(t,Pk));var e=ZC(t),n=t.b_(),r=new tk;return Dk(e,r,new $w(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.g_&&!t.y_)throw new Ip(Tp.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new nm;return t.G_.Ni((function(){return Object(ll.b)(e,void 0,void 0,(function(){var e;return Object(ll.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(ll.b)(this,void 0,void 0,(function(){return Object(ll.d)(this,(function(e){switch(e.label){case 0:return hm.Gs()?[4,hm.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(B_(t.A_,t.T_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.o_)},t}(),JC=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Wf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof yp||(i.jf=e),i}return Object(ll.c)(e,t),Object.defineProperty(e.prototype,"A_",{get:function(){return this.o_.A_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.v_()),t)).merge,this.o_.p_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.v_().host&&kp("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.di.enqueue((function(){return Object(ll.b)(e,void 0,void 0,(function(){var e,n;return Object(ll.d)(this,(function(r){switch(r.label){case 0:return[4,FC(t)];case 1:return e=r.sent(),[4,VC(t)];case 2:return n=r.sent(),[2,(e.oc(!0),function(t){var e=Op(t);return e.Bu.delete(0),lb(e)}(n))]}}))}))}))}(ZC(uk(this.o_,Pk)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.di.enqueue((function(){return Object(ll.b)(e,void 0,void 0,(function(){var e,n;return Object(ll.d)(this,(function(r){switch(r.label){case 0:return[4,FC(t)];case 1:return e=r.sent(),[4,VC(t)];case 2:return n=r.sent(),[2,(e.oc(!1),function(t){return Object(ll.b)(this,void 0,void 0,(function(){var e;return Object(ll.d)(this,(function(n){switch(n.label){case 0:return(e=Op(t)).Bu.add(0),[4,hb(e)];case 1:return n.sent(),e.Ku.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(ZC(uk(this.o_,Pk)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&ik("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Wf.enableMultiTabIndexedDbPersistence(this):this.Wf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Wf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new nm;return t.di.Ri((function(){return Object(ll.b)(e,void 0,void 0,(function(){var e;return Object(ll.d)(this,(function(r){switch(r.label){case 0:return e=yw,[4,qC(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(ZC(uk(this.o_,Pk)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new ek(e);return t.di.Ri((function(){return Object(ll.b)(n,void 0,void 0,(function(){var e;return Object(ll.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Op(t).Zu.add(e),e.next()},[4,zC(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.di.Ri((function(){return Object(ll.b)(n,void 0,void 0,(function(){var e;return Object(ll.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Op(t).Zu.delete(e)},[4,zC(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(ZC(t=uk(t,Pk)),im(e)?e:{next:e})}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.jf)throw new Ip(Tp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.jf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new lE(this,sC(this.o_,t))}catch(t){throw eE(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new tE(this,aC(this.o_,t))}catch(t){throw eE(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new aE(this,function(t,e){if(t=uk(t,kk),nk("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ip(Tp.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Wk(t,null,function(t){return new _g(zp.X(),t)}(e))}(this.o_,t))}catch(t){throw eE(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new nm;return t.di.Ri((function(){return Object(ll.b)(n,void 0,void 0,(function(){var n;return Object(ll.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return MC(t).then((function(t){return t.Mu}))}(t)];case 1:return n=i.sent(),new PC(t.di,n,e,r).run(),[2]}}))}))})),r.promise}(ZC(t),(function(n){return e(new KC(t,n))}))}(this.o_,(function(n){return t(new XC(e,n))}))},e.prototype.batch=function(){var t=this;return ZC(this.o_),new $C(new GC(this.o_,(function(e){return Bk(t.o_,e)})))},e}(_k);function ZC(t){return t.z_||YC(t),t.z_.Mf(),t.z_}function YC(t){var e=t.b_(),n=function(t,e,n){return new vp(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.A_,t.T_,e);t.z_=new DC(t.R_,t.G_,n)}var XC=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(ll.c)(e,t),e.prototype.get=function(t){var e=this,n=hE(t);return this.o_.get(n).then((function(t){return new oE(e.q_,t)}))},e.prototype.set=function(t,e,n){var r=hE(t);return n?(rk("Transaction.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=hE(t);return 2===arguments.length?this.o_.update(s,e):(r=this.o_).update.apply(r,Object(ll.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=hE(t);return this.o_.delete(e),this},e}(_k),$C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ll.c)(e,t),e.prototype.set=function(t,e,n){var r=hE(t);return n?(rk("WriteBatch.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=hE(t);return 2===arguments.length?this.o_.update(s,e):(r=this.o_).update.apply(r,Object(ll.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=hE(t);return this.o_.delete(e),this},e.prototype.commit=function(){return this.o_.commit()},e}(_k),tE=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.U_=new Tk(e),r}return Object(ll.c)(e,t),e.Gf=function(t,n,r){if(t.length%2!=0)throw new Ip(Tp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.J()+" has "+t.length);return new e(n,new Gk(n.o_,r,new Gp(t)))},e.B_=function(t,n,r){return new e(n,new Gk(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new lE(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new lE(this.firestore,sC(this.o_,t))}catch(t){throw eE(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof _k&&(t=t.o_),t instanceof Gk&&cC(this.o_,t)},e.prototype.set=function(t,e){e=rk("DocumentReference.set",e);try{return function(t,e,n){t=uk(t,Gk);var r=uk(t.firestore,Pk),i=fE(t.W_,e,n);return Bk(r,mC(hC(r),"setDoc",t.Q_,i,null!==t.W_,n).tf(t.Q_,Zy.on()))}(this.o_,t,e)}catch(t){throw eE(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?qk(this.o_,t):qk.apply(void 0,Object(ll.g)([this.o_,t,e],n))}catch(t){throw eE(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Bk(uk((t=this.o_).firestore,Pk),[new lg(t.Q_,Zy.on())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=nE(e),i=rE(e,(function(e){return new oE(t.firestore,new Rk(t.firestore.o_,t.U_,e.Q_,e.K_,e.metadata,t.o_.W_))}));return zk(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=uk(t,Gk);var e=uk(t.firestore,Pk),n=ZC(e),r=new Vk(e);return function(t,e){var n=this,r=new nm;return t.di.Ri((function(){return Object(ll.b)(n,void 0,void 0,(function(){var n;return Object(ll.d)(this,(function(i){switch(i.label){case 0:return n=function(t){function e(e,n,r){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e,n){return Object(ll.b)(this,void 0,void 0,(function(){var r,i,o;return Object(ll.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=Op(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Bc.cs(t,e)}))}(t,e)];case 1:return(r=s.sent())instanceof yg?n.resolve(r):r instanceof gg?n.resolve(null):n.reject(new Ip(Tp.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=s.sent(),o=Em(i,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}}))}))})),[4,UC(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.Q_).then((function(n){return new Rk(e,r,t.Q_,n,new iE(n instanceof yg&&n.an,!0),t.W_)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){t=uk(t,Gk);var e=uk(t.firestore,Pk);return BC(ZC(e),t.Q_,{source:"server"}).then((function(n){return Hk(e,t,n)}))}(this.o_):function(t){t=uk(t,Gk);var e=uk(t.firestore,Pk);return BC(ZC(e),t.Q_).then((function(n){return Hk(e,t,n)}))}(this.o_)).then((function(t){return new oE(e.firestore,new Rk(e.firestore.o_,e.U_,t.Q_,t.K_,t.metadata,e.o_.W_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(_k);function eE(t,e,n){return t.message=t.message.replace(e,n),t}function nE(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!im(r))return r}return{}}function rE(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=im(t[0])?t[0]:im(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var iE=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),oE=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(ll.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new tE(this.q_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return Uk(this.o_,t.o_)},e}(_k),sE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ll.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(oE),aE=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.U_=new Tk(e),r}return Object(ll.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Qk(this.o_,function(t,e,n){var r=e,i=Ak("where",t);return new Jk(i,r,n)}(t,n,r)))}catch(t){throw eE(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Qk(this.o_,function(t,e){void 0===e&&(e="asc");var n=e,r=Ak("orderBy",t);return new Zk(r,n)}(t,n)))}catch(t){throw eE(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Qk(this.o_,function(t){return ck("limit",t),new Yk("limit",t,"F")}(t)))}catch(t){throw eE(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Qk(this.o_,function(t){return ck("limitToLast",t),new Yk("limitToLast",t,"L")}(t)))}catch(t){throw eE(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Qk(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Xk("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw eE(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Qk(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Xk("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw eE(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Qk(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $k("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw eE(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Qk(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $k("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw eE(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return lC(this.o_,t.o_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=uk(t,Wk);var e=uk(t.firestore,Pk),n=ZC(e),r=new Vk(e);return function(t,e){var n=this,r=new nm;return t.di.Ri((function(){return Object(ll.b)(n,void 0,void 0,(function(){var n;return Object(ll.d)(this,(function(i){switch(i.label){case 0:return n=function(t){function e(e,n,r){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e,n){return Object(ll.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Object(ll.d)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,$_(t,e,!0)];case 1:return r=c.sent(),i=new rw(e,r.Kc),o=i.bh(r.documents),s=i.Zn(o,!1),n.resolve(s.snapshot),[3,3];case 2:return a=c.sent(),u=Em(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))})),[4,UC(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.Z_).then((function(n){return new Mk(e,r,t,n)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){t=uk(t,Wk);var e=uk(t.firestore,Pk),n=ZC(e),r=new Vk(e);return HC(n,t.Z_,{source:"server"}).then((function(n){return new Mk(e,r,t,n)}))}(this.o_):function(t){t=uk(t,Wk);var e=uk(t.firestore,Pk),n=ZC(e),r=new Vk(e);return iC(t.Z_),HC(n,t.Z_).then((function(n){return new Mk(e,r,t,n)}))}(this.o_)).then((function(t){return new cE(e.firestore,new Mk(e.firestore.o_,e.U_,e.o_,t.J_))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=nE(e),i=rE(e,(function(e){return new cE(t.firestore,new Mk(t.firestore.o_,t.U_,t.o_,e.J_))}));return zk(this.o_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(_k),uE=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(ll.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new sE(this.q_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),e}(_k),cE=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(ll.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new aE(this.q_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map((function(e){return new sE(t.q_,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map((function(t){return new uE(e.q_,t)}))},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach((function(r){t.call(e,new sE(n.q_,r))}))},e.prototype.isEqual=function(t){return Uk(this.o_,t.o_)},e}(_k),lE=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.o_=n,r}return Object(ll.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.o_.parent;return t?new tE(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new tE(this.firestore,void 0===t?aC(this.o_):aC(this.o_,t))}catch(t){throw eE(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=uk(t.firestore,Pk),r=aC(t),i=fE(t.W_,e);return Bk(n,mC(hC(t.firestore),"addDoc",r.Q_,i,null!==t.W_,{}).tf(r.Q_,Zy.exists(!1))).then((function(){return r}))}(this.o_,t).then((function(t){return new tE(e.firestore,t)}))},e.prototype.isEqual=function(t){return cC(this.o_,t.o_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(aE);function hE(t){return t instanceof _k&&(t=t.o_),uk(t,Gk)}function fE(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var dE,pE=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(jk.bind.apply(jk,Object(ll.g)([void 0],e))))||this}return Object(ll.c)(e,t),e.documentId=function(){return new e(Hp.et().J())},e.prototype.isEqual=function(t){return t instanceof _k&&(t=t.o_),t instanceof jk&&this.o_.j_.isEqual(t.j_)},e}(_k),vE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ll.c)(e,t),e.serverTimestamp=function(){var t=new dk("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new hk("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pk("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new vk("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new yk("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(_k),yE={Firestore:JC,GeoPoint:gk,Timestamp:Up,Blob:Sk,Transaction:XC,WriteBatch:$C,DocumentReference:tE,DocumentSnapshot:oE,Query:aE,QueryDocumentSnapshot:sE,QuerySnapshot:cE,CollectionReference:lE,FieldPath:pE,FieldValue:vE,setLogLevel:function(t){mp.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new pp.a("firestore",(function(t){return function(t,e){return new JC(t,new Pk(t,e),new QC)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},yE)))})(dE=hl.a),dE.registerVersion("@firebase/firestore","2.0.5"),n("tf+s");var gE=new r.q("angularfire2.auth.use-emulator");function mE(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_o.a;return new Dt.a((function(n){var r;return null!=e?e.schedule((function(){r=t.onSnapshot({includeMetadataChanges:!0},n)})):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}}))}(t,e)}function _E(t,e){return mE(t,e).pipe(Object(Gt.a)((function(t){return{payload:t,type:"query"}})))}function bE(t,e){return _E(t,e).pipe(Oe(void 0),$u(),Object(Gt.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1],i=r.payload.docChanges(),o=i.map((function(t){return{type:t.type,payload:t}}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((function(t,e){var r=i.find((function(e){return e.doc.ref.isEqual(t.ref)})),s=null==n?void 0:n.payload.docs.find((function(e){return e.ref.isEqual(t.ref)}));r&&JSON.stringify(r.doc.metadata)===JSON.stringify(t.metadata)||!r&&s&&JSON.stringify(s.metadata)===JSON.stringify(t.metadata)||o.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})})),o})))}function wE(t,e,n){return bE(t,n).pipe(Te((function(t,n){return function(t,e,n){return e.forEach((function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return kE(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return kE(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return kE(t,e.oldIndex,1)}return t}(t,e))})),t}(t,n.map((function(t){return t.payload})),e)}),[]),(function(t){return t.lift(new Hu(void 0,void 0))}),Object(Gt.a)((function(t){return t.map((function(t){return{type:t.type,payload:t}}))})))}function kE(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=arguments[s];return r.splice.apply(r,[e,n].concat(o)),r}function CE(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var EE=function(){function t(e,n,r){_classCallCheck(this,t),this.ref=e,this.query=n,this.afs=r}return _createClass(t,[{key:"stateChanges",value:function(t){var e=bE(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Gt.a)((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})))),e.pipe(Oe(void 0),$u(),Jt((function(t){var e=_slicedToArray(t,2),n=e[0];return e[1].length>0||!n})),Object(Gt.a)((function(t){var e=_slicedToArray(t,2);e[0];return e[1]})),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Te((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=CE(t);return wE(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _E(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Gt.a)((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign(Object.assign({},e.data()),_defineProperty({},t.idField,e.id)):e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(xt.a)(this.query.get(t)).pipe(Object(nc.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new SE(this.ref.doc(t),this.afs)}}]),t}(),SE=function(){function t(e,n){_classCallCheck(this,t),this.ref=e,this.afs=n}return _createClass(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=jE(this.ref.collection(t),e),r=n.ref,i=n.query;return new EE(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return mE(this.ref,this.afs.schedulers.outsideAngular).pipe(Oe(void 0),$u(),Object(Gt.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1];return r.exists?(null==n?void 0:n.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(Gt.a)((function(e){var n=e.payload;return t.idField?Object.assign(Object.assign({},n.data()),_defineProperty({},t.idField,n.id)):n.data()})))}},{key:"get",value:function(t){return Object(xt.a)(this.ref.get(t)).pipe(Object(nc.b)(this.afs.schedulers.insideAngular))}}]),t}(),OE=function(){function t(e,n){_classCallCheck(this,t),this.query=e,this.afs=n}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?bE(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Gt.a)((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),Jt((function(t){return t.length>0})),this.afs.keepUnstableUntilFirst):bE(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Te((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=CE(t);return wE(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _E(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Gt.a)((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign(_defineProperty({},t.idField,e.id),e.data()):e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(xt.a)(this.query.get(t)).pipe(Object(nc.b)(this.afs.schedulers.insideAngular))}}]),t}(),TE=new r.q("angularfire2.enableFirestorePersistence"),IE=new r.q("angularfire2.firestore.persistenceSettings"),xE=new r.q("angularfire2.firestore.settings"),AE=new r.q("angularfire2.firestore.use-emulator");function jE(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var PE,DE,NE,RE,LE=((NE=function(){function t(e,n,r,i,o,s,a,u,c){_classCallCheck(this,t),this.schedulers=new ul.d(s),this.keepUnstableUntilFirst=Object(ul.h)(this.schedulers);var l=Object(ul.g)(e,s,n);!cl.a.auth&&c&&Object(ul.j)();var h=u,f=_slicedToArray(Object(ul.f)(l.name+".firestore","AngularFirestore",l,(function(){var t=s.runOutsideAngular((function(){return l.firestore()}));return i&&t.settings(i),h&&t.useEmulator.apply(t,_toConsumableArray(h)),r&&!function(t){return"server"===t}(o)?[t,s.runOutsideAngular((function(){try{return Object(xt.a)(t.enablePersistence(a||void 0).then((function(){return!0}),(function(){return!1})))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(It.a)(!1)}}))]:[t,Object(It.a)(!1)]}),[i,h,r]),2);this.firestore=f[0],this.persistenceEnabled$=f[1]}return _createClass(t,[{key:"collection",value:function(t,e){var n=jE("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run((function(){return r}));return new EE(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new OE(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run((function(){return e}));return new SE(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||NE)(r.Sb(ul.c),r.Sb(ul.b,8),r.Sb(TE,8),r.Sb(xE,8),r.Sb(r.B),r.Sb(r.z),r.Sb(IE,8),r.Sb(AE,8),r.Sb(gE,8))},NE.\u0275prov=Object(r.Ib)({factory:function(){return new NE(Object(r.Sb)(ul.c),Object(r.Sb)(ul.b,8),Object(r.Sb)(TE,8),Object(r.Sb)(xE,8),Object(r.Sb)(r.B),Object(r.Sb)(r.z),Object(r.Sb)(IE,8),Object(r.Sb)(AE,8),Object(r.Sb)(gE,8))},token:NE,providedIn:"any"}),NE),ME=((DE=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:TE,useValue:!0},{provide:IE,useValue:e}]}}}]),t}()).\u0275mod=r.Kb({type:DE}),DE.\u0275inj=r.Jb({factory:function(t){return new(t||DE)},providers:[LE]}),DE),FE=((PE=function(){function t(e){_classCallCheck(this,t),this.noteMaker=e}return _createClass(t,[{key:"resolve",value:function(){return this.noteMaker.fetchPosts()}}]),t}()).\u0275fac=function(t){return new(t||PE)(r.Sb(mo))},PE.\u0275prov=r.Ib({token:PE,factory:PE.\u0275fac}),PE),UE=[{path:"",pathMatch:"full",redirectTo:"/notes"},{path:"notes",component:al,resolve:{notes:FE}}],VE=((RE=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:RE,bootstrap:[Ti]}),RE.\u0275inj=r.Jb({factory:function(t){return new(t||RE)},providers:[FE],imports:[[Tt,yu,Fu,tl,ul.a.initializeApp(i),ME,go,yi.forRoot(UE)]]}),RE);St().bootstrapModule(VE).catch((function(t){return console.error(t)}))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);
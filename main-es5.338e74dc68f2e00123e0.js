function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toArray(t){return _arrayWithHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableRest()}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){throw t})),f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){s=!0,o=t})),f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _construct(t,e,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=_superPropBase(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}));var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService(u);s.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"schedule",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(n("quSY").a))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),a=n("lJxs"),s=n("Cfvw");function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(u((function(n,r){return Object(s.a)(t(n,r)).pipe(Object(a.a)((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new c(t,n))})}var c=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}]),t}(),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var i=new o.a(this,e,n),a=this.destination;a.add(i);var s=Object(r.a)(this,t,void 0,void 0,i);s!==i&&a.add(s)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(i.a)},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a)},"7Hc7":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=1,i=Promise.resolve(),o={};function a(t){return t in o&&(delete o[t],!0)}var s=function(t){var e=r++;return o[e]=!0,i.then((function(){return a(e)&&t()})),e},u=function(t){a(t)},c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=s(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(u(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),l=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(c)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),u=n("NJ4a"),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,o){var a;switch(_classCallCheck(this,n),(a=e.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!t){a.destination=i.a;break}if("object"==typeof t){t instanceof n?(a.syncErrorThrowable=t.syncErrorThrowable,a.destination=t,t.add(_assertThisInitialized(a))):(a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),t));break}default:a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),t,r,o)}return a}return _createClass(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,a,s){var u,c;_classCallCheck(this,n),(u=e.call(this))._parentSubscriber=t;var l=_assertThisInitialized(u);return Object(r.a)(o)?c=o:o&&(c=o.next,a=o.error,s=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=a,u._complete=s,u}return _createClass(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(c)},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),a=n("kJWO"),s=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a((function(n){var r=new o.a;return r.add(e.schedule((function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a((function(n){var r=new o.a;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Object(l.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,i=new o.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[u.a](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a"),i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC"),i=new r.a((function(t){return t.complete()}));function o(t){return t?function(t){return new r.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r,i=n("7o/Q"),o=n("2QA8"),a=n("gRHU"),s=n("kJWO"),u=n("mCNh"),c=n("2fFW"),l=((r=function(){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,s=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(a.a)}(t,e,n);if(s.add(r?r.call(s,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof i.a?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=h(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:Object(u.b)(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=h(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))}}]),t}()).create=function(t){return new r(t)},r);function h(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),i=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return _classCallCheck(this,n),(i=e.call(this,t,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():o()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.1.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[e.length-1];return Object(r.a)(a)?(e.pop(),Object(o.a)(e,a)):Object(i.a)(e)}},Lhse:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout((function(){throw t}),0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),u=n("c2HN"),c=n("XoHu"),l=function(t){if(t&&"function"==typeof t[a.a])return l=t,function(t){var e=l[a.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(s.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,l,h=Object(c.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,c=e[e.length-1];return Object(i.a)(c)?(u=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(s=e.pop())):"number"==typeof c&&(s=e.pop()),null===u&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(s)(Object(a.a)(e,u))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r,i=n("EY2u"),o=n("LRne"),a=n("HDdC"),s=((r=function(){function t(e,n,r){_classCallCheck(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new a.a((function(e){return e.error(t)}));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r)},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),u=n("2QA8"),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).destination=t,r}return n}(i.a),l=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _createClass(n,[{key:u.a,value:function(){return new c(this)}},{key:"lift",value:function(t){var e=new h(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new a.a;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new s.a(this,t))}},{key:"asObservable",value:function(){var t=new r.a;return t.source=this,t}}]),n}(r.a);return t.create=function(t,e){return new h(t,e)},t}(),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).destination=t,i.source=r,i}return _createClass(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),n}(l)},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function a(t,e,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(t,n,a);if(!s.closed)return e instanceof o.a?e.subscribe(s):Object(i.a)(e)(s)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return So})),n.d(e,"b",(function(){return mu})),n.d(e,"c",(function(){return fu})),n.d(e,"d",(function(){return lu})),n.d(e,"e",(function(){return hu})),n.d(e,"f",(function(){return cc})),n.d(e,"g",(function(){return $u})),n.d(e,"h",(function(){return so})),n.d(e,"i",(function(){return Tu})),n.d(e,"j",(function(){return Ha})),n.d(e,"k",(function(){return bu})),n.d(e,"l",(function(){return Wa})),n.d(e,"m",(function(){return Cn})),n.d(e,"n",(function(){return Us})),n.d(e,"o",(function(){return et})),n.d(e,"p",(function(){return g})),n.d(e,"q",(function(){return tt})),n.d(e,"r",(function(){return Eo})),n.d(e,"s",(function(){return ls})),n.d(e,"t",(function(){return hs})),n.d(e,"u",(function(){return _u})),n.d(e,"v",(function(){return vt})),n.d(e,"w",(function(){return ec})),n.d(e,"x",(function(){return pt})),n.d(e,"y",(function(){return Ku})),n.d(e,"z",(function(){return Du})),n.d(e,"A",(function(){return _})),n.d(e,"B",(function(){return yu})),n.d(e,"C",(function(){return vu})),n.d(e,"D",(function(){return Bs})),n.d(e,"E",(function(){return Ya})),n.d(e,"F",(function(){return Ka})),n.d(e,"G",(function(){return Qa})),n.d(e,"H",(function(){return Ja})),n.d(e,"I",(function(){return lr})),n.d(e,"J",(function(){return w})),n.d(e,"K",(function(){return ic})),n.d(e,"L",(function(){return vs})),n.d(e,"M",(function(){return Uu})),n.d(e,"N",(function(){return $a})),n.d(e,"O",(function(){return Xa})),n.d(e,"P",(function(){return ms})),n.d(e,"Q",(function(){return Ct})),n.d(e,"R",(function(){return Ro})),n.d(e,"S",(function(){return Qu})),n.d(e,"T",(function(){return qn})),n.d(e,"U",(function(){return F})),n.d(e,"V",(function(){return lt})),n.d(e,"W",(function(){return Un})),n.d(e,"X",(function(){return sc})),n.d(e,"Y",(function(){return Bu})),n.d(e,"Z",(function(){return gu})),n.d(e,"ab",(function(){return co})),n.d(e,"bb",(function(){return Rs})),n.d(e,"cb",(function(){return ur})),n.d(e,"db",(function(){return dr})),n.d(e,"eb",(function(){return Wn})),n.d(e,"fb",(function(){return Pn})),n.d(e,"gb",(function(){return Rn})),n.d(e,"hb",(function(){return Ln})),n.d(e,"ib",(function(){return jn})),n.d(e,"jb",(function(){return Nn})),n.d(e,"kb",(function(){return Mn})),n.d(e,"lb",(function(){return xs})),n.d(e,"mb",(function(){return ac})),n.d(e,"nb",(function(){return As})),n.d(e,"ob",(function(){return Ps})),n.d(e,"pb",(function(){return Dn})),n.d(e,"qb",(function(){return G})),n.d(e,"rb",(function(){return No})),n.d(e,"sb",(function(){return $o})),n.d(e,"tb",(function(){return Xo})),n.d(e,"ub",(function(){return Do})),n.d(e,"vb",(function(){return Ts})),n.d(e,"wb",(function(){return Kt})),n.d(e,"xb",(function(){return j})),n.d(e,"yb",(function(){return An})),n.d(e,"zb",(function(){return Sa})),n.d(e,"Ab",(function(){return Pa})),n.d(e,"Bb",(function(){return qa})),n.d(e,"Cb",(function(){return Nr})),n.d(e,"Db",(function(){return Fo})),n.d(e,"Eb",(function(){return da})),n.d(e,"Fb",(function(){return ea})),n.d(e,"Gb",(function(){return eu})),n.d(e,"Hb",(function(){return It})),n.d(e,"Ib",(function(){return Nt})),n.d(e,"Jb",(function(){return S})),n.d(e,"Kb",(function(){return O})),n.d(e,"Lb",(function(){return Pt})),n.d(e,"Mb",(function(){return jt})),n.d(e,"Nb",(function(){return qo})),n.d(e,"Ob",(function(){return Qo})),n.d(e,"Pb",(function(){return Zo})),n.d(e,"Qb",(function(){return Yo})),n.d(e,"Rb",(function(){return Ko})),n.d(e,"Sb",(function(){return Go})),n.d(e,"Tb",(function(){return Jo})),n.d(e,"Ub",(function(){return _n})),n.d(e,"Vb",(function(){return ka})),n.d(e,"Wb",(function(){return ct})),n.d(e,"Xb",(function(){return Bo})),n.d(e,"Yb",(function(){return cu})),n.d(e,"Zb",(function(){return zo})),n.d(e,"ac",(function(){return ta})),n.d(e,"bc",(function(){return iu})),n.d(e,"cc",(function(){return oa})),n.d(e,"dc",(function(){return ua})),n.d(e,"ec",(function(){return sa})),n.d(e,"fc",(function(){return Ho})),n.d(e,"gc",(function(){return Fs})),n.d(e,"hc",(function(){return Vs})),n.d(e,"ic",(function(){return Js})),n.d(e,"jc",(function(){return Uo})),n.d(e,"kc",(function(){return he})),n.d(e,"lc",(function(){return pr})),n.d(e,"mc",(function(){return Dt})),n.d(e,"nc",(function(){return nu})),n.d(e,"oc",(function(){return Xs})),n.d(e,"pc",(function(){return fa})),n.d(e,"qc",(function(){return Vo})),n.d(e,"rc",(function(){return uu})),n.d(e,"sc",(function(){return _a})),n.d(e,"tc",(function(){return ba})),n.d(e,"uc",(function(){return wa})),n.d(e,"vc",(function(){return Ca})),n.d(e,"wc",(function(){return $s}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),a=n("VRyK"),s=n("7o/Q");function u(){return function(t){return t.lift(new l(t))}}var c,l=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new h(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(s.a),f=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new i.a).add(this.source.subscribe(new p(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}},{key:"refCount",value:function(){return u()(this)}}]),n}(o.a),d={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(c=f.prototype)._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}},p=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(r.b);function v(){return new r.a}function y(t){return{toString:t}.toString()}function m(t,e,n){return y((function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=_construct(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}))}var g=m("Inject",(function(t){return{token:t}})),_=m("Optional"),b=m("Self"),w=m("SkipSelf"),k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function C(t){for(var e in t)if(t[e]===C)return e;throw Error("Could not find renamed property on target object.")}function E(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function O(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function I(t){return T(t,t[A])||T(t,t[R])}function T(t,e){return e&&e.token===t?e:null}function x(t){return t&&(t.hasOwnProperty(P)||t.hasOwnProperty(N))?t[P]:null}var A=C({"\u0275prov":C}),P=C({"\u0275inj":C}),D=C({"\u0275provFallback":C}),R=C({ngInjectableDef:C}),N=C({ngInjectorDef:C});function j(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(j).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function M(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var L=C({__forward_ref__:C});function F(t){return t.__forward_ref__=F,t.toString=function(){return j(this())},t}function V(t){return U(t)?t():t}function U(t){return"function"==typeof t&&t.hasOwnProperty(L)&&t.__forward_ref__===F}var q,B="undefined"!=typeof globalThis&&globalThis,z="undefined"!=typeof window&&window,H="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,W="undefined"!=typeof global&&global,G=B||W||z||H,K=C({"\u0275cmp":C}),Q=C({"\u0275dir":C}),Y=C({"\u0275pipe":C}),Z=C({"\u0275mod":C}),J=C({"\u0275loc":C}),X=C({"\u0275fac":C}),$=C({__NG_ELEMENT_ID__:C}),tt=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=S({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),t}(),et=new tt("INJECTOR",-1),nt={},rt=/\n/gm,it=C({provide:String,useValue:C}),ot=void 0;function at(t){var e=ot;return ot=t,e}function st(t){var e=q;return q=t,e}function ut(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default;if(void 0===ot)throw new Error("inject() must be called from an injection context");return null===ot?ht(t,void 0,e):ot.get(t,e&k.Optional?null:void 0,e)}function ct(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default;return(q||ut)(V(t),e)}var lt=ct;function ht(t,e,n){var r=I(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&k.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(j(t),"]"))}function ft(t){for(var e=[],n=0;n<t.length;n++){var r=V(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=k.Default,a=0;a<r.length;a++){var s=r[a];s instanceof _||"Optional"===s.ngMetadataName||s===_?o|=k.Optional:s instanceof w||"SkipSelf"===s.ngMetadataName||s===w?o|=k.SkipSelf:s instanceof b||"Self"===s.ngMetadataName||s===b?o|=k.Self:i=s instanceof g||s===g?s.token:s}e.push(ct(i,o))}else e.push(ct(r))}return e}var dt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt;if(e===nt){var n=new Error("NullInjectorError: No provider for ".concat(j(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),pt=function t(){_classCallCheck(this,t)},vt=function t(){_classCallCheck(this,t)};function yt(t,e){t.forEach((function(t){return Array.isArray(t)?yt(t,e):e(t)}))}function mt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function _t(t,e){for(var n=[],r=0;r<t;r++)n.push(e);return n}function bt(t,e){var n=wt(t,e);if(n>=0)return t[1|n]}function wt(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var kt=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),Ct=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Et={},St=[],Ot=0;function It(t){return y((function(){var e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===kt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||St,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ct.Emulated,id:"c",styles:t.styles||St,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,a=t.features,s=t.pipes;return i.id+=Ot++,i.inputs=Rt(t.inputs,r),i.outputs=Rt(t.outputs),a&&a.forEach((function(t){return t(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(Tt)}:null,i.pipeDefs=s?function(){return("function"==typeof s?s():s).map(xt)}:null,i}))}function Tt(t){return Mt(t)||function(t){return t[Q]||null}(t)}function xt(t){return function(t){return t[Y]||null}(t)}var At={};function Pt(t){var e={type:t.type,bootstrap:t.bootstrap||St,declarations:t.declarations||St,imports:t.imports||St,exports:t.exports||St,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&y((function(){At[t.id]=t.type})),e}function Dt(t,e){return y((function(){var n=Ft(t,!0);n.declarations=e.declarations||St,n.imports=e.imports||St,n.exports=e.exports||St}))}function Rt(t,e){if(null==t)return Et;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var Nt=It;function jt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Mt(t){return t[K]||null}function Lt(t,e){return t.hasOwnProperty(X)?t[X]:null}function Ft(t,e){var n=t[Z]||null;if(!n&&!0===e)throw new Error("Type ".concat(j(t)," does not have '\u0275mod' property."));return n}function Vt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ut(t){return Array.isArray(t)&&!0===t[1]}function qt(t){return 0!=(8&t.flags)}function Bt(t){return 2==(2&t.flags)}function zt(t){return 1==(1&t.flags)}function Ht(t){return null!==t.template}function Wt(t){return 0!=(512&t[2])}var Gt=void 0;function Kt(t){Gt=t}function Qt(t){return!!t.listen}var Yt={createRenderer:function(t,e){return void 0!==Gt?Gt:"undefined"!=typeof document?document:void 0}};function Zt(t){for(;Array.isArray(t);)t=t[0];return t}function Jt(t,e){return Zt(e[t+20])}function Xt(t,e){return Zt(e[t.index])}function $t(t,e){return t.data[e+20]}function te(t,e){var n=e[t];return Vt(n)?n:n[0]}function ee(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ne(t){return 4==(4&t[2])}function re(t){return 128==(128&t[2])}function ie(t,e){return null===t||null==e?null:t[e]}function oe(t){t[18]=0}function ae(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var se={lFrame:Te(null),bindingsEnabled:!0,checkNoChangesMode:!1};function ue(){return se.bindingsEnabled}function ce(){return se.lFrame.lView}function le(){return se.lFrame.tView}function he(t){se.lFrame.contextLView=t}function fe(){return se.lFrame.previousOrParentTNode}function de(t,e){se.lFrame.previousOrParentTNode=t,se.lFrame.isParent=e}function pe(){return se.lFrame.isParent}function ve(){se.lFrame.isParent=!1}function ye(){return se.checkNoChangesMode}function me(t){se.checkNoChangesMode=t}function ge(){var t=se.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function _e(){return se.lFrame.bindingIndex++}function be(t,e){var n=se.lFrame;n.bindingIndex=n.bindingRootIndex=t,we(e)}function we(t){se.lFrame.currentDirectiveIndex=t}function ke(t){var e=se.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function Ce(){return se.lFrame.currentQueryIndex}function Ee(t){se.lFrame.currentQueryIndex=t}function Se(t,e){var n=Ie();se.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Oe(t,e){var n=Ie(),r=t[1];se.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Ie(){var t=se.lFrame,e=null===t?null:t.child;return null===e?Te(t):e}function Te(t){var e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function xe(){var t=se.lFrame;return se.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}var Ae=xe;function Pe(){var t=xe();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function De(){return se.lFrame.selectedIndex}function Re(t){se.lFrame.selectedIndex=t}function Ne(){var t=se.lFrame;return $t(t.tView,t.selectedIndex)}function je(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n];i.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,i.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,i.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,i.onDestroy)}}function Me(t,e,n){Ve(t,e,3,n)}function Le(t,e,n,r){(3&t[2])===n&&Ve(t,e,n,r)}function Fe(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ve(t,e,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&t[18]:0;a<e.length;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Ue(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ue(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}var qe=function t(e,n,r){_classCallCheck(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Be(t,e,n){for(var r=Qt(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];He(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function ze(t){return 3===t||4===t||6===t}function He(t){return 64===t.charCodeAt(0)}function We(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||Ge(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function Ge(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ke(t){return-1!==t}function Qe(t){return 32767&t}function Ye(t){return t>>16}function Ze(t,e){for(var n=Ye(t),r=e;n>0;)r=r[15],n--;return r}function Je(t){return"string"==typeof t?t:null==t?"":""+t}function Xe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Je(t)}var $e=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(G);function tn(t){return t instanceof Function?t():t}var en=!0;function nn(t){var e=en;return en=t,e}var rn=0;function on(t,e){var n=sn(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,an(r.data,t),an(e,null),an(r.blueprint,null));var i=un(t,e),o=t.injectorIndex;if(Ke(i))for(var a=Qe(i),s=Ze(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function an(t,e){t.push(0,0,0,0,0,0,0,0,e)}function sn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function un(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[6],r=1;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function cn(t,e,n){!function(t,e,n){var r="string"!=typeof n?n[$]:n.charCodeAt(0)||0;null==r&&(r=n[$]=rn++);var i=255&r,o=1<<i,a=64&i,s=32&i,u=e.data;128&i?a?s?u[t+7]|=o:u[t+6]|=o:s?u[t+5]|=o:u[t+4]|=o:a?s?u[t+3]|=o:u[t+2]|=o:s?u[t+1]|=o:u[t]|=o}(t,e,n)}function ln(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t[$];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof o){Se(e,t);try{var a=o();if(null!=a||r&k.Optional)return a;throw new Error("No provider for ".concat(Xe(n),"!"))}finally{Ae()}}else if("number"==typeof o){if(-1===o)return new mn(t,e);var s=null,u=sn(t,e),c=-1,l=r&k.Host?e[16][6]:null;for((-1===u||r&k.SkipSelf)&&(c=-1===u?un(t,e):e[u+8],yn(r,!1)?(s=e[1],u=Qe(c),e=Ze(c,e)):u=-1);-1!==u;){c=e[u+8];var h=e[1];if(vn(o,u,h.data)){var f=fn(u,e,n,s,r,l);if(f!==hn)return f}yn(r,e[1].data[u+8]===l)&&vn(o,u,e)?(s=h,u=Qe(c),e=Ze(c,e)):u=-1}}}if(r&k.Optional&&void 0===i&&(i=null),0==(r&(k.Self|k.Host))){var d=e[9],p=st(void 0);try{return d?d.get(n,i,r&k.Optional):ht(n,i,r&k.Optional)}finally{st(p)}}if(r&k.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(Xe(n),"]"))}var hn={};function fn(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=dn(s,a,n,null==r?Bt(s)&&en:r!=a&&3===s.type,i&k.Host&&o===s);return null!==u?pn(e,a,u,s):hn}function dn(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=65535&o,u=t.directiveStart,c=o>>16,l=i?s+c:t.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&Ht(d)&&d.type===n)return u}return null}function pn(t,e,n,r){var i=t[n],o=e.data;if(i instanceof qe){var a=i;if(a.resolving)throw new Error("Circular dep for "+Xe(o[n]));var s,u=nn(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(s=st(a.injectImpl)),Se(t,r);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.onChanges,i=e.onInit,o=e.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{a.injectImpl&&st(s),nn(u),a.resolving=!1,Ae()}}return i}function vn(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function yn(t,e){return!(t&k.Self||t&k.Host&&e)}var mn=function(){function t(e,n){_classCallCheck(this,t),this._tNode=e,this._lView=n}return _createClass(t,[{key:"get",value:function(t,e){return ln(this._tNode,this._lView,t,void 0,e)}}]),t}();function gn(t){var e=t;if(U(t))return function(){var t=gn(V(e));return t?t():null};var n=Lt(e);if(null===n){var r=x(e);n=r&&r.factory}return n||null}function _n(t){return y((function(){for(var e=t.prototype.constructor,n=e[X]||gn(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[X]||gn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}}))}function bn(t){return t.ngDebugContext}function wn(t){return t.ngOriginalError}function kn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var Cn=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||kn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?bn(t)?bn(t):this._findContext(wn(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=wn(t);e&&wn(e);)e=wn(e);return e}}]),t}(),En=function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),t}(),Sn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(En),On=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(En),In=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(En),Tn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(En),xn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(En);function An(t){return t instanceof En?t.changingThisBreaksApplicationSecurity:t}function Pn(t,e){var n=Dn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===e}function Dn(t){return t instanceof En&&t.getTypeName()||null}function Rn(t){return new Sn(t)}function Nn(t){return new On(t)}function jn(t){return new In(t)}function Mn(t){return new Tn(t)}function Ln(t){return new xn(t)}var Fn=!0,Vn=!1;function Un(){return Vn=!0,Fn}function qn(){if(Vn)throw new Error("Cannot enable prod mode after platform setup.");Fn=!1}var Bn=function(){function t(e){_classCallCheck(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r),n=this.inertDocument.createElement("body"),r.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(t,[{key:"getInertBodyElement_XHR",value:function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;var n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),zn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Hn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Wn(t){return(t=String(t)).match(zn)||t.match(Hn)?t:(Un()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function Gn(t){var e,n={},r=_createForOfIteratorHelper(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Kn(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var Qn,Yn=Gn("area,br,col,hr,img,wbr"),Zn=Gn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jn=Gn("rp,rt"),Xn=Kn(Jn,Zn),$n=Kn(Yn,Kn(Zn,Gn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Kn(Jn,Gn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xn),tr=Gn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),er=Gn("srcset"),nr=Kn(tr,er,Gn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rr=Gn("script,style,template"),ir=function(){function t(){_classCallCheck(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!$n.hasOwnProperty(e))return this.sanitizedSomething=!0,!rr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(nr.hasOwnProperty(s)){var u=o.value;tr[s]&&(u=Wn(u)),er[s]&&(n=u,u=(n=String(n)).split(",").map((function(t){return Wn(t.trim())})).join(", ")),this.buf.push(" ",a,'="',sr(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();$n.hasOwnProperty(e)&&!Yn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(sr(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}]),t}(),or=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ar=/([^\#-~ |!])/g;function sr(t){return t.replace(/&/g,"&amp;").replace(or,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(ar,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ur(t,e){var n=null;try{Qn=Qn||new Bn(t);var r=e?String(e):"";n=Qn.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Qn.getInertBodyElement(r)}while(r!==o);var a=new ir,s=a.sanitizeChildren(cr(n)||n);return Un()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=cr(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function cr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var lr=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),hr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),fr=/^url\(([^)]+)\)$/;function dr(t){if(!(t=String(t).trim()))return"";var e=t.match(fr);return e&&Wn(e[1])===e[1]||t.match(hr)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Un()&&console.warn("WARNING: sanitizing unsafe style value ".concat(t," (see http://g.co/ng/security#xss).")),"unsafe")}function pr(t){var e,n=(e=ce())&&e[12];return n?n.sanitize(lr.URL,t)||"":Pn(t,"URL")?An(t):Wn(Je(t))}function vr(t,e){t.__ngContext__=e}function yr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function mr(){throw new Error("Cannot mix multi providers and regular providers")}function gr(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function _r(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==gr((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function br(t){return 0===t.type&&"ng-template"!==t.tagName}function wr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function kr(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(ze(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!wr(t,u,n)||""===u&&1===e.length){if(Cr(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!_r(t.attrs,c,n)){if(Cr(r))return!1;a=!0}continue}var l=Er(8&r?"class":u,i,br(t),n);if(-1===l){if(Cr(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==gr(f,c,0)||2&r&&c!==h){if(Cr(r))return!1;a=!0}}}}else{if(!a&&!Cr(r)&&!Cr(u))return!1;if(a&&Cr(u))continue;a=!1,r=u|1&r}}return Cr(r)||a}function Cr(t){return 0==(1&t)}function Er(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Sr(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(kr(t,e[r],n))return!0;return!1}function Or(t,e){t:for(var n=0;n<e.length;n++){var r=e[n];if(t.length===r.length){for(var i=0;i<t.length;i++)if(t[i]!==r[i])continue t;return!0}}return!1}function Ir(t,e){return t?":not("+e.trim()+")":e}function Tr(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Cr(a)||(e+=Ir(o,i),i=""),r=a,o=o||!Cr(r);n++}return""!==i&&(e+=Ir(o,i)),e}var xr={};function Ar(t){var e=t[3];return Ut(e)?e[3]:e}function Pr(t){return Rr(t[13])}function Dr(t){return Rr(t[4])}function Rr(t){for(;null!==t&&!Ut(t);)t=t[4];return t}function Nr(t){jr(le(),ce(),De()+t,ye())}function jr(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&Me(e,i,n)}else{var o=t.preOrderHooks;null!==o&&Le(e,o,0,n)}Re(n)}function Mr(t,e){return t<<17|e<<2}function Lr(t){return t>>17&32767}function Fr(t){return 2|t}function Vr(t){return(131068&t)>>2}function Ur(t,e){return-131069&t|e<<2}function qr(t){return 1|t}function Br(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=t.data[o];Ee(i),a.contentQueries(2,e[o],o)}}}function zr(t,e,n){return Qt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Hr(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,oe(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Wr(t,e,n,r,i,o){var a=n+20,s=t.data[a]||function(t,e,n,r,i,o){var a=fe(),s=pe(),u=s?a:a&&a.parent,c=t.data[n]=ei(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),a&&(!s||null!=a.child||null===c.parent&&2!==a.type?s||(a.next=c):a.child=c),c}(t,e,a,r,i,o);return de(s,!0),s}function Gr(t,e,n){Oe(e,e[6]);try{var r=t.viewQuery;null!==r&&Ci(1,r,n);var i=t.template;null!==i&&Yr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Br(t,e),t.staticViewQueries&&Ci(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)gi(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,Pe()}}function Kr(t,e,n,r){var i=e[2];if(256!=(256&i)){Oe(e,e[6]);var o=ye();try{oe(e),se.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Yr(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&Me(e,s,null)}else{var u=t.preOrderHooks;null!==u&&Le(e,u,0,null),Fe(e,0)}if(function(t){for(var e=Pr(t);null!==e;e=Dr(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&ae(o,1),i[2]|=1024}}(e),function(t){for(var e=Pr(t);null!==e;e=Dr(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];re(r)&&Kr(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Br(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&Me(e,c)}else{var l=t.contentHooks;null!==l&&Le(e,l,1),Fe(e,1)}!function(t,e){try{var n=t.expandoInstructions;if(null!==n)for(var r=t.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(Re(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(be(r,i),a(2,e[i])),i++)}}finally{Re(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)mi(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&Ci(2,f,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&Me(e,d)}else{var p=t.viewHooks;null!==p&&Le(e,p,2),Fe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ae(e[3],-1))}finally{Pe()}}}function Qr(t,e,n,r){var i=e[10],o=!ye(),a=ne(e);try{o&&!a&&i.begin&&i.begin(),a&&Gr(t,e,r),Kr(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function Yr(t,e,n,r,i){var o=De();try{Re(-1),2&r&&e.length>20&&jr(t,e,0,ye()),n(r,i)}finally{Re(o)}}function Zr(t,e,n){if(qt(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Jr(t,e,n){ue()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||on(n,e),vr(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=Ht(u);c&&di(e,n,u);var l=pn(e,t,s,n);vr(l,e),null!==a&&pi(0,s-i,l,u,0,a),c&&(te(n.index,e)[8]=l)}}(t,e,n,Xt(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,a=t.firstCreatePass,s=n.index-20,u=se.lFrame.currentDirectiveIndex;try{Re(s);for(var c=r;c<i;c++){var l=t.data[c],h=e[c];we(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?si(l,h):a&&o.push(null)}}finally{Re(-1),we(u)}}(t,e,n))}function Xr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xt,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function $r(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ti(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ti(t,e,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:xr);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:s,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function ei(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ni(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ri(t,e,n,r,i,o,a,s){var u,c=Xt(e,n),l=e.inputs;!s&&null!=l&&(u=l[r])?(xi(t,n,u,r,i),Bt(e)&&function(t,e){var n=te(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=a?a(i,e.tagName||"",r):i,Qt(o)?o.setProperty(c,r,i):He(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function ii(t,e,n,r){var i=!1;if(ue()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Sr(n,a.selectors,!1)&&(i||(i=[]),cn(on(n,e),t,a.type),Ht(a)?(2&n.flags&&yr(n),ci(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,hi(n,t.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}ui(t,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=We(n.mergedAttrs,d.hostAttrs),fi(t,e,d),li(t.data.length-1,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!l&&(d.onChanges||d.onInit||d.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),l=!0),h||!d.onChanges&&!d.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),h=!0),oi(t,d),s+=d.hostVars}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||br(e)?null:vi(l,i);o.push(h),a=ni(l,u,a),s=ni(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n),ai(t,e,s)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=We(n.mergedAttrs,n.attrs),i}function oi(t,e){var n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function ai(t,e,n){for(var r=0;r<n;r++)e.push(xr),t.blueprint.push(xr),t.data.push(null)}function si(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ui(t,e,n){var r=20-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function ci(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function li(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ht(e)&&(n[""]=t)}}function hi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function fi(t,e,n){t.data.push(n);var r=n.factory||(n.factory=Lt(n.type)),i=new qe(r,Ht(n),null);t.blueprint.push(i),e.push(i)}function di(t,e,n){var r=Xt(e,t),i=$r(n),o=t[10],a=_i(t,Hr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=a}function pi(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function vi(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function yi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function mi(t,e){var n=te(e,t);if(re(n)){var r=n[1];80&n[2]?Kr(r,n,r.template,n[8]):n[5]>0&&function t(e){for(var n=Pr(e);null!==n;n=Dr(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];Kr(o,i,o.template,i[8])}else i[5]>0&&t(i)}var a=e[1].components;if(null!==a)for(var s=0;s<a.length;s++){var u=te(a[s],e);re(u)&&u[5]>0&&t(u)}}(n)}}function gi(t,e){var n=te(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Gr(r,n,n[8])}function _i(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function bi(t){for(;t;){t[2]|=64;var e=Ar(t);if(Wt(t)&&!e)return t;t=e}return null}function wi(t,e,n){var r=e[10];r.begin&&r.begin();try{Kr(t,e,t.template,n)}catch(i){throw Ti(e,i),i}finally{r.end&&r.end()}}function ki(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=ee(n),i=r[1];Qr(i,r,i.template,n)}}(t[8])}function Ci(t,e,n){Ee(0),e(t,n)}var Ei=Promise.resolve(null);function Si(t){return t[7]||(t[7]=[])}function Oi(t){return t.cleanup||(t.cleanup=[])}function Ii(t,e,n){return(null===t||Ht(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Ti(t,e){var n=t[9],r=n?n.get(Cn,null):null;r&&r.handleError(e)}function xi(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function Ai(t,e){var n=e[3];return-1===t.index?Ut(n)?n:null:n}function Pi(t,e){var n=Ai(t,e);return n?zi(e[11],n[7]):null}function Di(t,e,n,r,i){if(null!=r){var o,a=!1;Ut(r)?o=r:Vt(r)&&(a=!0,r=r[0]);var s=Zt(r);0===t&&null!==n?null==i?qi(e,n,s):Ui(e,n,s,i||null):1===t&&null!==n?Ui(e,n,s,i||null):2===t?function(t,e,n){var r=zi(t,e);r&&function(t,e,n,r){Qt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Zt(n)&&Di(e,t,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];Qi(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function Ri(t,e,n,r){var i=Pi(t.node,e);i&&Qi(t,e,e[11],n?1:2,i,r)}function Ni(t,e){var n=t[9],r=n.indexOf(e);1024&e[2]&&ae(e[3],-1),n.splice(r,1)}function ji(t,e){if(!(t.length<=10)){var n=10+e,r=t[n];if(r){var i=r[17];null!==i&&i!==t&&Ni(i,r),e>0&&(t[n-1][4]=r[4]);var o=gt(t,10+e);Ri(r[1],r,!1,null);var a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Mi(t,e){if(!(256&e[2])){var n=e[11];Qt(n)&&n.destroyNode&&Qi(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Fi(t[1],t);for(;e;){var n=null;if(Vt(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Vt(e)&&Fi(e[1],e),e=Li(e,t);null===e&&(e=t),Vt(e)&&Fi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Li(t,e){var n;return Vt(t)&&(n=t[6])&&2===n.type?Ai(n,t):t[3]===e?null:t[3]}function Fi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof qe)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup;if(null!==n){for(var r=e[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(e):Zt(e[o]),s=r[n[i+2]],u=n[i+3];"boolean"==typeof u?a.removeEventListener(n[i],s,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);e[7]=null}}(t,e);var n=e[6];n&&3===n.type&&Qt(e[11])&&e[11].destroy();var r=e[17];if(null!==r&&Ut(e[3])){r!==e[3]&&Ni(r,e);var i=e[19];null!==i&&i.detachView(t)}}}function Vi(t,e,n){for(var r=e.parent;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){var i=n[6];return 2===i.type?Pi(i,n):n[0]}if(e&&5===e.type&&4&e.flags)return Xt(e,n).parentNode;if(2&r.flags){var o=t.data,a=o[o[r.index].directiveStart].encapsulation;if(a!==Ct.ShadowDom&&a!==Ct.Native)return null}return Xt(r,n)}function Ui(t,e,n,r){Qt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function qi(t,e,n){Qt(t)?t.appendChild(e,n):e.appendChild(n)}function Bi(t,e,n,r){null!==r?Ui(t,e,n,r):qi(t,e,n)}function zi(t,e){return Qt(t)?t.parentNode(e):e.parentNode}function Hi(t,e){if(2===t.type){var n=Ai(t,e);return null===n?null:Gi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Xt(t,e):null}function Wi(t,e,n,r){var i=Vi(t,r,e);if(null!=i){var o=e[11],a=Hi(r.parent||e[6],e);if(Array.isArray(n))for(var s=0;s<n.length;s++)Bi(o,i,n[s],a);else Bi(o,i,n,a)}}function Gi(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return function t(e,n){if(null!==n){var r=n.type;if(3===r)return Xt(n,e);if(0===r)return Gi(-1,e[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return t(e,i);var o=e[n.index];return Ut(o)?Gi(-1,o):Zt(o)}var a=e[16],s=a[6],u=Ar(a),c=s.projection[n.projection];return null!=c?t(u,c):t(e,n.next)}return null}(r,i)}return e[7]}function Ki(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;a&&0===e&&(s&&vr(Zt(s),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Ki(t,e,n.child,r,i,o,!1),Di(e,t,i,s,o)):1===u?Yi(t,e,r,n,i,o):Di(e,t,i,s,o)),n=a?n.projectionNext:n.next}}function Qi(t,e,n,r,i,o){Ki(n,r,t.node.child,e,i,o,!1)}function Yi(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Di(e,t,i,s[u],o);else Ki(t,e,s,a[3],i,o,!0)}function Zi(t,e,n){Qt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Ji(t,e,n){Qt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}var Xi,$i,to,eo=function(){function t(e,n){_classCallCheck(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(t,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Mi(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){var e,n,r;e=this._lView[1],r=t,Si(n=this._lView).push(r),e.firstCreatePass&&Oi(e).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){bi(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){wi(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){me(!0);try{wi(t,e,n)}finally{me(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,Qi(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"rootNodes",get:function(){var t=this._lView;return null==t[0]?function t(e,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=n[r.index];if(null!==a&&i.push(Zt(a)),Ut(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&t(u[1],u,c,i)}var l=r.type;if(4===l||5===l)t(e,n,r.child,i);else if(1===l){var h=n[16],f=h[6].projection[r.projection];if(Array.isArray(f))i.push.apply(i,_toConsumableArray(f));else{var d=Ar(h);t(d[1],d,f,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),t}(),no=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t))._view=t,r}return _createClass(n,[{key:"detectChanges",value:function(){ki(this._view)}},{key:"checkNoChanges",value:function(){!function(t){me(!0);try{ki(t)}finally{me(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(eo);function ro(t,e,n){return Xi||(Xi=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(t)),new Xi(Xt(e,n))}function io(t,e,n,r){return $i||($i=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._declarationView=t,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Hr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Gr(e,n,t),new eo(n)}}]),n}(t)),0===n.type?new $i(r,n,ro(e,n,r)):null}function oo(t,e,n,r){var i;to||(to=function(t){_inherits(r,t);var n=_createSuper(r);function r(t,e,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=t,o._hostTNode=e,o._hostView=i,o}return _createClass(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(pt,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ut(n[3])){var i=this.indexOf(t);if(-1!==i)this.detach(i);else{var o=n[3],a=new to(o,o[6],o[3]);a.detach(a.indexOf(t))}}var s=this._adjustIndex(e);return function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],mt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(r,n,this._lContainer,s),Ri(r,n,!0,Gi(s,this._lContainer)),t.attachToViewContainerRef(this),mt(this._lContainer[8],s,t),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=this._lContainer[8];return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1);!function(t,e){var n=ji(t,e);n&&Mi(n[1],n)}(this._lContainer,e),gt(this._lContainer[8],e)}},{key:"detach",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=ji(this._lContainer,e);return n&&null!=gt(this._lContainer[8],e)?new eo(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return ro(e,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new mn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var t=un(this._hostTNode,this._hostView),e=Ze(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=Ye(t),a=e,s=e[6];o>1;)s=(a=a[15])[6],o--;return s}(t,this._hostView,this._hostTNode);return Ke(t)&&null!=n?new mn(n,e):new mn(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),r}(t));var o=r[n.index];if(Ut(o))i=o;else{var a;if(4===n.type)a=Zt(o);else if(a=r[11].createComment(""),Wt(r)){var s=r[11],u=Xt(n,r);Ui(s,zi(s,u),a,function(t,e){return Qt(t)?t.nextSibling(e):e.nextSibling}(s,u))}else Wi(r[1],r,a,n);r[n.index]=i=yi(o,r,a,n),_i(r,i)}return new to(i,n,r)}function ao(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&Bt(t)){var r=te(t.index,e);return new eo(r,r)}return 3===t.type||0===t.type||4===t.type||5===t.type?new eo(e[16],e):null}(fe(),ce(),t)}var so=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return uo()},t}(),uo=ao,co=new tt("Set Injector scope."),lo={},ho={},fo=[],po=void 0;function vo(){return void 0===po&&(po=new dt),po}function yo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new mo(t,n,e||vo(),r)}var mo=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&yt(n,(function(t){return i.processProvider(t,e,n)})),yt([e],(function(t){return i.processInjectorType(t,[],a)})),this.records.set(et,bo(void 0,this));var s=this.records.get(co);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:j(e))}return _createClass(t,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Default;this.assertNotDestroyed();var r,i=at(this);try{if(!(n&k.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof tt)&&I(t);o=a&&this.injectableDefInScope(a)?bo(go(t),lo):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&k.Self?vo():this.parent).get(t,e=n&k.Optional&&e===nt?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(j(t)),i)throw s;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=j(e);if(Array.isArray(e))i=e.map(j).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):j(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(rt,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{at(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach((function(e){return t.get(e)}))}},{key:"toString",value:function(){var t=[];return this.records.forEach((function(e,n){return t.push(j(n))})),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=V(t)))return!1;var i=x(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=x(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{yt(i.imports,(function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))}))}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;yt(i,(function(t){return r.processProvider(t,n,i||fo)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a),this.records.set(a,bo(i.factory,lo));var h=i.providers;if(null!=h&&!s){var f=t;yt(h,(function(t){return r.processProvider(t,f,h)}))}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=ko(t=V(t))?t:V(t&&t.provide),i=function(t,e,n){return wo(t)?bo(void 0,t.useValue):bo(_o(t,e,n),lo)}(t,e,n);if(ko(t)||!0!==t.multi){var o=this.records.get(r);o&&void 0!==o.multi&&mr()}else{var a=this.records.get(r);a?void 0===a.multi&&mr():((a=bo(void 0,lo,!0)).factory=function(){return ft(a.multi)},this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===ho?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(j(t)):e.value===lo&&(e.value=ho,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function go(t){var e=I(t),n=null!==e?e.factory:Lt(t);if(null!==n)return n;var r=x(t);if(null!==r)return r.factory;if(t instanceof tt)throw new Error("Token ".concat(j(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=_t(e,"?");throw new Error("Can't resolve all parameters for ".concat(j(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[A]||t[R]||t[D]&&t[D]());if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function _o(t,e,n){var r,i=void 0;if(ko(t)){var o=V(t);return Lt(o)||go(o)}if(wo(t))i=function(){return V(t.useValue)};else if((r=t)&&r.useFactory)i=function(){return t.useFactory.apply(t,_toConsumableArray(ft(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))i=function(){return ct(V(t.useExisting))};else{var a=V(t&&(t.useClass||t.provide));if(a||function(t,e,n){var r="";throw t&&e&&(r=" - only instances of Provider and Type are allowed, got: [".concat(e.map((function(t){return t==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(j(t),"'")+r)}(e,n,t),!function(t){return!!t.deps}(t))return Lt(a)||go(a);i=function(){return _construct(a,_toConsumableArray(ft(t.deps)))}}return i}function bo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function wo(t){return null!==t&&"object"==typeof t&&it in t}function ko(t){return"function"==typeof t}var Co=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=yo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},Eo=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Co(t,e,""):Co(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=nt,t.NULL=new dt,t.\u0275prov=S({token:t,providedIn:"any",factory:function(){return ct(et)}}),t.__NG_ELEMENT_ID__=-1,t}(),So=new tt("AnalyzeForEntryComponents"),Oo=new Map,Io=new Set;function To(t){return"string"==typeof t?t:t.text()}function xo(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=M(i,s):2==o&&(r=M(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Ao=null;function Po(){if(!Ao){var t=G.Symbol;if(t&&t.iterator)Ao=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ao=r)}}return Ao}function Do(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}var Ro=function(){function t(e){_classCallCheck(this,t),this.wrapped=e}return _createClass(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function No(t){return!!jo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Po()in t)}function jo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Mo(t,e,n){return t[e]=n}function Lo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Fo(t,e,n,r){var i=ce();return Lo(i,_e(),e)&&(le(),function(t,e,n,r,i,o){var a=Xt(t,e),s=e[11];if(null==r)Qt(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{var u=null==i?Je(r):i(r,t.tagName||"",n);Qt(s)?s.setAttribute(a,n,u,o):o?a.setAttributeNS(o,n,u):a.setAttribute(n,u)}}(Ne(),i,t,e,n,r)),Fo}function Vo(t,e,n,r,i,o,a,s){var u=ce(),c=le(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=Wr(e,n[6],t,0,a||null,ie(c,s));ii(e,n,l,ie(c,u)),je(e,l);var h=l.tViews=ti(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=ei(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,a):c.data[l];de(h,!1);var f=u[11].createComment("");Wi(c,u,f,h),vr(f,u),_i(u,u[l]=yi(f,u,f,h)),zt(h)&&Jr(c,u,h),null!=a&&Xr(u,h,s)}function Uo(t){return function(t,e){return t[e+20]}(se.lFrame.contextLView,t)}function qo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default,n=ce();return null==n?ct(t,e):ln(fe(),n,V(t),e)}function Bo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(ze(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(fe(),t)}function zo(){throw new Error("invalid")}function Ho(t,e,n){var r=ce();return Lo(r,_e(),e)&&ri(le(),Ne(),r,t,e,r[11],n,!1),Ho}function Wo(t,e,n,r,i){var o=i?"class":"style";xi(t,n,e.inputs[o],o,r)}function Go(t,e,n,r){var i=ce(),o=le(),a=20+t,s=i[11],u=i[a]=zr(e,s,se.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=ie(s,o),c=Wr(e,n[6],t,3,i,u);return ii(e,n,c,ie(s,a)),null!==c.attrs&&xo(c,c.attrs,!1),null!==c.mergedAttrs&&xo(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[a];de(c,!0);var l=c.mergedAttrs;null!==l&&Be(s,u,l);var h=c.classes;null!==h&&Ji(s,u,h);var f=c.styles;null!==f&&Zi(s,u,f),Wi(o,i,u,c),0===se.lFrame.elementDepthCount&&vr(u,i),se.lFrame.elementDepthCount++,zt(c)&&(Jr(o,i,c),Zr(o,c,i)),null!==r&&Xr(i,c)}function Ko(){var t=fe();pe()?ve():de(t=t.parent,!1);var e=t;se.lFrame.elementDepthCount--;var n=le();n.firstCreatePass&&(je(n,t),qt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Wo(n,e,ce(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Wo(n,e,ce(),e.stylesWithoutHost,!1)}function Qo(t,e,n,r){Go(t,e,n,r),Ko()}function Yo(t,e,n){var r=ce(),i=le(),o=t+20,a=i.firstCreatePass?function(t,e,n,r,i){var o=e.consts,a=ie(o,r),s=Wr(e,n[6],t,4,"ng-container",a);return null!==a&&xo(s,a,!0),ii(e,n,s,ie(o,i)),null!==e.queries&&e.queries.elementStart(e,s),s}(t,i,r,e,n):i.data[o];de(a,!0);var s=r[o]=r[11].createComment("");Wi(i,r,s,a),vr(s,r),zt(a)&&(Jr(i,r,a),Zr(i,a,r)),null!=n&&Xr(r,a)}function Zo(){var t=fe(),e=le();pe()?ve():de(t=t.parent,!1),e.firstCreatePass&&(je(e,t),qt(t)&&e.queries.elementEnd(t))}function Jo(){return ce()}function Xo(t){return!!t&&"function"==typeof t.then}function $o(t){return!!t&&"function"==typeof t.subscribe}function ta(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=ce(),o=le(),a=fe();return na(o,i,i[11],a,t,e,n,r),ta}function ea(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=fe(),o=ce(),a=le();return na(a,o,Ii(ke(a.data),i,o),i,t,e,n,r),ea}function na(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=zt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Si(e),h=!0;if(3===r.type){var f=Xt(r,e),d=s?s(f):Et,p=d.target||f,v=l.length,y=s?function(t){return s(Zt(t[r.index])).target}:r.index;if(Qt(n)){var m=null;if(!s&&u&&(m=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==m)(m.__ngLastListenerFn__||m).__ngNextListenerFn__=o,m.__ngLastListenerFn__=o,h=!1;else{o=ia(r,e,o,!1);var g=n.listen(d.name||p,i,o);l.push(o,g),c&&c.push(i,y,v,v+1)}}else o=ia(r,e,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,y,v,a)}var _,b=r.outputs;if(h&&null!==b&&(_=b[i])){var w=_.length;if(w)for(var k=0;k<w;k+=2){var C=e[_[k]][_[k+1]].subscribe(o),E=l.length;l.push(o,C),c&&c.push(i,r.index,E,-(E+1))}}}function ra(t,e,n){try{return!1!==e(n)}catch(r){return Ti(t,r),!1}}function ia(t,e,n,r){return function i(o){if(o===Function)return n;var a=2&t.flags?te(t.index,e):e;0==(32&e[2])&&bi(a);for(var s=ra(e,n,o),u=i.__ngNextListenerFn__;u;)s=ra(e,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function oa(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(se.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,se.lFrame.contextLView))[8]}(t)}function aa(t,e){for(var n=null,r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++){var o=e[i];if("*"!==o){if(null===r?Sr(t,o,!0):Or(r,o))return i}else n=i}return n}function sa(t){var e=ce()[16][6];if(!e.projection)for(var n=e.projection=_t(t?t.length:1,null),r=n.slice(),i=e.child;null!==i;){var o=t?aa(i,t):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function ua(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=ce(),i=le(),o=Wr(i,r[6],t,1,null,n||null);null===o.projection&&(o.projection=e),ve(),function(t,e,n){Yi(e[11],0,e,n,Vi(t,n,e),Hi(n.parent||e[6],e))}(i,r,o)}var ca=[];function la(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?Lr(o):Vr(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];ha(t[s],e)&&(u=!0,t[s+1]=r?qr(c):Fr(c)),s=r?Lr(c):Vr(c)}u&&(t[n+1]=r?Fr(o):qr(o))}function ha(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&wt(t,e)>=0}function fa(t,e,n){return pa(t,e,n,!1),fa}function da(t,e){return pa(t,e,null,!0),da}function pa(t,e,n,r){var i,o,a,s=ce(),u=le(),c=(i=se.lFrame,o=i.bindingIndex,i.bindingIndex=i.bindingIndex+2,o);(u.firstUpdatePass&&function(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[De()+20],a=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(o,r)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=ke(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ya(n=va(null,t,e,n,r),e.attrs,r),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=va(i,t,e,n,r),null===o){var s=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==Vr(r))return t[Lr(r)]}(t,e,r);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[Lr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,s=ya(s=va(null,t,e,s[1],r),e.attrs,r))}else o=function(t,e,n){for(var r=void 0,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=ya(r,t[o].hostAttrs,n);return ya(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var a=o?e.classBindings:e.styleBindings,s=Lr(a),u=Vr(a);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||wt(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=Lr(t[s+1]);t[r+1]=Mr(f,s),0!==f&&(t[f+1]=Ur(t[f+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=Mr(s,0),0!==s&&(t[s+1]=Ur(t[s+1],r)),s=r;else t[r+1]=Mr(u,0),0===s?s=r:t[u+1]=Ur(t[u+1],r),u=r;l&&(t[r+1]=Fr(t[r+1])),la(t,c,r,!0),la(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&wt(o,e)>=0&&(n[r+1]=qr(n[r+1]))}(e,c,t,r,o),a=Mr(s,u),o?e.classBindings=a:e.styleBindings=a}(i,o,e,n,a,r)}}(u,t,c,r),e!==xr&&Lo(s,c,e))&&(null==n&&(a=function(){var t=se.lFrame;return null===t?null:t.currentSanitizer}())&&(n=a),function(t,e,n,r,i,o,a,s){if(3===e.type){var u=t.data,c=u[s+1];ga(1==(1&c)?ma(u,e,n,i,Vr(c),a):void 0)||(ga(o)||2==(2&c)&&(o=ma(u,null,n,i,s,a)),function(t,e,n,r,i){var o=Qt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var a=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,a):n.style.removeProperty(r):o?t.setStyle(n,r,i,a):n.style.setProperty(r,i)}}(r,a,Jt(De(),n),i,o))}}(u,u.data[De()+20],s,s[11],t,s[c+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=j(An(t)))),t}(e,n),r,c))}function va(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=ya(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function ya(t,e,n){var r,i,o,a,s=n?1:2,u=-1;if(null!==e)for(var c=0;c<e.length;c++){var l=e[c];"number"==typeof l?u=l:u===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),r=t,i=l,o=!!n||e[++c],a=void 0,(a=wt(r,i))>=0?r[1|a]=o:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(r,a=~a,i,o))}return void 0===t?null:t}function ma(t,e,n,r,i,o){for(var a=null===e,s=void 0;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===xr&&(f=h?ca:void 0);var d=h?bt(f,r):l===r?f:void 0;if(c&&!ga(d)&&(d=bt(u,r)),ga(d)&&(s=d,a))return s;var p=t[i+1];i=a?Lr(p):Vr(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(s=bt(v,r))}return s}function ga(t){return void 0!==t}function _a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=ce(),r=le(),i=t+20,o=r.firstCreatePass?Wr(r,n[6],t,3,null,null):r.data[i],a=n[i]=function(t,e){return Qt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Wi(r,n,a,o),de(o,!1)}function ba(t){return wa("",t,""),ba}function wa(t,e,n){var r=ce(),i=function(t,e,n,r){return Lo(t,_e(),n)?e+Je(n)+r:xr}(r,t,e,n);return i!==xr&&function(t,e,n){var r=Jt(e,t),i=t[11];Qt(i)?i.setValue(r,n):r.textContent=n}(r,De(),i),wa}function ka(t,e,n){var r=ce();return Lo(r,_e(),e)&&ri(le(),Ne(),r,t,e,r[11],n,!0),ka}function Ca(t,e,n){var r=ce();if(Lo(r,_e(),e)){var i=le(),o=Ne();ri(i,o,r,t,e,Ii(ke(i.data),o,r),n,!0)}return Ca}function Ea(t,e){var n=ee(t)[1],r=n.data.length-1;je(n,{directiveStart:r,directiveEnd:r+1})}function Sa(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(Ht(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=Oa(t.inputs),o.declaredInputs=Oa(t.declaredInputs),o.outputs=Oa(t.outputs);var a=i.hostBindings;a&&xa(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&Ia(t,s),u&&Ta(t,u),E(t.inputs,i.inputs),E(t.declaredInputs,i.declaredInputs),E(t.outputs,i.outputs),Ht(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=t.afterContentInit||i.afterContentInit,o.afterViewChecked=t.afterViewChecked||i.afterViewChecked,o.afterViewInit=t.afterViewInit||i.afterViewInit,o.doCheck=t.doCheck||i.doCheck,o.onDestroy=t.onDestroy||i.onDestroy,o.onInit=t.onInit||i.onInit}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===Sa&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=We(i.hostAttrs,n=We(n,i.hostAttrs))}}(r)}function Oa(t){return t===Et?{}:t===St?[]:t}function Ia(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function Ta(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function xa(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var Aa=function(){function t(e,n,r){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Pa(t){t.type.prototype.ngOnChanges&&(t.setInput=Da,t.onChanges=function(){var t=Ra(this),e=t&&t.current;if(e){var n=t.previous;if(n===Et)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}})}function Da(t,e,n,r){var i=Ra(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Et,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Aa(u&&u.currentValue,e,a===Et),t[r]=e}function Ra(t){return t.__ngSimpleChanges__||null}function Na(t,e,n,r,i){if(t=V(t),Array.isArray(t))for(var o=0;o<t.length;o++)Na(t[o],e,n,r,i);else{var a=le(),s=ce(),u=ko(t)?t:V(t.provide),c=_o(t),l=fe(),h=65535&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>16;if(ko(t)||!t.multi){var p=new qe(c,i,qo),v=La(u,e,i?h:h+d,f);-1===v?(cn(on(l,s),a,u),ja(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var y=La(u,e,h+d,f),m=La(u,e,h,h+d),g=y>=0&&n[y],_=m>=0&&n[m];if(i&&!_||!i&&!g){cn(on(l,s),a,u);var b=function(t,e,n,r,i){var o=new qe(t,n,qo);return o.multi=[],o.index=e,o.componentProviders=0,Ma(o,i,r&&!n),o}(i?Va:Fa,n.length,i,r,c);!i&&_&&(n[m].providerFactory=b),ja(a,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(b),s.push(b)}else ja(a,t,y>-1?y:m,Ma(n[i?m:y],c,!i&&r));!i&&r&&_&&n[m].componentProviders++}}}function ja(t,e,n,r){var i=ko(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function Ma(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function La(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function Fa(t,e,n,r){return Ua(this.multi,[])}function Va(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=pn(n,n[1],this.providerFactory.index,r);Ua(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else Ua(o,i=[]);return i}function Ua(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function qa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=le();if(r.firstCreatePass){var i=Ht(t);Na(n,r.data,r.blueprint,i,!0),Na(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}Pa.ngInherit=!0;var Ba=function t(){_classCallCheck(this,t)},za=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(j(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),Ha=function(){var t=function t(){_classCallCheck(this,t)};return t.NULL=new za,t}(),Wa=function(){var t=function t(e){_classCallCheck(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return Ga(t)},t}(),Ga=function(t){return ro(t,fe(),ce())},Ka=function t(){_classCallCheck(this,t)},Qa=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),Ya=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Za()},t}(),Za=function(){var t=ce(),e=te(fe().index,t);return function(t){var e=t[11];if(Qt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Vt(e)?e:t)},Ja=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275prov=S({token:t,providedIn:"root",factory:function(){return null}}),t}(),Xa=function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},$a=new Xa("9.1.12"),ts=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return No(t)}},{key:"create",value:function(t){return new ns(t)}}]),t}(),es=function(t,e){return e},ns=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||es}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<as(n,r,i)?e:n,a=as(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!No(t))throw new Error("Error trying to diff '".concat(j(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&Do(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Do(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[Po()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&Do(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Do(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Do(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Do(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new rs(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new os),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new os),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),rs=function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},is=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Do(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),os=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new is,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function as(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var ss=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||jo(t)}},{key:"create",value:function(){return new us}}]),t}(),us=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||jo(t)))throw new Error("Error trying to diff '".concat(j(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new cs(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Do(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),cs=function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},ls=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new _]]}}}]),t}();return t.\u0275prov=S({token:t,providedIn:"root",factory:function(){return new t([new ts])}}),t}(),hs=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new _]]}}}]),t}();return t.\u0275prov=S({token:t,providedIn:"root",factory:function(){return new t([new ss])}}),t}(),fs=[new ss],ds=new ls([new ts]),ps=new hs(fs),vs=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return ys(t,Wa)},t}(),ys=function(t,e){return io(t,e,fe(),ce())},ms=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return gs(t,Wa)},t}(),gs=function(t,e){return oo(t,e,fe(),ce())},_s={},bs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).ngModule=t,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(t){var e=Mt(t);return new Cs(e,this.ngModule)}}]),n}(Ha);function ws(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var ks=new tt("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return $e}}),Cs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(Tr).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,_s,i);return o!==_s||r===_s?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(Ka,Yt),u=a.get(Ja,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Qt(t))return t.selectRootElement(e,n===Ct.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):zr(l,s.createRenderer(null,this.componentDef),function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:$e,clean:Ei,playerHandler:null,flags:0},v=ti(0,-1,null,1,0,null,null,null,null,null),y=Hr(null,v,p,f,null,null,s,c,u,a);Oe(y,null);try{var m=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=Wr(a,null,0,3,null,null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(xo(s,u,!0),null!==t&&(Be(i,t,u),null!==s.classes&&Ji(i,t,s.classes),null!==s.styles&&Zi(i,t,s.styles)));var c=r.createRenderer(t,e),l=Hr(n,$r(e),null,e.onPush?64:16,n[20],s,r,c,void 0);return a.firstCreatePass&&(cn(on(s,n),a,e.type),ci(a,s),hi(s,n.length,1)),_i(n,l),n[20]=l}(h,this.componentDef,y,s,c);if(h)if(n)Be(c,h,["ng-version",$a.full]);else{var g=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Cr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),_=g.attrs,b=g.classes;_&&Be(c,h,_),b&&b.length>0&&Ji(c,h,b.join(" "))}if(o=$t(v,0),void 0!==e)for(var w=o.projection=[],k=0;k<this.ngContentSelectors.length;k++){var C=e[k];w.push(null!=C?Array.from(C):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=fe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ui(t,r,1),fi(t,e,n));var i=pn(e,t,e.length-1,r);vr(i,e);var o=Xt(r,e);return o&&vr(o,e),i}(o,n,e);r.components.push(a),t[8]=a,i&&i.forEach((function(t){return t(a,e)})),e.contentQueries&&e.contentQueries(1,a,n.length-1);var s=fe();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Re(s.index-20);var u=n[1];oi(u,e),ai(u,n,e.hostVars),si(e,a)}return a}(m,this.componentDef,y,p,[Ea]),Gr(v,y,null)}finally{Pe()}var E=new Es(this.componentType,i,ro(Wa,o,y),y,o);return n&&!d||(v.node.child=o),E}},{key:"inputs",get:function(){return ws(this.componentDef.inputs)}},{key:"outputs",get:function(){return ws(this.componentDef.outputs)}}]),n}(Ba),Es=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s,u,c,l;return _classCallCheck(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.destroyCbs=[],s.instance=r,s.hostView=s.changeDetectorRef=new no(o),u=o[1],c=o,null==(l=u.node)&&(u.node=l=ei(0,null,2,-1,null,null)),c[6]=l,s.componentType=t,s}return _createClass(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(t){this.destroyCbs&&this.destroyCbs.push(t)}},{key:"injector",get:function(){return new mn(this._tNode,this._rootLView)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),Ss=void 0,Os=["en",[["a","p"],["AM","PM"],Ss],[["AM","PM"],Ss,Ss],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ss,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ss,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ss,"{1} 'at' {0}",Ss],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Is={};function Ts(t,e,n){"string"!=typeof e&&(n=e,e=t[Rs.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Is[e]=t,n&&(Is[e][Rs.ExtraData]=n)}function xs(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=Ds(e);if(n)return n;var r=e.split("-")[0];if(n=Ds(r))return n;if("en"===r)return Os;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function As(t){return xs(t)[Rs.CurrencyCode]||null}function Ps(t){return xs(t)[Rs.PluralCase]}function Ds(t){return t in Is||(Is[t]=G.ng&&G.ng.common&&G.ng.common.locales&&G.ng.common.locales[t]),Is[t]}var Rs=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();function Ns(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var js=new Map,Ms=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;_classCallCheck(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new bs(_assertThisInitialized(i));var o=Ft(t),a=t[J]||null;return a&&Ns(a),i._bootstrapComponents=tn(o.bootstrap),i._r3Injector=yo(t,r,[{provide:pt,useValue:_assertThisInitialized(i)},{provide:Ha,useValue:i.componentFactoryResolver}],j(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return _createClass(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Eo.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Default;return t===Eo||t===pt||t===et?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(pt),Ls=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).moduleType=t,null!==Ft(t)&&function t(e){if(null!==e.\u0275mod.id){var n=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(j(e)," vs ").concat(j(e.name)))})(n,js.get(n),e),js.set(n,e)}var r=e.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(e){return t(e)}))}(t),r}return _createClass(n,[{key:"create",value:function(t){return new Ms(this.moduleType,t)}}]),n}(vt);function Fs(t,e,n){var r=ge()+t,i=ce();return i[r]===xr?Mo(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Vs(t,e,n,r){return function(t,e,n,r,i,o){var a=e+n;return Lo(t,a,i)?Mo(t,a+1,o?r.call(o,i):r(i)):function(t,e){var n=t[e];return n===xr?void 0:n}(t,a+1)}(ce(),ge(),t,e,n,r)}var Us=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(t=e.call(this)).__isAsync=r,t}return _createClass(n,[{key:"emit",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var o,a=function(t){return null},s=function(){return null};t&&"object"==typeof t?(o=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(a=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(o=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},e&&(a=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var u=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,o,a,s);return t instanceof i.a&&t.add(u),u}}]),n}(r.a);function qs(){return this._results[Po()]()}var Bs=function(){function t(){_classCallCheck(this,t),this.dirty=!0,this._results=[],this.changes=new Us,this.length=0;var e=Po(),n=t.prototype;n[e]||(n[e]=qs)}return _createClass(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),zs=function(){function t(e){_classCallCheck(this,t),this.queryList=e,this.matches=null}return _createClass(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),Hs=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==su(t,e).matches&&this.queries[e].setDirty()}}]),t}(),Ws=function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.predicate=e,this.descendants=n,this.isStatic=r,this.read=i},Gs=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"track",value:function(t){this.queries.push(t)}},{key:"length",get:function(){return this.queries.length}}]),t}(),Ks=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,Qs(e,n[r]));else{var i=this.metadata.predicate;i===vs?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,dn(e,t,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Wa||r===ms||r===vs&&0===e.type)this.addMatch(e.index,-2);else{var i=dn(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function Qs(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ys(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?ro(Wa,t,e):0===t.type?io(vs,Wa,t,e):null}(e,t):-2===n?function(t,e,n){return n===Wa?ro(Wa,e,t):n===vs?io(vs,Wa,e,t):n===ms?oo(ms,Wa,e,t):void 0}(t,e,r):pn(t,t[1],n,e)}function Zs(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:Ys(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function Js(t){var e=ce(),n=le(),r=Ce();Ee(r+1);var i=su(n,r);if(t.dirty&&ne(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?function t(e,n,r,i){var o=e.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=Zs(e,n,o,r),u=0;u<a.length;u+=2){var c=a[u];if(c>0)i.push(s[u/2]);else{for(var l=a[u+1],h=n[-c],f=10;f<h.length;f++){var d=h[f];d[17]===d[3]&&t(d[1],d,l,i)}if(null!==h[9])for(var p=h[9],v=0;v<p.length;v++){var y=p[v];t(y[1],y,l,i)}}}return i}(n,e,r,[]):Zs(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Xs(t,e,n){tu(le(),ce(),t,e,n,!0)}function $s(t,e,n){tu(le(),ce(),t,e,n,!1)}function tu(t,e,n,r,i,o){t.firstCreatePass&&(au(t,new Ws(n,r,o,i),-1),o&&(t.staticViewQueries=!0)),ou(t,e)}function eu(t,e,n,r){ru(le(),ce(),e,n,r,!1,fe(),t)}function nu(t,e,n,r){ru(le(),ce(),e,n,r,!0,fe(),t)}function ru(t,e,n,r,i,o,a,s){t.firstCreatePass&&(au(t,new Ws(n,r,o,i),a.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,s),o&&(t.staticContentQueries=!0)),ou(t,e)}function iu(){return t=ce(),e=Ce(),t[19].queries[e].queryList;var t,e}function ou(t,e){var n=new Bs;!function(t,e,n,r){var i=Si(e);i.push(n),t.firstCreatePass&&Oi(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[19]&&(e[19]=new Hs),e[19].queries.push(new zs(n))}function au(t,e,n){null===t.queries&&(t.queries=new Gs),t.queries.track(new Ks(e,n))}function su(t,e){return t.queries.getByIndex(e)}function uu(t,e){return io(vs,Wa,t,e)}function cu(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.Default,e=ao(!0);if(null!=e||t&k.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}var lu=new tt("Application Initializer"),hu=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Xo(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(lu,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}(),fu=new tt("AppId"),du={provide:fu,useFactory:function(){return"".concat(pu()).concat(pu()).concat(pu())},deps:[]};function pu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var vu=new tt("Platform Initializer"),yu=new tt("Platform ID"),mu=new tt("appBootstrapListener"),gu=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}(),_u=new tt("LocaleId"),bu=new tt("DefaultCurrencyCode"),wu=function t(e,n){_classCallCheck(this,t),this.ngModuleFactory=e,this.componentFactories=n},ku=function(t){return new Ls(t)},Cu=ku,Eu=function(t){return Promise.resolve(ku(t))},Su=function(t){var e=ku(t),n=tn(Ft(t).declarations).reduce((function(t,e){var n=Mt(e);return n&&t.push(new Cs(n)),t}),[]);return new wu(e,n)},Ou=Su,Iu=function(t){return Promise.resolve(Su(t))},Tu=function(){var t=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=Cu,this.compileModuleAsync=Eu,this.compileModuleAndAllComponentsSync=Ou,this.compileModuleAndAllComponentsAsync=Iu}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}(),xu=new tt("compilerOptions"),Au=Promise.resolve(0);function Pu(t){"undefined"==typeof Zone?Au.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Du=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Us(!1),this.onMicrotaskEmpty=new Us(!1),this.onStable=new Us(!1),this.onError=new Us(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=G.requestAnimationFrame,e=G.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(G,(function(){t.lastRequestAnimationFrameId=-1,Mu(t),ju(t)})),Mu(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(t,e,i,o,a,s){try{return Lu(n),t.invokeTask(i,o,a,s)}finally{r&&"eventTask"===o.type&&r(),Fu(n)}},onInvoke:function(t,e,r,i,o,a,s){try{return Lu(n),t.invoke(r,i,o,a,s)}finally{Fu(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Mu(n),ju(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Nu,Ru,Ru);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function Ru(){}var Nu={};function ju(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function Mu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Lu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Fu(t){t._nesting--,ju(t)}var Vu=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Us,this.onMicrotaskEmpty=new Us,this.onStable=new Us,this.onError=new Us}return _createClass(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),Uu=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){Du.assertNotInAngularZone(),Pu((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Pu((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(Du))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}(),qu=function(){var t=function(){function t(){_classCallCheck(this,t),this._applications=new Map,Hu.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Hu.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}();function Bu(t){Hu=t}var zu,Hu=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),Wu=function(t,e,n){var r=t.get(xu,[]).concat(e),i=new Ls(n);if(0===Oo.size)return Promise.resolve(i);var o,a,s=(o=r.map((function(t){return t.providers})),a=[],o.forEach((function(t){return t&&a.push.apply(a,_toConsumableArray(t))})),a);if(0===s.length)return Promise.resolve(i);var u=function(){var t=G.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),c=Eo.create({providers:s}).get(u.ResourceLoader);return function(t){var e=[],n=new Map;function r(t){var e=n.get(t);if(!e){var r=function(t){return Promise.resolve(c.get(t))}(t);n.set(t,e=r.then(To))}return e}return Oo.forEach((function(t,n){var i=[];t.templateUrl&&i.push(r(t.templateUrl).then((function(e){t.template=e})));var o=t.styleUrls,a=t.styles||(t.styles=[]),s=t.styles.length;o&&o.forEach((function(e,n){a.push(""),i.push(r(e).then((function(r){a[s+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(t){Io.delete(t)}(n)}));e.push(u)})),Oo=new Map,Promise.all(e).then((function(){}))}().then((function(){return i}))},Gu=new tt("AllowMultipleToken"),Ku=function t(e,n){_classCallCheck(this,t),this.name=e,this.token=n};function Qu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+e,i=new tt(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Yu();if(!o||o.injector.get(Gu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:co,useValue:"platform"});!function(t){if(zu&&!zu.destroyed&&!zu.injector.get(Gu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");zu=t.get(Zu);var e=t.get(vu,null);e&&e.forEach((function(t){return t()}))}(Eo.create({providers:a,name:r}))}return function(t){var e=Yu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Yu(){return zu&&!zu.destroyed?zu:null}var Zu=function(){var t=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new Vu:("zone.js"===n?void 0:n)||new Du({enableLongStackTrace:Un(),shouldCoalesceEventChangeDetection:r})),a=[{provide:Du,useValue:o}];return o.run((function(){var e=Eo.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(Cn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return tc(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(t){r.handleError(t)}})})),function(t,e,r){try{var o=((a=n.injector.get(hu)).runInitializers(),a.donePromise.then((function(){return Ns(n.injector.get(_u,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return Xo(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(s){throw e.runOutsideAngular((function(){return t.handleError(s)})),s}var a}(r,o)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Ju({},n);return Wu(this.injector,r,t).then((function(t){return e.bootstrapModuleFactory(t,r)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get($u);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(j(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(Eo))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}();function Ju(t,e){return Array.isArray(e)?e.reduce(Ju,t):Object.assign(Object.assign({},t),e)}var Xu,$u=((Xu=function(){function t(e,n,r,i,s,c){var l=this;_classCallCheck(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Un(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run((function(){l.tick()}))}});var h=new o.a((function(t){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular((function(){t.next(l._stable),t.complete()}))})),f=new o.a((function(t){var e;l._zone.runOutsideAngular((function(){e=l._zone.onStable.subscribe((function(){Du.assertNotInAngularZone(),Pu((function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,t.next(!0))}))}))}));var n=l._zone.onUnstable.subscribe((function(){Du.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(a.a)(h,f.pipe((function(t){return u()((e=v,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,d);return r.source=t,r.subjectFactory=n,r})(t));var e})))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Ba?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(pt),o=n.create(Eo.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(Uu,null);return a&&o.injector.get(qu).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Un()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(o){i.e(o)}finally{i.f()}}}catch(a){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;tc(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(mu,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),tc(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||Xu)(ct(Du),ct(gu),ct(Eo),ct(Cn),ct(Ha),ct(hu))},Xu.\u0275prov=S({token:Xu,factory:Xu.\u0275fac}),Xu);function tc(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var ec=function t(){_classCallCheck(this,t)},nc=function t(){_classCallCheck(this,t)},rc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},ic=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._compiler=e,this._config=n||rc}return _createClass(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,r=_slicedToArray(t.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(t){return t[o]})).then((function(t){return oc(t,i,o)})).then((function(t){return e._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var e=_slicedToArray(t.split("#"),2),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(t){return t[i+o]})).then((function(t){return oc(t,r,i)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(Tu),ct(nc,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}();function oc(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var ac=function(t){return null},sc=Qu(null,"core",[{provide:yu,useValue:"unknown"},{provide:Zu,deps:[Eo]},{provide:qu,deps:[]},{provide:gu,deps:[]}]),uc=[{provide:$u,useClass:$u,deps:[Du,gu,Eo,Cn,Ha,hu]},{provide:ks,deps:[Du],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:hu,useClass:hu,deps:[[new _,lu]]},{provide:Tu,useClass:Tu,deps:[]},du,{provide:ls,useFactory:function(){return ds},deps:[]},{provide:hs,useFactory:function(){return ps},deps:[]},{provide:_u,useFactory:function(t){return Ns(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new g(_u),new _,new w]]},{provide:bu,useValue:"USD"}],cc=function(){var t=function t(e){_classCallCheck(this,t)};return t.\u0275mod=Pt({type:t}),t.\u0275inj=O({factory:function(e){return new(e||t)(ct($u))},providers:uc}),t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a((function(n){var r=new i.a,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))}}]),t}(),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(r.a)},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("SpAZ");function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o(e)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return s}));var r=n("7o/Q"),i=n("WMd4");function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new a(t,e))}}var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.scheduler,this.delay))}}]),t}(),s=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new u(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(i.a.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(r.a),u=function t(e,n){_classCallCheck(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return s})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return u})),n.d(e,"m",(function(){return c})),n.d(e,"n",(function(){return f})),n.d(e,"o",(function(){return v}));var r=n("mrSG");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function s(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(s())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return s().indexOf("Electron/")>=0}function p(){var t=s();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return s().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,m.prototype.create),o}return Object(r.c)(e,t),e}(Error),m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?g(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new y(i,s,r);return u},t}();function g(t,e){return t.replace(_,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var _=/\{\$([^}]+)}/g;function b(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new k(t,e);return n.subscribe.bind(n)}var k=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function C(){}},qgXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n("3N8a").a),i=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(r)},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r,i,o=n("DH7j"),a=n("XoHu"),s=n("n6bG"),u=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),c=((i=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var c=0;c<n.length;++c)n[c].remove(this);if(Object(s.a)(r))try{r.call(this)}catch(p){e=p instanceof u?l(p.errors):[p]}if(Object(o.a)(i))for(var h=-1,f=i.length;++h<f;){var d=i[h];if(Object(a.a)(d))try{d.unsubscribe()}catch(p){e=e||[],p instanceof u?e=e.concat(l(p.errors)):e.push(p)}}if(e)throw new u(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((r=new i).closed=!0,r),i);function l(t){return t.reduce((function(t,e){return t.concat(e instanceof u?e.errors:e)}),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return g})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return E})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return y})),n.d(e,"j",(function(){return k}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),a=n("tf+s"),s=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}var h=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;_classCallCheck(this,t),this.zone=e,this.delegate=n}return _createClass(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule((function(e){var n=this;r.runGuarded((function(){t.apply(n,[e])}))}),e,n)}}]),t}(),f=function(){function t(e){_classCallCheck(this,t),this.zone=e,this.task=null}return _createClass(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)})),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout((function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)}),10)}}]),t}(),d=function t(e){_classCallCheck(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular((function(){return new h(Zone.current)})),this.insideAngular=e.run((function(){return new h(Zone.current,i.a)}))};function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(a.a)(t.outsideAngular),Object(s.b)(t.insideAngular))}}var v=["ngOnDestroy"],y=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(i,o){return n.runOutsideAngular((function(){var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(v.indexOf(o)>-1)return function(){};var a=e.toPromise().then((function(t){var e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then((function(t){return n.run((function(){return t}))})):n.run((function(){return e}))}));return new Proxy((function(){}),{get:function(t,e){return a[e]},apply:function(t,e,n){return a.then((function(t){var e,i=t&&t.apply(void 0,_toConsumableArray(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i}))}})}))}})},m=function(t,e){e.forEach((function(e){Object.getOwnPropertyNames(e.prototype||e).forEach((function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))}))}))},g=new u.q("angularfire2.app.options"),_=new u.q("angularfire2.app.nameOrConfig"),b=new u.O("6.1.4");function w(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=c.a.apps.filter((function(t){return t&&t.name===i.name}))[0]||n.runOutsideAngular((function(){return c.a.initializeApp(e,i)}));try{JSON.stringify(e)!==JSON.stringify(o.options)&&C("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var k=function(){C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(u.W)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,r)};function E(e,n,r,i,o){var a=_toArray(globalThis.\u0275AngularfireInstanceCache.get(e)||[]),s=a[0],u=a.slice(1);if(s){try{o.some((function(t,e){var n=u[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n}))&&C("error","".concat(n," was already initialized on the ").concat(r.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(l){}return s}var c=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[c].concat(_toConsumableArray(o))),c}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var S={provide:function t(){_classCallCheck(this,t)},useFactory:w,deps:[g,u.z,[new u.A,_]]},O=function(){var t=function(){function t(e){_classCallCheck(this,t),c.a.registerVersion("angularfire",b.full,e.toString()),c.a.registerVersion("angular",u.N.full)}return _createClass(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:g,useValue:e},{provide:_,useValue:n}]}}}]),t}();return t.\u0275mod=u.Lb({type:t}),t.\u0275inj=u.Kb({factory:function(e){return new(e||t)(u.Wb(u.B))},providers:[S]}),t}()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("7Hc7"),o=n("Y7HM"),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a;return _classCallCheck(this,n),(r=e.call(this)).source=t,r.delayTime=a,r.scheduler=s,(!Object(o.a)(a)||a<0)&&(r.delayTime=0),s&&"function"==typeof s.schedule||(r.scheduler=i.a),r}return _createClass(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(r.a);function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new u(t,e))}}var u=function(){function t(e,n){_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return new a(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("7o/Q");function i(){}var o=n("n6bG");function a(t,e,n){return function(r){return r.lift(new s(t,e,n))}}var s=function(){function t(e,n,r){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),u=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,a,s){var u;return _classCallCheck(this,n),(u=e.call(this,t))._tapNext=i,u._tapError=i,u._tapComplete=i,u._tapError=a||i,u._tapComplete=s||i,Object(o.a)(r)?(u._context=_assertThisInitialized(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i,u._tapError=r.error||i,u._tapComplete=r.complete||i),u}return _createClass(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(r.a)},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),a=n("qOnz"),s=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.e)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",(function(){return u}),"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.c)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new s.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(a.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(s){var u,c,h=s.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==s.serviceProps&&Object(a.f)(d,s.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,s.multipleInstances?t:[])}}try{for(var p=Object(o.h)(Object.keys(e)),v=p.next();!v.done;v=p.next())e[v.value]._addComponent(s)}catch(y){u={error:y}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.f)(e,t)},createSubscribe:a.d,ErrorFactory:a.b,deepExtend:a.f}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(a.h)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.m)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,t)};var g=p;!function(t,e){t.INTERNAL.registerComponent(new s.a("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(g),e.a=g},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL"),i={apiKey:"AIzaSyD1O6sO7uFrwlns1gR1PGfAibtNu_uyHoA",authDomain:"notesapp-b2c5d.firebaseapp.com",projectId:"notesapp-b2c5d",storageBucket:"notesapp-b2c5d.appspot.com",messagingSenderId:"1013442246465",appId:"1:1013442246465:web:470dfefece2912fea653c0"},o=null;function a(){return o}var s,u=new r.q("DocumentToken"),c=((s=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||s)},s.\u0275prov=Object(r.Jb)({factory:l,token:s,providedIn:"platform"}),s);function l(){return Object(r.Wb)(d)}var h,f=new r.q("Location Initialized"),d=((h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=a().getLocation(),this._history=a().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return a().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){p()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){p()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(c)).\u0275fac=function(t){return new(t||h)(r.Wb(u))},h.\u0275prov=Object(r.Jb)({factory:v,token:h,providedIn:"platform"}),h);function p(){return!!window.history.pushState}function v(){return new d(Object(r.Wb)(u))}function y(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}var _,b=((_=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||_)},_.\u0275prov=Object(r.Jb)({factory:w,token:_,providedIn:"root"}),_);function w(t){var e=Object(r.Wb)(u).location;return new O(Object(r.Wb)(c),e&&e.origin||"")}var k,C,E,S=new r.q("appBaseHref"),O=((E=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;if(_classCallCheck(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return y(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(b)).\u0275fac=function(t){return new(t||E)(r.Wb(c),r.Wb(S,8))},E.\u0275prov=r.Jb({token:E,factory:E.\u0275fac}),E),I=((C=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=y(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(b)).\u0275fac=function(t){return new(t||C)(r.Wb(c),r.Wb(S,8))},C.\u0275prov=r.Jb({token:C,factory:C.\u0275fac}),C),T=((k=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=e;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=m(A(o)),this._platformStrategy.onPopState((function(t){i._subject.emit({url:i.path(!0),pop:!0,state:t.state,type:t.type})}))}return _createClass(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+g(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,A(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||k)(r.Wb(b),r.Wb(c))},k.normalizeQueryParams=g,k.joinWithSlash=y,k.stripTrailingSlash=m,k.\u0275prov=Object(r.Jb)({factory:x,token:k,providedIn:"root"}),k);function x(){return new T(Object(r.Wb)(b),Object(r.Wb)(c))}function A(t){return t.replace(/\/index.html$/,"")}var P,D=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),R=r.ob,N=function t(){_classCallCheck(this,t)},j=((P=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).locale=t,r}return _createClass(n,[{key:"getPluralCategory",value:function(t,e){switch(R(e||this.locale)(t)){case D.Zero:return"zero";case D.One:return"one";case D.Two:return"two";case D.Few:return"few";case D.Many:return"many";default:return"other"}}}]),n}(N)).\u0275fac=function(t){return new(t||P)(r.Wb(r.u))},P.\u0275prov=r.Jb({token:P,factory:P.\u0275fac}),P);function M(t,e){e=encodeURIComponent(e);var n,r=_createForOfIteratorHelper(t.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],u=a[1];if(s.trim()===e)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}var L,F,V,U=((L=function(){function t(e,n,r,i){_classCallCheck(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachRemovedItem((function(t){t.previousValue&&e._toggleClass(t.key,!1)}))}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.xb)(t.item));e._toggleClass(t.item,!0)})),t.forEachRemovedItem((function(t){return e._toggleClass(t.item,!1)}))}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!0)})):Object.keys(t).forEach((function(n){return e._toggleClass(n,!!t[n])})))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!1)})):Object.keys(t).forEach((function(t){return e._toggleClass(t,!1)})))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach((function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)}))}},{key:"klass",set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.rb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),t}()).\u0275fac=function(t){return new(t||L)(r.Nb(r.s),r.Nb(r.t),r.Nb(r.l),r.Nb(r.E))},L.\u0275dir=r.Ib({type:L,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),L),q=function(){function t(e,n,r,i){_classCallCheck(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return _createClass(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),B=((F=function(){function t(e,n,r){_classCallCheck(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(ux){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new q(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new z(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=e._viewContainer.get(r);e._viewContainer.move(s,i);var u=new z(t,s);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}},{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(t){Object(r.W)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=t},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||F)(r.Nb(r.P),r.Nb(r.L),r.Nb(r.s))},F.\u0275dir=r.Ib({type:F,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),F),z=function t(e,n){_classCallCheck(this,t),this.record=e,this.view=n},H=((V=function(){function t(e,n){_classCallCheck(this,t),this._viewContainer=e,this._context=new W,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){G("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){G("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||V)(r.Nb(r.P),r.Nb(r.L))},V.\u0275dir=r.Ib({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),V),W=function t(){_classCallCheck(this,t),this.$implicit=null,this.ngIf=null};function G(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Object(r.xb)(e),"'."))}var K,Q,Y,Z,J,X,$,tt,et,nt=function(){function t(e,n){_classCallCheck(this,t),this._viewContainerRef=e,this._templateRef=n,this._created=!1}return _createClass(t,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}]),t}(),rt=((J=function(){function t(){_classCallCheck(this,t),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return _createClass(t,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}},{key:"_matchCase",value:function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}},{key:"_updateDefaultCases",value:function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}},{key:"ngSwitch",set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}}]),t}()).\u0275fac=function(t){return new(t||J)},J.\u0275dir=r.Ib({type:J,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),J),it=((Z=function(){function t(e,n,r){_classCallCheck(this,t),this.ngSwitch=r,r._addCase(),this._view=new nt(e,n)}return _createClass(t,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),t}()).\u0275fac=function(t){return new(t||Z)(r.Nb(r.P),r.Nb(r.L),r.Nb(rt,1))},Z.\u0275dir=r.Ib({type:Z,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),Z),ot=((Y=function(){function t(e,n,r){_classCallCheck(this,t),this._ngEl=e,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}},{key:"_setStyle",value:function(t,e){var n=_slicedToArray(t.split("."),2),r=n[0],i=n[1];null!=(e=null!=e&&i?"".concat(e).concat(i):e)?this._renderer.setStyle(this._ngEl.nativeElement,r,e):this._renderer.removeStyle(this._ngEl.nativeElement,r)}},{key:"_applyChanges",value:function(t){var e=this;t.forEachRemovedItem((function(t){return e._setStyle(t.key,null)})),t.forEachAddedItem((function(t){return e._setStyle(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._setStyle(t.key,t.currentValue)}))}},{key:"ngStyle",set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}}]),t}()).\u0275fac=function(t){return new(t||Y)(r.Nb(r.l),r.Nb(r.t),r.Nb(r.E))},Y.\u0275dir=r.Ib({type:Y,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),Y),at=((Q=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:Q}),Q.\u0275inj=r.Kb({factory:function(t){return new(t||Q)},providers:[{provide:N,useClass:j}]}),Q),st=((K=function t(){_classCallCheck(this,t)}).\u0275prov=Object(r.Jb)({token:K,providedIn:"root",factory:function(){return new ut(Object(r.Wb)(u),window,Object(r.Wb)(r.m))}}),K),ut=function(){function t(e,n,r){_classCallCheck(this,t),this.document=e,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='".concat(t,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(ux){return!1}}}]),t}(),ct=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=lt||(lt=document.querySelector("base"))?lt.getAttribute("href"):null;return null==n?null:(e=n,X||(X=document.createElement("a")),X.setAttribute("href",e),"/"===X.pathname.charAt(0)?X.pathname:"/"+X.pathname)}},{key:"resetBaseElement",value:function(){lt=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return M(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,o||(o=t)}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){_classCallCheck(this,t)}}())),lt=null,ht=new r.q("TRANSITION_ID"),ft=[{provide:r.d,useFactory:function(t,e,n){return function(){n.get(r.e).donePromise.then((function(){var n=a();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[ht,u,r.r],multi:!0}],dt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){r.qb.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},r.qb.getAllAngularRootElements=function(){return t.getAllRootElements()},r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push((function(t){var e=r.qb.getAllAngularTestabilities(),n=e.length,i=!1,o=function(e){i=i||e,0==--n&&t(i)};e.forEach((function(t){t.whenStable(o)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?a().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(r.Y)(new t)}}]),t}(),pt=new r.q("EventManagerPlugins"),vt=(($=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=r})),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)}}]),t}()).\u0275fac=function(t){return new(t||$)(r.Wb(pt),r.Wb(r.z))},$.\u0275prov=r.Jb({token:$,factory:$.\u0275fac}),$),yt=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=a().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),mt=((et=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||et)},et.\u0275prov=r.Jb({token:et,factory:et.\u0275fac}),et),gt=((tt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return a().remove(t)}))}}]),n}(mt)).\u0275fac=function(t){return new(t||tt)(r.Wb(u))},tt.\u0275prov=r.Jb({token:tt,factory:tt.\u0275fac}),tt),_t={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},bt=/%COMP%/g;function wt(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?wt(t,i,n):(i=i.replace(bt,t),n.push(i))}return n}function kt(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Ct,Et,St,Ot,It=((Ct=function(){function t(e,n,r){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Tt(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new xt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case r.Q.Native:case r.Q.ShadowDom:return new At(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=wt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Ct)(r.Wb(vt),r.Wb(gt),r.Wb(r.c))},Ct.\u0275prov=r.Jb({token:Ct,factory:Ct.\u0275fac}),Ct),Tt=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(_t[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=_t[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=_t[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,i){i&r.G.DashCase?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,kt(n)):this.eventManager.addEventListener(t,e,kt(n))}}]),t}(),xt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;_classCallCheck(this,n),(a=e.call(this,t)).component=i;var s,u=wt(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr="_ngcontent-%COMP%".replace(bt,o+"-"+i.id),a.hostAttr=(s=o+"-"+i.id,"_nghost-%COMP%".replace(bt,s)),a}return _createClass(n,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,t,e);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Tt),At=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a){var s;_classCallCheck(this,n),(s=e.call(this,t)).sharedStylesHost=i,s.hostEl=o,s.component=a,s.shadowRoot=a.encapsulation===r.Q.ShadowDom?o.attachShadow({mode:"open"}):o.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var u=wt(a.id,a.styles,[]),c=0;c<u.length;c++){var l=document.createElement("style");l.textContent=u[c],s.shadowRoot.appendChild(l)}return s}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(Tt),Pt=((Et=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(yt)).\u0275fac=function(t){return new(t||Et)(r.Wb(u))},Et.\u0275prov=r.Jb({token:Et,factory:Et.\u0275fac}),Et),Dt=["alt","control","meta","shift"],Rt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},jt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Mt=((St=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return a().onAndCancel(t,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(Dt.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")})),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Nt.hasOwnProperty(e)&&(e=Nt[e]))}return Rt[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Dt.forEach((function(r){r!=n&&(0,jt[r])(t)&&(e+=r+".")})),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded((function(){return e(i)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(yt)).\u0275fac=function(t){return new(t||St)(r.Wb(u))},St.\u0275prov=r.Jb({token:St,factory:St.\u0275fac}),St),Lt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){ct.makeCurrent(),dt.init()},multi:!0},{provide:u,useFactory:function(){return Object(r.wb)(document),document},deps:[]}],Ft=Object(r.S)(r.X,"browser",Lt),Vt=[[],{provide:r.ab,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:pt,useClass:Pt,multi:!0,deps:[u,r.z,r.B]},{provide:pt,useClass:Mt,multi:!0,deps:[u]},[],{provide:It,useClass:It,deps:[vt,gt,r.c]},{provide:r.F,useExisting:It},{provide:mt,useExisting:gt},{provide:gt,useClass:gt,deps:[u]},{provide:r.M,useClass:r.M,deps:[r.z]},{provide:vt,useClass:vt,deps:[pt,r.z]},[]],Ut=((Ot=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:ht,useExisting:r.c},ft]}}}]),t}()).\u0275mod=r.Lb({type:Ot}),Ot.\u0275inj=r.Kb({factory:function(t){return new(t||Ot)(r.Wb(Ot,12))},providers:Vt,imports:[at,r.f]}),Ot);"undefined"!=typeof window&&window;var qt=n("LRne"),Bt=n("Cfvw"),zt=n("XNiG"),Ht=n("9ppp"),Wt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._value=t,r}return _createClass(n,[{key:"_subscribe",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ht.a;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),n}(zt.a),Gt=n("HDdC"),Kt=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Qt=n("z+Ro"),Yt=n("DH7j"),Zt=n("l7GE"),Jt=n("ZUHj"),Xt=n("yCtX"),$t={},te=function(){function t(e){_classCallCheck(this,t),this.resultSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ee(t,this.resultSelector))}}]),t}(),ee=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(t){this.values.push($t),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(Jt.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===$t?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Zt.a),ne=n("EY2u");function re(t){return new Gt.a((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Bt.a)(n):Object(ne.b)()).subscribe(e)}))}var ie=n("lJxs"),oe=n("bHdf");function ae(){return Object(oe.a)(1)}var se=n("7o/Q");function ue(t,e){return function(n){return n.lift(new ce(t,e))}}var ce=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new le(t,this.predicate,this.thisArg))}}]),t}(),le=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(se.a),he=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function fe(t){return function(e){return 0===t?Object(ne.b)():e.lift(new de(t))}}var de=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new he}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new pe(t,this.total))}}]),t}(),pe=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(se.a);function ve(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge;return function(e){return e.lift(new ye(t))}}var ye=function(){function t(e){_classCallCheck(this,t),this.errorFactory=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new me(t,this.errorFactory))}}]),t}(),me=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),n}(se.a);function ge(){return new Kt}function _e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new be(t))}}var be=function(){function t(e){_classCallCheck(this,t),this.defaultValue=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new we(t,this.defaultValue))}}]),t}(),we=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(se.a),ke=n("SpAZ");function Ce(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?ue((function(e,n){return t(e,n,r)})):ke.a,fe(1),n?_e(e):ve((function(){return new Kt})))}}var Ee=n("51Dv");function Se(t){return function(e){var n=new Oe(t),r=e.lift(n);return n.caught=r}}var Oe=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ie(t,this.selector,this.caught))}}]),t}(),Ie=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new Ee.a(this,void 0,void 0);this.add(r);var i=Object(Jt.a)(this,e,void 0,void 0,r);i!==r&&this.add(i)}}}]),n}(Zt.a);function Te(t){return function(e){return 0===t?Object(ne.b)():e.lift(new xe(t))}}var xe=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new he}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ae(t,this.total))}}]),t}(),Ae=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(se.a);function Pe(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?ue((function(e,n){return t(e,n,r)})):ke.a,Te(1),n?_e(e):ve((function(){return new Kt})))}}var De=n("5+tZ"),Re=function(){function t(e,n,r){_classCallCheck(this,t),this.predicate=e,this.thisArg=n,this.source=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ne(t,this.predicate,this.thisArg,this.source))}}]),t}(),Ne=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t)).predicate=r,a.thisArg=i,a.source=o,a.index=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(t){this.destination.next(t),this.destination.complete()}},{key:"_next",value:function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(se.a);function je(t,e){return"function"==typeof e?function(n){return n.pipe(je((function(n,r){return Object(Bt.a)(t(n,r)).pipe(Object(ie.a)((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new Me(t))}}var Me=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Le(t,this.project))}}]),t}(),Le=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new Ee.a(this,e,n),o=this.destination;o.add(i),this.innerSubscription=Object(Jt.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}}]),n}(Zt.a);function Fe(){return ae()(Object(qt.a).apply(void 0,arguments))}function Ve(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Object(Qt.a)(r)?(e.pop(),function(t){return Fe(e,t,r)}):function(t){return Fe(e,t)}}function Ue(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new qe(t,e,n))}}var qe=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Be(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),Be=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),n}(se.a);function ze(t,e){return Object(De.a)(t,e,1)}var He,We=n("mCNh"),Ge=n("vkgz"),Ke=n("quSY"),Qe=function(){function t(e){_classCallCheck(this,t),this.callback=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ye(t,this.callback))}}]),t}(),Ye=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).add(new Ke.a(r)),i}return n}(se.a),Ze=function t(e,n){_classCallCheck(this,t),this.id=e,this.url=n},Je=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Ze),Xe=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Ze),$e=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Ze),tn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Ze),en=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ze),nn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ze),rn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s;return _classCallCheck(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Ze),on=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ze),an=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ze),sn=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),un=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),cn=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),ln=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),hn=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),fn=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),dn=function(){function t(e,n,r){_classCallCheck(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return _createClass(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),pn=((He=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||He)},He.\u0275cmp=r.Hb({type:He,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Ob(0,"router-outlet")},directives:function(){return[wi]},encapsulation:2}),He),vn=function(){function t(e){_classCallCheck(this,t),this.params=e||{}}return _createClass(t,[{key:"has",value:function(t){return this.params.hasOwnProperty(t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function yn(t){return new vn(t)}function mn(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function gn(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var _n=function t(e,n){_classCallCheck(this,t),this.routes=e,this.module=n};function bn(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];wn(r,kn(e,r))}}function wn(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&bn(t.children,e)}function kn(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function Cn(t){var e=t.children&&t.children.map(Cn),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=pn),n}function En(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!Sn(t[n=r[o]],e[n]))return!1;return!0}function Sn(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every((function(t){return e.indexOf(t)>-1})):t===e}function On(t){return Array.prototype.concat.apply([],t)}function In(t){return t.length>0?t[t.length-1]:null}function Tn(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function xn(t){return Object(r.sb)(t)?t:Object(r.tb)(t)?Object(Bt.a)(Promise.resolve(t)):Object(qt.a)(t)}function An(t,e,n){return n?function(t,e){return En(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Nn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return Sn(t[n],e[n])}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Nn(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Nn(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Nn(n.segments,a)&&!!n.children.primary&&e(n.children.primary,r,s)}(e,n,n.segments)}(t.root,e.root)}var Pn=function(){function t(e,n,r){_classCallCheck(this,t),this.root=e,this.queryParams=n,this.fragment=r}return _createClass(t,[{key:"toString",value:function(){return Fn.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=yn(this.queryParams)),this._queryParamMap}}]),t}(),Dn=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.segments=e,this.children=n,this.parent=null,Tn(n,(function(t,e){return t.parent=r}))}return _createClass(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Vn(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),Rn=function(){function t(e,n){_classCallCheck(this,t),this.path=e,this.parameters=n}return _createClass(t,[{key:"toString",value:function(){return Wn(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=yn(this.parameters)),this._parameterMap}}]),t}();function Nn(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function jn(t,e){var n=[];return Tn(t.children,(function(t,r){"primary"===r&&(n=n.concat(e(t,r)))})),Tn(t.children,(function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))})),n}var Mn=function t(){_classCallCheck(this,t)},Ln=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"parse",value:function(t){var e=new Zn(t);return new Pn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){return"".concat("/"+function t(e,n){if(!e.hasChildren())return Vn(e);if(n){var r=e.children.primary?t(e.children.primary,!1):"",i=[];return Tn(e.children,(function(e,n){"primary"!==n&&i.push("".concat(n,":").concat(t(e,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=jn(e,(function(n,r){return"primary"===r?[t(e.children.primary,!1)]:["".concat(r,":").concat(t(n,!1))]}));return"".concat(Vn(e),"/(").concat(o.join("//"),")")}(t.root,!0)).concat((e=t.queryParams,n=Object.keys(e).map((function(t){var n=e[t];return Array.isArray(n)?n.map((function(e){return"".concat(qn(t),"=").concat(qn(e))})).join("&"):"".concat(qn(t),"=").concat(qn(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"");var e,n}}]),t}(),Fn=new Ln;function Vn(t){return t.segments.map((function(t){return Wn(t)})).join("/")}function Un(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qn(t){return Un(t).replace(/%3B/gi,";")}function Bn(t){return Un(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zn(t){return decodeURIComponent(t)}function Hn(t){return zn(t.replace(/\+/g,"%20"))}function Wn(t){return"".concat(Bn(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(Bn(t),"=").concat(Bn(e[t]))})).join("")));var e}var Gn=/^[^\/()?;=#]+/;function Kn(t){var e=t.match(Gn);return e?e[0]:""}var Qn=/^[^=?&#]+/,Yn=/^[^?&#]+/,Zn=function(){function t(e){_classCallCheck(this,t),this.url=e,this.remaining=e}return _createClass(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dn([],{}):new Dn([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Dn(t,e)),n}},{key:"parseSegment",value:function(){var t=Kn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new Rn(zn(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Kn(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Kn(this.remaining);r&&(n=r,this.capture(n))}t[zn(e)]=zn(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Qn);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(Yn);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Hn(e),o=Hn(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Kn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Dn([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Jn=function(){function t(e){_classCallCheck(this,t),this._root=e}return _createClass(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Xn(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=Xn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=$n(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return $n(t,this._root).map((function(t){return t.value}))}},{key:"root",get:function(){return this._root.value}}]),t}();function Xn(t,e){if(t===e.value)return e;var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=Xn(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function $n(t,e){if(t===e.value)return[e];var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=$n(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var tr=function(){function t(e,n){_classCallCheck(this,t),this.value=e,this.children=n}return _createClass(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function er(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var nr=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).snapshot=r,ur(_assertThisInitialized(i),t),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Jn);function rr(t,e){var n=function(t,e){var n=new ar([],{},{},"",{},"primary",e,null,t.root,-1,{});return new sr("",new tr(n,[]))}(t,e),r=new Wt([new Rn("",{})]),i=new Wt({}),o=new Wt({}),a=new Wt({}),s=new Wt(""),u=new ir(r,i,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new nr(new tr(u,[]),n)}var ir=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return _createClass(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(ie.a)((function(t){return yn(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(ie.a)((function(t){return yn(t)})))),this._queryParamMap}}]),t}();function or(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var ar=function(){function t(e,n,r,i,o,a,s,u,c,l,h){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=yn(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=yn(this.queryParams)),this._queryParamMap}}]),t}(),sr=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,r)).url=t,ur(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return cr(this._root)}}]),n}(Jn);function ur(t,e){e.value._routerState=t,e.children.forEach((function(e){return ur(t,e)}))}function cr(t){var e=t.children.length>0?" { ".concat(t.children.map(cr).join(", ")," } "):"";return"".concat(t.value).concat(e)}function lr(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,En(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),En(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!En(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),En(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function hr(t,e){return En(t.params,e.params)&&function(t,e){return Nn(t,e)&&t.every((function(t,n){return En(t.parameters,e[n].parameters)}))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||hr(t.parent,e.parent))}function fr(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function dr(t,e,n,r,i){var o={};return r&&Tn(r,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return""+t})):""+t})),new Pn(n.root===t?e:function t(e,n,r){var i={};return Tn(e.children,(function(e,o){i[o]=e===n?r:t(e,n,r)})),new Dn(e.segments,i)}(n.root,t,e),o,i)}var pr=function(){function t(e,n,r){if(_classCallCheck(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&fr(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(i&&i!==In(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),vr=function t(e,n,r){_classCallCheck(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function yr(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function mr(t,e,n){if(t||(t=new Dn([],{})),0===t.segments.length&&t.hasChildren())return gr(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=yr(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!kr(s,u,a))return o;r+=2}else{if(!kr(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Dn(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new Dn(t.segments.slice(r.pathIndex),t.children),gr(o,0,i)}return r.match&&0===i.length?new Dn(t.segments,{}):r.match&&!t.hasChildren()?_r(t,e,n):r.match?gr(t,0,i):_r(t,e,n)}function gr(t,e,n){if(0===n.length)return new Dn(t.segments,{});var r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return Tn(r,(function(n,r){null!==n&&(i[r]=mr(t.children[r],e,n))})),Tn(t.children,(function(t,e){void 0===r[e]&&(i[e]=t)})),new Dn(t.segments,i)}function _r(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=br(n[i].outlets);return new Dn(r,o)}if(0===i&&fr(n[0]))r.push(new Rn(t.segments[e].path,n[0])),i++;else{var a=yr(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&fr(s)?(r.push(new Rn(a,wr(s))),i+=2):(r.push(new Rn(a,{})),i++)}}return new Dn(r,{})}function br(t){var e={};return Tn(t,(function(t,n){null!==t&&(e[n]=_r(new Dn([],{}),0,t))})),e}function wr(t){var e={};return Tn(t,(function(t,n){return e[n]=""+t})),e}function kr(t,e,n){return t==n.path&&En(e,n.parameters)}var Cr=function(){function t(e,n,r,i){_classCallCheck(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),lr(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=er(e);t.children.forEach((function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]})),Tn(i,(function(t,e){r.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=er(t),o=t.value.component?r.children:e;Tn(i,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=er(e);t.children.forEach((function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new fn(t.value.snapshot))})),t.children.length&&this.forwardEvent(new ln(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(lr(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Er(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function Er(t){lr(t.value),t.children.forEach(Er)}function Sr(t){return"function"==typeof t}function Or(t){return t instanceof Pn}var Ir=function t(e){_classCallCheck(this,t),this.segmentGroup=e||null},Tr=function t(e){_classCallCheck(this,t),this.urlTree=e};function xr(t){return new Gt.a((function(e){return e.error(new Ir(t))}))}function Ar(t){return new Gt.a((function(e){return e.error(new Tr(t))}))}function Pr(t){return new Gt.a((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var Dr=function(){function t(e,n,i,o,a){_classCallCheck(this,t),this.configLoader=n,this.urlSerializer=i,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(r.x)}return _createClass(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(ie.a)((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(Se((function(e){if(e instanceof Tr)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Ir)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(ie.a)((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(Se((function(t){if(t instanceof Ir)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new Dn([],{primary:t}):t;return new Pn(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(ie.a)((function(t){return new Dn([],t)}))):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(qt.a)({});var o=[],a=[],s={};return Tn(n,(function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(t,e,c,u)).pipe(Object(ie.a)((function(t){return s[i]=t})));"primary"===i?o.push(l):a.push(l)})),qt.a.apply(null,o.concat(a)).pipe(ae(),Ce(),Object(ie.a)((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this;return Object(qt.a).apply(void 0,_toConsumableArray(n)).pipe(Object(ie.a)((function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Se((function(t){if(t instanceof Ir)return Object(qt.a)(null);throw t})))})),ae(),Pe((function(t){return!!t})),Se((function(t,n){if(t instanceof Kt||"EmptyError"===t.name){if(a.noLeftoversInUrl(e,r,i))return Object(qt.a)(new Dn([],{}));throw new Ir(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return Mr(r)!==o?xr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):xr(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ar(o):this.lineralizeSegments(n,o).pipe(Object(De.a)((function(n){var o=new Dn(n,{});return i.expandSegment(t,o,e,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=Rr(e,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return xr(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?Ar(f):this.lineralizeSegments(r,f).pipe(Object(De.a)((function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(ie.a)((function(t){return n._loadedConfig=t,new Dn(r,{})}))):Object(qt.a)(new Dn(r,{}));var o=Rr(e,n,r),a=o.matched,s=o.consumedSegments,u=o.lastChild;if(!a)return xr(e);var c=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object(De.a)((function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some((function(n){return jr(t,e,n)&&"primary"!==Mr(n)}))}(t,n,r)?{segmentGroup:Nr(new Dn(e,function(t,e){var n={};n.primary=e;var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==Mr(o)&&(n[Mr(o)]=new Dn([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new Dn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return jr(t,e,n)}))}(t,n,r)?{segmentGroup:Nr(new Dn(t.segments,function(t,e,n,r){var i,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;jr(t,e,s)&&!r[Mr(s)]&&(o[Mr(s)]=new Dn([],{}))}}catch(u){a.e(u)}finally{a.f()}return Object.assign(Object.assign({},r),o)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,c,r),a=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(Object(ie.a)((function(t){return new Dn(s,t)}))):0===r.length&&0===u.length?Object(qt.a)(new Dn(s,{})):i.expandSegment(n,a,r,u,"primary",!0).pipe(Object(ie.a)((function(t){return new Dn(s.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Object(qt.a)(new _n(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(qt.a)(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?Object(Bt.a)(i).pipe(Object(ie.a)((function(r){var i,o=t.get(r);if(function(t){return t&&Sr(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!Sr(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return xn(i)}))).pipe(ae(),(r=function(t){return!0===t},function(t){return t.lift(new Re(r,void 0,t))})):Object(qt.a)(!0)}(t.injector,e,n).pipe(Object(De.a)((function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(ie.a)((function(t){return e._loadedConfig=t,t}))):function(t){return new Gt.a((function(e){return e.error(mn("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):Object(qt.a)(new _n([],t))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(qt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Pr(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new Pn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return Tn(t,(function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return Tn(e.children,(function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)})),new Dn(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map((function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return t}}]),t}();function Rr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||gn)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Nr(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new Dn(t.segments.concat(e.segments),e.children)}return t}function jr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Mr(t){return t.outlet||"primary"}var Lr=function t(e){_classCallCheck(this,t),this.path=e,this.route=this.path[this.path.length-1]},Fr=function t(e,n){_classCallCheck(this,t),this.component=e,this.route=n};function Vr(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ur(t,e,n){var r=er(t),i=t.value;Tn(r,(function(t,r){Ur(t,i.component?e?e.children.getContext(r):null:e,n)})),n.canDeactivateChecks.push(new Fr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var qr=Symbol("INITIAL_VALUE");function Br(){return je((function(t){return(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=null,i=null;return Object(Qt.a)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(Yt.a)(e[0])&&(e=e[0]),Object(Xt.a)(e,i).lift(new te(r))}).apply(void 0,_toConsumableArray(t.map((function(t){return t.pipe(Te(1),Ve(qr))})))).pipe(Ue((function(t,e){var n=!1;return e.reduce((function(t,r,i){if(t!==qr)return t;if(r===qr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Or(r))return r}return t}),t)}),qr),ue((function(t){return t!==qr})),Object(ie.a)((function(t){return Or(t)?t:!0===t})),Te(1))}))}function zr(t,e){return null!==t&&e&&e(new hn(t)),Object(qt.a)(!0)}function Hr(t,e){return null!==t&&e&&e(new cn(t)),Object(qt.a)(!0)}function Wr(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(qt.a)(!0);var i=r.map((function(r){return re((function(){var i,o=Vr(r,e,n);if(function(t){return t&&Sr(t.canActivate)}(o))i=xn(o.canActivate(e,t));else{if(!Sr(o))throw new Error("Invalid CanActivate guard");i=xn(o(e,t))}return i.pipe(Pe())}))}));return Object(qt.a)(i).pipe(Br())}function Gr(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return re((function(){var i=e.guards.map((function(i){var o,a=Vr(i,e.node,n);if(function(t){return t&&Sr(t.canActivateChild)}(a))o=xn(a.canActivateChild(r,t));else{if(!Sr(a))throw new Error("Invalid CanActivateChild guard");o=xn(a(r,t))}return o.pipe(Pe())}));return Object(qt.a)(i).pipe(Br())}))}));return Object(qt.a)(i).pipe(Br())}var Kr=function t(){_classCallCheck(this,t)},Qr=function(){function t(e,n,r,i,o,a){_classCallCheck(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(t,[{key:"recognize",value:function(){try{var t=Jr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new ar([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new tr(n,e),i=new sr(this.url,r);return this.inheritParamsAndData(i._root),Object(qt.a)(i)}catch(o){return new Gt.a((function(t){return t.error(o)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=or(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,r=this,i=jn(e,(function(e,n){return r.processSegmentGroup(t,e,n)}));return n={},i.forEach((function(t){var e=n[t.value.outlet];if(e){var r=e.url.map((function(t){return t.toString()})).join("/"),i=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[t.value.outlet]=t.value})),i.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),i}},{key:"processSegment",value:function(t,e,n,r){var i,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,e,n,r)}catch(s){if(!(s instanceof Kr))throw s}}}catch(u){o.e(u)}finally{o.f()}if(this.noLeftoversInUrl(e,n,r))return[];throw new Kr}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo)throw new Kr;if((t.outlet||"primary")!==r)throw new Kr;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?In(n).parameters:{};i=new ar(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ti(t),r,t.component,t,Yr(e),Zr(e)+n.length,ei(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Kr;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||gn)(n,t,e);if(!r)throw new Kr;var i={};Tn(r.posParams,(function(t,e){i[e]=t.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new ar(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ti(t),r,t.component,t,Yr(e),Zr(e)+o.length,ei(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=Jr(e,o,a,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new tr(i,d)]}if(0===c.length&&0===f.length)return[new tr(i,[])];var p=this.processSegment(c,h,f,"primary");return[new tr(i,p)]}}]),t}();function Yr(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Zr(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Jr(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some((function(n){return Xr(t,e,n)&&"primary"!==$r(n)}))}(t,n,r)){var o=new Dn(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==$r(s)){var u=new Dn([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[$r(s)]=u}}}catch(c){a.e(c)}finally{a.f()}return i}(t,e,r,new Dn(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return Xr(t,e,n)}))}(t,n,r)){var a=new Dn(t.segments,function(t,e,n,r,i,o){var a,s={},u=_createForOfIteratorHelper(r);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(Xr(t,n,c)&&!i[$r(c)]){var l=new Dn([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[$r(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new Dn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Xr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function $r(t){return t.outlet||"primary"}function ti(t){return t.data||{}}function ei(t){return t.resolve||{}}function ni(t,e,n,r){var i=Vr(t,e,r);return xn(i.resolve?i.resolve(e,n):i(e,n))}function ri(t){return function(e){return e.pipe(je((function(e){var n=t(e);return n?Object(Bt.a)(n).pipe(Object(ie.a)((function(){return e}))):Object(Bt.a)([e])})))}}var ii=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}(),oi=new r.q("ROUTES"),ai=function(){function t(e,n,r,i){_classCallCheck(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(ie.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new _n(On(i.injector.get(oi)).map(Cn),i)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(Bt.a)(this.loader.load(t)):xn(t()).pipe(Object(De.a)((function(t){return t instanceof r.v?Object(qt.a)(t):Object(Bt.a)(e.compiler.compileModuleAsync(t))})))}}]),t}(),si=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function ui(t){throw t}function ci(t,e,n){return e.parse("/")}function li(t,e){return Object(qt.a)(null)}var hi,fi,di=((fi=function(){function t(e,n,i,o,a,s,u,c){var l=this;_classCallCheck(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=i,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new zt.a,this.errorHandler=ui,this.malformedUriErrorHandler=ci,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:li,afterPreactivation:li},this.urlHandlingStrategy=new si,this.routeReuseStrategy=new ii,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=a.get(r.x),this.console=a.get(r.Z);var h=a.get(r.z);this.isNgZoneEnabled=h instanceof r.z,this.resetConfig(c),this.currentUrlTree=new Pn(new Dn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ai(s,u,(function(t){return l.triggerEvent(new sn(t))}),(function(t){return l.triggerEvent(new un(t))})),this.routerState=rr(this.currentUrlTree,this.rootComponentType),this.transitions=new Wt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(ue((function(t){return 0!==t.id})),Object(ie.a)((function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),je((function(t){var r,i,o,a,s=!1,u=!1;return Object(qt.a)(t).pipe(Object(Ge.a)((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}})),je((function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(qt.a)(t).pipe(je((function(t){var r=e.transitions.getValue();return n.next(new Je(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?ne.a:[t]})),je((function(t){return Promise.resolve(t)})),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,function(t){return t.pipe(je((function(t){return function(t,e,n,r,i){return new Dr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(Object(ie.a)((function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})})))})))}),Object(Ge.a)((function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})})),function(t,n,r,i,o){return function(r){return r.pipe(Object(De.a)((function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Qr(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(Object(ie.a)((function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})})));var a})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(Ge.a)((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),Object(Ge.a)((function(t){var r=new en(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)})));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,c=t.extractedUrl,l=t.source,h=t.restoredState,f=t.extras,d=new Je(u,e.serializeUrl(c),l,h);n.next(d);var p=rr(c,e.rootComponentType).snapshot;return Object(qt.a)(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),ne.a})),ri((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(Ge.a)((function(t){var n=new nn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),Object(ie.a)((function(t){return Object.assign(Object.assign({},t),{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=er(n);return e.children.forEach((function(e){!function(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=e.value,s=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Nn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Nn(t.url,e.url)||!En(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hr(t,e)||!En(t.queryParams,e.queryParams);case"paramsChange":default:return!hr(t,e)}}(s,a,a.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Lr(i)):(a.data=s.data,a._resolvedData=s._resolvedData),t(e,n,a.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new Fr(u&&u.outlet&&u.outlet.component||null,s))}else s&&Ur(n,u,o),o.canActivateChecks.push(new Lr(i)),t(e,null,a.component?u?u.children:null:r,i,o)}(e,a[e.value.outlet],r,i.concat([e.value]),o),delete a[e.value.outlet]})),Tn(a,(function(t,e){return Ur(t,r.getContext(e),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(t,e){return function(n){return n.pipe(Object(De.a)((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(qt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Bt.a)(t).pipe(Object(De.a)((function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(qt.a)(!0);var a=o.map((function(o){var a,s=Vr(o,e,i);if(function(t){return t&&Sr(t.canDeactivate)}(s))a=xn(s.canDeactivate(t,e,n,r));else{if(!Sr(s))throw new Error("Invalid CanDeactivate guard");a=xn(s(t,e,n,r))}return a.pipe(Pe())}));return Object(qt.a)(a).pipe(Br())}(t.component,t.route,n,e,r)})),Pe((function(t){return!0!==t}),!0))}(s,r,i,t).pipe(Object(De.a)((function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(Bt.a)(e).pipe(ze((function(e){return Object(Bt.a)([Hr(e.route.parent,r),zr(e.route,r),Gr(t,e.path,n),Wr(t,e.route,n)]).pipe(ae(),Pe((function(t){return!0!==t}),!0))})),Pe((function(t){return!0!==t}),!0))}(r,a,t,e):Object(qt.a)(n)})),Object(ie.a)((function(t){return Object.assign(Object.assign({},n),{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),Object(Ge.a)((function(t){if(Or(t.guardsResult)){var n=mn('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),Object(Ge.a)((function(t){var n=new rn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),ue((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new $e(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0})),ri((function(t){if(t.guards.canActivateChecks.length)return Object(qt.a)(t).pipe(Object(Ge.a)((function(t){var n=new on(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),(n=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(Object(De.a)((function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;return i.length?Object(Bt.a)(i).pipe(ze((function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(qt.a)({});if(1===i.length){var o=i[0];return ni(t[o],e,n,r).pipe(Object(ie.a)((function(t){return _defineProperty({},o,t)})))}var a={};return Object(Bt.a)(i).pipe(Object(De.a)((function(i){return ni(t[i],e,n,r).pipe(Object(ie.a)((function(t){return a[i]=t,t})))}))).pipe(Ce(),Object(ie.a)((function(){return a})))}(t._resolve,t,e,r).pipe(Object(ie.a)((function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),or(t,n).resolve),null})))}(t.route,e,n,r)})),function(t,e){return arguments.length>=2?function(n){return Object(We.a)(Ue(t,e),fe(1),_e(e))(n)}:function(e){return Object(We.a)(Ue((function(e,n,r){return t(e,n,r+1)})),fe(1))(e)}}((function(t,e){return t})),Object(ie.a)((function(e){return t}))):Object(qt.a)(t)})))}),Object(Ge.a)((function(t){var n=new an(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})));var n,r})),ri((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(ie.a)((function(t){var n=function(t,e,n){var r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(e,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(e.shouldReuseRoute(a.value.snapshot,n.value))return t(e,n,a)}}catch(s){o.e(s)}finally{o.f()}return t(e,n)}))}(e,n,r);return new tr(i,o)}var a=e.retrieve(n.value);if(a){var s=a.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,s),s}var u,c=new ir(new Wt((u=n.value).url),new Wt(u.params),new Wt(u.queryParams),new Wt(u.fragment),new Wt(u.data),u.outlet,u.component,u),l=n.children.map((function(n){return t(e,n)}));return new tr(c,l)}(t,e._root,n?n._root:void 0);return new nr(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})})),Object(Ge.a)((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(i=e.rootContexts,o=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},Object(ie.a)((function(t){return new Cr(o,t.targetRouterState,t.currentRouterState,a).activate(i),t}))),Object(Ge.a)({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){e.resetUrlToCurrentUrlTree();var r=new $e(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Qe(r))}),Se((function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=Or(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new $e(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);return e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})}),0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new tn(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(c){t.reject(c)}}var s;return ne.a})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){bn(t),this.config=t.map(Cn),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,i=e.queryParams,o=e.fragment,a=e.preserveQueryParams,s=e.queryParamsHandling,u=e.preserveFragment;Object(r.W)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o,h=null;if(s)switch(s){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=a?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return dr(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new pr(!0,0,t);var e=0,n=!1,r=t.reduce((function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Tn(r.outlets,(function(t,e){o[e]="string"==typeof t?t.split("/"):t})),[].concat(_toConsumableArray(t),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(t),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(t),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))})),t):[].concat(_toConsumableArray(t),[r])}),[]);return new pr(n,e,r)}(n);if(o.toRoot())return dr(e.root,new Dn([],{}),e,r,i);var a=function(t,e,n){if(t.isAbsolute)return new vr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new vr(n.snapshot._urlSegment,!0,0);var r=fr(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new vr(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?gr(a.segmentGroup,a.index,o.commands):mr(a.segmentGroup,a.index,o.commands);return dr(a.segmentGroup,s,e,r,i)}(c,this.currentUrlTree,t,h,l)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(r.W)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Or(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(Or(t))return An(this.currentUrlTree,t,e);var n=this.parseUrl(t);return An(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r&&(e[n]=r),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Xe(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,r,i){var o,a,s,u=this.getTransition();if(u&&"imperative"!==e&&"imperative"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"hashchange"==e&&"popstate"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"popstate"==e&&"hashchange"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise((function(t,e){o=t,a=e}));var c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}()).\u0275fac=function(t){r.Zb()},fi.\u0275dir=r.Ib({type:fi}),fi),pi=((hi=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=e.events.subscribe((function(t){t instanceof Xe&&i.updateTargetUrlAndHref()}))}return _createClass(t,[{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:vi(this.skipLocationChange),replaceUrl:vi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Object(r.W)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:vi(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:vi(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||hi)(r.Nb(di),r.Nb(ir),r.Nb(b))},hi.\u0275dir=r.Ib({type:hi,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.ac("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(r.Vb("href",e.href,r.lc),r.Db("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.Ab]}),hi);function vi(t){return""===t||!!t}var yi,mi,gi,_i=function t(){_classCallCheck(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new bi,this.attachRef=null},bi=function(){function t(){_classCallCheck(this,t),this.contexts=new Map}return _createClass(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new _i,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),wi=((yi=function(){function t(e,n,i,o,a){_classCallCheck(this,t),this.parentContexts=e,this.location=n,this.resolver=i,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=o||"primary",e.onChildOutletCreated(this.name,this)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ki(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}()).\u0275fac=function(t){return new(t||yi)(r.Nb(bi),r.Nb(r.P),r.Nb(r.j),r.Xb("name"),r.Nb(r.h))},yi.\u0275dir=r.Ib({type:yi,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),yi),ki=function(){function t(e,n,r){_classCallCheck(this,t),this.route=e,this.childContexts=n,this.parent=r}return _createClass(t,[{key:"get",value:function(t,e){return t===ir?this.route:t===bi?this.childContexts:this.parent.get(t,e)}}]),t}(),Ci=function t(){_classCallCheck(this,t)},Ei=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return Object(qt.a)(null)}}]),t}(),Si=((gi=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new ai(n,r,(function(t){return e.triggerEvent(new sn(t))}),(function(t){return e.triggerEvent(new un(t))}))}return _createClass(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(ue((function(t){return t instanceof Xe})),ze((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(s){i.e(s)}finally{i.f()}return Object(Bt.a)(r).pipe(Object(oe.a)(),Object(ie.a)((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(Object(De.a)((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}()).\u0275fac=function(t){return new(t||gi)(r.Wb(di),r.Wb(r.w),r.Wb(r.i),r.Wb(r.r),r.Wb(Ci))},gi.\u0275prov=r.Jb({token:gi,factory:gi.\u0275fac}),gi),Oi=((mi=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Je?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Xe&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof dn&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new dn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){r.Zb()},mi.\u0275dir=r.Ib({type:mi}),mi),Ii=new r.q("ROUTER_CONFIGURATION"),Ti=new r.q("ROUTER_FORROOT_GUARD"),xi=[T,{provide:Mn,useClass:Ln},{provide:di,useFactory:function(t,e,n,r,i,o,s){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,h=new di(null,t,e,n,r,i,o,On(s));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=a();h.events.subscribe((function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()}))}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[Mn,bi,T,r.r,r.w,r.i,oi,Ii,[function(){return function t(){_classCallCheck(this,t)}}(),new r.A],[function(){return function t(){_classCallCheck(this,t)}}(),new r.A]]},bi,{provide:ir,useFactory:function(t){return t.routerState.root},deps:[di]},{provide:r.w,useClass:r.K},Si,Ei,function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return e().pipe(Se((function(){return Object(qt.a)(null)})))}}]),t}(),{provide:Ii,useValue:{enableTracing:!1}}];function Ai(){return new r.y("Router",di)}var Pi,Di=((Pi=function(){function t(e,n){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[xi,Mi(e),{provide:Ti,useFactory:ji,deps:[[di,new r.A,new r.J]]},{provide:Ii,useValue:n||{}},{provide:b,useFactory:Ni,deps:[c,[new r.p(S),new r.A],Ii]},{provide:Oi,useFactory:Ri,deps:[di,st,Ii]},{provide:Ci,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Ei},{provide:r.y,multi:!0,useFactory:Ai},[Fi,{provide:r.d,multi:!0,useFactory:Vi,deps:[Fi]},{provide:qi,useFactory:Ui,deps:[Fi]},{provide:r.b,multi:!0,useExisting:qi}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[Mi(e)]}}}]),t}()).\u0275mod=r.Lb({type:Pi}),Pi.\u0275inj=r.Kb({factory:function(t){return new(t||Pi)(r.Wb(Ti,8),r.Wb(di,8))}}),Pi);function Ri(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Oi(t,e,n)}function Ni(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new I(t,e):new O(t,e)}function ji(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Mi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:oi,multi:!0,useValue:t}]}var Li,Fi=((Li=function(){function t(e){_classCallCheck(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new zt.a}return _createClass(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(f,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),r=t.injector.get(di),i=t.injector.get(Ii);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return t.initNavigation?Object(qt.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(Ii),n=this.injector.get(Si),i=this.injector.get(Oi),o=this.injector.get(di),a=this.injector.get(r.g);t===a.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}()).\u0275fac=function(t){return new(t||Li)(r.Wb(r.r))},Li.\u0275prov=r.Jb({token:Li,factory:Li.\u0275fac}),Li);function Vi(t){return t.appInitializer.bind(t)}function Ui(t){return t.bootstrapListener.bind(t)}var qi=new r.q("Router Initializer"),Bi=n("XoHu");function zi(t,e){return new Gt.a((function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=Object(Bt.a)(t[s]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,a++),i[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(a===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=i[n],t}),{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()}))}var Hi,Wi,Gi,Ki,Qi=new r.q("NgValueAccessor"),Yi={provide:Qi,useExisting:Object(r.U)((function(){return Zi})),multi:!0},Zi=((Hi=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Hi)(r.Nb(r.E),r.Nb(r.l))},Hi.\u0275dir=r.Ib({type:Hi,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.Bb([Yi])]}),Hi),Ji={provide:Qi,useExisting:Object(r.U)((function(){return $i})),multi:!0},Xi=new r.q("CompositionEventMode"),$i=((Ki=function(){function t(e,n,r){var i;_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=a()?a().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||Ki)(r.Nb(r.E),r.Nb(r.l),r.Nb(Xi,8))},Ki.\u0275dir=r.Ib({type:Ki,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.ac("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.Bb([Ji])]}),Ki),to=((Gi=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}()).\u0275fac=function(t){return new(t||Gi)},Gi.\u0275dir=r.Ib({type:Gi}),Gi),eo=((Wi=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(to)).\u0275fac=function(t){return no(t||Wi)},Wi.\u0275dir=r.Ib({type:Wi,features:[r.zb]}),Wi),no=r.Ub(eo);function ro(){throw new Error("unimplemented")}var io,oo,ao=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return _createClass(n,[{key:"validator",get:function(){return ro()}},{key:"asyncValidator",get:function(){return ro()}}]),n}(to),so=function(){function t(e){_classCallCheck(this,t),this._cd=e}return _createClass(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}(),uo=((oo=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(so)).\u0275fac=function(t){return new(t||oo)(r.Nb(ao,2))},oo.\u0275dir=r.Ib({type:oo,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.zb]}),oo),co=((io=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(so)).\u0275fac=function(t){return new(t||io)(r.Nb(eo,2))},io.\u0275dir=r.Ib({type:io,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.zb]}),io);function lo(t){return null==t||0===t.length}var ho=new r.q("NgValidators"),fo=new r.q("NgAsyncValidators"),po=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,vo=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"min",value:function(t){return function(e){if(lo(e.value)||lo(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(lo(e.value)||lo(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return lo(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return lo(t.value)||po.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){if(lo(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}},{key:"maxLength",value:function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(lo(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(yo);return 0==e.length?null:function(t){return go(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(yo);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var r=e[0];if(Object(Yt.a)(r))return zi(r,null);if(Object(Bi.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return zi(i.map((function(t){return r[t]})),i)}}if("function"==typeof e[e.length-1]){var o=e.pop();return zi(e=1===e.length&&Object(Yt.a)(e[0])?e[0]:e,null).pipe(Object(ie.a)((function(t){return o.apply(void 0,_toConsumableArray(t))})))}return zi(e,null)}(function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(mo)).pipe(Object(ie.a)(go))}}}]),t}();function yo(t){return null!=t}function mo(t){var e=Object(r.tb)(t)?Object(Bt.a)(t):t;if(!Object(r.sb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function go(t){var e={};return t.forEach((function(t){e=null!=t?Object.assign(Object.assign({},e),t):e})),0===Object.keys(e).length?null:e}function _o(t){return t.validate?function(e){return t.validate(e)}:t}function bo(t){return t.validate?function(e){return t.validate(e)}:t}var wo,ko,Co,Eo,So,Oo,Io={provide:Qi,useExisting:Object(r.U)((function(){return To})),multi:!0},To=((wo=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||wo)(r.Nb(r.E),r.Nb(r.l))},wo.\u0275dir=r.Ib({type:wo,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Bb([Io])]}),wo),xo={provide:Qi,useExisting:Object(r.U)((function(){return Po})),multi:!0},Ao=((Co=function(){function t(){_classCallCheck(this,t),this._accessors=[]}return _createClass(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||Co)},Co.\u0275prov=r.Jb({token:Co,factory:Co.\u0275fac}),Co),Po=((ko=function(){function t(e,n,r,i){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(ao),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),t}()).\u0275fac=function(t){return new(t||ko)(r.Nb(r.E),r.Nb(r.l),r.Nb(Ao),r.Nb(r.r))},ko.\u0275dir=r.Ib({type:ko,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Bb([xo])]}),ko),Do={provide:Qi,useExisting:Object(r.U)((function(){return Ro})),multi:!0},Ro=((Eo=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Eo)(r.Nb(r.E),r.Nb(r.l))},Eo.\u0275dir=r.Ib({type:Eo,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Bb([Do])]}),Eo),No='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',jo='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Mo=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+No)}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(jo,'\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        \n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>'))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+No)}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+jo)}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(t){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(t,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===t?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),t}(),Lo={provide:Qi,useExisting:Object(r.U)((function(){return Fo})),multi:!0},Fo=((So=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r.ub}return _createClass(t,[{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||So)(r.Nb(r.E),r.Nb(r.l))},So.\u0275dir=r.Ib({type:So,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Bb([Lo])]}),So),Vo={provide:Qi,useExisting:Object(r.U)((function(){return Uo})),multi:!0},Uo=((Oo=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r.ub}return _createClass(t,[{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=e._getOptionValue(l.value);r.push(h)}}e.value=r,t(r)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||Oo)(r.Nb(r.E),r.Nb(r.l))},Oo.\u0275dir=r.Ib({type:Oo,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Bb([Vo])]}),Oo);function qo(t,e){return[].concat(_toConsumableArray(e.path),[t])}function Bo(t,e){t||Go(e,"Cannot find control with"),e.valueAccessor||Go(e,"No value accessor for form control with"),t.validator=vo.compose([t.validator,e.validator]),t.asyncValidator=vo.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&zo(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&zo(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function zo(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ho(t,e){null==t&&Go(e,"Cannot find control with"),t.validator=vo.compose([t.validator,e.validator]),t.asyncValidator=vo.composeAsync([t.asyncValidator,e.asyncValidator])}function Wo(t){return Go(t,"There is no FormControl instance attached to form control element with")}function Go(t,e){var n;throw n=t.path.length>1?"path: '".concat(t.path.join(" -> "),"'"):t.path[0]?"name: '".concat(t.path,"'"):"unspecified name attribute",new Error("".concat(e," ").concat(n))}function Ko(t){return null!=t?vo.compose(t.map(_o)):null}function Qo(t){return null!=t?vo.composeAsync(t.map(bo)):null}var Yo=[Zi,Ro,To,Fo,Uo,Po];function Zo(t,e){t._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}))}function Jo(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function Xo(t){var e=ta(t)?t.validators:t;return Array.isArray(e)?Ko(e):e||null}function $o(t,e){var n=ta(e)?e.asyncValidators:t;return Array.isArray(n)?Qo(n):n||null}function ta(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var ea,na,ra,ia,oa,aa,sa=function(){function t(e,n){_classCallCheck(this,t),this.validator=e,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(t,[{key:"setValidators",value:function(t){this.validator=Xo(t)}},{key:"setAsyncValidators",value:function(t){this.asyncValidator=$o(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=mo(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach((function(t){r=r instanceof ca?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof la&&r.at(t)||null})),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new r.n,this.statusChanges=new r.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){ta(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),ua=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this,Xo(i),$o(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return _createClass(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(sa),ca=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,Xo(r),$o(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof ua?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){var e=this,n=!1;return this._forEachChild((function(r,i){n=n||e.contains(i)&&t(r)})),n}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,r){n=e(n,t,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(sa),la=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,Xo(r),$o(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof ua?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t,e=_createForOfIteratorHelper(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(sa),ha={provide:eo,useExisting:Object(r.U)((function(){return da}))},fa=Promise.resolve(null),da=((na=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this)).submitted=!1,o._directives=[],o.ngSubmit=new r.n,o.form=new ca({},Ko(t),Qo(i)),o}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(t){var e=this;fa.then((function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),Bo(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)}))}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;fa.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),Jo(e._directives,t)}))}},{key:"addFormGroup",value:function(t){var e=this;fa.then((function(){var n=e._findContainer(t.path),r=new ca({});Ho(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(t){var e=this;fa.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)}))}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;fa.then((function(){n.form.get(t.path).setValue(e)}))}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,Zo(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(eo)).\u0275fac=function(t){return new(t||na)(r.Nb(ho,10),r.Nb(fo,10))},na.\u0275dir=r.Ib({type:na,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.ac("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Bb([ha]),r.zb]}),na),pa=((ea=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return qo(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Ko(this._validators)}},{key:"asyncValidator",get:function(){return Qo(this._asyncValidators)}}]),n}(eo)).\u0275fac=function(t){return va(t||ea)},ea.\u0275dir=r.Ib({type:ea,features:[r.zb]}),ea),va=r.Ub(pa),ya=((ra=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||ra)},ra.\u0275dir=r.Ib({type:ra,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),ra),ma=new r.q("NgModelWithFormControlWarning"),ga={provide:eo,useExisting:Object(r.U)((function(){return _a}))},_a=((ia=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this))._validators=t,o._asyncValidators=i,o.submitted=!1,o.directives=[],o.form=null,o.ngSubmit=new r.n,o}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return Bo(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){Jo(this.directives,t)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);Ho(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);Ho(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,Zo(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange((function(){return Wo(e)})),e.valueAccessor.registerOnTouched((function(){return Wo(e)})),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),n&&Bo(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var t=Ko(this._validators);this.form.validator=vo.compose([this.form.validator,t]);var e=Qo(this._asyncValidators);this.form.asyncValidator=vo.composeAsync([this.form.asyncValidator,e])}},{key:"_checkFormPresent",value:function(){this.form||Mo.missingFormException()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(eo)).\u0275fac=function(t){return new(t||ia)(r.Nb(ho,10),r.Nb(fo,10))},ia.\u0275dir=r.Ib({type:ia,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.ac("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Bb([ga]),r.zb,r.Ab]}),ia),ba={provide:eo,useExisting:Object(r.U)((function(){return wa}))},wa=((oa=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._parent=t,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){Ea(this._parent)&&Mo.groupParentException()}}]),n}(pa)).\u0275fac=function(t){return new(t||oa)(r.Nb(eo,13),r.Nb(ho,10),r.Nb(fo,10))},oa.\u0275dir=r.Ib({type:oa,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r.Bb([ba]),r.zb]}),oa),ka={provide:eo,useExisting:Object(r.U)((function(){return Ca}))},Ca=((aa=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._parent=t,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"_checkParentType",value:function(){Ea(this._parent)&&Mo.arrayParentException()}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return qo(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return Ko(this._validators)}},{key:"asyncValidator",get:function(){return Qo(this._asyncValidators)}}]),n}(eo)).\u0275fac=function(t){return new(t||aa)(r.Nb(eo,13),r.Nb(ho,10),r.Nb(fo,10))},aa.\u0275dir=r.Ib({type:aa,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r.Bb([ka]),r.zb]}),aa);function Ea(t){return!(t instanceof wa||t instanceof _a||t instanceof Ca)}var Sa,Oa,Ia,Ta,xa={provide:ao,useExisting:Object(r.U)((function(){return Aa}))},Aa=((Ta=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a,s){var u;return _classCallCheck(this,n),(u=e.call(this))._ngModelWarningConfig=s,u._added=!1,u.update=new r.n,u._ngModelWarningSent=!1,u._parent=t,u._rawValidators=i||[],u._rawAsyncValidators=o||[],u.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Go(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach((function(e){var o;e.constructor===$i?n=e:(o=e,Yo.some((function(t){return o.constructor===t}))?(r&&Go(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Go(t,"More than one custom value accessor matches form control with"),i=e))})),i||r||n||(Go(t,"No valid value accessor for form control with"),null)}(_assertThisInitialized(u),a),u}return _createClass(n,[{key:"ngOnChanges",value:function(t){var e,i;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(r.ub)(e,n.currentValue)}(t,this.viewModel)&&(e=n,i=this._ngModelWarningConfig,Object(r.W)()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(Mo.ngModelWarning("formControlName"),e._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_checkParentType",value:function(){!(this._parent instanceof wa)&&this._parent instanceof pa?Mo.ngModelGroupException():this._parent instanceof wa||this._parent instanceof _a||this._parent instanceof Ca||Mo.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(t){Mo.disabledAttrWarning()}},{key:"path",get:function(){return qo(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Ko(this._rawValidators)}},{key:"asyncValidator",get:function(){return Qo(this._rawAsyncValidators)}}]),n}(ao)).\u0275fac=function(t){return new(t||Ta)(r.Nb(eo,13),r.Nb(ho,10),r.Nb(fo,10),r.Nb(Qi,10),r.Nb(ma,8))},Ta.\u0275dir=r.Ib({type:Ta,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Bb([xa]),r.zb,r.Ab]}),Ta._ngModelWarningSentOnce=!1,Ta),Pa=((Ia=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:Ia}),Ia.\u0275inj=r.Kb({factory:function(t){return new(t||Ia)}}),Ia),Da=((Oa=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new ca(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(t,e,n){return new ua(t,e,n)}},{key:"array",value:function(t,e,n){var r=this,i=t.map((function(t){return r._createControl(t)}));return new la(i,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(r){n[r]=e._createControl(t[r])})),n}},{key:"_createControl",value:function(t){return t instanceof ua||t instanceof ca||t instanceof la?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}()).\u0275fac=function(t){return new(t||Oa)},Oa.\u0275prov=r.Jb({token:Oa,factory:Oa.\u0275fac}),Oa),Ra=((Sa=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:ma,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}()).\u0275mod=r.Lb({type:Sa}),Sa.\u0275inj=r.Kb({factory:function(t){return new(t||Sa)},providers:[Da,Ao],imports:[Pa]}),Sa);function Na(t){return null!=t&&""+t!="false"}function ja(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Ma(t){return Array.isArray(t)?t:[t]}function La(t){return null==t?"":"string"==typeof t?t:t+"px"}function Fa(t){return t instanceof r.l?t.nativeElement:t}var Va=n("n6bG");function Ua(t,e,n,r){return Object(Va.a)(n)&&(r=n,n=void 0),r?Ua(t,e,n).pipe(Object(ie.a)((function(t){return Object(Yt.a)(t)?r.apply(void 0,_toConsumableArray(t)):r(t)}))):new Gt.a((function(r){!function t(e,n,r,i,o){var a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var s=e;e.addEventListener(n,r,o),a=function(){return s.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var u=e;e.on(n,r),a=function(){return u.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var c=e;e.addListener(n,r),a=function(){return c.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,h=e.length;l<h;l++)t(e[l],n,r,i,o)}i.add(a)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)}))}var qa=n("VRyK"),Ba=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),za=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(Ba),Ha=n("7Hc7"),Wa=function(){function t(e,n){_classCallCheck(this,t),this.compare=e,this.keySelector=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ga(t,this.compare,this.keySelector))}}]),t}(),Ga=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return _createClass(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(se.a),Ka=n("D0XW"),Qa=function(){function t(e){_classCallCheck(this,t),this.durationSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ya(t,this.durationSelector))}}]),t}(),Ya=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).durationSelector=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e;try{e=(0,this.durationSelector)(t)}catch(r){return this.destination.error(r)}var n=Object(Jt.a)(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}},{key:"notifyNext",value:function(t,e,n,r){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(Zt.a),Za=n("Y7HM");function Ja(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Xa(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ka.a;return e=function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return Object(Za.a)(e)?r=Number(e)<1?1:Number(e):Object(Qt.a)(e)&&(n=e),Object(Qt.a)(n)||(n=Ka.a),new Gt.a((function(e){var i=Object(Za.a)(t)?t:+t-n.now();return n.schedule(Ja,i,{index:0,period:r,subscriber:e})}))}(t,n)},function(t){return t.lift(new Qa(e))}}function $a(t){return function(e){return e.lift(new ts(t))}}var ts=function(){function t(e){_classCallCheck(this,t),this.notifier=e}return _createClass(t,[{key:"call",value:function(t,e){var n=new es(t),r=Object(Jt.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}]),t}(),es=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).seenValue=!1,r}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(Zt.a);function ns(){return function(t){return t.lift(new rs)}}var rs=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new is(t))}}]),t}(),is=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).hasPrev=!1,r}return _createClass(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(se.a);n("qgXg");var os,as=n("pxpQ");n("Ylt2");try{os="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(ux){os=!1}var ss,us,cs,ls,hs,fs=((cs=function t(e){_classCallCheck(this,t),this._platformId=e,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!os)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}).\u0275fac=function(t){return new(t||cs)(r.Wb(r.B,8))},cs.\u0275prov=Object(r.Jb)({factory:function(){return new cs(Object(r.Wb)(r.B,8))},token:cs,providedIn:"root"}),cs),ds=((us=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:us}),us.\u0275inj=r.Kb({factory:function(t){return new(t||us)}}),us),ps=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function vs(){if(ss)return ss;if("object"!=typeof document||!document)return ss=new Set(ps);var t=document.createElement("input");return ss=new Set(ps.filter((function(e){return t.setAttribute("type",e),t.type===e})))}function ys(t){return function(){if(null==ls&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return ls=!0}}))}finally{ls=ls||!1}return ls}()?t:!!t.capture}function ms(t){if(function(){if(null==hs){var t="undefined"!=typeof document?document.head:null;hs=!(!t||!t.createShadowRoot&&!t.attachShadow)}return hs}()){var e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}var gs,_s,bs,ws,ks,Cs,Es=new r.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.V)(u)}}),Ss=((Cs=function(){function t(e){if(_classCallCheck(this,t),this.value="ltr",this.change=new r.n,e){var n=e.documentElement?e.documentElement.dir:null,i=(e.body?e.body.dir:null)||n;this.value="ltr"===i||"rtl"===i?i:"ltr"}}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),t}()).\u0275fac=function(t){return new(t||Cs)(r.Wb(Es,8))},Cs.\u0275prov=Object(r.Jb)({factory:function(){return new Cs(Object(r.Wb)(Es,8))},token:Cs,providedIn:"root"}),Cs),Os=((ks=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:ks}),ks.\u0275inj=r.Kb({factory:function(t){return new(t||ks)}}),ks),Is=((ws=function(){function t(e,n,r){_classCallCheck(this,t),this._ngZone=e,this._platform=n,this._scrolled=new zt.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}return _createClass(t,[{key:"register",value:function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe((function(){return e._scrolled.next(t)})))}},{key:"deregister",value:function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}},{key:"scrolled",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new Gt.a((function(n){t._globalSubscription||t._addGlobalListener();var r=e>0?t._scrolled.pipe(Xa(e)).subscribe(n):t._scrolled.subscribe(n);return t._scrolledCount++,function(){r.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}})):Object(qt.a)()}},{key:"ngOnDestroy",value:function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach((function(e,n){return t.deregister(n)})),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(t,e){var n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(ue((function(t){return!t||n.indexOf(t)>-1})))}},{key:"getAncestorScrollContainers",value:function(t){var e=this,n=[];return this.scrollContainers.forEach((function(r,i){e._scrollableContainsElement(i,t)&&n.push(i)})),n}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_scrollableContainsElement",value:function(t,e){var n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular((function(){return Ua(t._getWindow().document,"scroll").subscribe((function(){return t._scrolled.next()}))}))}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),t}()).\u0275fac=function(t){return new(t||ws)(r.Wb(r.z),r.Wb(fs),r.Wb(u,8))},ws.\u0275prov=Object(r.Jb)({factory:function(){return new ws(Object(r.Wb)(r.z),Object(r.Wb)(fs),Object(r.Wb)(u,8))},token:ws,providedIn:"root"}),ws),Ts=((bs=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this._platform=e,this._document=r,n.runOutsideAngular((function(){var t=i._getWindow();i._change=e.isBrowser?Object(qa.a)(Ua(t,"resize"),Ua(t,"orientationchange")):Object(qt.a)(),i._invalidateCache=i.change().subscribe((function(){return i._updateViewportSize()}))}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._invalidateCache.unsubscribe()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,r=e.height;return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=this._getDocument(),e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe(Xa(t)):this._change}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_updateViewportSize",value:function(){var t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}]),t}()).\u0275fac=function(t){return new(t||bs)(r.Wb(fs),r.Wb(r.z),r.Wb(u,8))},bs.\u0275prov=Object(r.Jb)({factory:function(){return new bs(Object(r.Wb)(fs),Object(r.Wb)(r.z),Object(r.Wb)(u,8))},token:bs,providedIn:"root"}),bs),xs=((_s=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:_s}),_s.\u0275inj=r.Kb({factory:function(t){return new(t||_s)}}),_s),As=((gs=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:gs}),gs.\u0275inj=r.Kb({factory:function(t){return new(t||gs)},imports:[[Os,ds,xs],Os,xs]}),gs);function Ps(){throw Error("Host already has a portal attached")}var Ds,Rs,Ns=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"attach",value:function(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&Ps(),this._attachedHost=t,t.attach(this)}},{key:"detach",value:function(){var t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}},{key:"setAttachedHost",value:function(t){this._attachedHost=t}},{key:"isAttached",get:function(){return null!=this._attachedHost}}]),t}(),js=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this)).component=t,a.viewContainerRef=r,a.injector=i,a.componentFactoryResolver=o,a}return n}(Ns),Ms=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).templateRef=t,o.viewContainerRef=r,o.context=i,o}return _createClass(n,[{key:"attach",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=e,_get(_getPrototypeOf(n.prototype),"attach",this).call(this,t)}},{key:"detach",value:function(){return this.context=void 0,_get(_getPrototypeOf(n.prototype),"detach",this).call(this)}},{key:"origin",get:function(){return this.templateRef.elementRef}}]),n}(Ns),Ls=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).element=t instanceof r.l?t.nativeElement:t,i}return n}(Ns),Fs=function(){function t(){_classCallCheck(this,t),this._isDisposed=!1,this.attachDomPortal=null}return _createClass(t,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Ps(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof js?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Ms?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Ls?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(t){this._disposeFn=t}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),t}(),Vs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s,u;return _classCallCheck(this,n),(u=e.call(this)).outletElement=t,u._componentFactoryResolver=r,u._appRef=i,u._defaultInjector=o,u.attachDomPortal=function(t){if(!u._document)throw Error("Cannot attach DOM portal without _document constructor parameter");var e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");var r=u._document.createComment("dom-portal");e.parentNode.insertBefore(r,e),u.outletElement.appendChild(e),_get((s=_assertThisInitialized(u),_getPrototypeOf(n.prototype)),"setDisposeFn",s).call(s,(function(){r.parentNode&&r.parentNode.replaceChild(e,r)}))},u._document=a,u}return _createClass(n,[{key:"attachComponentPortal",value:function(t){var e,n=this,r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);return t.viewContainerRef?(e=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn((function(){return e.destroy()}))):(e=r.create(t.injector||this._defaultInjector),this._appRef.attachView(e.hostView),this.setDisposeFn((function(){n._appRef.detachView(e.hostView),e.destroy()}))),this.outletElement.appendChild(this._getComponentRootNode(e)),e}},{key:"attachTemplatePortal",value:function(t){var e=this,n=t.viewContainerRef,r=n.createEmbeddedView(t.templateRef,t.context);return r.detectChanges(),r.rootNodes.forEach((function(t){return e.outletElement.appendChild(t)})),this.setDisposeFn((function(){var t=n.indexOf(r);-1!==t&&n.remove(t)})),r}},{key:"dispose",value:function(){_get(_getPrototypeOf(n.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(t){return t.hostView.rootNodes[0]}}]),n}(Fs),Us=((Rs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o){var a,s;return _classCallCheck(this,n),(s=e.call(this))._componentFactoryResolver=t,s._viewContainerRef=i,s._isInitialized=!1,s.attached=new r.n,s.attachDomPortal=function(t){if(!s._document)throw Error("Cannot attach DOM portal without _document constructor parameter");var e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");var r=s._document.createComment("dom-portal");t.setAttachedHost(_assertThisInitialized(s)),e.parentNode.insertBefore(r,e),s._getRootNode().appendChild(e),_get((a=_assertThisInitialized(s),_getPrototypeOf(n.prototype)),"setDisposeFn",a).call(a,(function(){r.parentNode&&r.parentNode.replaceChild(e,r)}))},s._document=o,s}return _createClass(n,[{key:"ngOnInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"dispose",this).call(this),this._attachedPortal=null,this._attachedRef=null}},{key:"attachComponentPortal",value:function(t){t.setAttachedHost(this);var e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=e.createComponent(r,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),_get(_getPrototypeOf(n.prototype),"setDisposeFn",this).call(this,(function(){return i.destroy()})),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}},{key:"attachTemplatePortal",value:function(t){var e=this;t.setAttachedHost(this);var r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return _get(_getPrototypeOf(n.prototype),"setDisposeFn",this).call(this,(function(){return e._viewContainerRef.clear()})),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}},{key:"_getRootNode",value:function(){var t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}},{key:"portal",get:function(){return this._attachedPortal},set:function(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&_get(_getPrototypeOf(n.prototype),"detach",this).call(this),t&&_get(_getPrototypeOf(n.prototype),"attach",this).call(this,t),this._attachedPortal=t)}},{key:"attachedRef",get:function(){return this._attachedRef}}]),n}(Fs)).\u0275fac=function(t){return new(t||Rs)(r.Nb(r.j),r.Nb(r.P),r.Nb(u))},Rs.\u0275dir=r.Ib({type:Rs,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.zb]}),Rs),qs=((Ds=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:Ds}),Ds.\u0275inj=r.Kb({factory:function(t){return new(t||Ds)}}),Ds);function Bs(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.length?n.some((function(e){return t[e]})):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var zs=function(){function t(e,n){_classCallCheck(this,t),this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}return _createClass(t,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=La(-this._previousScrollPosition.left),t.style.top=La(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}]),t}();function Hs(){return Error("Scroll strategy has already been attached.")}var Ws=function(){function t(e,n,r,i){var o=this;_classCallCheck(this,t),this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=function(){o.disable(),o._overlayRef.hasAttached()&&o._ngZone.run((function(){return o._overlayRef.detach()}))}}return _createClass(t,[{key:"attach",value:function(t){if(this._overlayRef)throw Hs();this._overlayRef=t}},{key:"enable",value:function(){var t=this;if(!this._scrollSubscription){var e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe((function(){var e=t._viewportRuler.getViewportScrollPosition().top;Math.abs(e-t._initialScrollPosition)>t._config.threshold?t._detach():t._overlayRef.updatePosition()}))):this._scrollSubscription=e.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),Gs=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),t}();function Ks(t,e){return e.some((function(e){return t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right}))}function Qs(t,e){return e.some((function(e){return t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right}))}var Ys,Zs=function(){function t(e,n,r,i){_classCallCheck(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this._config=i,this._scrollSubscription=null}return _createClass(t,[{key:"attach",value:function(t){if(this._overlayRef)throw Hs();this._overlayRef=t}},{key:"enable",value:function(){var t=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe((function(){if(t._overlayRef.updatePosition(),t._config&&t._config.autoClose){var e=t._overlayRef.overlayElement.getBoundingClientRect(),n=t._viewportRuler.getViewportSize(),r=n.width,i=n.height;Ks(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(t.disable(),t._ngZone.run((function(){return t._overlayRef.detach()})))}})))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),Js=((Ys=function t(e,n,r,i){var o=this;_classCallCheck(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this.noop=function(){return new Gs},this.close=function(t){return new Ws(o._scrollDispatcher,o._ngZone,o._viewportRuler,t)},this.block=function(){return new zs(o._viewportRuler,o._document)},this.reposition=function(t){return new Zs(o._scrollDispatcher,o._viewportRuler,o._ngZone,t)},this._document=i}).\u0275fac=function(t){return new(t||Ys)(r.Wb(Is),r.Wb(Ts),r.Wb(r.z),r.Wb(u))},Ys.\u0275prov=Object(r.Jb)({factory:function(){return new Ys(Object(r.Wb)(Is),Object(r.Wb)(Ts),Object(r.Wb)(r.z),Object(r.Wb)(u))},token:Ys,providedIn:"root"}),Ys),Xs=function t(e){if(_classCallCheck(this,t),this.scrollStrategy=new Gs,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e)for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];void 0!==e[i]&&(this[i]=e[i])}},$s=function t(e,n,r,i,o){_classCallCheck(this,t),this.offsetX=r,this.offsetY=i,this.panelClass=o,this.originX=e.originX,this.originY=e.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY},tu=function t(e,n){_classCallCheck(this,t),this.connectionPair=e,this.scrollableViewProperties=n};function eu(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid ".concat(t,' "').concat(e,'". Expected "top", "bottom" or "center".'))}function nu(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid ".concat(t,' "').concat(e,'". Expected "start", "end" or "center".'))}var ru,iu,ou=((ru=function(){function t(e){var n=this;_classCallCheck(this,t),this._attachedOverlays=[],this._keydownListener=function(t){for(var e=n._attachedOverlays,r=e.length-1;r>-1;r--)if(e[r]._keydownEvents.observers.length>0){e[r]._keydownEvents.next(t);break}},this._document=e}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._detach()}},{key:"add",value:function(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}},{key:"remove",value:function(t){var e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}},{key:"_detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),t}()).\u0275fac=function(t){return new(t||ru)(r.Wb(u))},ru.\u0275prov=Object(r.Jb)({factory:function(){return new ru(Object(r.Wb)(u))},token:ru,providedIn:"root"}),ru),au=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine),su=((iu=function(){function t(e,n){_classCallCheck(this,t),this._platform=n,this._document=e}return _createClass(t,[{key:"ngOnDestroy",value:function(){var t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||au)for(var e=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]'),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);var r=this._document.createElement("div");r.classList.add("cdk-overlay-container"),au?r.setAttribute("platform","test"):t||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}]),t}()).\u0275fac=function(t){return new(t||iu)(r.Wb(u),r.Wb(fs))},iu.\u0275prov=Object(r.Jb)({factory:function(){return new iu(Object(r.Wb)(u),Object(r.Wb)(fs))},token:iu,providedIn:"root"}),iu),uu=function(){function t(e,n,r,i,o,a,s,u){var c=this;_classCallCheck(this,t),this._portalOutlet=e,this._host=n,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=u,this._backdropElement=null,this._backdropClick=new zt.a,this._attachments=new zt.a,this._detachments=new zt.a,this._locationChanges=Ke.a.EMPTY,this._backdropClickHandler=function(t){return c._backdropClick.next(t)},this._keydownEvents=new zt.a,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}return _createClass(t,[{key:"attach",value:function(t){var e=this,n=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Te(1)).subscribe((function(){e.hasAttached()&&e.updatePosition()})),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe((function(){return e.dispose()}))),n}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}}},{key:"dispose",value:function(){var t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick.asObservable()}},{key:"attachments",value:function(){return this._attachments.asObservable()}},{key:"detachments",value:function(){return this._detachments.asObservable()}},{key:"keydownEvents",value:function(){return this._keydownEvents.asObservable()}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}},{key:"setDirection",value:function(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}},{key:"addPanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!0)}},{key:"removePanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!1)}},{key:"getDirection",value:function(){var t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}},{key:"updateScrollStrategy",value:function(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var t=this._pane.style;t.width=La(this._config.width),t.height=La(this._config.height),t.minWidth=La(this._config.minWidth),t.minHeight=La(this._config.minHeight),t.maxWidth=La(this._config.maxWidth),t.maxHeight=La(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(t){this._pane.style.pointerEvents=t?"auto":"none"}},{key:"_attachBackdrop",value:function(){var t=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){t._backdropElement&&t._backdropElement.classList.add("cdk-overlay-backdrop-showing")}))})):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var t,e=this,n=this._backdropElement;if(n){var r=function r(){n&&(n.removeEventListener("click",e._backdropClickHandler),n.removeEventListener("transitionend",r),n.parentNode&&n.parentNode.removeChild(n)),e._backdropElement==n&&(e._backdropElement=null),e._config.backdropClass&&e._toggleClasses(n,e._config.backdropClass,!1),clearTimeout(t)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular((function(){n.addEventListener("transitionend",r)})),n.style.pointerEvents="none",t=this._ngZone.runOutsideAngular((function(){return setTimeout(r,500)}))}}},{key:"_toggleClasses",value:function(t,e,n){var r=t.classList;Ma(e).forEach((function(t){t&&(n?r.add(t):r.remove(t))}))}},{key:"_detachContentWhenStable",value:function(){var t=this;this._ngZone.runOutsideAngular((function(){var e=t._ngZone.onStable.asObservable().pipe($a(Object(qa.a)(t._attachments,t._detachments))).subscribe((function(){t._pane&&t._host&&0!==t._pane.children.length||(t._pane&&t._config.panelClass&&t._toggleClasses(t._pane,t._config.panelClass,!1),t._host&&t._host.parentElement&&(t._previousHostParent=t._host.parentElement,t._previousHostParent.removeChild(t._host)),e.unsubscribe())}))}))}},{key:"_disposeScrollStrategy",value:function(){var t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}},{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}}]),t}(),cu=/([A-Za-z%]+)$/,lu=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new zt.a,this._resizeSubscription=Ke.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(e)}return _createClass(t,[{key:"attach",value:function(t){var e=this;if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe((function(){e._isInitialRender=!0,e.apply()}))}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var t,e,n=this._originRect,r=this._overlayRect,i=this._viewportRect,o=[],a=_createForOfIteratorHelper(this._preferredPositions);try{for(a.s();!(e=a.n()).done;){var s=e.value,u=this._getOriginPoint(n,s),c=this._getOverlayPoint(u,r,s),l=this._getOverlayFit(c,r,i,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,u);this._canFitWithFlexibleDimensions(l,c,i)?o.push({position:s,origin:u,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(u,s)}):(!t||t.overlayFit.visibleArea<l.visibleArea)&&(t={overlayFit:l,overlayPoint:c,originPoint:u,position:s,overlayRect:r})}}catch(m){a.e(m)}finally{a.f()}if(o.length){var h,f=null,d=-1,p=_createForOfIteratorHelper(o);try{for(p.s();!(h=p.n()).done;){var v=h.value,y=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);y>d&&(d=y,f=v)}}catch(m){p.e(m)}finally{p.f()}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(t.position,t.originPoint);this._applyPosition(t.position,t.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&hu(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}},{key:"withScrollableContainers",value:function(t){return this._scrollables=t,this}},{key:"withPositions",value:function(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(t){return this._viewportMargin=t,this}},{key:"withFlexibleDimensions",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=t,this}},{key:"withGrowAfterOpen",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=t,this}},{key:"withPush",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=t,this}},{key:"withLockedPosition",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=t,this}},{key:"setOrigin",value:function(t){return this._origin=t,this}},{key:"withDefaultOffsetX",value:function(t){return this._offsetX=t,this}},{key:"withDefaultOffsetY",value:function(t){return this._offsetY=t,this}},{key:"withTransformOriginOn",value:function(t){return this._transformOriginSelector=t,this}},{key:"_getOriginPoint",value:function(t,e){var n;if("center"==e.originX)n=t.left+t.width/2;else{var r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return{x:n,y:"center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}},{key:"_getOverlayPoint",value:function(t,e,n){var r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}},{key:"_getOverlayFit",value:function(t,e,n,r){var i=t.x,o=t.y,a=this._getOffset(r,"x"),s=this._getOffset(r,"y");a&&(i+=a),s&&(o+=s);var u=0-o,c=o+e.height-n.height,l=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,u,c),f=l*h;return{visibleArea:f,isCompletelyWithinViewport:e.width*e.height===f,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:l==e.width}}},{key:"_canFitWithFlexibleDimensions",value:function(t,e,n){if(this._hasFlexibleDimensions){var r=n.bottom-e.y,i=n.right-e.x,o=fu(this._overlayRef.getConfig().minHeight),a=fu(this._overlayRef.getConfig().minWidth),s=t.fitsInViewportHorizontally||null!=a&&a<=i;return(t.fitsInViewportVertically||null!=o&&o<=r)&&s}return!1}},{key:"_pushOverlayOnScreen",value:function(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};var r,i,o=this._viewportRect,a=Math.max(t.x+e.width-o.right,0),s=Math.max(t.y+e.height-o.bottom,0),u=Math.max(o.top-n.top-t.y,0),c=Math.max(o.left-n.left-t.x,0);return r=e.width<=o.width?c||-a:t.x<this._viewportMargin?o.left-n.left-t.x:0,i=e.height<=o.height?u||-s:t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:r,y:i},{x:t.x+r,y:t.y+i}}},{key:"_applyPosition",value:function(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){var n=this._getScrollVisibility(),r=new tu(t,n);this._positionChanges.next(r)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(t){if(this._transformOriginSelector){var e,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r=t.overlayY;e="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(var i=0;i<n.length;i++)n[i].style.transformOrigin="".concat(e," ").concat(r)}}},{key:"_calculateBoundingBoxRect",value:function(t,e){var n,r,i,o,a,s,u=this._viewportRect,c=this._isRtl();if("top"===e.overlayY)r=t.y,n=u.height-r+this._viewportMargin;else if("bottom"===e.overlayY)i=u.height-t.y+2*this._viewportMargin,n=u.height-i+this._viewportMargin;else{var l=Math.min(u.bottom-t.y+u.top,t.y),h=this._lastBoundingBoxSize.height;n=2*l,r=t.y-l,n>h&&!this._isInitialRender&&!this._growAfterOpen&&(r=t.y-h/2)}if("end"===e.overlayX&&!c||"start"===e.overlayX&&c)s=u.width-t.x+this._viewportMargin,o=t.x-this._viewportMargin;else if("start"===e.overlayX&&!c||"end"===e.overlayX&&c)a=t.x,o=u.right-t.x;else{var f=Math.min(u.right-t.x+u.left,t.x),d=this._lastBoundingBoxSize.width;o=2*f,a=t.x-f,o>d&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.x-d/2)}return{top:r,left:a,bottom:i,right:s,width:o,height:n}}},{key:"_setBoundingBoxStyles",value:function(t,e){var n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{var i=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=La(n.height),r.top=La(n.top),r.bottom=La(n.bottom),r.width=La(n.width),r.left=La(n.left),r.right=La(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",i&&(r.maxHeight=La(i)),o&&(r.maxWidth=La(o))}this._lastBoundingBoxSize=n,hu(this._boundingBox.style,r)}},{key:"_resetBoundingBoxStyles",value:function(){hu(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){hu(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(t,e){var n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){var a=this._viewportRuler.getViewportScrollPosition();hu(n,this._getExactOverlayY(e,t,a)),hu(n,this._getExactOverlayX(e,t,a))}else n.position="static";var s="",u=this._getOffset(e,"x"),c=this._getOffset(e,"y");u&&(s+="translateX(".concat(u,"px) ")),c&&(s+="translateY(".concat(c,"px)")),n.transform=s.trim(),o.maxHeight&&(r?n.maxHeight=La(o.maxHeight):i&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=La(o.maxWidth):i&&(n.maxWidth="")),hu(this._pane.style,n)}},{key:"_getExactOverlayY",value:function(t,e,n){var r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));var o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=o,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=La(i.y),r}},{key:"_getExactOverlayX",value:function(t,e,n){var r={left:"",right:""},i=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n)),"right"===(this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?r.right=this._document.documentElement.clientWidth-(i.x+this._overlayRect.width)+"px":r.left=La(i.x),r}},{key:"_getScrollVisibility",value:function(){var t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map((function(t){return t.getElementRef().nativeElement.getBoundingClientRect()}));return{isOriginClipped:Qs(t,n),isOriginOutsideView:Ks(t,n),isOverlayClipped:Qs(e,n),isOverlayOutsideView:Ks(e,n)}}},{key:"_subtractOverflows",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce((function(t,e){return t-Math.max(e,0)}),t)}},{key:"_getNarrowedViewportRect",value:function(){var t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}},{key:"_validatePositions",value:function(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach((function(t){nu("originX",t.originX),eu("originY",t.originY),nu("overlayX",t.overlayX),eu("overlayY",t.overlayY)}))}},{key:"_addPanelClasses",value:function(t){var e=this;this._pane&&Ma(t).forEach((function(t){""!==t&&-1===e._appliedPanelClasses.indexOf(t)&&(e._appliedPanelClasses.push(t),e._pane.classList.add(t))}))}},{key:"_clearPanelClasses",value:function(){var t=this;this._pane&&(this._appliedPanelClasses.forEach((function(e){t._pane.classList.remove(e)})),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();var e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}},{key:"positions",get:function(){return this._preferredPositions}}]),t}();function hu(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function fu(t){if("number"!=typeof t&&null!=t){var e=_slicedToArray(t.split(cu),2),n=e[0],r=e[1];return r&&"px"!==r?null:parseFloat(n)}return t||null}var du,pu,vu,yu=function(){function t(e,n,r,i,o,a,s){_classCallCheck(this,t),this._preferredPositions=[],this._positionStrategy=new lu(r,i,o,a,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,n)}return _createClass(t,[{key:"attach",value:function(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(t){this._positionStrategy.withScrollableContainers(t)}},{key:"withFallbackPosition",value:function(t,e,n,r){var i=new $s(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}},{key:"withOffsetX",value:function(t){return this._positionStrategy.withDefaultOffsetX(t),this}},{key:"withOffsetY",value:function(t){return this._positionStrategy.withDefaultOffsetY(t),this}},{key:"withLockedPosition",value:function(t){return this._positionStrategy.withLockedPosition(t),this}},{key:"withPositions",value:function(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(t){return this._positionStrategy.setOrigin(t),this}},{key:"_isRtl",get:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"onPositionChange",get:function(){return this._positionStrategy.positionChanges}},{key:"positions",get:function(){return this._preferredPositions}}]),t}(),mu=function(){function t(){_classCallCheck(this,t),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return _createClass(t,[{key:"attach",value:function(t){var e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}},{key:"top",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}},{key:"left",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}},{key:"right",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}},{key:"width",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}},{key:"height",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}},{key:"centerHorizontally",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(t),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(t),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),r=n.width,i=n.height,o=n.maxWidth,a=n.maxHeight,s=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),u=!("100%"!==i&&"100vh"!==i||a&&"100%"!==a&&"100vh"!==a);t.position=this._cssPosition,t.marginLeft=s?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,s?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}}]),t}(),gu=((pu=function(){function t(e,n,r,i){_classCallCheck(this,t),this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i}return _createClass(t,[{key:"global",value:function(){return new mu}},{key:"connectedTo",value:function(t,e,n){return new yu(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(t){return new lu(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),t}()).\u0275fac=function(t){return new(t||pu)(r.Wb(Ts),r.Wb(u),r.Wb(fs),r.Wb(su))},pu.\u0275prov=Object(r.Jb)({factory:function(){return new pu(Object(r.Wb)(Ts),Object(r.Wb)(u),Object(r.Wb)(fs),Object(r.Wb)(su))},token:pu,providedIn:"root"}),pu),_u=0,bu=((du=function(){function t(e,n,r,i,o,a,s,u,c,l){_classCallCheck(this,t),this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=i,this._keyboardDispatcher=o,this._injector=a,this._ngZone=s,this._document=u,this._directionality=c,this._location=l}return _createClass(t,[{key:"create",value:function(t){var e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new Xs(t);return i.direction=i.direction||this._directionality.value,new uu(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(t){var e=this._document.createElement("div");return e.id="cdk-overlay-"+_u++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}},{key:"_createHostElement",value:function(){var t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}},{key:"_createPortalOutlet",value:function(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new Vs(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}]),t}()).\u0275fac=function(t){return new(t||du)(r.Wb(Js),r.Wb(su),r.Wb(r.j),r.Wb(gu),r.Wb(ou),r.Wb(r.r),r.Wb(r.z),r.Wb(u),r.Wb(Ss),r.Wb(T,8))},du.\u0275prov=r.Jb({token:du,factory:du.\u0275fac}),du),wu={provide:new r.q("cdk-connected-overlay-scroll-strategy"),deps:[bu],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},ku=((vu=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:vu}),vu.\u0275inj=r.Kb({factory:function(t){return new(t||vu)},providers:[bu,wu],imports:[[Os,qs,As],As]}),vu);function Cu(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ka.a;return function(n){return n.lift(new Eu(t,e))}}var Eu=function(){function t(e,n){_classCallCheck(this,t),this.dueTime=e,this.scheduler=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Su(t,this.dueTime,this.scheduler))}}]),t}(),Su=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return _createClass(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ou,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(se.a);function Ou(t){t.debouncedNext()}var Iu,Tu,xu,Au,Pu,Du=((Au=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"create",value:function(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}]),t}()).\u0275fac=function(t){return new(t||Au)},Au.\u0275prov=Object(r.Jb)({factory:function(){return new Au},token:Au,providedIn:"root"}),Au),Ru=((xu=function(){function t(e){_classCallCheck(this,t),this._mutationObserverFactory=e,this._observedElements=new Map}return _createClass(t,[{key:"ngOnDestroy",value:function(){var t=this;this._observedElements.forEach((function(e,n){return t._cleanupObserver(n)}))}},{key:"observe",value:function(t){var e=this,n=Fa(t);return new Gt.a((function(t){var r=e._observeElement(n).subscribe(t);return function(){r.unsubscribe(),e._unobserveElement(n)}}))}},{key:"_observeElement",value:function(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{var e=new zt.a,n=this._mutationObserverFactory.create((function(t){return e.next(t)}));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}},{key:"_unobserveElement",value:function(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}},{key:"_cleanupObserver",value:function(t){if(this._observedElements.has(t)){var e=this._observedElements.get(t),n=e.observer,r=e.stream;n&&n.disconnect(),r.complete(),this._observedElements.delete(t)}}}]),t}()).\u0275fac=function(t){return new(t||xu)(r.Wb(Du))},xu.\u0275prov=Object(r.Jb)({factory:function(){return new xu(Object(r.Wb)(Du))},token:xu,providedIn:"root"}),xu),Nu=((Tu=function(){function t(e,n,i){_classCallCheck(this,t),this._contentObserver=e,this._elementRef=n,this._ngZone=i,this.event=new r.n,this._disabled=!1,this._currentSubscription=null}return _createClass(t,[{key:"ngAfterContentInit",value:function(){this._currentSubscription||this.disabled||this._subscribe()}},{key:"ngOnDestroy",value:function(){this._unsubscribe()}},{key:"_subscribe",value:function(){var t=this;this._unsubscribe();var e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular((function(){t._currentSubscription=(t.debounce?e.pipe(Cu(t.debounce)):e).subscribe(t.event)}))}},{key:"_unsubscribe",value:function(){this._currentSubscription&&this._currentSubscription.unsubscribe()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Na(t),this._disabled?this._unsubscribe():this._subscribe()}},{key:"debounce",get:function(){return this._debounce},set:function(t){this._debounce=ja(t),this._subscribe()}}]),t}()).\u0275fac=function(t){return new(t||Tu)(r.Nb(Ru),r.Nb(r.l),r.Nb(r.z))},Tu.\u0275dir=r.Ib({type:Tu,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),Tu),ju=((Iu=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:Iu}),Iu.\u0275inj=r.Kb({factory:function(t){return new(t||Iu)},providers:[Du]}),Iu),Mu=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._origin="program",t}return _createClass(n,[{key:"setFocusOrigin",value:function(t){return this._origin=t,this}},{key:"setActiveItem",value:function(t){_get(_getPrototypeOf(n.prototype),"setActiveItem",this).call(this,t),this.activeItem&&this.activeItem.focus(this._origin)}}]),n}(function(){function t(e){var n=this;_classCallCheck(this,t),this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new zt.a,this._typeaheadSubscription=Ke.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=function(t){return t.disabled},this._pressedLetters=[],this.tabOut=new zt.a,this.change=new zt.a,e instanceof r.D&&e.changes.subscribe((function(t){if(n._activeItem){var e=t.toArray().indexOf(n._activeItem);e>-1&&e!==n._activeItemIndex&&(n._activeItemIndex=e)}}))}return _createClass(t,[{key:"skipPredicate",value:function(t){return this._skipPredicateFn=t,this}},{key:"withWrap",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._wrap=t,this}},{key:"withVerticalOrientation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._vertical=t,this}},{key:"withHorizontalOrientation",value:function(t){return this._horizontal=t,this}},{key:"withAllowedModifierKeys",value:function(t){return this._allowedModifierKeys=t,this}},{key:"withTypeAhead",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;if(this._items.length&&this._items.some((function(t){return"function"!=typeof t.getLabel})))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(Ge.a)((function(e){return t._pressedLetters.push(e)})),Cu(e),ue((function(){return t._pressedLetters.length>0})),Object(ie.a)((function(){return t._pressedLetters.join("")}))).subscribe((function(e){for(var n=t._getItemsArray(),r=1;r<n.length+1;r++){var i=(t._activeItemIndex+r)%n.length,o=n[i];if(!t._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(e)){t.setActiveItem(i);break}}t._pressedLetters=[]})),this}},{key:"setActiveItem",value:function(t){var e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}},{key:"onKeydown",value:function(t){var e=this,n=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every((function(n){return!t[n]||e._allowedModifierKeys.indexOf(n)>-1}));switch(n){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((r||Bs(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],t.preventDefault()}},{key:"isTyping",value:function(){return this._pressedLetters.length>0}},{key:"setFirstItemActive",value:function(){this._setActiveItemByIndex(0,1)}},{key:"setLastItemActive",value:function(){this._setActiveItemByIndex(this._items.length-1,-1)}},{key:"setNextItemActive",value:function(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}},{key:"setPreviousItemActive",value:function(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}},{key:"updateActiveItem",value:function(t){var e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}},{key:"_setActiveItemByDelta",value:function(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}},{key:"_setActiveInWrapMode",value:function(t){for(var e=this._getItemsArray(),n=1;n<=e.length;n++){var r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}},{key:"_setActiveInDefaultMode",value:function(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}},{key:"_setActiveItemByIndex",value:function(t,e){var n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}},{key:"_getItemsArray",value:function(){return this._items instanceof r.D?this._items.toArray():this._items}},{key:"activeItemIndex",get:function(){return this._activeItemIndex}},{key:"activeItem",get:function(){return this._activeItem}}]),t}()),Lu=((Pu=function(){function t(e){_classCallCheck(this,t),this._platform=e}return _createClass(t,[{key:"isDisabled",value:function(t){return t.hasAttribute("disabled")}},{key:"isVisible",value:function(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}},{key:"isTabbable",value:function(t){if(!this._platform.isBrowser)return!1;var e,n=function(t){try{return t.frameElement}catch(ux){return null}}((e=t).ownerDocument&&e.ownerDocument.defaultView||window);if(n){var r=n&&n.nodeName.toLowerCase();if(-1===Vu(n))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===r)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(n))return!1}var i=t.nodeName.toLowerCase(),o=Vu(t);if(t.hasAttribute("contenteditable"))return-1!==o;if("iframe"===i)return!1;if("audio"===i){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===i){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==i||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){var e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}},{key:"isFocusable",value:function(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){var e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Fu(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}]),t}()).\u0275fac=function(t){return new(t||Pu)(r.Wb(fs))},Pu.\u0275prov=Object(r.Jb)({factory:function(){return new Pu(Object(r.Wb)(fs))},token:Pu,providedIn:"root"}),Pu);function Fu(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;var e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Vu(t){if(!Fu(t))return null;var e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}var Uu,qu=function(){function t(e,n,r,i){var o=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,t),this._element=e,this._checker=n,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=function(){return o.focusLastTabbableElement()},this.endAnchorListener=function(){return o.focusFirstTabbableElement()},this._enabled=!0,a||this.attachAnchors()}return _createClass(t,[{key:"destroy",value:function(){var t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}},{key:"attachAnchors",value:function(){var t=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular((function(){t._startAnchor||(t._startAnchor=t._createAnchor(),t._startAnchor.addEventListener("focus",t.startAnchorListener)),t._endAnchor||(t._endAnchor=t._createAnchor(),t._endAnchor.addEventListener("focus",t.endAnchorListener))})),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}},{key:"focusInitialElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusInitialElement())}))}))}},{key:"focusFirstTabbableElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusFirstTabbableElement())}))}))}},{key:"focusLastTabbableElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusLastTabbableElement())}))}))}},{key:"_getRegionBoundary",value:function(t){for(var e=this._element.querySelectorAll("[cdk-focus-region-".concat(t,"], [cdkFocusRegion").concat(t,"], [cdk-focus-").concat(t,"]")),n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn("Found use of deprecated attribute 'cdk-focus-".concat(t,"', use 'cdkFocusRegion").concat(t,"' instead. The deprecated attribute will be removed in 8.0.0."),e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn("Found use of deprecated attribute 'cdk-focus-region-".concat(t,"', use 'cdkFocusRegion").concat(t,"' instead. The deprecated attribute will be removed in 8.0.0."),e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}},{key:"focusInitialElement",value:function(){var t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),Object(r.W)()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}},{key:"focusFirstTabbableElement",value:function(){var t=this._getRegionBoundary("start");return t&&t.focus(),!!t}},{key:"focusLastTabbableElement",value:function(){var t=this._getRegionBoundary("end");return t&&t.focus(),!!t}},{key:"hasAttached",value:function(){return this._hasAttached}},{key:"_getFirstTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}},{key:"_getLastTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=e.length-1;n>=0;n--){var r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}},{key:"_createAnchor",value:function(){var t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}},{key:"_toggleAnchorTabIndex",value:function(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}},{key:"toggleAnchors",value:function(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}},{key:"_executeOnStable",value:function(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(Te(1)).subscribe(t)}},{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}}]),t}(),Bu=((Uu=function(){function t(e,n,r){_classCallCheck(this,t),this._checker=e,this._ngZone=n,this._document=r}return _createClass(t,[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new qu(t,this._checker,this._ngZone,this._document,e)}}]),t}()).\u0275fac=function(t){return new(t||Uu)(r.Wb(Lu),r.Wb(r.z),r.Wb(u))},Uu.\u0275prov=Object(r.Jb)({factory:function(){return new Uu(Object(r.Wb)(Lu),Object(r.Wb)(r.z),Object(r.Wb)(u))},token:Uu,providedIn:"root"}),Uu);function zu(t){return 0===t.buttons}"undefined"!=typeof Element&&Element;var Hu,Wu=new r.q("cdk-focus-monitor-default-options"),Gu=ys({passive:!0,capture:!0}),Ku=((Hu=function(){function t(e,n,r,i){var o=this;_classCallCheck(this,t),this._ngZone=e,this._platform=n,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=function(){o._lastTouchTarget=null,o._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(t){if(!o._lastTouchTarget){var e=zu(t)?"keyboard":"mouse";o._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=function(t){null!=o._touchTimeoutId&&clearTimeout(o._touchTimeoutId),o._lastTouchTarget=Qu(t),o._touchTimeoutId=setTimeout((function(){return o._lastTouchTarget=null}),650)},this._windowFocusListener=function(){o._windowFocused=!0,o._windowFocusTimeoutId=setTimeout((function(){return o._windowFocused=!1}))},this._rootNodeFocusAndBlurListener=function(t){for(var e=Qu(t),n="focus"===t.type?o._onFocus:o._onBlur,r=e;r;r=r.parentElement)n.call(o,t,r)},this._document=r,this._detectionMode=(null==i?void 0:i.detectionMode)||0}return _createClass(t,[{key:"monitor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._platform.isBrowser)return Object(qt.a)(null);var n=Fa(t),r=ms(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject.asObservable();var o={checkChildren:e,subject:new zt.a,rootNode:r};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject.asObservable()}},{key:"stopMonitoring",value:function(t){var e=Fa(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}},{key:"focusVia",value:function(t,e,n){var r=Fa(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}},{key:"ngOnDestroy",value:function(){var t=this;this._elementInfo.forEach((function(e,n){return t.stopMonitoring(n)}))}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_toggleClass",value:function(t,e,n){n?t.classList.add(e):t.classList.remove(e)}},{key:"_getFocusOrigin",value:function(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}},{key:"_setClasses",value:function(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}},{key:"_setOriginForCurrentEventQueue",value:function(t){var e=this;this._ngZone.runOutsideAngular((function(){e._origin=t,0===e._detectionMode&&(e._originTimeoutId=setTimeout((function(){return e._origin=null}),1))}))}},{key:"_wasCausedByTouch",value:function(t){var e=Qu(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}},{key:"_onFocus",value:function(t,e){var n=this._elementInfo.get(e);if(n&&(n.checkChildren||e===Qu(t))){var r=this._getFocusOrigin(t);this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}}},{key:"_onBlur",value:function(t,e){var n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}},{key:"_emitOrigin",value:function(t,e){this._ngZone.run((function(){return t.next(e)}))}},{key:"_registerGlobalListeners",value:function(t){var e=this;if(this._platform.isBrowser){var n=t.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular((function(){n.addEventListener("focus",e._rootNodeFocusAndBlurListener,Gu),n.addEventListener("blur",e._rootNodeFocusAndBlurListener,Gu)})),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular((function(){var t=e._getDocument(),n=e._getWindow();t.addEventListener("keydown",e._documentKeydownListener,Gu),t.addEventListener("mousedown",e._documentMousedownListener,Gu),t.addEventListener("touchstart",e._documentTouchstartListener,Gu),n.addEventListener("focus",e._windowFocusListener)}))}}},{key:"_removeGlobalListeners",value:function(t){var e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){var n=this._rootNodeFocusListenerCount.get(e);n>1?this._rootNodeFocusListenerCount.set(e,n-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Gu),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Gu),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){var r=this._getDocument(),i=this._getWindow();r.removeEventListener("keydown",this._documentKeydownListener,Gu),r.removeEventListener("mousedown",this._documentMousedownListener,Gu),r.removeEventListener("touchstart",this._documentTouchstartListener,Gu),i.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}]),t}()).\u0275fac=function(t){return new(t||Hu)(r.Wb(r.z),r.Wb(fs),r.Wb(u,8),r.Wb(Wu,8))},Hu.\u0275prov=Object(r.Jb)({factory:function(){return new Hu(Object(r.Wb)(r.z),Object(r.Wb)(fs),Object(r.Wb)(u,8),Object(r.Wb)(Wu,8))},token:Hu,providedIn:"root"}),Hu);function Qu(t){return t.composedPath?t.composedPath()[0]:t.target}var Yu,Zu=((Yu=function(){function t(e,n){_classCallCheck(this,t),this._platform=e,this._document=n}return _createClass(t,[{key:"getHighContrastMode",value:function(){if(!this._platform.isBrowser)return 0;var t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);var e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}},{key:"_applyBodyHighContrastModeCssClasses",value:function(){if(this._platform.isBrowser&&this._document.body){var t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");var e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}]),t}()).\u0275fac=function(t){return new(t||Yu)(r.Wb(fs),r.Wb(u))},Yu.\u0275prov=Object(r.Jb)({factory:function(){return new Yu(Object(r.Wb)(fs),Object(r.Wb)(u))},token:Yu,providedIn:"root"}),Yu),Ju=new r.O("9.2.4"),Xu=function t(){_classCallCheck(this,t)};function $u(t,e){return{type:7,name:t,definitions:e,options:{}}}function tc(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:e,timings:t}}function ec(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function nc(t){return{type:6,styles:t,offset:null}}function rc(t,e,n){return{type:0,name:t,styles:e,options:n}}function ic(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:t,animation:e,options:n}}function oc(t){Promise.resolve(null).then(t)}var ac=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+n}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;oc((function(){return t._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}(),sc=function(){function t(e){var n=this;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var r=0,i=0,o=0,a=this.players.length;0==a?oc((function(){return n._onFinish()})):this.players.forEach((function(t){t.onDone((function(){++r==a&&n._onFinish()})),t.onDestroy((function(){++i==a&&n._onDestroy()})),t.onStart((function(){++o==a&&n._onStart()}))})),this.totalTime=this.players.reduce((function(t,e){return Math.max(t,e.totalTime)}),0)}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(t){return t.init()}))}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(t){return t.play()}))}},{key:"pause",value:function(){this.players.forEach((function(t){return t.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(t){return t.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(t){return t.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(t){return t.destroy()})),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(t){return t.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach((function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)}))}},{key:"getPosition",value:function(){var t=0;return this.players.forEach((function(e){var n=e.getPosition();t=Math.min(n,t)})),t}},{key:"beforeDestroy",value:function(){this.players.forEach((function(t){t.beforeDestroy&&t.beforeDestroy()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}();function uc(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function cc(t){switch(t.length){case 0:return new ac;case 1:return t[0];default:return new sc(t)}}function lc(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],u=-1,c=null;if(r.forEach((function(t){var n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach((function(n){var r=n,s=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,a),s){case"!":s=i[n];break;case"*":s=o[n];break;default:s=e.normalizeStyleValue(n,r,s,a)}l[r]=s})),r||s.push(l),c=l,u=n})),a.length){var l="\n - ";throw new Error("Unable to animate due to the following errors:".concat(l).concat(a.join(l)))}return s}function hc(t,e,n,r){switch(e){case"start":t.onStart((function(){return r(n&&fc(n,"start",t))}));break;case"done":t.onDone((function(){return r(n&&fc(n,"done",t))}));break;case"destroy":t.onDestroy((function(){return r(n&&fc(n,"destroy",t))}))}}function fc(t,e,n){var r=n.totalTime,i=dc(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function dc(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function pc(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function vc(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var yc=function(t,e){return!1},mc=function(t,e){return!1},gc=function(t,e,n){return[]},_c=uc();(_c||"undefined"!=typeof Element)&&(yc=function(t,e){return t.contains(e)},mc=function(){if(_c||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:mc}(),gc=function(t,e,n){var r=[];if(n)r.push.apply(r,_toConsumableArray(t.querySelectorAll(e)));else{var i=t.querySelector(e);i&&r.push(i)}return r});var bc=null,wc=!1;function kc(t){bc||(bc=("undefined"!=typeof document?document.body:null)||{},wc=!!bc.style&&"WebkitAppearance"in bc.style);var e=!0;return bc.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in bc.style)&&wc)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in bc.style),e}var Cc=mc,Ec=yc,Sc=gc;function Oc(t){var e={};return Object.keys(t).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]})),e}var Ic,Tc=((Ic=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return kc(t)}},{key:"matchesElement",value:function(t,e){return Cc(t,e)}},{key:"containsElement",value:function(t,e){return Ec(t,e)}},{key:"query",value:function(t,e,n){return Sc(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,r,i){return arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6],new ac(n,r)}}]),t}()).\u0275fac=function(t){return new(t||Ic)},Ic.\u0275prov=r.Jb({token:Ic,factory:Ic.\u0275fac}),Ic),xc=function(){var t=function t(){_classCallCheck(this,t)};return t.NOOP=new Tc,t}();function Ac(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Pc(parseFloat(e[1]),e[2])}function Pc(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Dc(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};r=Pc(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=Pc(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else r=t;if(!n){var c=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&e.splice(l,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(t,e,n)}function Rc(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}function Nc(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var r in t)n[r]=t[r];else Rc(t,n);return n}function jc(t,e,n){return n?e+":"+n+";":""}function Mc(t){for(var e="",n=0;n<t.style.length;n++){var r=t.style.item(n);e+=jc(0,r,t.style.getPropertyValue(r))}for(var i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(e+=jc(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[i]));t.setAttribute("style",e)}function Lc(t,e,n){t.style&&(Object.keys(e).forEach((function(r){var i=Wc(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]})),uc()&&Mc(t))}function Fc(t,e){t.style&&(Object.keys(e).forEach((function(e){var n=Wc(e);t.style[n]=""})),uc()&&Mc(t))}function Vc(t){return Array.isArray(t)?1==t.length?t[0]:ec(t):t}var Uc=new RegExp("{{\\s*(.+?)\\s*}}","g");function qc(t){var e=[];if("string"==typeof t){for(var n;n=Uc.exec(t);)e.push(n[1]);Uc.lastIndex=0}return e}function Bc(t,e,n){var r=t.toString(),i=r.replace(Uc,(function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()}));return i==r?t:i}function zc(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var Hc=/-+([a-z0-9])/g;function Wc(t){return t.replace(Hc,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()}))}function Gc(t,e){return 0===t||0===e}function Kc(t,e,n){var r=Object.keys(n);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach((function(t){i.hasOwnProperty(t)||o.push(t),i[t]=n[t]})),o.length)for(var a=function(){var n=e[s];o.forEach((function(e){n[e]=Yc(t,e)}))},s=1;s<e.length;s++)a()}return e}function Qc(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function Yc(t,e){return window.getComputedStyle(t)[e]}var Zc=new Set(["true","1"]),Jc=new Set(["false","0"]);function Xc(t,e){var n=Zc.has(t)||Jc.has(t),r=Zc.has(e)||Jc.has(e);return function(i,o){var a="*"==t||t==i,s="*"==e||e==o;return!a&&n&&"boolean"==typeof i&&(a=i?Zc.has(t):Jc.has(t)),!s&&r&&"boolean"==typeof o&&(s=o?Zc.has(e):Jc.has(e)),a&&s}}var $c=new RegExp("s*:selfs*,?","g");function tl(t,e,n){return new el(t).build(e,n)}var el=function(){function t(e){_classCallCheck(this,t),this._driver=e}return _createClass(t,[{key:"build",value:function(t,e){var n=new nl(e);return this._resetContextStyleTimingState(n),Qc(this,Vc(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach((function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,u=s.name;u.toString().split(/\s*,\s*/).forEach((function(t){s.name=t,o.push(n.visitState(s,e))})),s.name=u}else if(1==t.type){var c=n.visitTransition(t,e);r+=c.queryCount,i+=c.depCount,a.push(c)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:t.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(t){if(rl(t)){var e=t;Object.keys(e).forEach((function(t){qc(e[t]).forEach((function(t){o.hasOwnProperty(t)||i.add(t)}))}))}})),i.size){var a=zc(i.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=Qc(this,Vc(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var o=i[1],a=i[2],s=i[3];e.push(Xc(o,s)),"<"!=a[0]||"*"==o&&"*"==s||e.push(Xc(s,o))}(t,i,r)})):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:il(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map((function(t){return Qc(n,t,e)})),options:il(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map((function(t){e.currentTime=r;var o=Qc(n,t,e);return i=Math.max(i,e.currentTime),o}));return e.currentTime=i,{type:3,steps:o,options:il(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return ol(Dc(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some((function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)}))){var i=ol(0,0,"");return i.dynamic=!0,i.strValue=r,i}return ol((n=n||Dc(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var i=t.styles?t.styles:nc({});if(5==i.type)n=this.visitKeyframes(i,e);else{var o=t.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=nc(s)}e.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,e);u.isEmptyStep=a,n=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach((function(t){"string"==typeof t?"*"==t?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)})):n.push(t.styles);var r=!1,i=null;return n.forEach((function(t){if(rl(t)){var e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(var o in e)if(e[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach((function(t){"string"!=typeof t&&Object.keys(t).forEach((function(r){if(n._driver.validateStyleProperty(r)){var a,s,u,c,l,h=e.collectedStyles[e.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(e.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),e.options&&(a=t[r],s=e.options,u=e.errors,c=s.params||{},(l=qc(a)).length&&l.forEach((function(t){c.hasOwnProperty(t)||u.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))})))}else e.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,c=t.steps.map((function(t){var r=n._makeStyleAst(t,e),c=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach((function(t){if(rl(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}}));else if(rl(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),s=s||l<0||l>1,a=a||l<u,u=l,o.push(l),r}));s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var l=t.steps.length,h=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=e.currentTime,p=e.currentAnimateTimings,v=p.duration;return c.forEach((function(t,i){var a=h>0?i==f?1:h*i:o[i],s=a*v;e.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(t,e),t.offset=a,r.styles.push(t)})),r}},{key:"visitReference",value:function(t,e){return{type:8,animation:Qc(this,Vc(t.animation),e),options:il(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:il(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:il(t.options)}}},{key:"visitQuery",value:function(t,e){var n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;var i=_slicedToArray(function(t){var e=!!t.split(/\s*,\s*/).find((function(t){return":self"==t}));return e&&(t=t.replace($c,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(t){return".ng-trigger-"+t.substr(1)})).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),o=i[0],a=i[1];e.currentQuerySelector=n.length?n+" "+o:o,pc(e.collectedStyles,e.currentQuerySelector,{});var s=Qc(this,Vc(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:t.selector,options:il(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Dc(t.timings,e.errors,!0);return{type:12,animation:Qc(this,Vc(t.animation),e),timings:n,options:null}}}]),t}(),nl=function t(e){_classCallCheck(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function rl(t){return!Array.isArray(t)&&"object"==typeof t}function il(t){var e;return t?(t=Rc(t)).params&&(t.params=(e=t.params)?Rc(e):null):t={},t}function ol(t,e,n){return{duration:t,delay:e,easing:n}}function al(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var sl=function(){function t(){_classCallCheck(this,t),this._map=new Map}return _createClass(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,r=this._map.get(t);r||this._map.set(t,r=[]),(n=r).push.apply(n,_toConsumableArray(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),ul=new RegExp(":enter","g"),cl=new RegExp(":leave","g");function ll(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new hl).buildKeyframes(t,e,n,r,i,o,a,s,u,c)}var hl=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"buildKeyframes",value:function(t,e,n,r,i,o,a,s,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new sl;var l=new dl(t,e,u,r,i,c,[]);l.options=s,l.currentTimeline.setStyles([o],null,l.errors,s),Qc(this,n,l);var h=l.timelines.filter((function(t){return t.containsAnimation()}));if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,l.errors,s)}return h.length?h.map((function(t){return t.buildKeyframes()})):[al(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?Ac(n.duration):null,o=null!=n.delay?Ac(n.delay):null;return 0!==i&&t.forEach((function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),Qc(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=fl);var a=Ac(o.delay);i.delayNextStep(a)}t.steps.length&&(t.steps.forEach((function(t){return Qc(n,t,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Ac(t.options.delay):0;t.steps.forEach((function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),Qc(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)})),r.forEach((function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)})),e.transformIntoNewTimeline(i),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return Dc(e.params?Bc(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach((function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()})),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?Ac(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=fl);var a=r,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;var u=null;s.forEach((function(r,i){e.currentQueryIndex=i;var s=e.createSubContext(t.options,r);o&&s.delayNextStep(o),r===e.element&&(u=s.currentTimeline),Qc(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)})),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),a=o*(e.currentQueryTotal-1),s=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=e.currentTimeline;s&&u.delayNextStep(s);var c=u.currentTime;Qc(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),t}(),fl={},dl=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=fl,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new pl(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(t,[{key:"updateOptions",value:function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=Ac(r.duration)),null!=r.delay&&(i.delay=Ac(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach((function(t){e&&a.hasOwnProperty(t)||(a[t]=Bc(o[t],a,n.errors))}))}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach((function(t){n[t]=e[t]}))}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=fl,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new vl(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,r,i,o){var a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(ul,"."+this._enterClassName)).replace(cl,"."+this._leaveClassName);var s=this._driver.query(this.element,t,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,_toConsumableArray(s))}return i||0!=a.length||o.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),a}},{key:"params",get:function(){return this.options.params}}]),t}(),pl=function(){function t(e,n,r,i){_classCallCheck(this,t),this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach((function(t){e._backFill[t]=e._globalTimelineStyles[t]||"*",e._currentKeyframe[t]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,r){var i=this;e&&(this._previousKeyframe.easing=e);var o=r&&r.params||{},a=function(t,e){var n,r={};return t.forEach((function(t){"*"===t?(n=n||Object.keys(e)).forEach((function(t){r[t]="*"})):Nc(t,!1,r)})),r}(t,this._globalTimelineStyles);Object.keys(a).forEach((function(t){var e=Bc(a[t],o,n);i._pendingStyles[t]=e,i._localTimelineStyles.hasOwnProperty(t)||(i._backFill[t]=i._globalTimelineStyles.hasOwnProperty(t)?i._globalTimelineStyles[t]:"*"),i._updateStyle(t,e)}))}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){t._currentKeyframe[n]=e[n]})),Object.keys(this._localTimelineStyles).forEach((function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])})))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach((function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach((function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(o,a){var s=Nc(o,!0);Object.keys(s).forEach((function(t){var r=s[t];"!"==r?e.add(t):"*"==r&&n.add(t)})),r||(s.offset=a/t.duration),i.push(s)}));var o=e.size?zc(e.values()):[],a=n.size?zc(n.values()):[];if(r){var s=i[0],u=Rc(s);s.offset=0,u.offset=1,i=[s,u]}return al(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}}]),t}(),vl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a,s){var u,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(u=e.call(this,t,r,s.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=a,u._stretchStartingKeyframe=c,u.timings={duration:s.duration,delay:s.delay,easing:s.easing},u}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=Nc(t[0],!1);u.offset=0,o.push(u);var c=Nc(t[0],!1);c.offset=yl(s),o.push(c);for(var l=t.length-1,h=1;h<=l;h++){var f=Nc(t[h],!1);f.offset=yl((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",t=o}return al(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(pl);function yl(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var ml=function t(){_classCallCheck(this,t)},gl=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(t,e){return Wc(t)}},{key:"normalizeStyleValue",value:function(t,e,n,r){var i="",o=n.toString().trim();if(_l[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+i}}]),n}(ml),_l=function(t){var e={};return t.forEach((function(t){return e[t]=!0})),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function bl(t,e,n,r,i,o,a,s,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var wl={},kl=function(){function t(e,n,r){_classCallCheck(this,t),this._triggerName=e,this.ast=n,this._stateStyles=r}return _createClass(t,[{key:"match",value:function(t,e,n,r){return function(t,e,n,r,i){return t.some((function(t){return t(e,n,r,i)}))}(this.ast.matchers,t,e,n,r)}},{key:"buildStyles",value:function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}},{key:"build",value:function(t,e,n,r,i,o,a,s,u,c){var l=[],h=this.ast.options&&this.ast.options.params||wl,f=this.buildStyles(n,a&&a.params||wl,l),d=s&&s.params||wl,p=this.buildStyles(r,d,l),v=new Set,y=new Map,m=new Map,g="void"===r,_={params:Object.assign(Object.assign({},h),d)},b=c?[]:ll(t,e,this.ast.animation,i,o,f,p,_,u,l),w=0;if(b.forEach((function(t){w=Math.max(t.duration+t.delay,w)})),l.length)return bl(e,this._triggerName,n,r,g,f,p,[],[],y,m,w,l);b.forEach((function(t){var n=t.element,r=pc(y,n,{});t.preStyleProps.forEach((function(t){return r[t]=!0}));var i=pc(m,n,{});t.postStyleProps.forEach((function(t){return i[t]=!0})),n!==e&&v.add(n)}));var k=zc(v.values());return bl(e,this._triggerName,n,r,g,f,p,b,k,y,m,w)}}]),t}(),Cl=function(){function t(e,n){_classCallCheck(this,t),this.styles=e,this.defaultParams=n}return _createClass(t,[{key:"buildStyles",value:function(t,e){var n={},r=Rc(this.defaultParams);return Object.keys(t).forEach((function(e){var n=t[e];null!=n&&(r[e]=n)})),this.styles.styles.forEach((function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach((function(t){var o=i[t];o.length>1&&(o=Bc(o,r,e)),n[t]=o}))}})),n}}]),t}(),El=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(t){r.states[t.name]=new Cl(t.style,t.options&&t.options.params||{})})),Sl(this.states,"true","1"),Sl(this.states,"false","0"),n.transitions.forEach((function(t){r.transitionFactories.push(new kl(e,t,r.states))})),this.fallbackTransition=new kl(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(t,[{key:"matchTransition",value:function(t,e,n,r){return this.transitionFactories.find((function(i){return i.match(t,e,n,r)}))||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),t}();function Sl(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var Ol=new sl,Il=function(){function t(e,n,r){_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass(t,[{key:"register",value:function(t,e){var n=[],r=tl(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}},{key:"_buildPlayer",value:function(t,e,n){var r=t.element,i=lc(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[t],s=new Map;if(a?(n=ll(this._driver,e,a,"ng-enter","ng-leave",{},{},i,Ol,o)).forEach((function(t){var e=pc(s,t.element,{});t.postStyleProps.forEach((function(t){return e[t]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));s.forEach((function(t,e){Object.keys(t).forEach((function(n){t[n]=r._driver.computeStyle(e,n,"*")}))}));var u=cc(n.map((function(t){var e=s.get(t.element);return r._buildPlayer(t,{},e)})));return this._playersById[t]=u,u.onDestroy((function(){return r.destroy(t)})),this.players.push(u),u}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}},{key:"listen",value:function(t,e,n,r){var i=dc(e,"","","");return hc(this._getPlayer(t),n,i,r),function(){}}},{key:"command",value:function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])}}]),t}(),Tl=[],xl={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Al={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Pl=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,t),this.namespaceId=n;var r,i=e&&e.hasOwnProperty("value");if(this.value=null!=(r=i?e.value:e)?r:null,i){var o=Rc(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(t,[{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach((function(t){null==n[t]&&(n[t]=e[t])}))}}},{key:"params",get:function(){return this.options.params}}]),t}(),Dl=new Pl("void"),Rl=function(){function t(e,n,r){_classCallCheck(this,t),this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ul(n,this._hostClassName)}return _createClass(t,[{key:"listen",value:function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var a=pc(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};a.push(s);var u=pc(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(Ul(t,"ng-trigger"),Ul(t,"ng-trigger-"+e),u[e]=Dl),function(){o._engine.afterFlush((function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o._triggers[e]||delete u[e]}))}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(e),a=new jl(this.id,e,t),s=this._engine.statesByElement.get(t);s||(Ul(t,"ng-trigger"),Ul(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var u=s[e],c=new Pl(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),s[e]=c,u||(u=Dl),"void"===c.value||u.value!==c.value){var l=pc(this._engine.playersByElement,t,[]);l.forEach((function(t){t.namespaceId==r.id&&t.triggerName==e&&t.queued&&t.destroy()}));var h=o.matchTransition(u.value,c.value,t,c.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:u,toState:c,player:a,isFallbackTransition:f}),f||(Ul(t,"ng-animate-queued"),a.onStart((function(){ql(t,"ng-animate-queued")}))),a.onDone((function(){var e=r.players.indexOf(a);e>=0&&r.players.splice(e,1);var n=r._engine.playersByElement.get(t);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}})),this.players.push(a),l.push(a),a}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,c.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(c.value,c.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush((function(){Fc(t,p),Lc(t,v)}))}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach((function(e,n){delete e[t]})),this._elementListeners.forEach((function(n,r){e._elementListeners.set(r,n.filter((function(e){return e.name!=t})))}))}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach((function(t){return t.destroy()})),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this,r=this._engine.driver.query(t,".ng-trigger",!0);r.forEach((function(t){if(!t.__ng_removed){var r=n._engine.fetchNamespacesByElement(t);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(t,e,!1,!0)})):n.clearElementCache(t)}})),this._engine.afterFlushAnimationsDone((function(){return r.forEach((function(t){return n.clearElementCache(t)}))}))}},{key:"triggerLeaveAnimation",value:function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach((function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&a.push(n)}})),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&cc(a).onDone((function(){return i._engine.processLeaveNode(t)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=e._triggers[i].fallbackTransition,a=e._engine.statesByElement.get(t)[i]||Dl,s=new Pl("void"),u=new jl(e.id,i,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:i,transition:o,fromState:a,toState:s,player:u,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var a=t;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{var s=t.__ng_removed;s&&s!==xl||(r.afterFlush((function(){return n.clearElementCache(t)})),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}}},{key:"insertNode",value:function(t,e){Ul(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=e._elementListeners.get(o);a&&a.forEach((function(e){if(e.name==r.triggerName){var n=dc(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,hc(r.player,e.phase,n,e.callback)}})),i.markedForDestroy?e._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1}))}},{key:"destroy",value:function(t){this.players.forEach((function(t){return t.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find((function(e){return e.element===t}))||e}}]),t}(),Nl=function(){function t(e,n,r){_classCallCheck(this,t),this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return _createClass(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"createNamespace",value:function(t,e){var n=new Rl(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(e)}))}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e}},{key:"trigger",value:function(t,e,n,r){if(Ml(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}},{key:"insertNode",value:function(t,e,n,r){if(Ml(e)){var i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}r&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ul(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ql(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,r){if(Ml(e)){var i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}},{key:"markElementAsRemoved",value:function(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,r,i){return Ml(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}}},{key:"_buildInstruction",value:function(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach((function(t){return e.destroyActiveAnimationsForElement(t)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach((function(t){return e.finishActiveQueriedAnimationOnElement(t)}))}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach((function(t){t.queued?t.markedForDestroy=!0:t.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach((function(t){return t.finish()}))}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise((function(e){if(t.players.length)return cc(t.players).onDone((function(){return e()}));e()}))}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=xl,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach((function(t){e.markElementAsDisabled(t,!1)}))}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(e,n){return t._balanceNamespaceList(e,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)Ul(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,e)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(t){return t()})),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?cc(n).onDone((function(){s.forEach((function(t){return t()}))})):s.forEach((function(t){return t()}))}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}},{key:"_flushAnimations",value:function(t,e){var n=this,r=new sl,i=[],o=new Map,a=[],s=new Map,u=new Map,c=new Map,l=new Set;this.disabledNodes.forEach((function(t){l.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),r=0;r<e.length;r++)l.add(e[r])}));var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=Vl(f,this.collectedEnterElements),p=new Map,v=0;d.forEach((function(t,e){var n="ng-enter"+v++;p.set(e,n),t.forEach((function(t){return Ul(t,n)}))}));for(var y=[],m=new Set,g=new Set,_=0;_<this.collectedLeaveElements.length;_++){var b=this.collectedLeaveElements[_],w=b.__ng_removed;w&&w.setForRemoval&&(y.push(b),m.add(b),w.hasAnimation?this.driver.query(b,".ng-star-inserted",!0).forEach((function(t){return m.add(t)})):g.add(b))}var k=new Map,C=Vl(f,Array.from(m));C.forEach((function(t,e){var n="ng-leave"+v++;k.set(e,n),t.forEach((function(t){return Ul(t,n)}))})),t.push((function(){d.forEach((function(t,e){var n=p.get(e);t.forEach((function(t){return ql(t,n)}))})),C.forEach((function(t,e){var n=k.get(e);t.forEach((function(t){return ql(t,n)}))})),y.forEach((function(t){n.processLeaveNode(t)}))}));for(var E=[],S=[],O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach((function(t){var e=t.player,o=t.element;if(E.push(e),n.collectedEnterElements.length){var l=o.__ng_removed;if(l&&l.setForMove)return void e.destroy()}var f=!h||!n.driver.containsElement(h,o),d=k.get(o),v=p.get(o),y=n._buildInstruction(t,r,v,d,f);if(y.errors&&y.errors.length)S.push(y);else{if(f)return e.onStart((function(){return Fc(o,y.fromStyles)})),e.onDestroy((function(){return Lc(o,y.toStyles)})),void i.push(e);if(t.isFallbackTransition)return e.onStart((function(){return Fc(o,y.fromStyles)})),e.onDestroy((function(){return Lc(o,y.toStyles)})),void i.push(e);y.timelines.forEach((function(t){return t.stretchStartingKeyframe=!0})),r.append(o,y.timelines),a.push({instruction:y,player:e,element:o}),y.queriedElements.forEach((function(t){return pc(s,t,[]).push(e)})),y.preStyleProps.forEach((function(t,e){var n=Object.keys(t);if(n.length){var r=u.get(e);r||u.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}})),y.postStyleProps.forEach((function(t,e){var n=Object.keys(t),r=c.get(e);r||c.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}))}}));if(S.length){var I=[];S.forEach((function(t){I.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach((function(t){return I.push("- ".concat(t,"\n"))}))})),E.forEach((function(t){return t.destroy()})),this.reportError(I)}var T=new Map,x=new Map;a.forEach((function(t){var e=t.element;r.has(e)&&(x.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,T))})),i.forEach((function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach((function(t){pc(T,e,[]).push(t),t.destroy()}))}));var A=y.filter((function(t){return zl(t,u,c)})),P=new Map;Fl(P,this.driver,g,c,"*").forEach((function(t){zl(t,u,c)&&A.push(t)}));var D=new Map;d.forEach((function(t,e){Fl(D,n.driver,new Set(t),u,"!")})),A.forEach((function(t){var e=P.get(t),n=D.get(t);P.set(t,Object.assign(Object.assign({},e),n))}));var R=[],N=[],j={};a.forEach((function(t){var e=t.element,a=t.player,s=t.instruction;if(r.has(e)){if(l.has(e))return a.onDestroy((function(){return Lc(e,s.toStyles)})),a.disabled=!0,a.overrideTotalTime(s.totalTime),void i.push(a);var u=j;if(x.size>1){for(var c=e,h=[];c=c.parentNode;){var f=x.get(c);if(f){u=f;break}h.push(c)}h.forEach((function(t){return x.set(t,u)}))}var d=n._buildAnimation(a.namespaceId,s,T,o,D,P);if(a.setRealPlayer(d),u===j)R.push(a);else{var p=n.playersByElement.get(u);p&&p.length&&(a.parentPlayer=cc(p)),i.push(a)}}else Fc(e,s.fromStyles),a.onDestroy((function(){return Lc(e,s.toStyles)})),N.push(a),l.has(e)&&i.push(a)})),N.forEach((function(t){var e=o.get(t.element);if(e&&e.length){var n=cc(e);t.setRealPlayer(n)}})),i.forEach((function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()}));for(var M=0;M<y.length;M++){var L=y[M],F=L.__ng_removed;if(ql(L,"ng-leave"),!F||!F.hasAnimation){var V=[];if(s.size){var U=s.get(L);U&&U.length&&V.push.apply(V,_toConsumableArray(U));for(var q=this.driver.query(L,".ng-animating",!0),B=0;B<q.length;B++){var z=s.get(q[B]);z&&z.length&&V.push.apply(V,_toConsumableArray(z))}}var H=V.filter((function(t){return!t.destroyed}));H.length?Bl(this,L,H):this.processLeaveNode(L)}}return y.length=0,R.forEach((function(t){n.players.push(t),t.onDone((function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)})),t.play()})),R}},{key:"elementContainsData",value:function(t,e){var n=!1,r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,r,i){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var u=!i||"void"==i;s.forEach((function(t){t.queued||(u||t.triggerName==r)&&o.push(t)}))}}return(n||r)&&(o=o.filter((function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(t,e,n){var r,i=this,o=e.element,a=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName,u=_createForOfIteratorHelper(e.timelines);try{var c=function(){var t=r.value.element,u=t!==o,c=pc(n,t,[]);i._getPreviousPlayers(t,u,a,s,e.toState).forEach((function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)}))};for(u.s();!(r=u.n()).done;)c()}catch(l){u.e(l)}finally{u.f()}Fc(o,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,r,i,o){var a=this,s=e.triggerName,u=e.element,c=[],l=new Set,h=new Set,f=e.timelines.map((function(e){var f=e.element;l.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new ac(e.duration,e.delay);var p,v,y=f!==u,m=(p=(n.get(f)||Tl).map((function(t){return t.getRealPlayer()})),v=[],function t(e,n){for(var r=0;r<e.length;r++){var i=e[r];i instanceof sc?t(i.players,n):n.push(i)}}(p,v),v).filter((function(t){return!!t.element&&t.element===f})),g=i.get(f),_=o.get(f),b=lc(0,a._normalizer,0,e.keyframes,g,_),w=a._buildPlayer(e,b,m);if(e.subTimeline&&r&&h.add(f),y){var k=new jl(t,s,f);k.setRealPlayer(w),c.push(k)}return w}));c.forEach((function(t){pc(a.playersByQueriedElement,t.element,[]).push(t),t.onDone((function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete t[e]}return r}(a.playersByQueriedElement,t.element,t)}))})),l.forEach((function(t){return Ul(t,"ng-animating")}));var d=cc(f);return d.onDestroy((function(){l.forEach((function(t){return ql(t,"ng-animating")})),Lc(u,e.toStyles)})),h.forEach((function(t){pc(r,t,[]).push(d)})),d}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new ac(t.duration,t.delay)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach((function(e){e.players.forEach((function(e){e.queued&&t.push(e)}))})),t}}]),t}(),jl=function(){function t(e,n,r){_classCallCheck(this,t),this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new ac,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach((function(n){e._queuedCallbacks[n].forEach((function(e){return hc(t,n,void 0,e)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart((function(){return n.triggerCallback("start")})),t.onDone((function(){return e.finish()})),t.onDestroy((function(){return e.destroy()}))}},{key:"_queueEvent",value:function(t,e){pc(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function Ml(t){return t&&1===t.nodeType}function Ll(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function Fl(t,e,n,r,i){var o=[];n.forEach((function(t){return o.push(Ll(t))}));var a=[];r.forEach((function(n,r){var o={};n.forEach((function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Al,a.push(r))})),t.set(r,o)}));var s=0;return n.forEach((function(t){return Ll(t,o[s++])})),a}function Vl(t,e){var n=new Map;if(t.forEach((function(t){return n.set(t,[])})),0==e.length)return n;var r=new Set(e),i=new Map;return e.forEach((function(t){var e=function t(e){if(!e)return 1;var o=i.get(e);if(o)return o;var a=e.parentNode;return o=n.has(a)?a:r.has(a)?1:t(a),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)})),n}function Ul(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function ql(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function Bl(t,e,n){cc(n).onDone((function(){return t.processLeaveNode(e)}))}function zl(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach((function(t){return i.add(t)})):e.set(t,r),n.delete(t),!0}var Hl=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new Nl(e,n,r),this._timelineEngine=new Il(e,n,r),this._transitionEngine.onRemovalComplete=function(t,e){return i.onRemovalComplete(t,e)}}return _createClass(t,[{key:"registerTrigger",value:function(t,e,n,r,i){var o=t+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=tl(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(t,e){return new El(t,e)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}},{key:"onRemove",value:function(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,e,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(vc(n),2),o=i[0],a=i[1];this._timelineEngine.command(o,e,a,r)}else this._transitionEngine.trigger(t,e,n,r)}},{key:"listen",value:function(t,e,n,r,i){if("@"==n.charAt(0)){var o=_slicedToArray(vc(n),2),a=o[0],s=o[1];return this._timelineEngine.listen(a,e,s,i)}return this._transitionEngine.listen(t,e,n,r,i)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),t}();function Wl(t,e){var n=null,r=null;return Array.isArray(e)&&e.length?(n=Kl(e[0]),e.length>1&&(r=Kl(e[e.length-1]))):e&&(n=Kl(e)),n||r?new Gl(t,n,r):null}var Gl=function(){var t=function(){function t(e,n,r){_classCallCheck(this,t),this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;var i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}return _createClass(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&Lc(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(Lc(this._element,this._initialStyles),this._endStyles&&(Lc(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Fc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fc(this._element,this._endStyles),this._endStyles=null),Lc(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function Kl(t){for(var e=null,n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];Ql(i)&&((e=e||{})[i]=t[i])}return e}function Ql(t){return"display"===t||"position"===t}var Yl=function(){function t(e,n,r,i,o,a,s){var u=this;_classCallCheck(this,t),this._element=e,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return u._handleCallback(t)}}return _createClass(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=eh(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),th(t,"",e),$l(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){Zl(this._element,this._name,"paused")}},{key:"resume",value:function(){Zl(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=Jl(this._element,this._name);this._position=t*this._duration,th(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),$l(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){var n=eh(t,"").split(","),r=Xl(n,e);r>=0&&(n.splice(r,1),th(t,"",n.join(",")))}(this._element,this._name))}}]),t}();function Zl(t,e,n){th(t,"PlayState",n,Jl(t,e))}function Jl(t,e){var n=eh(t,"");return n.indexOf(",")>0?Xl(n.split(","),e):Xl([n],e)}function Xl(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function $l(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function th(t,e,n,r){var i="animation"+e;if(null!=r){var o=t.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}t.style[i]=n}function eh(t,e){return t.style["animation"+e]}var nh=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+o,this._buildStyler()}return _createClass(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new Yl(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return t.finish()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(e[r]=n?t._finalStyles[r]:Yc(t.element,r))}))}this.currentSnapshot=e}}]),t}(),rh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).element=t,i._startingStyles={},i.__initialized=!1,i._styles=Oc(r),i}return _createClass(n,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(e){t._startingStyles[e]=t.element.style[e]})),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(e){return t.element.style.setProperty(e,t._styles[e])})),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)})),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(ac),ih=function(){function t(){_classCallCheck(this,t),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return kc(t)}},{key:"matchesElement",value:function(t,e){return Cc(t,e)}},{key:"containsElement",value:function(t,e){return Ec(t,e)}},{key:"query",value:function(t,e,n){return Sc(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map((function(t){return Oc(t)}));var r="@keyframes ".concat(e," {\n"),i="";n.forEach((function(t){i=" ";var e=parseFloat(t.offset);r+="".concat(i).concat(100*e,"% {\n"),i+=" ",Object.keys(t).forEach((function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(e,": ").concat(n,";\n"))}})),r+=i+"}\n"})),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;a&&this._notifyFaultyScrubber();var s=o.filter((function(t){return t instanceof nh})),u={};Gc(n,r)&&s.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var c=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach((function(t){Object.keys(t).forEach((function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])}))})),e}(e=Kc(t,e,u));if(0==n)return new rh(t,c);var l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);var f=Wl(t,e),d=new nh(t,e,l,n,r,i,c,f);return d.onDestroy((function(){var t;(t=h).parentNode.removeChild(t)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),t}(),oh=function(){function t(e,n,r,i){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return t._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:Yc(t.element,n))})),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),t}(),ah=function(){function t(){_classCallCheck(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(sh().toString()),this._cssKeyframesDriver=new ih}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return kc(t)}},{key:"matchesElement",value:function(t,e){return Cc(t,e)}},{key:"containsElement",value:function(t,e){return Ec(t,e)}},{key:"query",value:function(t,e,n){return Sc(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},c=o.filter((function(t){return t instanceof oh}));Gc(n,r)&&c.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var l=Wl(t,e=Kc(t,e=e.map((function(t){return Nc(t,!1)})),u));return new oh(t,e,s,l)}}]),t}();function sh(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var uh,ch=((uh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this))._nextAnimationId=0,o._renderer=t.createRenderer(i.body,{id:"0",encapsulation:r.Q.None,styles:[],data:{animation:[]}}),o}return _createClass(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?ec(t):t;return fh(this._renderer,null,e,"register",[n]),new lh(e,this._renderer)}}]),n}(Xu)).\u0275fac=function(t){return new(t||uh)(r.Wb(r.F),r.Wb(u))},uh.\u0275prov=r.Jb({token:uh,factory:uh.\u0275fac}),uh),lh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._id=t,i._renderer=r,i}return _createClass(n,[{key:"create",value:function(t,e){return new hh(this._id,t,e||{},this._renderer)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),hh=function(){function t(e,n,r,i){_classCallCheck(this,t),this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return fh(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){return 0}}]),t}();function fh(t,e,n,r,i){return t.setProperty(e,"@@".concat(n,":").concat(r),i)}var dh,ph,vh,yh,mh=((dh=function(){function t(e,n,r){_classCallCheck(this,t),this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return _createClass(t,[{key:"createRenderer",value:function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new gh("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,a=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,t),e.data.animation.forEach((function e(r){Array.isArray(r)?r.forEach(e):n.engine.registerTrigger(o,a,t,r.name,r)})),new _h(this,a,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then((function(){t._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(t,e,n){var r=this;t>=0&&t<this._microtaskId?this._zone.run((function(){return e(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(t){var e=_slicedToArray(t,2);(0,e[0])(e[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([e,n]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}()).\u0275fac=function(t){return new(t||dh)(r.Wb(r.F),r.Wb(Hl),r.Wb(r.z))},dh.\u0275prov=r.Jb({token:dh,factory:dh.\u0275fac}),dh),gh=function(){function t(e,n,r){_classCallCheck(this,t),this.namespaceId=e,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return _createClass(t,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,r){this.delegate.setStyle(t,e,n,r)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}},{key:"data",get:function(){return this.delegate.data}}]),t}(),_h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,r,i,o)).factory=t,a.namespaceId=r,a}return _createClass(n,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){var r,i,o=this;if("@"==e.charAt(0)){var a,s=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),u=e.substr(1),c="";return"@"!=u.charAt(0)&&(i=(r=u).indexOf("."),u=(a=_slicedToArray([r.substring(0,i),r.substr(i+1)],2))[0],c=a[1]),this.engine.listen(this.namespaceId,s,u,c,(function(t){o.factory.scheduleListenerCallback(t._data||-1,n,t)}))}return this.delegate.listen(t,e,n)}}]),n}(gh),bh=((ph=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){return _classCallCheck(this,n),e.call(this,t.body,r,i)}return n}(Hl)).\u0275fac=function(t){return new(t||ph)(r.Wb(u),r.Wb(xc),r.Wb(ml))},ph.\u0275prov=r.Jb({token:ph,factory:ph.\u0275fac}),ph),wh=new r.q("AnimationModuleType"),kh=[{provide:xc,useFactory:function(){return"function"==typeof sh()?new ah:new ih}},{provide:wh,useValue:"BrowserAnimations"},{provide:Xu,useClass:ch},{provide:ml,useFactory:function(){return new gl}},{provide:Hl,useClass:bh},{provide:r.F,useFactory:function(t,e,n){return new mh(t,e,n)},deps:[It,Hl,r.z]}],Ch=((vh=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:vh}),vh.\u0275inj=r.Kb({factory:function(t){return new(t||vh)},providers:kh,imports:[Ut]}),vh),Eh=new r.O("9.2.4"),Sh=new r.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),Oh=((yh=function(){function t(e,n,r){_classCallCheck(this,t),this._hasDoneGlobalChecks=!1,this._document=r,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=n,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return _createClass(t,[{key:"_getDocument",value:function(){var t=this._document||document;return"object"==typeof t&&t?t:null}},{key:"_getWindow",value:function(){var t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}},{key:"_checksAreEnabled",value:function(){return Object(r.W)()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var t=this._getWindow();return t&&(t.__karma__||t.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){var t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){var t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(!t&&e&&e.body&&"function"==typeof getComputedStyle){var n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);var r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}}},{key:"_checkCdkVersionMatch",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Eh.full!==Ju.full&&console.warn("The Angular Material version ("+Eh.full+") does not match the Angular CDK version ("+Ju.full+").\nPlease ensure the versions of these two packages exactly match.")}}]),t}()).\u0275mod=r.Lb({type:yh}),yh.\u0275inj=r.Kb({factory:function(t){return new(t||yh)(r.Wb(Zu),r.Wb(Sh,8),r.Wb(u,8))},imports:[[Os],Os]}),yh);function Ih(t){return function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i)))._disabled=!1,t}return _createClass(n,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Na(t)}}]),n}(t)}function Th(t,e){return function(t){_inherits(r,t);var n=_createSuper(r);function r(){var t;_classCallCheck(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o))).color=e,t}return _createClass(r,[{key:"color",get:function(){return this._color},set:function(t){var n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),n&&this._elementRef.nativeElement.classList.add("mat-"+n),this._color=n)}}]),r}(t)}function xh(t){return function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i)))._disableRipple=!1,t}return _createClass(n,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(t){this._disableRipple=Na(t)}}]),n}(t)}try{"undefined"!=typeof Intl}catch(ux){!1}var Ah,Ph,Dh,Rh=((Ah=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"isErrorState",value:function(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}]),t}()).\u0275fac=function(t){return new(t||Ah)},Ah.\u0275prov=Object(r.Jb)({factory:function(){return new Ah},token:Ah,providedIn:"root"}),Ah),Nh=function(){function t(e,n,r){_classCallCheck(this,t),this._renderer=e,this.element=n,this.config=r,this.state=3}return _createClass(t,[{key:"fadeOut",value:function(){this._renderer.fadeOutRipple(this)}}]),t}(),jh={enterDuration:450,exitDuration:400},Mh=ys({passive:!0}),Lh=["mousedown","touchstart"],Fh=["mouseup","mouseleave","touchend","touchcancel"],Vh=function(){function t(e,n,r,i){_classCallCheck(this,t),this._target=e,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Fa(r))}return _createClass(t,[{key:"fadeInRipple",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},jh),r.animation);r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);var a=r.radius||function(t,e,n){var r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),s=t-i.left,u=e-i.top,c=o.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=s-a+"px",l.style.top=u-a+"px",l.style.height=2*a+"px",l.style.width=2*a+"px",null!=r.color&&(l.style.backgroundColor=r.color),l.style.transitionDuration=c+"ms",this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";var h=new Nh(this,l,r);return h.state=0,this._activeRipples.add(h),r.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone((function(){var t=h===n._mostRecentTransientRipple;h.state=1,r.persistent||t&&n._isPointerDown||h.fadeOut()}),c),h}},{key:"fadeOutRipple",value:function(t){var e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),e){var n=t.element,r=Object.assign(Object.assign({},jh),t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone((function(){t.state=3,n.parentNode.removeChild(n)}),r.exitDuration)}}},{key:"fadeOutAll",value:function(){this._activeRipples.forEach((function(t){return t.fadeOut()}))}},{key:"setupTriggerEvents",value:function(t){var e=Fa(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Lh))}},{key:"handleEvent",value:function(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Fh),this._pointerUpEventsRegistered=!0)}},{key:"_onMousedown",value:function(t){var e=zu(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}},{key:"_onTouchStart",value:function(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;for(var e=t.changedTouches,n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}},{key:"_onPointerUp",value:function(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach((function(t){!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()})))}},{key:"_runTimeoutOutsideZone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ngZone.runOutsideAngular((function(){return setTimeout(t,e)}))}},{key:"_registerEvents",value:function(t){var e=this;this._ngZone.runOutsideAngular((function(){t.forEach((function(t){e._triggerElement.addEventListener(t,e,Mh)}))}))}},{key:"_removeTriggerEvents",value:function(){var t=this;this._triggerElement&&(Lh.forEach((function(e){t._triggerElement.removeEventListener(e,t,Mh)})),this._pointerUpEventsRegistered&&Fh.forEach((function(e){t._triggerElement.removeEventListener(e,t,Mh)})))}}]),t}(),Uh=new r.q("mat-ripple-global-options"),qh=((Dh=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new Vh(this,n,e,r)}return _createClass(t,[{key:"ngOnInit",value:function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}},{key:"ngOnDestroy",value:function(){this._rippleRenderer._removeTriggerEvents()}},{key:"fadeOutAll",value:function(){this._rippleRenderer.fadeOutAll()}},{key:"_setupTriggerEventsIfEnabled",value:function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}},{key:"launch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}},{key:"trigger",get:function(){return this._trigger||this._elementRef.nativeElement},set:function(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}},{key:"rippleConfig",get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}},{key:"rippleDisabled",get:function(){return this.disabled||!!this._globalOptions.disabled}}]),t}()).\u0275fac=function(t){return new(t||Dh)(r.Nb(r.l),r.Nb(r.z),r.Nb(fs),r.Nb(Uh,8),r.Nb(wh,8))},Dh.\u0275dir=r.Ib({type:Dh,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Eb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),Dh),Bh=((Ph=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:Ph}),Ph.\u0275inj=r.Kb({factory:function(t){return new(t||Ph)},imports:[[Oh,ds],Oh]}),Ph),zh=new r.q("mat-label-global-options");function Hh(t,e){}var Wh=function t(){_classCallCheck(this,t),this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0},Gh={dialogContainer:$u("dialogContainer",[rc("void, exit",nc({opacity:0,transform:"scale(0.7)"})),rc("enter",nc({transform:"none"})),ic("* => enter",tc("150ms cubic-bezier(0, 0, 0.2, 1)",nc({transform:"none",opacity:1}))),ic("* => void, * => exit",tc("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",nc({opacity:0})))])};function Kh(){throw Error("Attempting to attach dialog content after content is already attached")}var Qh,Yh,Zh,Jh,Xh,$h,tf=((Qh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a,s){var u;return _classCallCheck(this,n),(u=e.call(this))._elementRef=t,u._focusTrapFactory=i,u._changeDetectorRef=o,u._config=s,u._elementFocusedBeforeDialogWasOpened=null,u._state="enter",u._animationStateChanged=new r.n,u.attachDomPortal=function(t){return u._portalOutlet.hasAttached()&&Kh(),u._setupFocusTrap(),u._portalOutlet.attachDomPortal(t)},u._ariaLabelledBy=s.ariaLabelledBy||null,u._document=a,u}return _createClass(n,[{key:"attachComponentPortal",value:function(t){return this._portalOutlet.hasAttached()&&Kh(),this._setupFocusTrap(),this._portalOutlet.attachComponentPortal(t)}},{key:"attachTemplatePortal",value:function(t){return this._portalOutlet.hasAttached()&&Kh(),this._setupFocusTrap(),this._portalOutlet.attachTemplatePortal(t)}},{key:"_recaptureFocus",value:function(){this._containsFocus()||this._focusTrap.focusInitialElement()||this._elementRef.nativeElement.focus()}},{key:"_trapFocus",value:function(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}},{key:"_restoreFocus",value:function(){var t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){var e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}},{key:"_setupFocusTrap",value:function(){var t=this;this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then((function(){return t._elementRef.nativeElement.focus()})))}},{key:"_containsFocus",value:function(){var t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}},{key:"_onAnimationDone",value:function(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)}},{key:"_onAnimationStart",value:function(t){this._animationStateChanged.emit(t)}},{key:"_startExitAnimation",value:function(){this._state="exit",this._changeDetectorRef.markForCheck()}}]),n}(Fs)).\u0275fac=function(t){return new(t||Qh)(r.Nb(r.l),r.Nb(Bu),r.Nb(r.h),r.Nb(u,8),r.Nb(Wh))},Qh.\u0275cmp=r.Hb({type:Qh,selectors:[["mat-dialog-container"]],viewQuery:function(t,e){var n;1&t&&r.oc(Us,!0),2&t&&r.ic(n=r.bc())&&(e._portalOutlet=n.first)},hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&r.Fb("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),2&t&&(r.Db("id",e._id)("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),r.vc("@dialogContainer",e._state))},features:[r.zb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.qc(0,Hh,0,0,"ng-template",0)},directives:[Us],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Gh.dialogContainer]}}),Qh),ef=0,nf=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mat-dialog-"+ef++;_classCallCheck(this,t),this._overlayRef=e,this._containerInstance=n,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new zt.a,this._afterClosed=new zt.a,this._beforeClosed=new zt.a,this._state=0,n._id=i,n._animationStateChanged.pipe(ue((function(t){return"done"===t.phaseName&&"enter"===t.toState})),Te(1)).subscribe((function(){r._afterOpened.next(),r._afterOpened.complete()})),n._animationStateChanged.pipe(ue((function(t){return"done"===t.phaseName&&"exit"===t.toState})),Te(1)).subscribe((function(){clearTimeout(r._closeFallbackTimeout),r._finishDialogClose()})),e.detachments().subscribe((function(){r._beforeClosed.next(r._result),r._beforeClosed.complete(),r._afterClosed.next(r._result),r._afterClosed.complete(),r.componentInstance=null,r._overlayRef.dispose()})),e.keydownEvents().pipe(ue((function(t){return 27===t.keyCode&&!r.disableClose&&!Bs(t)}))).subscribe((function(t){t.preventDefault(),r.close()})),e.backdropClick().subscribe((function(){r.disableClose?r._containerInstance._recaptureFocus():r.close()}))}return _createClass(t,[{key:"close",value:function(t){var e=this;this._result=t,this._containerInstance._animationStateChanged.pipe(ue((function(t){return"start"===t.phaseName})),Te(1)).subscribe((function(n){e._beforeClosed.next(t),e._beforeClosed.complete(),e._overlayRef.detachBackdrop(),e._closeFallbackTimeout=setTimeout((function(){return e._finishDialogClose()}),n.totalTime+100)})),this._containerInstance._startExitAnimation(),this._state=1}},{key:"afterOpened",value:function(){return this._afterOpened.asObservable()}},{key:"afterClosed",value:function(){return this._afterClosed.asObservable()}},{key:"beforeClosed",value:function(){return this._beforeClosed.asObservable()}},{key:"backdropClick",value:function(){return this._overlayRef.backdropClick()}},{key:"keydownEvents",value:function(){return this._overlayRef.keydownEvents()}},{key:"updatePosition",value:function(t){var e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}},{key:"updateSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}},{key:"addPanelClass",value:function(t){return this._overlayRef.addPanelClass(t),this}},{key:"removePanelClass",value:function(t){return this._overlayRef.removePanelClass(t),this}},{key:"getState",value:function(){return this._state}},{key:"_finishDialogClose",value:function(){this._state=2,this._overlayRef.dispose()}},{key:"_getPositionStrategy",value:function(){return this._overlayRef.getConfig().positionStrategy}}]),t}(),rf=new r.q("MatDialogData"),of=new r.q("mat-dialog-default-options"),af=new r.q("mat-dialog-scroll-strategy"),sf={provide:af,deps:[bu],useFactory:function(t){return function(){return t.scrollStrategies.block()}}},uf=(($h=function(){function t(e,n,r,i,o,a,s){var u=this;_classCallCheck(this,t),this._overlay=e,this._injector=n,this._defaultOptions=i,this._parentDialog=a,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new zt.a,this._afterOpenedAtThisLevel=new zt.a,this._ariaHiddenElements=new Map,this.afterAllClosed=re((function(){return u.openDialogs.length?u._afterAllClosed:u._afterAllClosed.pipe(Ve(void 0))})),this._scrollStrategy=o}return _createClass(t,[{key:"open",value:function(t,e){var n=this;if((e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new Wh)).id&&this.getDialogById(e.id))throw Error('Dialog with id "'.concat(e.id,'" exists already. The dialog id must be unique.'));var r=this._createOverlay(e),i=this._attachDialogContainer(r,e),o=this._attachDialogContent(t,i,r,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe((function(){return n._removeOpenDialog(o)})),this.afterOpened.next(o),o}},{key:"closeAll",value:function(){this._closeDialogs(this.openDialogs)}},{key:"getDialogById",value:function(t){return this.openDialogs.find((function(e){return e.id===t}))}},{key:"ngOnDestroy",value:function(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}},{key:"_createOverlay",value:function(t){var e=this._getOverlayConfig(t);return this._overlay.create(e)}},{key:"_getOverlayConfig",value:function(t){var e=new Xs({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}},{key:"_attachDialogContainer",value:function(t,e){var n=r.r.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Wh,useValue:e}]}),i=new js(tf,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}},{key:"_attachDialogContent",value:function(t,e,n,i){var o=new nf(n,e,i.id);if(t instanceof r.L)e.attachTemplatePortal(new Ms(t,null,{$implicit:i.data,dialogRef:o}));else{var a=this._createInjector(i,o,e),s=e.attachComponentPortal(new js(t,i.viewContainerRef,a));o.componentInstance=s.instance}return o.updateSize(i.width,i.height).updatePosition(i.position),o}},{key:"_createInjector",value:function(t,e,n){var i=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=[{provide:tf,useValue:n},{provide:rf,useValue:t.data},{provide:nf,useValue:e}];return!t.direction||i&&i.get(Ss,null)||o.push({provide:Ss,useValue:{value:t.direction,change:Object(qt.a)()}}),r.r.create({parent:i||this._injector,providers:o})}},{key:"_removeOpenDialog",value:function(t){var e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")})),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}},{key:"_hideNonDialogContentFromAssistiveTechnology",value:function(){var t=this._overlayContainer.getContainerElement();if(t.parentElement)for(var e=t.parentElement.children,n=e.length-1;n>-1;n--){var r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}},{key:"_closeDialogs",value:function(t){for(var e=t.length;e--;)t[e].close()}},{key:"openDialogs",get:function(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}},{key:"afterOpened",get:function(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}},{key:"_afterAllClosed",get:function(){var t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}}]),t}()).\u0275fac=function(t){return new(t||$h)(r.Wb(bu),r.Wb(r.r),r.Wb(T,8),r.Wb(of,8),r.Wb(af),r.Wb($h,12),r.Wb(su))},$h.\u0275prov=r.Jb({token:$h,factory:$h.\u0275fac}),$h),cf=0,lf=((Xh=function(){function t(e,n,r){_classCallCheck(this,t),this._dialogRef=e,this._elementRef=n,this._dialog=r,this.id="mat-dialog-title-"+cf++}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._dialogRef||(this._dialogRef=function(t,e){for(var n=t.nativeElement.parentElement;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find((function(t){return t.id===n.id})):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then((function(){var e=t._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=t.id)}))}}]),t}()).\u0275fac=function(t){return new(t||Xh)(r.Nb(nf,8),r.Nb(r.l),r.Nb(uf))},Xh.\u0275dir=r.Ib({type:Xh,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,e){2&t&&r.Vb("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),Xh),hf=((Jh=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Jh)},Jh.\u0275dir=r.Ib({type:Jh,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),Jh),ff=((Zh=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Zh)},Zh.\u0275dir=r.Ib({type:Zh,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),Zh),df=((Yh=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:Yh}),Yh.\u0275inj=r.Kb({factory:function(t){return new(t||Yh)},providers:[uf,sf],imports:[[ku,qs,Oh],Oh]}),Yh),pf=function(){function t(e,n,r,i){_classCallCheck(this,t),this.email=e,this.id=n,this._token=r,this._tokenExpirationDate=i}return _createClass(t,[{key:"token",get:function(){return!this._tokenExpirationDate||new Date>this._tokenExpirationDate?null:this._token}}]),t}(),vf=function t(){_classCallCheck(this,t)},yf=function t(){_classCallCheck(this,t)},mf=function(){function t(e){var n=this;_classCallCheck(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach((function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=r.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}}))}:function(){n.headers=new Map,Object.keys(e).forEach((function(t){var r=e[t],i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(t,i))}))}:this.headers=new Map}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(t){return e.applyUpdate(t)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach((function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))}))}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,_toConsumableArray(n)),this.headers.set(e,r);break;case"d":var i=t.value;if(i){var o=this.headers.get(e);if(!o)return;0===(o=o.filter((function(t){return-1===i.indexOf(t)}))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return t(e.normalizedNames.get(n),e.headers.get(n))}))}}]),t}(),gf=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"encodeKey",value:function(t){return _f(t)}},{key:"encodeValue",value:function(t){return _f(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function _f(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var bf=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,t),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new gf,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){var n=new Map;return t.length>0&&t.split("&").forEach((function(t){var r=t.indexOf("="),i=_slicedToArray(-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],2),o=i[0],a=i[1],s=n.get(o)||[];s.push(a),n.set(o,s)})),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(t){var r=n.fromObject[t];e.map.set(t,Array.isArray(r)?r:[r])}))):this.map=null}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map((function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map((function(e){return n+"="+t.encoder.encodeValue(e)})).join("&")})).filter((function(t){return""!==t})).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(e){return t.map.set(e,t.cloneFrom.map.get(e))})),this.updates.forEach((function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}})),this.cloneFrom=this.updates=null)}}]),t}();function wf(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function kf(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Cf(t){return"undefined"!=typeof FormData&&t instanceof FormData}var Ef=function(){function t(e,n,r,i){var o;if(_classCallCheck(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new mf),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new bf,this.urlWithParams=n}return _createClass(t,[{key:"serializeBody",value:function(){return null===this.body?null:wf(this.body)||kf(this.body)||Cf(this.body)||"string"==typeof this.body?this.body:this.body instanceof bf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Cf(this.body)?null:kf(this.body)?this.body.type||null:wf(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof bf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((function(t,n){return t.set(n,e.setHeaders[n])}),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((function(t,n){return t.set(n,e.setParams[n])}),c)),new t(n,r,o,{params:c,headers:u,reportProgress:s,responseType:i,withCredentials:a})}}]),t}(),Sf=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}(),Of=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,t),this.headers=e.headers||new mf,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},If=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,r)).type=Sf.ResponseHeader,t}return _createClass(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(Of),Tf=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,r)).type=Sf.Response,t.body=void 0!==r.body?r.body:null,t}return _createClass(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(Of),xf=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),r.error=t.error||null,r}return n}(Of);function Af(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var Pf,Df,Rf,Nf,jf,Mf,Lf,Ff,Vf,Uf,qf=((Pf=function(){function t(e){_classCallCheck(this,t),this.handler=e}return _createClass(t,[{key:"request",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof Ef)n=t;else{var o=void 0;o=i.headers instanceof mf?i.headers:new mf(i.headers);var a=void 0;i.params&&(a=i.params instanceof bf?i.params:new bf({fromObject:i.params})),n=new Ef(t,e,void 0!==i.body?i.body:null,{headers:o,params:a,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var s=Object(qt.a)(n).pipe(ze((function(t){return r.handler.handle(t)})));if(t instanceof Ef||"events"===i.observe)return s;var u=s.pipe(ue((function(t){return t instanceof Tf})));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(Object(ie.a)((function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body})));case"blob":return u.pipe(Object(ie.a)((function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body})));case"text":return u.pipe(Object(ie.a)((function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body})));case"json":default:return u.pipe(Object(ie.a)((function(t){return t.body})))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new bf).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,Af(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,Af(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,Af(n,e))}}]),t}()).\u0275fac=function(t){return new(t||Pf)(r.Wb(vf))},Pf.\u0275prov=r.Jb({token:Pf,factory:Pf.\u0275fac}),Pf),Bf=function(){function t(e,n){_classCallCheck(this,t),this.next=e,this.interceptor=n}return _createClass(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),zf=new r.q("HTTP_INTERCEPTORS"),Hf=((Df=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Df)},Df.\u0275prov=r.Jb({token:Df,factory:Df.\u0275fac}),Df),Wf=/^\)\]\}',?\n/,Gf=function t(){_classCallCheck(this,t)},Kf=((Nf=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}()).\u0275fac=function(t){return new(t||Nf)},Nf.\u0275prov=r.Jb({token:Nf,factory:Nf.\u0275fac}),Nf),Qf=((Rf=function(){function t(e){_classCallCheck(this,t),this.xhrFactory=e}return _createClass(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new Gt.a((function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((function(t,e){return r.setRequestHeader(t,e.join(","))})),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new mf(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new If({headers:i,status:e,statusText:n,url:o})},c=function(){var e=u(),i=e.headers,o=e.status,a=e.statusText,s=e.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var h=c;c=c.replace(Wf,"");try{c=""!==c?JSON.parse(c):null}catch(f){c=h,l&&(l=!1,c={error:f,text:c})}}l?(n.next(new Tf({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new xf({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(t){var e=u().url,i=new xf({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(i)},h=!1,f=function(e){h||(n.next(u()),h=!0);var i={type:Sf.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(t){var e={type:Sf.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",c),r.addEventListener("error",l),t.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:Sf.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("load",c),t.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.abort()}}))}}]),t}()).\u0275fac=function(t){return new(t||Rf)(r.Wb(Gf))},Rf.\u0275prov=r.Jb({token:Rf,factory:Rf.\u0275fac}),Rf),Yf=new r.q("XSRF_COOKIE_NAME"),Zf=new r.q("XSRF_HEADER_NAME"),Jf=function t(){_classCallCheck(this,t)},Xf=((Uf=function(){function t(e,n,r){_classCallCheck(this,t),this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=M(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}()).\u0275fac=function(t){return new(t||Uf)(r.Wb(u),r.Wb(r.B),r.Wb(Yf))},Uf.\u0275prov=r.Jb({token:Uf,factory:Uf.\u0275fac}),Uf),$f=((Vf=function(){function t(e,n){_classCallCheck(this,t),this.tokenService=e,this.headerName=n}return _createClass(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Vf)(r.Wb(Jf),r.Wb(Zf))},Vf.\u0275prov=r.Jb({token:Vf,factory:Vf.\u0275fac}),Vf),td=((Ff=function(){function t(e,n){_classCallCheck(this,t),this.backend=e,this.injector=n,this.chain=null}return _createClass(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(zf,[]);this.chain=e.reduceRight((function(t,e){return new Bf(t,e)}),this.backend)}return this.chain.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Ff)(r.Wb(yf),r.Wb(r.r))},Ff.\u0275prov=r.Jb({token:Ff,factory:Ff.\u0275fac}),Ff),ed=((Lf=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:$f,useClass:Hf}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:Yf,useValue:e.cookieName}:[],e.headerName?{provide:Zf,useValue:e.headerName}:[]]}}}]),t}()).\u0275mod=r.Lb({type:Lf}),Lf.\u0275inj=r.Kb({factory:function(t){return new(t||Lf)},providers:[$f,{provide:zf,useExisting:$f,multi:!0},{provide:Jf,useClass:Xf},{provide:Yf,useValue:"XSRF-TOKEN"},{provide:Zf,useValue:"X-XSRF-TOKEN"}]}),Lf),nd=((Mf=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:Mf}),Mf.\u0275inj=r.Kb({factory:function(t){return new(t||Mf)},providers:[qf,{provide:vf,useClass:td},Qf,{provide:yf,useExisting:Qf},Kf,{provide:Gf,useExisting:Kf}],imports:[[ed.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Mf),rd=((jf=function(){function t(e){_classCallCheck(this,t),this.http=e,this.baseSignUpUrl="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=",this.baseSignInUrl="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=",this.apiKey="AIzaSyD1O6sO7uFrwlns1gR1PGfAibtNu_uyHoA",this.user=new Wt(null)}return _createClass(t,[{key:"signUp",value:function(t,e){var n=this;return this.http.post("".concat(this.baseSignUpUrl).concat(this.apiKey),{email:t,password:e,returnSecureToken:!0}).pipe(Object(Ge.a)((function(t){n.handleAuthentication(t.email,t.localId,t.idToken,+t.expiresIn)})))}},{key:"signIn",value:function(t,e){var n=this;return this.http.post("".concat(this.baseSignInUrl).concat(this.apiKey),{email:t,password:e,returnSecureToken:!0}).pipe(Object(Ge.a)((function(t){n.handleAuthentication(t.email,t.localId,t.idToken,+t.expiresIn)})))}},{key:"logout",value:function(){this.user.next(null),localStorage.removeItem("userData")}},{key:"autologin",value:function(){var t=JSON.parse(localStorage.getItem("userData"));if(t){var e=new pf(t.email,t.id,t._token,new Date(t._tokenExpirationDate));if(e.token){var n=new Date(t._tokenExpirationDate).getTime()-(new Date).getTime();this.autologout(n),this.user.next(e)}}}},{key:"autologout",value:function(t){var e=this;this.tokenExpirationTimer=setTimeout((function(){e.logout()}),t)}},{key:"handleAuthentication",value:function(t,e,n,r){var i=new Date((new Date).getTime()+1e3*+r),o=new pf(t,e,n,i);this.user.next(o),this.autologout(1e3*r),localStorage.setItem("userData",JSON.stringify(o))}}]),t}()).\u0275fac=function(t){return new(t||jf)(r.Wb(qf))},jf.\u0275prov=r.Jb({token:jf,factory:jf.\u0275fac,providedIn:"root"}),jf),id=n("WMd4");function od(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ka.a,r=(e=t)instanceof Date&&!isNaN(+e)?+t-n.now():Math.abs(t);return function(t){return t.lift(new pd(r,n))}}var ad,sd,ud,cd,ld,hd,fd,dd,pd=function(){function t(e,n){_classCallCheck(this,t),this.delay=e,this.scheduler=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new vd(t,this.delay,this.scheduler))}}]),t}(),vd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).delay=r,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return _createClass(n,[{key:"_schedule",value:function(t){this.active=!0,this.destination.add(t.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}},{key:"scheduleNotification",value:function(t){if(!0!==this.errored){var e=this.scheduler,n=new yd(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}}},{key:"_next",value:function(t){this.scheduleNotification(id.a.createNext(t))}},{key:"_error",value:function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(id.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1}}]),n}(se.a),yd=function t(e,n){_classCallCheck(this,t),this.time=e,this.notification=n},md=["mat-menu-item",""],gd=["*"],_d=((ad=function(){function t(e,n,r,i,o,a,s){_classCallCheck(this,t),this._template=e,this._componentFactoryResolver=n,this._appRef=r,this._injector=i,this._viewContainerRef=o,this._document=a,this._changeDetectorRef=s,this._attached=new zt.a}return _createClass(t,[{key:"attach",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._portal||(this._portal=new Ms(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new Vs(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));var e=this._template.elementRef.nativeElement;e.parentNode.insertBefore(this._outlet.outletElement,e),this._changeDetectorRef&&this._changeDetectorRef.markForCheck(),this._portal.attach(this._outlet,t),this._attached.next()}},{key:"detach",value:function(){this._portal.isAttached&&this._portal.detach()}},{key:"ngOnDestroy",value:function(){this._outlet&&this._outlet.dispose()}}]),t}()).\u0275fac=function(t){return new(t||ad)(r.Nb(r.L),r.Nb(r.j),r.Nb(r.g),r.Nb(r.r),r.Nb(r.P),r.Nb(u),r.Nb(r.h))},ad.\u0275dir=r.Ib({type:ad,selectors:[["ng-template","matMenuContent",""]]}),ad),bd=new r.q("MAT_MENU_PANEL"),wd=xh(Ih((function t(){_classCallCheck(this,t)}))),kd=((sd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this))._elementRef=t,a._focusMonitor=i,a._parentMenu=o,a.role="menuitem",a._hovered=new zt.a,a._focused=new zt.a,a._highlighted=!1,a._triggersSubmenu=!1,i&&i.monitor(a._elementRef,!1),o&&o.addItem&&o.addItem(_assertThisInitialized(a)),a._document=r,a}return _createClass(n,[{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)}},{key:"ngOnDestroy",value:function(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}},{key:"_getTabIndex",value:function(){return this.disabled?"-1":"0"}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_checkDisabled",value:function(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}},{key:"_handleMouseEnter",value:function(){this._hovered.next(this)}},{key:"getLabel",value:function(){var t=this._elementRef.nativeElement,e=this._document?this._document.TEXT_NODE:3,n="";if(t.childNodes)for(var r=t.childNodes.length,i=0;i<r;i++)t.childNodes[i].nodeType===e&&(n+=t.childNodes[i].textContent);return n.trim()}}]),n}(wd)).\u0275fac=function(t){return new(t||sd)(r.Nb(r.l),r.Nb(u),r.Nb(Ku),r.Nb(bd,8))},sd.\u0275cmp=r.Hb({type:sd,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,e){1&t&&r.ac("click",(function(t){return e._checkDisabled(t)}))("mouseenter",(function(){return e._handleMouseEnter()})),2&t&&(r.Db("role",e.role)("tabindex",e._getTabIndex())("aria-disabled",e.disabled.toString())("disabled",e.disabled||null),r.Eb("mat-menu-item",!0)("mat-menu-item-highlighted",e._highlighted)("mat-menu-item-submenu-trigger",e._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[r.zb],attrs:md,ngContentSelectors:gd,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(t,e){1&t&&(r.ec(),r.dc(0),r.Ob(1,"div",0)),2&t&&(r.Cb(1),r.fc("matRippleDisabled",e.disableRipple||e.disabled)("matRippleTrigger",e._getHostElement()))},directives:[qh],encapsulation:2,changeDetection:0}),sd),Cd=new r.q("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}}),Ed=0,Sd=((cd=function(){function t(e,n,i){_classCallCheck(this,t),this._elementRef=e,this._ngZone=n,this._defaultOptions=i,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new r.D,this._tabSubscription=Ke.a.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new zt.a,this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new r.n,this.close=this.closed,this.panelId="mat-menu-panel-"+Ed++}return _createClass(t,[{key:"ngOnInit",value:function(){this.setPositionClasses()}},{key:"ngAfterContentInit",value:function(){var t=this;this._updateDirectDescendants(),this._keyManager=new Mu(this._directDescendantItems).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe((function(){return t.closed.emit("tab")})),this._directDescendantItems.changes.pipe(Ve(this._directDescendantItems),je((function(t){return Object(qa.a).apply(void 0,_toConsumableArray(t.map((function(t){return t._focused}))))}))).subscribe((function(e){return t._keyManager.updateActiveItem(e)}))}},{key:"ngOnDestroy",value:function(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}},{key:"_hovered",value:function(){return this._directDescendantItems.changes.pipe(Ve(this._directDescendantItems),je((function(t){return Object(qa.a).apply(void 0,_toConsumableArray(t.map((function(t){return t._hovered}))))})))}},{key:"addItem",value:function(t){}},{key:"removeItem",value:function(t){}},{key:"_handleKeydown",value:function(t){var e=t.keyCode,n=this._keyManager;switch(e){case 27:Bs(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;case 36:case 35:Bs(t)||(36===e?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault());break;default:38!==e&&40!==e||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}},{key:"focusFirstItem",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program";this.lazyContent?this._ngZone.onStable.asObservable().pipe(Te(1)).subscribe((function(){return t._focusFirstItem(e)})):this._focusFirstItem(e)}},{key:"_focusFirstItem",value:function(t){var e=this._keyManager;if(e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length)for(var n=this._directDescendantItems.first._getHostElement().parentElement;n;){if("menu"===n.getAttribute("role")){n.focus();break}n=n.parentElement}}},{key:"resetActiveItem",value:function(){this._keyManager.setActiveItem(-1)}},{key:"setElevation",value:function(t){var e="mat-elevation-z"+Math.min(4+t,24),n=Object.keys(this._classList).find((function(t){return t.startsWith("mat-elevation-z")}));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}},{key:"setPositionClasses",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.xPosition,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.yPosition,n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}},{key:"_startAnimation",value:function(){this._panelAnimationState="enter"}},{key:"_resetAnimation",value:function(){this._panelAnimationState="void"}},{key:"_onAnimationDone",value:function(t){this._animationDone.next(t),this._isAnimating=!1}},{key:"_onAnimationStart",value:function(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}},{key:"_updateDirectDescendants",value:function(){var t=this;this._allItems.changes.pipe(Ve(this._allItems)).subscribe((function(e){t._directDescendantItems.reset(e.filter((function(e){return e._parentMenu===t}))),t._directDescendantItems.notifyOnChanges()}))}},{key:"xPosition",get:function(){return this._xPosition},set:function(t){"before"!==t&&"after"!==t&&function(){throw Error('xPosition value must be either \'before\' or after\'.\n      Example: <mat-menu xPosition="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=t,this.setPositionClasses()}},{key:"yPosition",get:function(){return this._yPosition},set:function(t){"above"!==t&&"below"!==t&&function(){throw Error('yPosition value must be either \'above\' or below\'.\n      Example: <mat-menu yPosition="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=t,this.setPositionClasses()}},{key:"overlapTrigger",get:function(){return this._overlapTrigger},set:function(t){this._overlapTrigger=Na(t)}},{key:"hasBackdrop",get:function(){return this._hasBackdrop},set:function(t){this._hasBackdrop=Na(t)}},{key:"panelClass",set:function(t){var e=this,n=this._previousPanelClass;n&&n.length&&n.split(" ").forEach((function(t){e._classList[t]=!1})),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach((function(t){e._classList[t]=!0})),this._elementRef.nativeElement.className="")}},{key:"classList",get:function(){return this.panelClass},set:function(t){this.panelClass=t}}]),t}()).\u0275fac=function(t){return new(t||cd)(r.Nb(r.l),r.Nb(r.z),r.Nb(Cd))},cd.\u0275dir=r.Ib({type:cd,contentQueries:function(t,e,n){var i;1&t&&(r.Gb(n,_d,!0),r.Gb(n,kd,!0),r.Gb(n,kd,!1)),2&t&&(r.ic(i=r.bc())&&(e.lazyContent=i.first),r.ic(i=r.bc())&&(e._allItems=i),r.ic(i=r.bc())&&(e.items=i))},viewQuery:function(t,e){var n;1&t&&r.wc(r.L,!0),2&t&&r.ic(n=r.bc())&&(e.templateRef=n.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),cd),Od=((ud=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(Sd)).\u0275fac=function(t){return Id(t||ud)},ud.\u0275dir=r.Ib({type:ud,features:[r.zb]}),ud),Id=r.Ub(Od),Td=new r.q("mat-menu-scroll-strategy"),xd={provide:Td,deps:[bu],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},Ad=ys({passive:!0}),Pd=((fd=function(){function t(e,n,i,o,a,s,u,c){var l=this;_classCallCheck(this,t),this._overlay=e,this._element=n,this._viewContainerRef=i,this._parentMenu=a,this._menuItemInstance=s,this._dir=u,this._focusMonitor=c,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ke.a.EMPTY,this._hoverSubscription=Ke.a.EMPTY,this._menuCloseSubscription=Ke.a.EMPTY,this._handleTouchStart=function(){return l._openedBy="touch"},this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new r.n,this.onMenuOpen=this.menuOpened,this.menuClosed=new r.n,this.onMenuClose=this.menuClosed,n.nativeElement.addEventListener("touchstart",this._handleTouchStart,Ad),s&&(s._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=o}return _createClass(t,[{key:"ngAfterContentInit",value:function(){this._checkMenu(),this._handleHover()}},{key:"ngOnDestroy",value:function(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Ad),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}},{key:"triggersSubmenu",value:function(){return!(!this._menuItemInstance||!this._parentMenu)}},{key:"toggleMenu",value:function(){return this._menuOpen?this.closeMenu():this.openMenu()}},{key:"openMenu",value:function(){var t=this;if(!this._menuOpen){this._checkMenu();var e=this._createOverlay(),n=e.getConfig();this._setPosition(n.positionStrategy),n.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe((function(){return t.closeMenu()})),this._initMenu(),this.menu instanceof Od&&this.menu._startAnimation()}}},{key:"closeMenu",value:function(){this.menu.close.emit()}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}},{key:"_destroyMenu",value:function(){var t=this;if(this._overlayRef&&this.menuOpen){var e=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this._restoreFocus(),e instanceof Od?(e._resetAnimation(),e.lazyContent?e._animationDone.pipe(ue((function(t){return"void"===t.toState})),Te(1),$a(e.lazyContent._attached)).subscribe({next:function(){return e.lazyContent.detach()},complete:function(){return t._setIsMenuOpen(!1)}}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),e.lazyContent&&e.lazyContent.detach())}}},{key:"_initMenu",value:function(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}},{key:"_setMenuElevation",value:function(){if(this.menu.setElevation){for(var t=0,e=this.menu.parentMenu;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}},{key:"_restoreFocus",value:function(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}},{key:"_setIsMenuOpen",value:function(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}},{key:"_checkMenu",value:function(){this.menu||function(){throw Error('matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()}},{key:"_createOverlay",value:function(){if(!this._overlayRef){var t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}},{key:"_getOverlayConfig",value:function(){return new Xs({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this._dir})}},{key:"_subscribeToPositions",value:function(t){var e=this;this.menu.setPositionClasses&&t.positionChanges.subscribe((function(t){e.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")}))}},{key:"_setPosition",value:function(t){var e=_slicedToArray("before"===this.menu.xPosition?["end","start"]:["start","end"],2),n=e[0],r=e[1],i=_slicedToArray("above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],2),o=i[0],a=i[1],s=o,u=a,c=n,l=r,h=0;this.triggersSubmenu()?(l=n="before"===this.menu.xPosition?"start":"end",r=c="end"===n?"start":"end",h="bottom"===o?8:-8):this.menu.overlapTrigger||(s="top"===o?"bottom":"top",u="top"===a?"bottom":"top"),t.withPositions([{originX:n,originY:s,overlayX:c,overlayY:o,offsetY:h},{originX:r,originY:s,overlayX:l,overlayY:o,offsetY:h},{originX:n,originY:u,overlayX:c,overlayY:a,offsetY:-h},{originX:r,originY:u,overlayX:l,overlayY:a,offsetY:-h}])}},{key:"_menuClosingActions",value:function(){var t=this,e=this._overlayRef.backdropClick(),n=this._overlayRef.detachments(),r=this._parentMenu?this._parentMenu.closed:Object(qt.a)(),i=this._parentMenu?this._parentMenu._hovered().pipe(ue((function(e){return e!==t._menuItemInstance})),ue((function(){return t._menuOpen}))):Object(qt.a)();return Object(qa.a)(e,r,i,n)}},{key:"_handleMousedown",value:function(t){zu(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())}},{key:"_handleKeydown",value:function(t){var e=t.keyCode;this.triggersSubmenu()&&(39===e&&"ltr"===this.dir||37===e&&"rtl"===this.dir)&&this.openMenu()}},{key:"_handleClick",value:function(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}},{key:"_handleHover",value:function(){var t=this;this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(ue((function(e){return e===t._menuItemInstance&&!e.disabled})),od(0,Ha.a)).subscribe((function(){t._openedBy="mouse",t.menu instanceof Od&&t.menu._isAnimating?t.menu._animationDone.pipe(Te(1),od(0,Ha.a),$a(t._parentMenu._hovered())).subscribe((function(){return t.openMenu()})):t.openMenu()})))}},{key:"_getPortal",value:function(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new Ms(this.menu.templateRef,this._viewContainerRef)),this._portal}},{key:"_deprecatedMatMenuTriggerFor",get:function(){return this.menu},set:function(t){this.menu=t}},{key:"menu",get:function(){return this._menu},set:function(t){var e=this;t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.asObservable().subscribe((function(t){e._destroyMenu(),"click"!==t&&"tab"!==t||!e._parentMenu||e._parentMenu.closed.emit(t)}))))}},{key:"menuOpen",get:function(){return this._menuOpen}},{key:"dir",get:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}}]),t}()).\u0275fac=function(t){return new(t||fd)(r.Nb(bu),r.Nb(r.l),r.Nb(r.P),r.Nb(Td),r.Nb(Od,8),r.Nb(kd,10),r.Nb(Ss,8),r.Nb(Ku))},fd.\u0275dir=r.Ib({type:fd,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(t,e){1&t&&r.ac("mousedown",(function(t){return e._handleMousedown(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("click",(function(t){return e._handleClick(t)})),2&t&&r.Db("aria-expanded",e.menuOpen||null)("aria-controls",e.menuOpen?e.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),fd),Dd=((hd=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:hd}),hd.\u0275inj=r.Kb({factory:function(t){return new(t||hd)},providers:[xd],imports:[Oh]}),hd),Rd=((ld=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:ld}),ld.\u0275inj=r.Kb({factory:function(t){return new(t||ld)},providers:[xd],imports:[[at,Oh,Bh,ku,Dd],xs,Oh,Dd]}),ld),Nd=function(){function t(e,n){_classCallCheck(this,t),this.title=e,this.content=n,this.date=new Date,this.id=this.getId()}return _createClass(t,[{key:"getId",value:function(){return Math.floor(1e7*Math.random())}}]),t}(),jd=((dd=function(){function t(e,n){_classCallCheck(this,t),this.http=e,this.auth=n,this.$notesChanged=new zt.a,this.notes=[],this.baseUrl="https://notesapp-b2c5d-default-rtdb.firebaseio.com/users/",this.wereOrdered=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onFetchPosts",value:function(){this.fetchPosts()}},{key:"addNote",value:function(){var t=this,e=new Nd("Type a title","Type content");this.http.post(this.baseUrl+this.uid+"/notes.json",e).subscribe((function(e){t.fetchPosts().subscribe((function(e){t.notes=e,t.$notesChanged.next(t.notes)}))}))}},{key:"fetchPosts",value:function(){var t=this;return this.updateUserId(),this.http.get(this.baseUrl+this.uid+"/notes.json").pipe(Object(ie.a)((function(e){var n=[];for(var r in e)e.hasOwnProperty&&n.push(Object.assign(Object.assign({},e[r]),{id:r}));return t.notes=n.sort((function(t,e){console.log(t.date,e.date);var n=new Date(t.date);return new Date(e.date).getTime()-n.getTime()})),t.notes})))}},{key:"updateNote",value:function(t,e,n){var r=this,i=this.baseUrl+this.uid+"/notes/"+t+".json",o=e.nativeElement.innerText,a=n.nativeElement.innerText,s=new Date;this.http.patch(i,{title:o,content:a,date:s}).subscribe((function(t){console.log(t),r.fetchPosts().subscribe((function(t){r.notes=t,r.$notesChanged.next(r.notes)}))}))}},{key:"removeNote",value:function(t){var e=this;return this.http.delete(this.baseUrl+this.uid+"/notes/"+t+".json").subscribe((function(t){e.fetchPosts().subscribe((function(t){e.notes=t,e.$notesChanged.next(e.notes)}))}))}},{key:"updateUserId",value:function(){var t=this;this.auth.user.subscribe((function(e){e&&(console.log("updating user"),t.uid=e.id)}))}},{key:"updateColor",value:function(t,e){var n=this.baseUrl+this.uid+"/notes/"+t+".json",r=new Date;this.http.patch(n,{color:e,date:r}).subscribe((function(t){console.log(t)}))}}]),t}()).\u0275fac=function(t){return new(t||dd)(r.Wb(qf),r.Wb(rd))},dd.\u0275prov=r.Jb({token:dd,factory:dd.\u0275fac,providedIn:"root"}),dd),Md=["underline"],Ld=["connectionContainer"],Fd=["inputContainer"],Vd=["label"];function Ud(t,e){1&t&&(r.Qb(0),r.Sb(1,"div",14),r.Ob(2,"div",15),r.Ob(3,"div",16),r.Ob(4,"div",17),r.Rb(),r.Sb(5,"div",18),r.Ob(6,"div",15),r.Ob(7,"div",16),r.Ob(8,"div",17),r.Rb(),r.Pb())}function qd(t,e){1&t&&(r.Sb(0,"div",19),r.dc(1,1),r.Rb())}function Bd(t,e){if(1&t&&(r.Qb(0),r.dc(1,2),r.Sb(2,"span"),r.sc(3),r.Rb(),r.Pb()),2&t){var n=r.cc(2);r.Cb(3),r.tc(n._control.placeholder)}}function zd(t,e){1&t&&r.dc(0,3,["*ngSwitchCase","true"])}function Hd(t,e){1&t&&(r.Sb(0,"span",23),r.sc(1," *"),r.Rb())}function Wd(t,e){if(1&t){var n=r.Tb();r.Sb(0,"label",20,21),r.ac("cdkObserveContent",(function(){return r.kc(n),r.cc().updateOutlineGap()})),r.qc(2,Bd,4,1,"ng-container",12),r.qc(3,zd,1,0,void 0,12),r.qc(4,Hd,2,0,"span",22),r.Rb()}if(2&t){var i=r.cc();r.Eb("mat-empty",i._control.empty&&!i._shouldAlwaysFloat)("mat-form-field-empty",i._control.empty&&!i._shouldAlwaysFloat)("mat-accent","accent"==i.color)("mat-warn","warn"==i.color),r.fc("cdkObserveContentDisabled","outline"!=i.appearance)("id",i._labelId)("ngSwitch",i._hasLabel()),r.Db("for",i._control.id)("aria-owns",i._control.id),r.Cb(2),r.fc("ngSwitchCase",!1),r.Cb(1),r.fc("ngSwitchCase",!0),r.Cb(1),r.fc("ngIf",!i.hideRequiredMarker&&i._control.required&&!i._control.disabled)}}function Gd(t,e){1&t&&(r.Sb(0,"div",24),r.dc(1,4),r.Rb())}function Kd(t,e){if(1&t&&(r.Sb(0,"div",25,26),r.Ob(2,"span",27),r.Rb()),2&t){var n=r.cc();r.Cb(2),r.Eb("mat-accent","accent"==n.color)("mat-warn","warn"==n.color)}}function Qd(t,e){if(1&t&&(r.Sb(0,"div"),r.dc(1,5),r.Rb()),2&t){var n=r.cc();r.fc("@transitionMessages",n._subscriptAnimationState)}}function Yd(t,e){if(1&t&&(r.Sb(0,"div",31),r.sc(1),r.Rb()),2&t){var n=r.cc(2);r.fc("id",n._hintLabelId),r.Cb(1),r.tc(n.hintLabel)}}function Zd(t,e){if(1&t&&(r.Sb(0,"div",28),r.qc(1,Yd,2,2,"div",29),r.dc(2,6),r.Ob(3,"div",30),r.dc(4,7),r.Rb()),2&t){var n=r.cc();r.fc("@transitionMessages",n._subscriptAnimationState),r.Cb(1),r.fc("ngIf",n.hintLabel)}}var Jd,Xd,$d=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],tp=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],ep=0,np=((Jd=function t(){_classCallCheck(this,t),this.id="mat-error-"+ep++}).\u0275fac=function(t){return new(t||Jd)},Jd.\u0275dir=r.Ib({type:Jd,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&r.Db("id",e.id)},inputs:{id:"id"}}),Jd),rp={transitionMessages:$u("transitionMessages",[rc("enter",nc({opacity:1,transform:"translateY(0%)"})),ic("void => enter",[nc({opacity:0,transform:"translateY(-100%)"}),tc("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},ip=((Xd=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Xd)},Xd.\u0275dir=r.Ib({type:Xd}),Xd);function op(t){return Error("A hint was already declared for 'align=\"".concat(t,"\"'."))}var ap,sp,up,cp,lp,hp,fp,dp,pp,vp,yp,mp,gp,_p=0,bp=((lp=function t(){_classCallCheck(this,t),this.align="start",this.id="mat-hint-"+_p++}).\u0275fac=function(t){return new(t||lp)},lp.\u0275dir=r.Ib({type:lp,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,e){2&t&&(r.Db("id",e.id)("align",null),r.Eb("mat-right","end"==e.align))},inputs:{align:"align",id:"id"}}),lp),wp=((cp=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||cp)},cp.\u0275dir=r.Ib({type:cp,selectors:[["mat-label"]]}),cp),kp=((up=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||up)},up.\u0275dir=r.Ib({type:up,selectors:[["mat-placeholder"]]}),up),Cp=((sp=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||sp)},sp.\u0275dir=r.Ib({type:sp,selectors:[["","matPrefix",""]]}),sp),Ep=((ap=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||ap)},ap.\u0275dir=r.Ib({type:ap,selectors:[["","matSuffix",""]]}),ap),Sp=0,Op=Th((function t(e){_classCallCheck(this,t),this._elementRef=e}),"primary"),Ip=new r.q("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Tp=new r.q("MatFormField"),xp=((fp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a,s,u,c){var l;return _classCallCheck(this,n),(l=e.call(this,t))._elementRef=t,l._changeDetectorRef=r,l._dir=o,l._defaults=a,l._platform=s,l._ngZone=u,l._outlineGapCalculationNeededImmediately=!1,l._outlineGapCalculationNeededOnStable=!1,l._destroyed=new zt.a,l._showAlwaysAnimate=!1,l._subscriptAnimationState="",l._hintLabel="",l._hintLabelId="mat-hint-"+Sp++,l._labelId="mat-form-field-label-"+Sp++,l._labelOptions=i||{},l.floatLabel=l._getDefaultFloatLabelState(),l._animationsEnabled="NoopAnimations"!==c,l.appearance=a&&a.appearance?a.appearance:"legacy",l._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker,l}return _createClass(n,[{key:"getConnectedOverlayOrigin",value:function(){return this._connectionContainerRef||this._elementRef}},{key:"ngAfterContentInit",value:function(){var t=this;this._validateControlChild();var e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+e.controlType),e.stateChanges.pipe(Ve(null)).subscribe((function(){t._validatePlaceholders(),t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()})),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe($a(this._destroyed)).subscribe((function(){return t._changeDetectorRef.markForCheck()})),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.asObservable().pipe($a(t._destroyed)).subscribe((function(){t._outlineGapCalculationNeededOnStable&&t.updateOutlineGap()}))})),Object(qa.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe((function(){t._outlineGapCalculationNeededOnStable=!0,t._changeDetectorRef.markForCheck()})),this._hintChildren.changes.pipe(Ve(null)).subscribe((function(){t._processHints(),t._changeDetectorRef.markForCheck()})),this._errorChildren.changes.pipe(Ve(null)).subscribe((function(){t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()})),this._dir&&this._dir.change.pipe($a(this._destroyed)).subscribe((function(){"function"==typeof requestAnimationFrame?t._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){return t.updateOutlineGap()}))})):t.updateOutlineGap()}))}},{key:"ngAfterContentChecked",value:function(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}},{key:"ngAfterViewInit",value:function(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_shouldForward",value:function(t){var e=this._control?this._control.ngControl:null;return e&&e[t]}},{key:"_hasPlaceholder",value:function(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}},{key:"_hasLabel",value:function(){return!!this._labelChild}},{key:"_shouldLabelFloat",value:function(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}},{key:"_hideControlPlaceholder",value:function(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}},{key:"_hasFloatingLabel",value:function(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}},{key:"_getDisplayedMessages",value:function(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}},{key:"_animateAndLockLabel",value:function(){var t=this;this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ua(this._label.nativeElement,"transitionend").pipe(Te(1)).subscribe((function(){t._showAlwaysAnimate=!1}))),this.floatLabel="always",this._changeDetectorRef.markForCheck())}},{key:"_validatePlaceholders",value:function(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}},{key:"_processHints",value:function(){this._validateHints(),this._syncDescribedByIds()}},{key:"_validateHints",value:function(){var t,e,n=this;this._hintChildren&&this._hintChildren.forEach((function(r){if("start"===r.align){if(t||n.hintLabel)throw op("start");t=r}else if("end"===r.align){if(e)throw op("end");e=r}}))}},{key:"_getDefaultFloatLabelState",value:function(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}},{key:"_syncDescribedByIds",value:function(){if(this._control){var t=[];if("hint"===this._getDisplayedMessages()){var e=this._hintChildren?this._hintChildren.find((function(t){return"start"===t.align})):null,n=this._hintChildren?this._hintChildren.find((function(t){return"end"===t.align})):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map((function(t){return t.id})));this._control.setDescribedByIds(t)}}},{key:"_validateControlChild",value:function(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}},{key:"updateOutlineGap",value:function(){var t=this._label?this._label.nativeElement:null;if("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser)if(this._isAttachedToDOM()){var e=0,n=0,r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),o=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){var a=r.getBoundingClientRect();if(0===a.width&&0===a.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);var s,u=this._getStartEnd(a),c=this._getStartEnd(t.children[0].getBoundingClientRect()),l=0,h=_createForOfIteratorHelper(t.children);try{for(h.s();!(s=h.n()).done;)l+=s.value.offsetWidth}catch(p){h.e(p)}finally{h.f()}e=Math.abs(c-u)-5,n=l>0?.75*l+10:0}for(var f=0;f<i.length;f++)i[f].style.width=e+"px";for(var d=0;d<o.length;d++)o[d].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}else this._outlineGapCalculationNeededImmediately=!0}},{key:"_getStartEnd",value:function(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}},{key:"_isAttachedToDOM",value:function(){var t=this._elementRef.nativeElement;if(t.getRootNode){var e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}},{key:"appearance",get:function(){return this._appearance},set:function(t){var e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}},{key:"hideRequiredMarker",get:function(){return this._hideRequiredMarker},set:function(t){this._hideRequiredMarker=Na(t)}},{key:"_shouldAlwaysFloat",get:function(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}},{key:"_canLabelFloat",get:function(){return"never"!==this.floatLabel}},{key:"hintLabel",get:function(){return this._hintLabel},set:function(t){this._hintLabel=t,this._processHints()}},{key:"floatLabel",get:function(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel},set:function(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}},{key:"_control",get:function(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic},set:function(t){this._explicitFormFieldControl=t}},{key:"_labelChild",get:function(){return this._labelChildNonStatic||this._labelChildStatic}}]),n}(Op)).\u0275fac=function(t){return new(t||fp)(r.Nb(r.l),r.Nb(r.h),r.Nb(zh,8),r.Nb(Ss,8),r.Nb(Ip,8),r.Nb(fs),r.Nb(r.z),r.Nb(wh,8))},fp.\u0275cmp=r.Hb({type:fp,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var i;1&t&&(r.Gb(n,ip,!0),r.nc(n,ip,!0),r.Gb(n,wp,!0),r.nc(n,wp,!0),r.Gb(n,kp,!0),r.Gb(n,np,!0),r.Gb(n,bp,!0),r.Gb(n,Cp,!0),r.Gb(n,Ep,!0)),2&t&&(r.ic(i=r.bc())&&(e._controlNonStatic=i.first),r.ic(i=r.bc())&&(e._controlStatic=i.first),r.ic(i=r.bc())&&(e._labelChildNonStatic=i.first),r.ic(i=r.bc())&&(e._labelChildStatic=i.first),r.ic(i=r.bc())&&(e._placeholderChild=i.first),r.ic(i=r.bc())&&(e._errorChildren=i),r.ic(i=r.bc())&&(e._hintChildren=i),r.ic(i=r.bc())&&(e._prefixChildren=i),r.ic(i=r.bc())&&(e._suffixChildren=i))},viewQuery:function(t,e){var n;1&t&&(r.wc(Md,!0),r.oc(Ld,!0),r.wc(Fd,!0),r.wc(Vd,!0)),2&t&&(r.ic(n=r.bc())&&(e.underlineRef=n.first),r.ic(n=r.bc())&&(e._connectionContainerRef=n.first),r.ic(n=r.bc())&&(e._inputContainerRef=n.first),r.ic(n=r.bc())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&r.Eb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat)("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r.Bb([{provide:Tp,useExisting:fp}]),r.zb],ngContentSelectors:tp,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.ec($d),r.Sb(0,"div",0),r.Sb(1,"div",1,2),r.ac("click",(function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)})),r.qc(3,Ud,9,0,"ng-container",3),r.qc(4,qd,2,0,"div",4),r.Sb(5,"div",5,6),r.dc(7),r.Sb(8,"span",7),r.qc(9,Wd,5,16,"label",8),r.Rb(),r.Rb(),r.qc(10,Gd,2,0,"div",9),r.Rb(),r.qc(11,Kd,3,4,"div",10),r.Sb(12,"div",11),r.qc(13,Qd,2,1,"div",12),r.qc(14,Zd,5,2,"div",13),r.Rb(),r.Rb()),2&t&&(r.Cb(3),r.fc("ngIf","outline"==e.appearance),r.Cb(1),r.fc("ngIf",e._prefixChildren.length),r.Cb(5),r.fc("ngIf",e._hasFloatingLabel()),r.Cb(1),r.fc("ngIf",e._suffixChildren.length),r.Cb(1),r.fc("ngIf","outline"!=e.appearance),r.Cb(1),r.fc("ngSwitch",e._getDisplayedMessages()),r.Cb(1),r.fc("ngSwitchCase","error"),r.Cb(1),r.fc("ngSwitchCase","hint"))},directives:[H,rt,it,Nu],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[rp.transitionMessages]},changeDetection:0}),fp),Ap=((hp=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:hp}),hp.\u0275inj=r.Kb({factory:function(t){return new(t||hp)},imports:[[at,Oh,ju],Oh]}),hp),Pp=ys({passive:!0}),Dp=((pp=function(){function t(e,n){_classCallCheck(this,t),this._platform=e,this._ngZone=n,this._monitoredElements=new Map}return _createClass(t,[{key:"monitor",value:function(t){var e=this;if(!this._platform.isBrowser)return ne.a;var n=Fa(t),r=this._monitoredElements.get(n);if(r)return r.subject.asObservable();var i=new zt.a,o="cdk-text-field-autofilled",a=function(t){"cdk-text-field-autofill-start"!==t.animationName||n.classList.contains(o)?"cdk-text-field-autofill-end"===t.animationName&&n.classList.contains(o)&&(n.classList.remove(o),e._ngZone.run((function(){return i.next({target:t.target,isAutofilled:!1})}))):(n.classList.add(o),e._ngZone.run((function(){return i.next({target:t.target,isAutofilled:!0})})))};return this._ngZone.runOutsideAngular((function(){n.addEventListener("animationstart",a,Pp),n.classList.add("cdk-text-field-autofill-monitored")})),this._monitoredElements.set(n,{subject:i,unlisten:function(){n.removeEventListener("animationstart",a,Pp)}}),i.asObservable()}},{key:"stopMonitoring",value:function(t){var e=Fa(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}},{key:"ngOnDestroy",value:function(){var t=this;this._monitoredElements.forEach((function(e,n){return t.stopMonitoring(n)}))}}]),t}()).\u0275fac=function(t){return new(t||pp)(r.Wb(fs),r.Wb(r.z))},pp.\u0275prov=Object(r.Jb)({factory:function(){return new pp(Object(r.Wb)(fs),Object(r.Wb)(r.z))},token:pp,providedIn:"root"}),pp),Rp=((dp=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:dp}),dp.\u0275inj=r.Kb({factory:function(t){return new(t||dp)},imports:[[ds]]}),dp),Np=new r.q("MAT_INPUT_VALUE_ACCESSOR"),jp=["button","checkbox","file","hidden","image","radio","range","reset","submit"],Mp=0,Lp=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).errorState=!1,t.stateChanges=new zt.a,t}return _createClass(n,[{key:"updateErrorState",value:function(){var t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}]),n}((function t(e,n,r,i){_classCallCheck(this,t),this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i})),Fp=((yp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a,s,u,c,l){var h;_classCallCheck(this,n),(h=e.call(this,s,o,a,i))._elementRef=t,h._platform=r,h.ngControl=i,h._autofillMonitor=c,h._uid="mat-input-"+Mp++,h.focused=!1,h.stateChanges=new zt.a,h.controlType="mat-input",h.autofilled=!1,h._disabled=!1,h._required=!1,h._type="text",h._readonly=!1,h._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter((function(t){return vs().has(t)}));var f=h._elementRef.nativeElement,d=f.nodeName.toLowerCase();return h._inputValueAccessor=u||f,h._previousNativeValue=h.value,h.id=h.id,r.IOS&&l.runOutsideAngular((function(){t.nativeElement.addEventListener("keyup",(function(t){var e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))}))})),h._isServer=!h._platform.isBrowser,h._isNativeSelect="select"===d,h._isTextarea="textarea"===d,h._isNativeSelect&&(h.controlType=f.multiple?"mat-native-select-multiple":"mat-native-select"),h}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe((function(e){t.autofilled=e.isAutofilled,t.stateChanges.next()}))}},{key:"ngOnChanges",value:function(){this.stateChanges.next()}},{key:"ngOnDestroy",value:function(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}},{key:"ngDoCheck",value:function(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}},{key:"focus",value:function(t){this._elementRef.nativeElement.focus(t)}},{key:"_focusChanged",value:function(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}},{key:"_onInput",value:function(){}},{key:"_dirtyCheckNativeValue",value:function(){var t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}},{key:"_validateType",value:function(){if(jp.indexOf(this._type)>-1)throw Error('Input type "'.concat(this._type,"\" isn't supported by matInput."))}},{key:"_isNeverEmpty",value:function(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}},{key:"_isBadInput",value:function(){var t=this._elementRef.nativeElement.validity;return t&&t.badInput}},{key:"setDescribedByIds",value:function(t){this._ariaDescribedby=t.join(" ")}},{key:"onContainerClick",value:function(){this.focused||this.focus()}},{key:"disabled",get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(t){this._disabled=Na(t),this.focused&&(this.focused=!1,this.stateChanges.next())}},{key:"id",get:function(){return this._id},set:function(t){this._id=t||this._uid}},{key:"required",get:function(){return this._required},set:function(t){this._required=Na(t)}},{key:"type",get:function(){return this._type},set:function(t){this._type=t||"text",this._validateType(),!this._isTextarea&&vs().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}},{key:"value",get:function(){return this._inputValueAccessor.value},set:function(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}},{key:"readonly",get:function(){return this._readonly},set:function(t){this._readonly=Na(t)}},{key:"empty",get:function(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}},{key:"shouldLabelFloat",get:function(){if(this._isNativeSelect){var t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}}]),n}(Lp)).\u0275fac=function(t){return new(t||yp)(r.Nb(r.l),r.Nb(fs),r.Nb(ao,10),r.Nb(da,8),r.Nb(_a,8),r.Nb(Rh),r.Nb(Np,10),r.Nb(Dp),r.Nb(r.z))},yp.\u0275dir=r.Ib({type:yp,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:10,hostBindings:function(t,e){1&t&&r.ac("focus",(function(){return e._focusChanged(!0)}))("blur",(function(){return e._focusChanged(!1)}))("input",(function(){return e._onInput()})),2&t&&(r.Vb("disabled",e.disabled)("required",e.required),r.Db("id",e.id)("placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-describedby",e._ariaDescribedby||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),r.Eb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher"},exportAs:["matInput"],features:[r.Bb([{provide:ip,useExisting:yp}]),r.zb,r.Ab]}),yp),Vp=((vp=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:vp}),vp.\u0275inj=r.Kb({factory:function(t){return new(t||vp)},providers:[Rh],imports:[[Rp,Ap],Rp,Ap]}),vp),Up=["mat-button",""],qp=["*"],Bp=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],zp=Th(Ih(xh((function t(e){_classCallCheck(this,t),this._elementRef=e})))),Hp=((gp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;_classCallCheck(this,n),(o=e.call(this,t))._focusMonitor=r,o._animationMode=i,o.isRoundButton=o._hasHostAttributes("mat-fab","mat-mini-fab"),o.isIconButton=o._hasHostAttributes("mat-icon-button");var a,s=_createForOfIteratorHelper(Bp);try{for(s.s();!(a=s.n()).done;){var u=a.value;o._hasHostAttributes(u)&&o._getHostElement().classList.add(u)}}catch(c){s.e(c)}finally{s.f()}return t.nativeElement.classList.add("mat-button-base"),o._focusMonitor.monitor(o._elementRef,!0),o.isRoundButton&&(o.color="accent"),o}return _createClass(n,[{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._getHostElement(),t,e)}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_hasHostAttributes",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.some((function(e){return t._getHostElement().hasAttribute(e)}))}}]),n}(zp)).\u0275fac=function(t){return new(t||gp)(r.Nb(r.l),r.Nb(Ku),r.Nb(wh,8))},gp.\u0275cmp=r.Hb({type:gp,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&r.wc(qh,!0),2&t&&r.ic(n=r.bc())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:3,hostBindings:function(t,e){2&t&&(r.Db("disabled",e.disabled||null),r.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.zb],attrs:Up,ngContentSelectors:qp,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.ec(),r.Sb(0,"span",0),r.dc(1),r.Rb(),r.Ob(2,"div",1),r.Ob(3,"div",2)),2&t&&(r.Cb(2),r.Eb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.fc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[qh],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),gp),Wp=((mp=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:mp}),mp.\u0275inj=r.Kb({factory:function(t){return new(t||mp)},imports:[[Bh,Oh],Oh]}),mp);function Gp(t,e){if(1&t&&(r.Sb(0,"mat-error",11),r.sc(1),r.Rb()),2&t){var n=r.cc();r.Cb(1),r.tc(n.wrongMailMessage)}}function Kp(t,e){if(1&t&&(r.Sb(0,"mat-error",11),r.sc(1),r.Rb()),2&t){var n=r.cc();r.Cb(1),r.tc(n.wrongPasswordMessage)}}var Qp,Yp,Zp=((Yp=function(){function t(e,n,r,i){_classCallCheck(this,t),this.dialogRef=e,this.auth=n,this.router=r,this.noteMaker=i,this.isLoginMode=!0,this.isLoading=!1,this.wrongMail=!1,this.wrongPassword=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.signInForm=new ca({email:new ua(null),password:new ua(null)})}},{key:"onSubmit",value:function(){var t=this;this.wrongMail=!1,this.wrongPassword=!1,this.wrongMailMessage=null,this.wrongPasswordMessage=null,this.isLoading=!0;var e=this.signInForm.value,n=e.email,r=e.password;(this.isLoginMode?this.auth.signIn(n,r):this.auth.signUp(n,r)).subscribe((function(e){t.isLoading=!1,console.log("redirecting"),t.dialogRef.close(),t.router.navigate(["/notes"])}),(function(e){var n=e.error.error.message;console.log(n),t.errorHandling(n),t.isLoading=!1}))}},{key:"onSwitchLogMode",value:function(){this.isLoginMode=!this.isLoginMode,console.log("switching")}},{key:"errorHandling",value:function(t){switch(console.log("errorHandling"),t){case"EMAIL_NOT_FOUND":this.wrongMailMessage="E-mail not found!",this.wrongMail=!0;break;case"INVALID_PASSWORD":console.log("error invalid password"),this.wrongPasswordMessage="Invalid password!",this.wrongPassword=!0;break;case"INVALID_EMAIL":console.log("error invalid email"),this.wrongMailMessage="Invalid e-mail!",this.wrongMail=!0;break;case"MISSING_PASSWORD":this.wrongPasswordMessage="Missing password!",this.wrongPassword=!0;break;case"MISSING_EMAIL":this.wrongMailMessage="Missing e-mail!",this.wrongMail=!0;break;case"EMAIL_EXISTS":this.wrongMailMessage="E-mail already registered!",this.wrongMail=!0}}},{key:"resetErrors",value:function(){this.wrongMail=!1,this.wrongPassword=!1}}]),t}()).\u0275fac=function(t){return new(t||Yp)(r.Nb(nf),r.Nb(rd),r.Nb(di),r.Nb(jd))},Yp.\u0275cmp=r.Hb({type:Yp,selectors:[["app-log-form"]],decls:16,vars:5,consts:[["id","signInForm"],["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],[1,"form-group"],["matInput","","type","email","placeholder","Type your e-mail","formControlName","email",3,"click"],["class","error-message",4,"ngIf"],["matInput","","type","password","placeholder","Type your password","formControlName","password",3,"click"],["mat-dialog-actions",""],["mat-button","",3,"click"],[3,"click"],[1,"error-message"]],template:function(t,e){1&t&&(r.Sb(0,"section",0),r.Sb(1,"h3",1),r.sc(2),r.Rb(),r.Sb(3,"div",2),r.Sb(4,"form",3),r.Sb(5,"mat-form-field",4),r.Sb(6,"input",5),r.ac("click",(function(){return e.resetErrors()})),r.Rb(),r.Rb(),r.qc(7,Gp,2,1,"mat-error",6),r.Sb(8,"mat-form-field",4),r.Sb(9,"input",7),r.ac("click",(function(){return e.resetErrors()})),r.Rb(),r.Rb(),r.qc(10,Kp,2,1,"mat-error",6),r.Rb(),r.Rb(),r.Sb(11,"div",8),r.Sb(12,"button",9),r.ac("click",(function(){return e.onSubmit()})),r.sc(13,"Submit"),r.Rb(),r.Sb(14,"small",10),r.ac("click",(function(){return e.onSwitchLogMode()})),r.sc(15),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Cb(2),r.tc(e.isLoginMode?"Sign in":"Sign up"),r.Cb(2),r.fc("formGroup",e.signInForm),r.Cb(3),r.fc("ngIf",e.wrongMail),r.Cb(3),r.fc("ngIf",e.wrongPassword),r.Cb(5),r.tc(e.isLoginMode?"Wanna sign up?":"Wanna log in?"))},directives:[lf,hf,ya,co,_a,xp,Fp,$i,uo,Aa,H,ff,Hp,np],styles:["#signInForm[_ngcontent-%COMP%]{width:250px;height:auto;padding:20px 20px 25px}#signInForm[_ngcontent-%COMP%], #signInForm[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}#signInForm[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{width:200px}#signInForm[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column}#signInForm[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#00f;cursor:pointer}#signInForm[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]{margin-top:10px}#signInForm[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.8rem}"]}),Yp),Jp=((Qp=function(){function t(){_classCallCheck(this,t),this.invokeNavbarLoginComponent=new zt.a}return _createClass(t,[{key:"onInvokeNavbarLoginComponent",value:function(){this.invokeNavbarLoginComponent.next()}}]),t}()).\u0275fac=function(t){return new(t||Qp)},Qp.\u0275prov=r.Jb({token:Qp,factory:Qp.\u0275fac,providedIn:"root"}),Qp);function Xp(t,e){if(1&t&&(r.Sb(0,"li",6),r.sc(1),r.Rb()),2&t){var n=r.cc();r.Cb(1),r.tc(n.userName)}}function $p(t,e){if(1&t){var n=r.Tb();r.Sb(0,"li"),r.Sb(1,"a",7),r.ac("click",(function(){return r.kc(n),r.cc().openDialog()})),r.sc(2,"Log In"),r.Rb(),r.Rb()}}function tv(t,e){if(1&t){var n=r.Tb();r.Sb(0,"li"),r.Sb(1,"a",7),r.ac("click",(function(){return r.kc(n),r.cc().logout()})),r.sc(2,"Log out"),r.Rb(),r.Rb()}}var ev,nv,rv=((nv=function(){function t(e,n,r,i){_classCallCheck(this,t),this.dialog=e,this.auth=n,this.router=r,this.eventEmitter=i,this.isLoggedIn=!1,this.userName=null}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.userSub=this.auth.user.subscribe((function(e){t.isLoggedIn=!!e,e&&(t.userName=e.email.split("@")[0])})),this.eventEmitter.subsVar=this.eventEmitter.invokeNavbarLoginComponent.subscribe((function(){t.openDialog()}))}},{key:"openDialog",value:function(){this.dialog.open(Zp,{width:"300px",height:"330px"})}},{key:"logout",value:function(){this.auth.logout(),this.router.navigate(["/home"])}}]),t}()).\u0275fac=function(t){return new(t||nv)(r.Nb(uf),r.Nb(rd),r.Nb(di),r.Nb(Jp))},nv.\u0275cmp=r.Hb({type:nv,selectors:[["app-navbar"]],viewQuery:function(t,e){var n;1&t&&r.wc(Pd,!0),2&t&&r.ic(n=r.bc())&&(e.signIn=n.first)},decls:9,vars:3,consts:[["id","navbar"],[1,"title-container"],["href","#"],[1,"log-container"],["class","username",4,"ngIf"],[4,"ngIf"],[1,"username"],[3,"click"]],template:function(t,e){1&t&&(r.Sb(0,"nav",0),r.Sb(1,"div",1),r.Sb(2,"a",2),r.sc(3,"NotesAPP"),r.Rb(),r.Rb(),r.Sb(4,"div"),r.Sb(5,"ul",3),r.qc(6,Xp,2,1,"li",4),r.qc(7,$p,3,0,"li",5),r.qc(8,tv,3,0,"li",5),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Cb(6),r.fc("ngIf",e.isLoggedIn),r.Cb(1),r.fc("ngIf",!e.isLoggedIn),r.Cb(1),r.fc("ngIf",e.isLoggedIn))},directives:[H],styles:["#navbar[_ngcontent-%COMP%]{background-color:#0d1f2d;color:#fff;display:flex;align-items:center;justify-content:space-between}#navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:inherit}#navbar[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}#navbar[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:20px;font-size:2rem}#navbar[_ngcontent-%COMP%]   .log-container[_ngcontent-%COMP%]{display:flex;font-size:1rem;padding:0 15px}#navbar[_ngcontent-%COMP%]   .log-container[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#0f0;margin-right:5px}"]}),nv),iv=((ev=function(){function t(e){_classCallCheck(this,t),this.auth=e,this.title="notesAppContentEditable"}return _createClass(t,[{key:"ngOnInit",value:function(){this.auth.autologin()}}]),t}()).\u0275fac=function(t){return new(t||ev)(r.Nb(rd))},ev.\u0275cmp=r.Hb({type:ev,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Ob(0,"app-navbar"),r.Ob(1,"router-outlet"))},directives:[rv,wi],styles:["h1[_ngcontent-%COMP%]{text-align:center}"]}),ev);function ov(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}function av(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function sv(t,e){var n=e?"":"none";av(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function uv(t){var e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function cv(t,e){return t.getPropertyValue(e).split(",").map((function(t){return t.trim()}))}function lv(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function hv(t,e,n){var r=t.top,i=t.bottom,o=t.left,a=t.right;return n>=r&&n<=i&&e>=o&&e<=a}function fv(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function dv(t,e,n,r){var i=t.top,o=t.right,a=t.bottom,s=t.left,u=t.width*e,c=t.height*e;return r>i-c&&r<a+c&&n>s-u&&n<o+u}var pv=function(){function t(e,n){_classCallCheck(this,t),this._document=e,this._viewportRuler=n,this.positions=new Map}return _createClass(t,[{key:"clear",value:function(){this.positions.clear()}},{key:"cache",value:function(t){var e=this;this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach((function(t){e.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:lv(t)})}))}},{key:"handleScroll",value:function(t){var e=t.target,n=this.positions.get(e);if(!n)return null;var r,i,o=e===this._document?e.documentElement:e,a=n.scrollPosition;if(e===this._document){var s=this._viewportRuler.getViewportScrollPosition();r=s.top,i=s.left}else r=e.scrollTop,i=e.scrollLeft;var u=a.top-r,c=a.left-i;return this.positions.forEach((function(t,n){t.clientRect&&e!==n&&o.contains(n)&&fv(t.clientRect,u,c)})),a.top=r,a.left=i,{top:u,left:c}}}]),t}(),vv=ys({passive:!0}),yv=ys({passive:!1}),mv=function(){function t(e,n,r,i,o,a){var s=this;_classCallCheck(this,t),this._config=n,this._document=r,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new zt.a,this._pointerMoveSubscription=Ke.a.EMPTY,this._pointerUpSubscription=Ke.a.EMPTY,this._scrollSubscription=Ke.a.EMPTY,this._resizeSubscription=Ke.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new zt.a,this.started=new zt.a,this.released=new zt.a,this.ended=new zt.a,this.entered=new zt.a,this.exited=new zt.a,this.dropped=new zt.a,this.moved=this._moveEvents.asObservable(),this._pointerDown=function(t){if(s.beforeStarted.next(),s._handles.length){var e=s._handles.find((function(e){var n=t.target;return!!n&&(n===e||e.contains(n))}));!e||s._disabledHandles.has(e)||s.disabled||s._initializeDragSequence(e,t)}else s.disabled||s._initializeDragSequence(s._rootElement,t)},this._pointerMove=function(t){t.preventDefault();var e=s._getPointerPositionOnPage(t);if(s._hasStartedDragging){s._boundaryElement&&(s._previewRect&&(s._previewRect.width||s._previewRect.height)||(s._previewRect=(s._preview||s._rootElement).getBoundingClientRect()));var n=s._getConstrainedPointerPosition(e);if(s._hasMoved=!0,s._updatePointerDirectionDelta(n),s._dropContainer)s._updateActiveDropContainer(n);else{var r=s._activeTransform;r.x=n.x-s._pickupPositionOnPage.x+s._passiveTransform.x,r.y=n.y-s._pickupPositionOnPage.y+s._passiveTransform.y,s._applyRootElementTransform(r.x,r.y),"undefined"!=typeof SVGElement&&s._rootElement instanceof SVGElement&&s._rootElement.setAttribute("transform","translate(".concat(r.x," ").concat(r.y,")"))}s._moveEvents.observers.length&&s._ngZone.run((function(){s._moveEvents.next({source:s,pointerPosition:n,event:t,distance:s._getDragDistance(n),delta:s._pointerDirectionDelta})}))}else if(Math.abs(e.x-s._pickupPositionOnPage.x)+Math.abs(e.y-s._pickupPositionOnPage.y)>=s._config.dragStartThreshold){if(!(Date.now()>=s._dragStartTime+s._getDragStartDelay(t)))return void s._endDragSequence(t);s._dropContainer&&s._dropContainer.isDragging()||(s._hasStartedDragging=!0,s._ngZone.run((function(){return s._startDragSequence(t)})))}},this._pointerUp=function(t){s._endDragSequence(t)},this.withRootElement(e),this._parentPositions=new pv(r,o),a.registerDragItem(this)}return _createClass(t,[{key:"getPlaceholderElement",value:function(){return this._placeholder}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getVisibleElement",value:function(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}},{key:"withHandles",value:function(t){return this._handles=t.map((function(t){return Fa(t)})),this._handles.forEach((function(t){return sv(t,!1)})),this._toggleNativeDragInteractions(),this}},{key:"withPreviewTemplate",value:function(t){return this._previewTemplate=t,this}},{key:"withPlaceholderTemplate",value:function(t){return this._placeholderTemplate=t,this}},{key:"withRootElement",value:function(t){var e=this,n=Fa(t);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular((function(){n.addEventListener("mousedown",e._pointerDown,yv),n.addEventListener("touchstart",e._pointerDown,vv)})),this._initialTransform=void 0,this._rootElement=n),this}},{key:"withBoundaryElement",value:function(t){var e=this;return this._boundaryElement=t?Fa(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe((function(){return e._containInsideBoundaryOnResize()}))),this}},{key:"dispose",value:function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&wv(this._rootElement),wv(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}},{key:"isDragging",value:function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}},{key:"reset",value:function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}},{key:"disableHandle",value:function(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}},{key:"enableHandle",value:function(t){this._disabledHandles.delete(t)}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"_withDropContainer",value:function(t){this._dropContainer=t}},{key:"getFreeDragPosition",value:function(){var t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}},{key:"setFreeDragPosition",value:function(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}},{key:"_sortFromLastPointerPosition",value:function(){var t=this._pointerPositionAtLastDirectionChange;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t))}},{key:"_removeSubscriptions",value:function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}},{key:"_destroyPreview",value:function(){this._preview&&wv(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}},{key:"_destroyPlaceholder",value:function(){this._placeholder&&wv(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}},{key:"_endDragSequence",value:function(t){var e=this;this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then((function(){e._cleanupDragArtifacts(t),e._cleanupCachedDimensions(),e._dragDropRegistry.stopDragging(e)}))):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run((function(){e.ended.next({source:e,distance:e._getDragDistance(e._getPointerPositionOnPage(t))})})),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}},{key:"_startDragSequence",value:function(t){this.started.next({source:this}),kv(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();var e,n=this._dropContainer;if(n){var r=this._rootElement,i=r.parentNode,o=this._preview=this._createPreviewElement(),a=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment("");i.insertBefore(s,r),r.style.display="none",this._document.body.appendChild(i.replaceChild(a,r)),(e=this._document,e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body).appendChild(o),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}},{key:"_initializeDragSequence",value:function(t,e){var n=this;e.stopPropagation();var r=this.isDragging(),i=kv(e),o=!i&&0!==e.button,a=this._rootElement,s=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),!(r||o||s)){this._handles.length&&(this._rootElementTapHighlight=a.style.webkitTapHighlightColor,a.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe((function(t){n._updateOnScroll(t)})),this._boundaryElement&&(this._boundaryRect=lv(this._boundaryElement));var u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);var c=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}}},{key:"_cleanupDragArtifacts",value:function(t){var e=this;this._rootElement.style.display="",this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run((function(){var n=e._dropContainer,r=n.getItemIndex(e),i=e._getPointerPositionOnPage(t),o=e._getDragDistance(e._getPointerPositionOnPage(t)),a=n._isOverContainer(i.x,i.y);e.ended.next({source:e,distance:o}),e.dropped.next({item:e,currentIndex:r,previousIndex:e._initialIndex,container:n,previousContainer:e._initialContainer,isPointerOverContainer:a,distance:o}),n.drop(e,r,e._initialContainer,a,o,e._initialIndex),e._dropContainer=e._initialContainer}))}},{key:"_updateActiveDropContainer",value:function(t){var e=this,n=t.x,r=t.y,i=this._initialContainer._getSiblingContainerFromPosition(this,n,r);!i&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,r)&&(i=this._initialContainer),i&&i!==this._dropContainer&&this._ngZone.run((function(){e.exited.next({item:e,container:e._dropContainer}),e._dropContainer.exit(e),e._dropContainer=i,e._dropContainer.enter(e,n,r,i===e._initialContainer&&i.sortingDisabled?e._initialIndex:void 0),e.entered.next({item:e,container:i,currentIndex:i.getItemIndex(e)})})),this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,n,r,this._pointerDirectionDelta),this._preview.style.transform=gv(n-this._pickupPositionInElement.x,r-this._pickupPositionInElement.y)}},{key:"_createPreviewElement",value:function(){var t,e=this._previewTemplate,n=this.previewClass,r=e?e.template:null;if(r&&e){var i=e.matchSize?this._rootElement.getBoundingClientRect():null,o=e.viewContainer.createEmbeddedView(r,e.context);o.detectChanges(),t=Cv(o,this._document),this._previewRef=o,e.matchSize?Ev(t,i):t.style.transform=gv(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var a=this._rootElement;Ev(t=_v(a),a.getBoundingClientRect())}return av(t.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),sv(t,!1),t.classList.add("cdk-drag-preview"),t.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach((function(e){return t.classList.add(e)})):t.classList.add(n)),t}},{key:"_animatePreviewToPlaceholder",value:function(){var t=this;if(!this._hasMoved)return Promise.resolve();var e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=gv(e.left,e.top);var n=function(t){var e=getComputedStyle(t),n=cv(e,"transition-property"),r=n.find((function(t){return"transform"===t||"all"===t}));if(!r)return 0;var i=n.indexOf(r),o=cv(e,"transition-duration"),a=cv(e,"transition-delay");return uv(o[i])+uv(a[i])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular((function(){return new Promise((function(e){var r=function n(r){(!r||r.target===t._preview&&"transform"===r.propertyName)&&(t._preview.removeEventListener("transitionend",n),e(),clearTimeout(i))},i=setTimeout(r,1.5*n);t._preview.addEventListener("transitionend",r)}))}))}},{key:"_createPlaceholderElement",value:function(){var t,e=this._placeholderTemplate,n=e?e.template:null;return n?(this._placeholderRef=e.viewContainer.createEmbeddedView(n,e.context),this._placeholderRef.detectChanges(),t=Cv(this._placeholderRef,this._document)):t=_v(this._rootElement),t.classList.add("cdk-drag-placeholder"),t}},{key:"_getPointerPositionInElement",value:function(t,e){var n=this._rootElement.getBoundingClientRect(),r=t===this._rootElement?null:t,i=r?r.getBoundingClientRect():n,o=kv(e)?e.targetTouches[0]:e,a=this._getViewportScrollPosition();return{x:i.left-n.left+(o.pageX-i.left-a.left),y:i.top-n.top+(o.pageY-i.top-a.top)}}},{key:"_getPointerPositionOnPage",value:function(t){var e=kv(t)?t.touches[0]||t.changedTouches[0]:t,n=this._getViewportScrollPosition();return{x:e.pageX-n.left,y:e.pageY-n.top}}},{key:"_getConstrainedPointerPosition",value:function(t){var e=this.constrainPosition?this.constrainPosition(t,this):t,n=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===n?e.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==n||(e.x=this._pickupPositionOnPage.x),this._boundaryRect){var r=this._pickupPositionInElement,i=r.x,o=r.y,a=this._boundaryRect,s=this._previewRect,u=a.top+o,c=a.bottom-(s.height-o);e.x=bv(e.x,a.left+i,a.right-(s.width-i)),e.y=bv(e.y,u,c)}return e}},{key:"_updatePointerDirectionDelta",value:function(t){var e=t.x,n=t.y,r=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-i.x),a=Math.abs(n-i.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=e>i.x?1:-1,i.x=e),a>this._config.pointerDirectionChangeThreshold&&(r.y=n>i.y?1:-1,i.y=n),r}},{key:"_toggleNativeDragInteractions",value:function(){if(this._rootElement&&this._handles){var t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,sv(this._rootElement,t))}}},{key:"_removeRootElementListeners",value:function(t){t.removeEventListener("mousedown",this._pointerDown,yv),t.removeEventListener("touchstart",this._pointerDown,vv)}},{key:"_applyRootElementTransform",value:function(t,e){var n=gv(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}},{key:"_getDragDistance",value:function(t){var e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}},{key:"_cleanupCachedDimensions",value:function(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}},{key:"_containInsideBoundaryOnResize",value:function(){var t=this._passiveTransform,e=t.x,n=t.y;if(!(0===e&&0===n||this.isDragging())&&this._boundaryElement){var r=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(!(0===r.width&&0===r.height||0===i.width&&0===i.height)){var o=r.left-i.left,a=i.right-r.right,s=r.top-i.top,u=i.bottom-r.bottom;r.width>i.width?(o>0&&(e+=o),a>0&&(e-=a)):e=0,r.height>i.height?(s>0&&(n+=s),u>0&&(n-=u)):n=0,e===this._passiveTransform.x&&n===this._passiveTransform.y||this.setFreeDragPosition({y:n,x:e})}}}},{key:"_getDragStartDelay",value:function(t){var e=this.dragStartDelay;return"number"==typeof e?e:kv(t)?e.touch:e?e.mouse:0}},{key:"_updateOnScroll",value:function(t){var e=this._parentPositions.handleScroll(t);this._boundaryRect&&e&&fv(this._boundaryRect,e.top,e.left)}},{key:"_getViewportScrollPosition",value:function(){var t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}},{key:"disabled",get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(t){var e=Na(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}}]),t}();function gv(t,e){return"translate3d(".concat(Math.round(t),"px, ").concat(Math.round(e),"px, 0)")}function _v(t){var e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),r=t.querySelectorAll("canvas");e.removeAttribute("id");for(var i=0;i<n.length;i++)n[i].removeAttribute("id");if(r.length)for(var o=e.querySelectorAll("canvas"),a=0;a<r.length;a++){var s=o[a].getContext("2d");s&&s.drawImage(r[a],0,0)}return e}function bv(t,e,n){return Math.max(e,Math.min(n,t))}function wv(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function kv(t){return"t"===t.type[0]}function Cv(t,e){var n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];var r=e.createElement("div");return n.forEach((function(t){return r.appendChild(t)})),r}function Ev(t,e){t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.transform=gv(e.left,e.top)}function Sv(t,e){return Math.max(0,Math.min(e,t))}var Ov=function(){function t(e,n,r,i,o){var a=this;_classCallCheck(this,t),this._dragDropRegistry=n,this._ngZone=i,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=function(){return!0},this.beforeStarted=new zt.a,this.entered=new zt.a,this.exited=new zt.a,this.dropped=new zt.a,this.sorted=new zt.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Ke.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new zt.a,this._cachedShadowRoot=null,this._startScrollInterval=function(){a._stopScrolling(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ka.a;return(!Object(Za.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=Ka.a),new Gt.a((function(n){return n.add(e.schedule(ov,t,{subscriber:n,counter:0,period:t})),n}))}(0,za).pipe($a(a._stopScrollTimers)).subscribe((function(){var t=a._scrollNode;1===a._verticalScrollDirection?Tv(t,-2):2===a._verticalScrollDirection&&Tv(t,2),1===a._horizontalScrollDirection?xv(t,-2):2===a._horizontalScrollDirection&&xv(t,2)}))},this.element=Fa(e),this._document=r,this.withScrollableParents([this.element]),n.registerDropContainer(this),this._parentPositions=new pv(r,o)}return _createClass(t,[{key:"dispose",value:function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"start",value:function(){var t=this,e=Fa(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach((function(e){return e._startReceiving(t)})),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}},{key:"enter",value:function(t,e,n,r){var i;this.start(),null==r?-1===(i=this.sortingDisabled?this._draggables.indexOf(t):-1)&&(i=this._getItemIndexFromPointerPosition(t,e,n)):i=r;var o=this._activeDraggables,a=o.indexOf(t),s=t.getPlaceholderElement(),u=o[i];if(u===t&&(u=o[i+1]),a>-1&&o.splice(a,1),u&&!this._dragDropRegistry.isDragging(u)){var c=u.getRootElement();c.parentElement.insertBefore(s,c),o.splice(i,0,t)}else{var l=Fa(this.element);this._shouldEnterAsFirstChild(e,n)?(l.insertBefore(s,o[0].getRootElement()),o.unshift(t)):(l.appendChild(s),o.push(t))}s.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}},{key:"exit",value:function(t){this._reset(),this.exited.next({item:t,container:this})}},{key:"drop",value:function(t,e,n,r,i,o){this._reset(),null==o&&(o=n.getItemIndex(t)),this.dropped.next({item:t,currentIndex:e,previousIndex:o,container:this,previousContainer:n,isPointerOverContainer:r,distance:i})}},{key:"withItems",value:function(t){var e=this,n=this._draggables;return this._draggables=t,t.forEach((function(t){return t._withDropContainer(e)})),this.isDragging()&&(n.filter((function(t){return t.isDragging()})).every((function(e){return-1===t.indexOf(e)}))?this._reset():this._cacheItems()),this}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"connectedTo",value:function(t){return this._siblings=t.slice(),this}},{key:"withOrientation",value:function(t){return this._orientation=t,this}},{key:"withScrollableParents",value:function(t){var e=Fa(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e].concat(_toConsumableArray(t)):t.slice(),this}},{key:"getScrollableParents",value:function(){return this._scrollableElements}},{key:"getItemIndex",value:function(t){return this._isDragging?Iv("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,(function(e){return e.drag===t})):this._draggables.indexOf(t)}},{key:"isReceiving",value:function(){return this._activeSiblings.size>0}},{key:"_sortItem",value:function(t,e,n,r){if(!this.sortingDisabled&&dv(this._clientRect,.05,e,n)){var i=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,n,r);if(!(-1===o&&i.length>0)){var a="horizontal"===this._orientation,s=Iv(i,(function(e){return e.drag===t})),u=i[o],c=i[s].clientRect,l=u.clientRect,h=s>o?1:-1;this._previousSwap.drag=u.drag,this._previousSwap.delta=a?r.x:r.y;var f=this._getItemOffsetPx(c,l,h),d=this._getSiblingOffsetPx(s,i,h),p=i.slice();!function(t,e,n){var r=Sv(e,t.length-1),i=Sv(n,t.length-1);if(r!==i){for(var o=t[r],a=i<r?-1:1,s=r;s!==i;s+=a)t[s]=t[s+a];t[i]=o}}(i,s,o),this.sorted.next({previousIndex:s,currentIndex:o,container:this,item:t}),i.forEach((function(e,n){if(p[n]!==e){var r=e.drag===t,i=r?f:d,o=r?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=i,a?(o.style.transform="translate3d(".concat(Math.round(e.offset),"px, 0, 0)"),fv(e.clientRect,0,i)):(o.style.transform="translate3d(0, ".concat(Math.round(e.offset),"px, 0)"),fv(e.clientRect,i,0))}}))}}}},{key:"_startScrollingIfNecessary",value:function(t,e){var n=this;if(!this.autoScrollDisabled){var r,i=0,o=0;if(this._parentPositions.positions.forEach((function(a,s){var u;s!==n._document&&a.clientRect&&!r&&dv(a.clientRect,.05,t,e)&&(u=_slicedToArray(function(t,e,n,r){var i=Av(e,r),o=Pv(e,n),a=0,s=0;if(i){var u=t.scrollTop;1===i?u>0&&(a=1):t.scrollHeight-u>t.clientHeight&&(a=2)}if(o){var c=t.scrollLeft;1===o?c>0&&(s=1):t.scrollWidth-c>t.clientWidth&&(s=2)}return[a,s]}(s,a.clientRect,t,e),2),i=u[0],o=u[1],(i||o)&&(r=s))})),!i&&!o){var a=this._viewportRuler.getViewportSize(),s=a.width,u=a.height,c={width:s,height:u,top:0,right:s,bottom:u,left:0};i=Av(c,e),o=Pv(c,t),r=window}!r||i===this._verticalScrollDirection&&o===this._horizontalScrollDirection&&r===this._scrollNode||(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=r,(i||o)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}}},{key:"_stopScrolling",value:function(){this._stopScrollTimers.next()}},{key:"_cacheParentPositions",value:function(){var t=Fa(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}},{key:"_cacheItemPositions",value:function(){var t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map((function(t){var e=t.getVisibleElement();return{drag:t,offset:0,clientRect:lv(e)}})).sort((function(e,n){return t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top}))}},{key:"_reset",value:function(){var t=this;this._isDragging=!1;var e=Fa(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach((function(t){var e=t.getRootElement();e&&(e.style.transform="")})),this._siblings.forEach((function(e){return e._stopReceiving(t)})),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}},{key:"_getSiblingOffsetPx",value:function(t,e,n){var r="horizontal"===this._orientation,i=e[t].clientRect,o=e[t+-1*n],a=i[r?"width":"height"]*n;if(o){var s=r?"left":"top",u=r?"right":"bottom";-1===n?a-=o.clientRect[s]-i[u]:a+=i[s]-o.clientRect[u]}return a}},{key:"_getItemOffsetPx",value:function(t,e,n){var r="horizontal"===this._orientation,i=r?e.left-t.left:e.top-t.top;return-1===n&&(i+=r?e.width-t.width:e.height-t.height),i}},{key:"_shouldEnterAsFirstChild",value:function(t,e){if(!this._activeDraggables.length)return!1;var n=this._itemPositions,r="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){var i=n[n.length-1].clientRect;return r?t>=i.right:e>=i.bottom}var o=n[0].clientRect;return r?t<=o.left:e<=o.top}},{key:"_getItemIndexFromPointerPosition",value:function(t,e,n,r){var i=this,o="horizontal"===this._orientation;return Iv(this._itemPositions,(function(a,s,u){var c=a.drag,l=a.clientRect;if(c===t)return u.length<2;if(r){var h=o?r.x:r.y;if(c===i._previousSwap.drag&&h===i._previousSwap.delta)return!1}return o?e>=Math.floor(l.left)&&e<Math.floor(l.right):n>=Math.floor(l.top)&&n<Math.floor(l.bottom)}))}},{key:"_cacheItems",value:function(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}},{key:"_isOverContainer",value:function(t,e){return hv(this._clientRect,t,e)}},{key:"_getSiblingContainerFromPosition",value:function(t,e,n){return this._siblings.find((function(r){return r._canReceive(t,e,n)}))}},{key:"_canReceive",value:function(t,e,n){if(!hv(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;var r=this._getShadowRoot().elementFromPoint(e,n);if(!r)return!1;var i=Fa(this.element);return r===i||i.contains(r)}},{key:"_startReceiving",value:function(t){var e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}},{key:"_stopReceiving",value:function(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}},{key:"_listenToScrollEvents",value:function(){var t=this;this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe((function(e){if(t.isDragging()){var n=t._parentPositions.handleScroll(e);n&&(t._itemPositions.forEach((function(t){fv(t.clientRect,n.top,n.left)})),t._itemPositions.forEach((function(e){var n=e.drag;t._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})))}else t.isReceiving()&&t._cacheParentPositions()}))}},{key:"_getShadowRoot",value:function(){if(!this._cachedShadowRoot){var t=ms(Fa(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}]),t}();function Iv(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function Tv(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function xv(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function Av(t,e){var n=t.top,r=t.bottom,i=.05*t.height;return e>=n-i&&e<=n+i?1:e>=r-i&&e<=r+i?2:0}function Pv(t,e){var n=t.left,r=t.right,i=.05*t.width;return e>=n-i&&e<=n+i?1:e>=r-i&&e<=r+i?2:0}var Dv,Rv,Nv,jv,Mv,Lv,Fv=ys({passive:!1,capture:!0}),Vv=((Dv=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new zt.a,this.pointerUp=new zt.a,this.scroll=new zt.a,this._preventDefaultWhileDragging=function(t){r._activeDragInstances.size&&t.preventDefault()},this._document=n}return _createClass(t,[{key:"registerDropContainer",value:function(t){this._dropInstances.has(t)||this._dropInstances.add(t)}},{key:"registerDragItem",value:function(t){var e=this;this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular((function(){e._document.addEventListener("touchmove",e._preventDefaultWhileDragging,Fv)}))}},{key:"removeDropContainer",value:function(t){this._dropInstances.delete(t)}},{key:"removeDragItem",value:function(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,Fv)}},{key:"startDragging",value:function(t,e){var n=this;if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){var r=e.type.startsWith("touch"),i=r?"touchend":"mouseup";this._globalListeners.set(r?"touchmove":"mousemove",{handler:function(t){return n.pointerMove.next(t)},options:Fv}).set(i,{handler:function(t){return n.pointerUp.next(t)},options:!0}).set("scroll",{handler:function(t){return n.scroll.next(t)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Fv}),this._ngZone.runOutsideAngular((function(){n._globalListeners.forEach((function(t,e){n._document.addEventListener(e,t.handler,t.options)}))}))}}},{key:"stopDragging",value:function(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}},{key:"isDragging",value:function(t){return this._activeDragInstances.has(t)}},{key:"ngOnDestroy",value:function(){var t=this;this._dragInstances.forEach((function(e){return t.removeDragItem(e)})),this._dropInstances.forEach((function(e){return t.removeDropContainer(e)})),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}},{key:"_clearGlobalListeners",value:function(){var t=this;this._globalListeners.forEach((function(e,n){t._document.removeEventListener(n,e.handler,e.options)})),this._globalListeners.clear()}}]),t}()).\u0275fac=function(t){return new(t||Dv)(r.Wb(r.z),r.Wb(u))},Dv.\u0275prov=Object(r.Jb)({factory:function(){return new Dv(Object(r.Wb)(r.z),Object(r.Wb)(u))},token:Dv,providedIn:"root"}),Dv),Uv={dragStartThreshold:5,pointerDirectionChangeThreshold:5},qv=((Rv=function(){function t(e,n,r,i){_classCallCheck(this,t),this._document=e,this._ngZone=n,this._viewportRuler=r,this._dragDropRegistry=i}return _createClass(t,[{key:"createDrag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uv;return new mv(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}},{key:"createDropList",value:function(t){return new Ov(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}]),t}()).\u0275fac=function(t){return new(t||Rv)(r.Wb(u),r.Wb(r.z),r.Wb(Ts),r.Wb(Vv))},Rv.\u0275prov=Object(r.Jb)({factory:function(){return new Rv(Object(r.Wb)(u),Object(r.Wb)(r.z),Object(r.Wb)(Ts),Object(r.Wb)(Vv))},token:Rv,providedIn:"root"}),Rv),Bv=new r.q("CDK_DRAG_PARENT"),zv=((Mv=function(){function t(e,n){_classCallCheck(this,t),this.element=e,this._stateChanges=new zt.a,this._disabled=!1,this._parentDrag=n,sv(e.nativeElement,!1)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Na(t),this._stateChanges.next(this)}}]),t}()).\u0275fac=function(t){return new(t||Mv)(r.Nb(r.l),r.Nb(Bv,8))},Mv.\u0275dir=r.Ib({type:Mv,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]}}),Mv),Hv=((jv=function t(e){_classCallCheck(this,t),this.templateRef=e}).\u0275fac=function(t){return new(t||jv)(r.Nb(r.L))},jv.\u0275dir=r.Ib({type:jv,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"}}),jv),Wv=((Nv=function(){function t(e){_classCallCheck(this,t),this.templateRef=e,this._matchSize=!1}return _createClass(t,[{key:"matchSize",get:function(){return this._matchSize},set:function(t){this._matchSize=Na(t)}}]),t}()).\u0275fac=function(t){return new(t||Nv)(r.Nb(r.L))},Nv.\u0275dir=r.Ib({type:Nv,selectors:[["ng-template","cdkDragPreview",""]],inputs:{matchSize:"matchSize",data:"data"}}),Nv),Gv=new r.q("CDK_DRAG_CONFIG"),Kv=new r.q("CDK_DROP_LIST"),Qv=((Lv=function(){function t(e,n,i,o,a,s,u,c,l){var h=this;_classCallCheck(this,t),this.element=e,this.dropContainer=n,this._document=i,this._ngZone=o,this._viewContainerRef=a,this._dir=u,this._changeDetectorRef=l,this._destroyed=new zt.a,this.started=new r.n,this.released=new r.n,this.ended=new r.n,this.entered=new r.n,this.exited=new r.n,this.dropped=new r.n,this.moved=new Gt.a((function(t){var e=h._dragRef.moved.pipe(Object(ie.a)((function(t){return{source:h,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}}))).subscribe(t);return function(){e.unsubscribe()}})),this._dragRef=c.createDrag(e,{dragStartThreshold:s&&null!=s.dragStartThreshold?s.dragStartThreshold:5,pointerDirectionChangeThreshold:s&&null!=s.pointerDirectionChangeThreshold?s.pointerDirectionChangeThreshold:5,zIndex:null==s?void 0:s.zIndex}),this._dragRef.data=this,s&&this._assignDefaults(s),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}return _createClass(t,[{key:"getPlaceholderElement",value:function(){return this._dragRef.getPlaceholderElement()}},{key:"getRootElement",value:function(){return this._dragRef.getRootElement()}},{key:"reset",value:function(){this._dragRef.reset()}},{key:"getFreeDragPosition",value:function(){return this._dragRef.getFreeDragPosition()}},{key:"ngAfterViewInit",value:function(){var t=this;this._ngZone.onStable.asObservable().pipe(Te(1),$a(this._destroyed)).subscribe((function(){t._updateRootElement(),t._handles.changes.pipe(Ve(t._handles),Object(Ge.a)((function(e){var n=e.filter((function(e){return e._parentDrag===t})).map((function(t){return t.element}));t._dragRef.withHandles(n)})),je((function(t){return Object(qa.a).apply(void 0,_toConsumableArray(t.map((function(t){return t._stateChanges.pipe(Ve(t))}))))})),$a(t._destroyed)).subscribe((function(e){var n=t._dragRef,r=e.element.nativeElement;e.disabled?n.disableHandle(r):n.enableHandle(r)})),t.freeDragPosition&&t._dragRef.setFreeDragPosition(t.freeDragPosition)}))}},{key:"ngOnChanges",value:function(t){var e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}},{key:"ngOnDestroy",value:function(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}},{key:"_updateRootElement",value:function(){var t=this.element.nativeElement,e=this.rootElementSelector?Yv(t,this.rootElementSelector):t;if(e&&e.nodeType!==this._document.ELEMENT_NODE)throw Error('cdkDrag must be attached to an element node. Currently attached to "'.concat(e.nodeName,'".'));this._dragRef.withRootElement(e||t)}},{key:"_getBoundaryElement",value:function(){var t=this.boundaryElement;if(!t)return null;if("string"==typeof t)return Yv(this.element.nativeElement,t);var e=Fa(t);if(Object(r.W)()&&!e.contains(this.element.nativeElement))throw Error("Draggable element is not inside of the node passed into cdkDragBoundary.");return e}},{key:"_syncInputs",value:function(t){var e=this;t.beforeStarted.subscribe((function(){if(!t.isDragging()){var n=e._dir,r=e.dragStartDelay,i=e._placeholderTemplate?{template:e._placeholderTemplate.templateRef,context:e._placeholderTemplate.data,viewContainer:e._viewContainerRef}:null,o=e._previewTemplate?{template:e._previewTemplate.templateRef,context:e._previewTemplate.data,matchSize:e._previewTemplate.matchSize,viewContainer:e._viewContainerRef}:null;t.disabled=e.disabled,t.lockAxis=e.lockAxis,t.dragStartDelay="object"==typeof r&&r?r:ja(r),t.constrainPosition=e.constrainPosition,t.previewClass=e.previewClass,t.withBoundaryElement(e._getBoundaryElement()).withPlaceholderTemplate(i).withPreviewTemplate(o),n&&t.withDirection(n.value)}}))}},{key:"_handleEvents",value:function(t){var e=this;t.started.subscribe((function(){e.started.emit({source:e}),e._changeDetectorRef.markForCheck()})),t.released.subscribe((function(){e.released.emit({source:e})})),t.ended.subscribe((function(t){e.ended.emit({source:e,distance:t.distance}),e._changeDetectorRef.markForCheck()})),t.entered.subscribe((function(t){e.entered.emit({container:t.container.data,item:e,currentIndex:t.currentIndex})})),t.exited.subscribe((function(t){e.exited.emit({container:t.container.data,item:e})})),t.dropped.subscribe((function(t){e.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:e,distance:t.distance})}))}},{key:"_assignDefaults",value:function(t){var e=t.lockAxis,n=t.dragStartDelay,r=t.constrainPosition,i=t.previewClass,o=t.boundaryElement,a=t.draggingDisabled,s=t.rootElementSelector;this.disabled=null!=a&&a,this.dragStartDelay=n||0,e&&(this.lockAxis=e),r&&(this.constrainPosition=r),i&&(this.previewClass=i),o&&(this.boundaryElement=o),s&&(this.rootElementSelector=s)}},{key:"disabled",get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(t){this._disabled=Na(t),this._dragRef.disabled=this._disabled}}]),t}()).\u0275fac=function(t){return new(t||Lv)(r.Nb(r.l),r.Nb(Kv,12),r.Nb(u),r.Nb(r.z),r.Nb(r.P),r.Nb(Gv,8),r.Nb(Ss,8),r.Nb(qv),r.Nb(r.h))},Lv.\u0275dir=r.Ib({type:Lv,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Gb(n,Wv,!0),r.Gb(n,Hv,!0),r.Gb(n,zv,!0)),2&t&&(r.ic(i=r.bc())&&(e._previewTemplate=i.first),r.ic(i=r.bc())&&(e._placeholderTemplate=i.first),r.ic(i=r.bc())&&(e._handles=i))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&r.Eb("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[r.Bb([{provide:Bv,useExisting:Lv}]),r.Ab]}),Lv);function Yv(t,e){for(var n=t.parentElement;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}var Zv,Jv=((Zv=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:Zv}),Zv.\u0275inj=r.Kb({factory:function(t){return new(t||Zv)},providers:[qv],imports:[xs]}),Zv),Xv=["title"],$v=["content"],ty=["note"],ey=function(t){return{"background-color":t}};function ny(t,e){if(1&t){var n=r.Tb();r.Sb(0,"span",12),r.ac("click",(function(){r.kc(n);var t=e.$implicit;return r.cc().updateColor(t.color)})),r.Rb()}2&t&&r.fc("ngStyle",r.hc(1,ey,e.$implicit.backgroundColor))}var ry,iy=function(t){return["note-buttons-container",t]},oy=((ry=function(){function t(e){_classCallCheck(this,t),this.notemaker=e,this.state="closed",this.noteColors=[{color:"yellow",barColor:"#FDE84F",backgroundColor:"#FEF3A1"},{color:"blue",barColor:"#8DF0FE",backgroundColor:"#AFF4FE"},{color:"green",barColor:"#87fc89",backgroundColor:"#b4fda5"},{color:"pink",barColor:"#fdb2b3",backgroundColor:"#fec7c8"},{color:"violet",barColor:"#9cb7fc",backgroundColor:"#b7cbfd"},{color:"grey",barColor:"#dadada",backgroundColor:"#eeeeee"}]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.setNoteColors(this.note.color),Ua(this.title.nativeElement,"keyup").pipe(Cu(1e3)).subscribe((function(e){t.updateNote(t.note.id,t.title,t.content)})),Ua(this.content.nativeElement,"keyup").pipe(Cu(1e3)).subscribe((function(e){t.updateNote(t.note.id,t.title,t.content)})),Ua(this.title.nativeElement,"click").subscribe((function(e){var n=e.target.innerText;console.log(n),"Type a title"==n&&(t.title.nativeElement.innerText="")})),Ua(this.content.nativeElement,"click").subscribe((function(e){var n=e.target.innerText;console.log(n),"Type content"==n&&(t.content.nativeElement.innerText="")}))}},{key:"updateNote",value:function(t,e,n){this.notemaker.updateNote(t,e,n)}},{key:"removeNote",value:function(t){this.notemaker.removeNote(t)}},{key:"dragEnd",value:function(t){console.log(t)}},{key:"setNoteColors",value:function(t){switch(console.log(t),t){case"yellow":console.log("yellow picked"),this.buttonContainerColor="yellowButtonContainer",this.noteColor="yellowContainer";break;case"blue":console.log("blue picked"),this.buttonContainerColor="blueButtonContainer",this.noteColor="blueContainer";break;case"green":console.log("green picked"),this.buttonContainerColor="greenButtonContainer",this.noteColor="greenContainer";break;case"pink":console.log("pink picked"),this.buttonContainerColor="pinkButtonContainer",this.noteColor="pinkContainer";break;case"violet":console.log("violet picked"),this.buttonContainerColor="violetButtonContainer",this.noteColor="violetContainer";break;case"grey":console.log("grey picked"),this.buttonContainerColor="greyButtonContainer",this.noteColor="greyContainer";break;default:console.log("default picked"),this.buttonContainerColor="yellowButtonContainer",this.noteColor="yellowContainer"}}},{key:"updateColor",value:function(t){this.setNoteColors(t),console.log(t),console.log(this.noteColor,this.buttonContainerColor),this.notemaker.updateColor(this.note.id,t)}},{key:"getLocalTime",value:function(){var t=new Date(this.note.date);return"".concat(t.toLocaleTimeString("sp-SP")," ").concat(t.toLocaleDateString("sp-SP"))}},{key:"switchState",value:function(){this.state="closed"===this.state?"open":"closed",console.log(this.state)}}]),t}()).\u0275fac=function(t){return new(t||ry)(r.Nb(jd))},ry.\u0275cmp=r.Hb({type:ry,selectors:[["app-note"]],viewQuery:function(t,e){var n;1&t&&(r.oc(Xv,!0),r.oc($v,!0),r.oc(ty,!0)),2&t&&(r.ic(n=r.bc())&&(e.title=n.first),r.ic(n=r.bc())&&(e.content=n.first),r.ic(n=r.bc())&&(e.noteContainer=n.first))},inputs:{note:"note"},decls:19,vars:9,consts:[["id","note","cdkDrag","",3,"ngClass"],[3,"ngClass"],["mat-mini-fab","",1,"colors-button",3,"click"],[1,"material-icons"],[1,"note-colors-container"],["class","note-color-button",3,"ngStyle","click",4,"ngFor","ngForOf"],["mat-mini-fab","","color","accent",1,"delete-button",3,"click"],[1,"note-text-container"],["contenteditable","true",3,"mousedown"],["title",""],["content",""],[1,"last-edited"],[1,"note-color-button",3,"ngStyle","click"]],template:function(t,e){1&t&&(r.Sb(0,"article",0),r.Sb(1,"div",1),r.Sb(2,"button",2),r.ac("click",(function(){return e.switchState()})),r.Sb(3,"span",3),r.sc(4,"palette"),r.Rb(),r.Rb(),r.Sb(5,"div",4),r.qc(6,ny,1,3,"span",5),r.Rb(),r.Sb(7,"button",6),r.ac("click",(function(){return e.removeNote(e.note.id)})),r.Sb(8,"span",3),r.sc(9," delete "),r.Rb(),r.Rb(),r.Rb(),r.Sb(10,"div",7),r.Sb(11,"h3",8,9),r.ac("mousedown",(function(t){return t.stopPropagation()})),r.sc(13),r.Rb(),r.Sb(14,"p",8,10),r.ac("mousedown",(function(t){return t.stopPropagation()})),r.sc(16),r.Rb(),r.Rb(),r.Sb(17,"span",11),r.sc(18),r.Rb(),r.Rb()),2&t&&(r.fc("ngClass",e.noteColor),r.Cb(1),r.fc("ngClass",r.hc(7,iy,e.buttonContainerColor)),r.Cb(4),r.fc("@divState",e.state),r.Cb(1),r.fc("ngForOf",e.noteColors),r.Cb(7),r.uc(" ",e.note.title," "),r.Cb(3),r.uc(" ",e.note.content," "),r.Cb(2),r.uc("last edited: ",e.getLocalTime(),""))},directives:[Qv,U,Hp,B,ot],styles:['#note[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:200px;min-height:200px;word-wrap:break-word;margin:15px;box-shadow:0 5px 15px 5px rgba(0,0,0,.3);position:relative}#note[_ngcontent-%COMP%]   .note-buttons-container[_ngcontent-%COMP%]{width:100%;position:relative;height:25px}#note[_ngcontent-%COMP%]   .note-buttons-container[_ngcontent-%COMP%]   .activate-colors[_ngcontent-%COMP%]{position:absolute;top:2px;left:4px}#note[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{outline:none}#note[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;font-size:.9rem}#note[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{right:-8px}#note[_ngcontent-%COMP%]   .colors-button[_ngcontent-%COMP%], #note[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{position:absolute;bottom:-8px;transform:scale(.45)}#note[_ngcontent-%COMP%]   .colors-button[_ngcontent-%COMP%]{left:-8px}#note[_ngcontent-%COMP%]   .note-text-container[_ngcontent-%COMP%]{padding:0 10px 7px}#note[_ngcontent-%COMP%]   .note-text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}#note[_ngcontent-%COMP%]   .note-buttons-container[_ngcontent-%COMP%]   .note-color-button[_ngcontent-%COMP%]{content:"";width:5px;height:5px;padding:5px;border-radius:50%;cursor:pointer;border:.5px solid rgba(0,0,0,.131);margin:0 1px}#note[_ngcontent-%COMP%]   .note-buttons-container[_ngcontent-%COMP%]   .note-colors-container[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;padding-left:5px}.yellowContainer[_ngcontent-%COMP%]{background-color:#fef3a1}#note[_ngcontent-%COMP%]   .yellowButtonContainer[_ngcontent-%COMP%]{background-color:#fde84f}.blueContainer[_ngcontent-%COMP%]{background-color:#aff4fe}#note[_ngcontent-%COMP%]   .blueButtonContainer[_ngcontent-%COMP%]{background-color:#8df0fe}.greenContainer[_ngcontent-%COMP%]{background-color:#b4fda5}#note[_ngcontent-%COMP%]   .greenButtonContainer[_ngcontent-%COMP%]{background-color:#87fc89}.pinkContainer[_ngcontent-%COMP%]{background-color:#fec7c8}#note[_ngcontent-%COMP%]   .pinkButtonContainer[_ngcontent-%COMP%]{background-color:#fdb2b3}.violetContainer[_ngcontent-%COMP%]{background-color:#b7cbfd}#note[_ngcontent-%COMP%]   .violetButtonContainer[_ngcontent-%COMP%]{background-color:#9cb7fc}.greyContainer[_ngcontent-%COMP%]{background-color:#eee}#note[_ngcontent-%COMP%]   .greyButtonContainer[_ngcontent-%COMP%]{background-color:#dadada}#note[_ngcontent-%COMP%]   .last-edited[_ngcontent-%COMP%]{position:absolute;left:38px;bottom:0;font-size:.5rem;color:hsla(0,0%,50.2%,.461)}'],data:{animation:[$u("divState",[rc("open",nc({width:"50px",opacity:1,backgroundColor:"transparent",transform:"translate(20px,0)",visibility:"visible"})),rc("closed",nc({width:"0px",opacity:0,left:"-100px",transform:"translate(120px, 0)",visibility:"hidden"})),ic("closed <=> open",tc("300ms ease-out")),ic("open => closed",tc("300ms ease-in"))])]}}),ry);function ay(t,e){1&t&&r.Ob(0,"app-note",6),2&t&&r.fc("note",e.$implicit)}var sy,uy=((sy=function(){function t(e,n,r){_classCallCheck(this,t),this.route=e,this.notemaker=n,this.auth=r,this.isLoading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.notes=this.route.snapshot.data.notes,this.auth.user.subscribe((function(e){t.uid=e.id,console.log(t.uid)})),this.notemaker.$notesChanged.subscribe((function(e){console.log("updating"),console.log(e),t.notes=e}))}},{key:"addNote",value:function(){this.notemaker.addNote()}}]),t}()).\u0275fac=function(t){return new(t||sy)(r.Nb(ir),r.Nb(jd),r.Nb(rd))},sy.\u0275cmp=r.Hb({type:sy,selectors:[["app-notes"]],decls:7,vars:1,consts:[["id","notes"],[1,"button-container"],["mat-fab","","color","warn",3,"click"],[1,"material-icons"],[1,"notes-container"],[3,"note",4,"ngFor","ngForOf"],[3,"note"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"button",2),r.ac("click",(function(){return e.addNote()})),r.Sb(3,"span",3),r.sc(4," note_add "),r.Rb(),r.Rb(),r.Rb(),r.Sb(5,"div",4),r.qc(6,ay,1,1,"app-note",5),r.Rb(),r.Rb()),2&t&&(r.Cb(6),r.fc("ngForOf",e.notes))},directives:[Hp,B,oy],styles:["#notes[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column}#notes[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{text-align:center;padding-top:10px}#notes[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:20px;width:100%}#notes[_ngcontent-%COMP%]   .mat-fab[_ngcontent-%COMP%]{-webkit-animation:addButton 2s linear infinite alternate;animation:addButton 2s linear infinite alternate}@-webkit-keyframes addButton{0%{transform:scale(.8)}to{transform:scale(1)}}@keyframes addButton{0%{transform:scale(.8)}to{transform:scale(1)}}"]}),sy),cy=n("spgP"),ly=n("Jgta"),hy=n("mrSG"),fy=n("zIRd"),dy=n("q/0M"),py=n("qOnz"),vy=function(t,e){return(vy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function yy(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var my,gy="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_y=_y||{},by=gy||self;function wy(){}function ky(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Cy(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ey="closure_uid_"+(1e9*Math.random()>>>0),Sy=0;function Oy(t,e,n){return t.call.apply(t.bind,arguments)}function Iy(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ty(t,e,n){return(Ty=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Oy:Iy).apply(null,arguments)}function xy(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Ay(){return Date.now()}function Py(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Dy(){this.j=this.j,this.i=this.i}Dy.prototype.j=!1,Dy.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Ey)&&t[Ey]||(t[Ey]=++Sy)}(this)},Dy.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ry=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ny=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function jy(t){return Array.prototype.concat.apply([],arguments)}function My(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ly(t){return/^[\s\xa0]*$/.test(t)}var Fy,Vy=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Uy(t,e){return-1!=t.indexOf(e)}function qy(t,e){return t<e?-1:t>e?1:0}t:{var By=by.navigator;if(By){var zy=By.userAgent;if(zy){Fy=zy;break t}}Fy=""}function Hy(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Wy(t){var e={};for(var n in t)e[n]=t[n];return e}var Gy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ky(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Gy.length;o++)n=Gy[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Qy(t){return Qy[" "](t),t}Qy[" "]=wy;var Yy,Zy,Jy=Uy(Fy,"Opera"),Xy=Uy(Fy,"Trident")||Uy(Fy,"MSIE"),$y=Uy(Fy,"Edge"),tm=$y||Xy,em=Uy(Fy,"Gecko")&&!(Uy(Fy.toLowerCase(),"webkit")&&!Uy(Fy,"Edge"))&&!(Uy(Fy,"Trident")||Uy(Fy,"MSIE"))&&!Uy(Fy,"Edge"),nm=Uy(Fy.toLowerCase(),"webkit")&&!Uy(Fy,"Edge");function rm(){var t=by.document;return t?t.documentMode:void 0}t:{var im="",om=(Zy=Fy,em?/rv:([^\);]+)(\)|;)/.exec(Zy):$y?/Edge\/([\d\.]+)/.exec(Zy):Xy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Zy):nm?/WebKit\/(\S+)/.exec(Zy):Jy?/(?:Version)[ \/]?(\S+)/.exec(Zy):void 0);if(om&&(im=om?om[1]:""),Xy){var am=rm();if(null!=am&&am>parseFloat(im)){Yy=String(am);break t}}Yy=im}var sm={};function um(t){return function(t,e){var n=sm;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Vy(String(Yy)).split("."),r=Vy(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=qy(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||qy(0==a[2].length,0==s[2].length)||qy(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}var cm=by.document&&Xy&&(rm()||parseInt(Yy,10))||void 0,lm=!Xy||9<=Number(cm),hm=Xy&&!um("9"),fm=function(){if(!by.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{by.addEventListener("test",wy,e),by.removeEventListener("test",wy,e)}catch(n){}return t}();function dm(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function pm(t,e){if(dm.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(em){t:{try{Qy(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:vm[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}dm.prototype.b=function(){this.defaultPrevented=!0},Py(pm,dm);var vm={2:"touch",3:"pen",4:"mouse"};pm.prototype.b=function(){pm.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,hm)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ym="closure_listenable_"+(1e6*Math.random()|0),mm=0;function gm(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++mm,this.Y=this.Z=!1}function _m(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function bm(t){this.src=t,this.a={},this.b=0}function wm(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Ry(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(_m(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function km(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}bm.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=km(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new gm(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Cm="closure_lm_"+(1e6*Math.random()|0),Em={};function Sm(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=Rm(r),e&&e[ym]?e.wa(n,r,Cy(i)?!!i.capture:!!i,o):Om(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Sm(t,e[o],n,r,i);return null}return n=Rm(n),t&&t[ym]?t.va(e,n,Cy(r)?!!r.capture:!!r,i):Om(t,e,n,!1,r,i)}function Om(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Cy(i)?!!i.capture:!!i;if(a&&!lm)return null;var s=Pm(t);if(s||(t[Cm]=s=new bm(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Am,e=lm?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)fm||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Tm(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Im(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ym])wm(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Tm(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Pm(e))?(wm(n,t),0==n.b&&(n.src=null,e[Cm]=null)):_m(t)}}}function Tm(t){return t in Em?Em[t]:Em[t]="on"+t}function xm(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Im(t),n.call(r,e)}function Am(t,e){if(t.Y)return!0;if(!lm){if(!e)t:{e=["window","event"];for(var n=by,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return xm(t,e=new pm(e,this))}return xm(t,new pm(e,this))}function Pm(t){return(t=t[Cm])instanceof bm?t:null}var Dm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rm(t){return"function"==typeof t?t:(t[Dm]||(t[Dm]=function(e){return t.handleEvent(e)}),t[Dm])}function Nm(){Dy.call(this),this.c=new bm(this),this.J=this,this.C=null}function jm(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new dm(e,t);else if(e instanceof dm)e.target=e.target||t;else{var i=e;Ky(e=new dm(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Mm(a,r,!0,e)&&i}if(i=Mm(a=e.a=t,r,!0,e)&&i,i=Mm(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Mm(a=e.a=n[o],r,!1,e)&&i}function Mm(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&wm(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Py(Nm,Dy),Nm.prototype[ym]=!0,(my=Nm.prototype).addEventListener=function(t,e,n,r){Sm(this,t,e,n,r)},my.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=Cy(i)?!!i.capture:!!i,r=Rm(r),e&&e[ym]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=km(a=e.a[n],r,i,o))&&(_m(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):e&&(e=Pm(e))&&(n=e.a[n.toString()],e=-1,n&&(e=km(n,r,i,o)),(r=-1<e?n[e]:null)&&Im(r))}(this,t,e,n,r)},my.G=function(){if(Nm.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)_m(n[r]);delete e.a[t],e.b--}}this.C=null},my.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},my.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Lm=by.JSON.stringify;function Fm(){this.b=this.a=null}var Vm,Um=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Bm}),(function(t){t.reset()}));function qm(){var t=Gm,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Bm(){this.next=this.b=this.a=null}function zm(t){by.setTimeout((function(){throw t}),0)}function Hm(t,e){Vm||function(){var t=by.Promise.resolve(void 0);Vm=function(){t.then(Km)}}(),Wm||(Vm(),Wm=!0),Gm.add(t,e)}Fm.prototype.add=function(t,e){var n=Um.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Bm.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Bm.prototype.reset=function(){this.next=this.b=this.a=null};var Wm=!1,Gm=new Fm;function Km(){for(var t;t=qm();){try{t.a.call(t.b)}catch(n){zm(n)}var e=Um;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Wm=!1}function Qm(t,e){Nm.call(this),this.b=t||1,this.a=e||by,this.f=Ty(this.Za,this),this.g=Ay()}function Ym(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Zm(t,e,n){if("function"==typeof t)n&&(t=Ty(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ty(t.handleEvent,t)}return 2147483647<Number(e)?-1:by.setTimeout(t,e||0)}function Jm(t){t.a=Zm((function(){t.a=null,t.c&&(t.c=!1,Jm(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Py(Qm,Nm),(my=Qm.prototype).aa=!1,my.M=null,my.Za=function(){if(this.aa){var t=Ay()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),jm(this,"tick"),this.aa&&(Ym(this),this.start()))}},my.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ay())},my.G=function(){Qm.X.G.call(this),Ym(this),delete this.a};var Xm=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}vy(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Jm(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(by.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Dy);function $m(t){Dy.call(this),this.b=t,this.a={}}Py($m,Dy);var tg=[];function eg(t,e,n,r){Array.isArray(n)||(n&&(tg[0]=n.toString()),n=tg);for(var i=0;i<n.length;i++){var o=Sm(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ng(t){Hy(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Im(t)}),t),t.a={}}function rg(){this.a=!0}function ig(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Lm(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}$m.prototype.G=function(){$m.X.G.call(this),ng(this)},$m.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rg.prototype.info=function(){};var og={},ag=null;function sg(){return ag=ag||new Nm}function ug(t){dm.call(this,og.Fa,t)}function cg(t){var e=sg();jm(e,new ug(e,t))}function lg(t,e){dm.call(this,og.STAT_EVENT,t),this.stat=e}function hg(t){var e=sg();jm(e,new lg(e,t))}function fg(t){dm.call(this,og.Ga,t)}function dg(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return by.setTimeout((function(){t()}),e)}og.Fa="serverreachability",Py(ug,dm),og.STAT_EVENT="statevent",Py(lg,dm),og.Ga="timingevent",Py(fg,dm);var pg={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},vg={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function yg(){}function mg(){}yg.prototype.a=null;var gg,_g={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function bg(){dm.call(this,"d")}function wg(){dm.call(this,"c")}function kg(){}function Cg(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new $m(this),this.P=Eg,this.R=new Qm(t=tm?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Py(bg,dm),Py(wg,dm),Py(kg,yg),gg=new kg;var Eg=45e3,Sg={},Og={};function Ig(t,e,n){t.H=1,t.i=Yg(zg(e)),t.j=n,t.I=!0,Tg(t,null)}function Tg(t,e){t.u=Ay(),Pg(t),t.l=zg(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),u_(n.b,"t",r),t.D=0,t.a=nb(t.g,t.g.C?e:null),0<t.O&&(t.F=new Xm(Ty(t.Ca,t,t.a),t.O)),eg(t.J,t.a,"readystatechange",t.Xa),e=t.B?Wy(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),cg(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function xg(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ag(t,n);if(i==Og){4==e&&(t.h=4,hg(14),r=!1),ig(t.c,t.f,null,"[Incomplete Response]");break}if(i==Sg){t.h=4,hg(15),ig(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}ig(t.c,t.f,i,null),Mg(t,i)}4==e&&0==n.length&&(t.h=1,hg(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Q_(e),e.F=!0,hg(11))):(ig(t.c,t.f,n,"[Invalid Chunked Response]"),jg(t),Ng(t))}function Ag(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Og:(n=Number(e.substring(n,r)),isNaN(n)?Sg:(r+=1)+n>e.length?Og:(e=e.substr(r,n),t.D=r+n,e))}function Pg(t){t.T=Ay()+t.P,Dg(t,t.P)}function Dg(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=dg(Ty(t.Va,t),e)}function Rg(t){t.o&&(by.clearTimeout(t.o),t.o=null)}function Ng(t){0==t.g.v||t.A||J_(t.g,t)}function jg(t){Rg(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ym(t.R),ng(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Mg(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||v_(n.b,t)))if(n.I=t.N,!t.C&&v_(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(qx){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Z_(n),V_(n)}K_(n),hg(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=dg(Ty(n.Sa,n),6e3));if(1>=p_(n.b)&&n.ea){try{n.ea()}catch(qx){}n.ea=void 0}}else $_(n,11)}else if((t.C||n.a==t)&&Z_(n),!Ly(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Uy(l,"spdy")||Uy(l,"quic")||Uy(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(y_(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Qg(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Ay()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=eb(u,u.C?u.ga:null,u.fa),d.C){m_(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(Rg(p),Pg(p)),u.a=d}else G_(u);0<n.g.length&&B_(n)}else"stop"!=i[0]&&"close"!=i[0]||$_(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?$_(n,7):F_(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);cg(4)}catch(qx){}}function Lg(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ky(t)||"string"==typeof t)Ny(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ky(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ky(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Fg(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Fg)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Vg(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ug(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ug(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ug(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(my=Cg.prototype).setTimeout=function(t){this.P=t},my.Xa=function(t){t=t.target;var e=this.F;e&&3==N_(t)?e.f():this.Ca(t)},my.Ca=function(t){try{if(t==this.a)t:{var e=N_(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!tm&&!this.a.$())){this.A||4!=e||7==n||cg(8==n||0>=r?3:2),Rg(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ly(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,hg(12),jg(this),Ng(this);break t}ig(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Mg(this,u)}this.I?(xg(this,e,o),tm&&this.b&&3==e&&(eg(this.J,this.R,"tick",this.Wa),this.R.start())):(ig(this.c,this.f,o,null),Mg(this,o)),4==e&&jg(this),this.b&&!this.A&&(4==e?J_(this.g,this):(this.b=!1,Pg(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,hg(12)):(this.h=0,hg(13)),jg(this),Ng(this)}}}catch(c){}},my.Wa=function(){if(this.a){var t=N_(this.a),e=this.a.$();this.D<e.length&&(Rg(this),xg(this,t,e),this.b&&4!=t&&Pg(this))}},my.cancel=function(){this.A=!0,jg(this)},my.Va=function(){this.o=null;var t=Ay();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(cg(3),hg(17)),jg(this),this.h=2,Ng(this)):Dg(this,this.T-t)},(my=Fg.prototype).K=function(){Vg(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},my.L=function(){return Vg(this),this.a.concat()},my.get=function(t,e){return Ug(this.b,t)?this.b[t]:e},my.set=function(t,e){Ug(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},my.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var qg=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Bg(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Bg){this.a=void 0!==e?e:t.a,Hg(this,t.f),this.j=t.j,Wg(this,t.c),Gg(this,t.h),this.g=t.g,e=t.b;var n=new i_;n.c=e.c,e.a&&(n.a=new Fg(e.a),n.b=e.b),Kg(this,n),this.i=t.i}else t&&(n=String(t).match(qg))?(this.a=!!e,Hg(this,n[1]||"",!0),this.j=Zg(n[2]||""),Wg(this,n[3]||"",!0),Gg(this,n[4]),this.g=Zg(n[5]||"",!0),Kg(this,n[6]||"",!0),this.i=Zg(n[7]||"")):(this.a=!!e,this.b=new i_(null,this.a))}function zg(t){return new Bg(t)}function Hg(t,e,n){t.f=n?Zg(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Wg(t,e,n){t.c=n?Zg(e,!0):e}function Gg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Kg(t,e,n){e instanceof i_?(t.b=e,function(t,e){e&&!t.f&&(o_(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(a_(this,e),u_(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Jg(e,n_)),t.b=new i_(e,t.a))}function Qg(t,e,n){t.b.set(e,n)}function Yg(t){return Qg(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ay()).toString(36)),t}function Zg(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Jg(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Xg),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Xg(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Bg.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Jg(e,$g,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Jg(e,$g,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Jg(n,"/"==n.charAt(0)?e_:t_,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Jg(n,r_)),t.join("")};var $g=/[#\/\?@]/g,t_=/[#\?:]/g,e_=/[#\?]/g,n_=/[#\?@]/g,r_=/#/g;function i_(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function o_(t){t.a||(t.a=new Fg,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function a_(t,e){o_(t),e=c_(t,e),Ug(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ug((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Vg(t)))}function s_(t,e){return o_(t),e=c_(t,e),Ug(t.a.b,e)}function u_(t,e,n){a_(t,e),0<n.length&&(t.c=null,t.a.set(c_(t,e),My(n)),t.b+=n.length)}function c_(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(my=i_.prototype).add=function(t,e){o_(this),this.c=null,t=c_(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},my.forEach=function(t,e){o_(this),this.a.forEach((function(n,r){Ny(n,(function(n){t.call(e,n,r,this)}),this)}),this)},my.L=function(){o_(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},my.K=function(t){o_(this);var e=[];if("string"==typeof t)s_(this,t)&&(e=jy(e,this.a.get(c_(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=jy(e,t[n])}return e},my.set=function(t,e){return o_(this),this.c=null,s_(this,t=c_(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},my.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},my.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var l_=function(t,e){this.b=t,this.a=e};function h_(t){this.g=t||f_,t=by.PerformanceNavigationTiming?0<(t=by.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(by.ia&&by.ia.ya&&by.ia.ya()&&by.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var f_=10;function d_(t){return!!t.b||!!t.a&&t.a.size>=t.f}function p_(t){return t.b?1:t.a?t.a.size:0}function v_(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function y_(t,e){t.a?t.a.add(e):t.b=e}function m_(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function g_(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=yy(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return My(t.c)}function __(){}function b_(){this.a=new __}function w_(t,e,n){var r=n||"";try{Lg(t,(function(t,n){var i=t;Cy(t)&&(i=Lm(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function k_(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}h_.prototype.cancel=function(){var t,e;if(this.c=g_(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=yy(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},__.prototype.stringify=function(t){return by.JSON.stringify(t,void 0)},__.prototype.parse=function(t){return by.JSON.parse(t,void 0)};var C_=by.JSON.parse;function E_(t){Nm.call(this),this.headers=new Fg,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=S_,this.D=this.F=!1}Py(E_,Nm);var S_="",O_=/^https?$/i,I_=["POST","PUT"];function T_(t){return"content-type"==t.toLowerCase()}function x_(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,A_(t),D_(t)}function A_(t){t.u||(t.u=!0,jm(t,"complete"),jm(t,"error"))}function P_(t){if(t.b&&void 0!==_y&&(!t.s[1]||4!=N_(t)||2!=t.W()))if(t.l&&4==N_(t))Zm(t.za,0,t);else if(jm(t,"readystatechange"),4==N_(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(qg)[1]||null;if(!o&&by.self&&by.self.location){var a=by.self.location.protocol;o=a.substr(0,a.length-1)}i=!O_.test(o?o.toLowerCase():"")}e=i}if(e)jm(t,"complete"),jm(t,"success");else{t.h=6;try{var s=2<N_(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",A_(t)}}finally{D_(t)}}}function D_(t,e){if(t.a){R_(t);var n=t.a,r=t.s[0]?wy:null;t.a=null,t.s=null,e||jm(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function R_(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(by.clearTimeout(t.m),t.m=null)}function N_(t){return t.a?t.a.readyState:0}function j_(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Hy(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Qg(t,e,n))}function M_(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function L_(t){this.pa=0,this.g=[],this.c=new rg,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=M_("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=M_("baseRetryDelayMs",5e3,t),this.Ra=M_("retryDelaySeedMs",1e4,t),this.Ma=M_("forwardChannelMaxRetries",2,t),this.ma=M_("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new h_(t&&t.concurrentRequestLimit),this.ka=new b_,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function F_(t){if(U_(t),3==t.v){var e=t.R++,n=zg(t.B);Qg(n,"SID",t.J),Qg(n,"RID",e),Qg(n,"TYPE","terminate"),H_(t,n),(e=new Cg(t,t.c,e,void 0)).H=2,e.i=Yg(zg(n)),n=!1,by.navigator&&by.navigator.sendBeacon&&(n=by.navigator.sendBeacon(e.i.toString(),"")),!n&&by.Image&&((new Image).src=e.i,n=!0),n||(e.a=nb(e.g,null),e.a.ba(e.i)),e.u=Ay(),Pg(e)}tb(t)}function V_(t){t.a&&(Q_(t),t.a.cancel(),t.a=null)}function U_(t){V_(t),t.j&&(by.clearTimeout(t.j),t.j=null),Z_(t),t.b.cancel(),t.h&&("number"==typeof t.h&&by.clearTimeout(t.h),t.h=null)}function q_(t,e){t.g.push(new l_(t.Oa++,e)),3==t.v&&B_(t)}function B_(t){d_(t.b)||t.h||(t.h=!0,Hm(t.Ba,t),t.u=0)}function z_(t,e){var n;n=e?e.f:t.R++;var r=zg(t.B);Qg(r,"SID",t.J),Qg(r,"RID",n),Qg(r,"AID",t.P),H_(t,r),t.i&&t.l&&j_(r,t.i,t.l),n=new Cg(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=W_(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),y_(t.b,n),Ig(n,r,e)}function H_(t,e){t.f&&Lg({},(function(t,n){Qg(e,n,t)}))}function W_(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ty(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{w_(l,a,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function G_(t){t.a||t.j||(t.T=1,Hm(t.Aa,t),t.o=0)}function K_(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=dg(Ty(t.Aa,t),X_(t,t.o)),t.o++,0))}function Q_(t){null!=t.s&&(by.clearTimeout(t.s),t.s=null)}function Y_(t){t.a=new Cg(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=zg(t.la);Qg(e,"RID","rpc"),Qg(e,"SID",t.J),Qg(e,"CI",t.H?"0":"1"),Qg(e,"AID",t.P),H_(t,e),Qg(e,"TYPE","xmlhttp"),t.i&&t.l&&j_(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Yg(zg(e)),n.j=null,n.I=!0,Tg(n,t)}function Z_(t){null!=t.m&&(by.clearTimeout(t.m),t.m=null)}function J_(t,e){var n=null;if(t.a==e){Z_(t),Q_(t),t.a=null;var r=2}else{if(!v_(t.b,e))return;n=e.s,m_(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Ay()-e.u;var i=t.u;jm(r=sg(),new fg(r,n,e,i)),B_(t)}else G_(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(p_(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=dg(Ty(t.Ba,t,e),X_(t,t.u)),t.u++,0)))}(t,e)||2==r&&K_(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:$_(t,5);break;case 4:$_(t,10);break;case 3:$_(t,6);break;default:$_(t,2)}}function X_(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function $_(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ty(t.Ya,t);n||(n=new Bg("//www.google.com/images/cleardot.gif"),by.location&&"http"==by.location.protocol||Hg(n,"https"),Yg(n)),function(t,e){var n=new rg;if(by.Image){var r=new Image;r.onload=xy(k_,n,r,"TestLoadImage: loaded",!0,e),r.onerror=xy(k_,n,r,"TestLoadImage: error",!1,e),r.onabort=xy(k_,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=xy(k_,n,r,"TestLoadImage: timeout",!1,e),by.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else hg(2);t.v=0,t.f&&t.f.ra(e),tb(t),U_(t)}function tb(t){t.v=0,t.I=-1,t.f&&(0==g_(t.b).length&&0==t.g.length||(t.b.c.length=0,My(t.g),t.g.length=0),t.f.qa())}function eb(t,e,n){var r=function(t){return t instanceof Bg?zg(t):new Bg(t,void 0)}(n);if(""!=r.c)e&&Wg(r,e+"."+r.c),Gg(r,r.h);else{var i=by.location;r=function(t,e,n,r){var i=new Bg(null,void 0);return t&&Hg(i,t),e&&Wg(i,e),n&&Gg(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Hy(t.V,(function(t,e){Qg(r,e,t)})),n=t.na,(e=t.A)&&n&&Qg(r,e,n),Qg(r,"VER",t.ha),H_(t,r),r}function nb(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new E_(t.Na)).F=t.C,e}function rb(){}function ib(){if(Xy&&!(10<=Number(cm)))throw Error("Environmental error: no available transport.")}function ob(t,e){Nm.call(this),this.a=new L_(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ly(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ly(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ub(this)}function ab(t){bg.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function sb(){wg.call(this),this.status=1}function ub(t){this.a=t}(my=E_.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:gg),this.a.onreadystatechange=Ty(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void x_(this,o)}t=n||"";var i=new Fg(this.headers);r&&Lg(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=T_,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=by.FormData&&t instanceof by.FormData,!(0<=Ry(I_,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{R_(this),0<this.o&&((this.D=function(t){return Xy&&um(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ty(this.xa,this)):this.m=Zm(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){x_(this,o)}},my.xa=function(){void 0!==_y&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,jm(this,"timeout"),this.abort(8))},my.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,jm(this,"complete"),jm(this,"abort"),D_(this))},my.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),D_(this,!0)),E_.X.G.call(this)},my.za=function(){this.j||(this.A||this.l||this.g?P_(this):this.Ua())},my.Ua=function(){P_(this)},my.W=function(){try{return 2<N_(this)?this.a.status:-1}catch(Zy){return-1}},my.$=function(){try{return this.a?this.a.responseText:""}catch(Zy){return""}},my.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),C_(e)}},my.ua=function(){return this.h},my.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(my=L_.prototype).ha=8,my.v=1,my.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Cg(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Ky(r=Wy(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=W_(this,n,e),Qg(i=zg(this.B),"RID",t),Qg(i,"CVER",22),this.A&&Qg(i,"X-HTTP-Session-Id",this.A),H_(this,i),this.i&&r&&j_(i,this.i,r),y_(this.b,n),this.Ia&&Qg(i,"TYPE","init"),this.da?(Qg(i,"$req",e),Qg(i,"SID","null"),n.U=!0,Ig(n,i,null)):Ig(n,i,e),this.v=2}}else 3==this.v&&(t?z_(this,t):0==this.g.length||d_(this.b)||z_(this))},my.Aa=function(){if(this.j=null,Y_(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=dg(Ty(this.Ta,this),t)}},my.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,hg(10),V_(this),Y_(this))},my.Sa=function(){null!=this.m&&(this.m=null,V_(this),K_(this),hg(19))},my.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),hg(2)):(this.c.info("Failed to ping google.com"),hg(1))},(my=rb.prototype).ta=function(){},my.sa=function(){},my.ra=function(){},my.qa=function(){},my.Ja=function(){},ib.prototype.a=function(t,e){return new ob(t,e)},Py(ob,Nm),ob.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;hg(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=eb(t,null,t.fa),B_(t)},ob.prototype.close=function(){F_(this.a)},ob.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,q_(this.a,e)}else this.l?((e={}).__data__=Lm(t),q_(this.a,e)):q_(this.a,t)},ob.prototype.G=function(){this.a.f=null,delete this.f,F_(this.a),delete this.a,ob.X.G.call(this)},Py(ab,bg),Py(sb,wg),Py(ub,rb),ub.prototype.ta=function(){jm(this.a,"a")},ub.prototype.sa=function(t){jm(this.a,new ab(t))},ub.prototype.ra=function(t){jm(this.a,new sb(t))},ub.prototype.qa=function(){jm(this.a,"b")},ib.prototype.createWebChannel=ib.prototype.a,ob.prototype.send=ob.prototype.h,ob.prototype.open=ob.prototype.g,ob.prototype.close=ob.prototype.close,pg.NO_ERROR=0,pg.TIMEOUT=8,pg.HTTP_ERROR=6,vg.COMPLETE="complete",mg.EventType=_g,_g.OPEN="a",_g.CLOSE="b",_g.ERROR="c",_g.MESSAGE="d",Nm.prototype.listen=Nm.prototype.va,E_.prototype.listenOnce=E_.prototype.wa,E_.prototype.getLastError=E_.prototype.Qa,E_.prototype.getLastErrorCode=E_.prototype.ua,E_.prototype.getStatus=E_.prototype.W,E_.prototype.getResponseJson=E_.prototype.Pa,E_.prototype.getResponseText=E_.prototype.$,E_.prototype.send=E_.prototype.ba;var cb=pg,lb=vg,hb=og,fb=mg,db=E_,pb=n("/6Yf"),vb=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},yb=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),mb=function(){function t(t){this.uid=t}return t.prototype.u=function(){return null!=this.uid},t.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();mb.UNAUTHENTICATED=new mb(null),mb.l=new mb("google-credentials-uid"),mb._=new mb("first-party-uid");var gb=new dy.b("@firebase/firestore");function _b(){return gb.logLevel}function bb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gb.logLevel<=dy.a.DEBUG){var r=e.map(Cb);gb.debug.apply(gb,Object(hy.g)(["Firestore (8.1.2): "+t],r))}}function wb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gb.logLevel<=dy.a.ERROR){var r=e.map(Cb);gb.error.apply(gb,Object(hy.g)(["Firestore (8.1.2): "+t],r))}}function kb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gb.logLevel<=dy.a.WARN){var r=e.map(Cb);gb.warn.apply(gb,Object(hy.g)(["Firestore (8.1.2): "+t],r))}}function Cb(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function Eb(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.1.2) INTERNAL ASSERTION FAILED: "+t;throw wb(e),new Error(e)}function Sb(t,e){t||Eb()}function Ob(t,e){return t}var Ib={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Tb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(hy.c)(e,t),e}(Error),xb=function(t,e){this.user=e,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+t},Ab=function(){function t(){this.I=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.m=function(){},t.prototype.A=function(t){this.I=t,t(mb.UNAUTHENTICATED)},t.prototype.R=function(){this.I=null},t}(),Pb=function(){function t(t){var e=this;this.P=null,this.currentUser=mb.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){e.V++,e.currentUser=e.p(),e.g=!0,e.I&&e.I(e.currentUser)},this.V=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),t.get().then((function(t){e.auth=t,e.P&&e.auth.addAuthTokenListener(e.P)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.V!==e?(bb("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Sb("string"==typeof n.accessToken),new xb(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.m=function(){this.forceRefresh=!0},t.prototype.A=function(t){this.I=t,this.g&&t(this.currentUser)},t.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},t.prototype.p=function(){var t=this.auth&&this.auth.getUid();return Sb(null===t||"string"==typeof t),new mb(t)},t}(),Db=function(){function t(t,e){this.v=t,this.S=e,this.type="FirstParty",this.user=mb._}return Object.defineProperty(t.prototype,"T",{get:function(){var t={"X-Goog-AuthUser":this.S},e=this.v.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Rb=function(){function t(t,e){this.v=t,this.S=e}return t.prototype.getToken=function(){return Promise.resolve(new Db(this.v,this.S))},t.prototype.A=function(t){t(mb._)},t.prototype.R=function(){},t.prototype.m=function(){},t}();function Nb(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var jb=function(){function t(){}return t.D=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Nb(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Mb(t,e){return t<e?-1:t>e?1:0}function Lb(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Fb(t){return t+"\0"}var Vb=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Tb(Ib.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Tb(Ib.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Tb(Ib.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Tb(Ib.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.C=function(t){return this.seconds===t.seconds?Mb(this.nanoseconds,t.nanoseconds):Mb(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ub=function(){function t(t){this.timestamp=t}return t.N=function(e){return new t(e)},t.min=function(){return new t(new Vb(0,0))},t.prototype.F=function(t){return this.timestamp.C(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t}(),qb=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Eb(),void 0===n?n=t.length-e:n>t.length-e&&Eb(),this.segments=t,this.offset=e,this.k=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.$(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.L(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.B=function(t){return this.L(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},t.prototype.U=function(){return this.segments[this.offset]},t.prototype.K=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.W=function(){return 0===this.length},t.prototype.j=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.G=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},t.$=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Bb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hy.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.H().join("/")},e.prototype.toString=function(){return this.J()},e.Y=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Tb(Ib.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.X=function(){return new e([])},e}(qb),zb=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Hb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hy.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.Z=function(t){return zb.test(t)},e.prototype.J=function(){return this.H().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.Z(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},e.et=function(){return new e(["__name__"])},e.nt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Tb(Ib.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new Tb(Ib.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Tb(Ib.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Tb(Ib.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.X=function(){return new e([])},e}(qb),Wb=function(){function t(t){this.path=t}return t.st=function(e){return new t(Bb.Y(e))},t.it=function(e){return new t(Bb.Y(e).B(5))},t.prototype.rt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Bb.$(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.$=function(t,e){return Bb.$(t.path,e.path)},t.ot=function(t){return t.length%2==0},t.ct=function(e){return new t(new Bb(e.slice()))},t}();function Gb(t){return null==t}function Kb(t){return 0===t&&1/t==-1/0}function Qb(t){return"number"==typeof t&&Number.isInteger(t)&&!Kb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Yb=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ut=null};function Zb(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Yb(t,e,n,r,i,o,a)}function Jb(t){var e=Ob(t);if(null===e.ut){var n=e.path.J();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.J()+t.op.toString()+Ww(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.J()+t.dir}(t)})).join(","),Gb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=WC(e.startAt)),e.endAt&&(n+="|ub:",n+=WC(e.endAt)),e.ut=n}return e.ut}function Xb(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!ZC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!qw(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KC(t.startAt,e.startAt)&&KC(t.endAt,e.endAt)}function $b(t){return Wb.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}var tw=function(){function t(t){this.at=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.at)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.at)},t.prototype.ht=function(){return 2*this.at.length},t.prototype.F=function(t){return Mb(this.at,t.at)},t.prototype.isEqual=function(t){return this.at===t.at},t}();tw.lt=new tw("");var ew,nw,rw=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Ub.min()),void 0===o&&(o=Ub.min()),void 0===a&&(a=tw.lt),this.target=t,this.targetId=e,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.dt=function(e){return new t(this.target,this.targetId,this._t,e,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.wt=function(e,n){return new t(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Et=function(e){return new t(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,e,this.resumeToken)},t}(),iw=function(t){this.count=t};function ow(t){switch(t){case Ib.OK:return Eb();case Ib.CANCELLED:case Ib.UNKNOWN:case Ib.DEADLINE_EXCEEDED:case Ib.RESOURCE_EXHAUSTED:case Ib.INTERNAL:case Ib.UNAVAILABLE:case Ib.UNAUTHENTICATED:return!1;case Ib.INVALID_ARGUMENT:case Ib.NOT_FOUND:case Ib.ALREADY_EXISTS:case Ib.PERMISSION_DENIED:case Ib.FAILED_PRECONDITION:case Ib.ABORTED:case Ib.OUT_OF_RANGE:case Ib.UNIMPLEMENTED:case Ib.DATA_LOSS:return!0;default:return Eb()}}function aw(t){if(void 0===t)return wb("GRPC error has no .code"),Ib.UNKNOWN;switch(t){case ew.OK:return Ib.OK;case ew.CANCELLED:return Ib.CANCELLED;case ew.UNKNOWN:return Ib.UNKNOWN;case ew.DEADLINE_EXCEEDED:return Ib.DEADLINE_EXCEEDED;case ew.RESOURCE_EXHAUSTED:return Ib.RESOURCE_EXHAUSTED;case ew.INTERNAL:return Ib.INTERNAL;case ew.UNAVAILABLE:return Ib.UNAVAILABLE;case ew.UNAUTHENTICATED:return Ib.UNAUTHENTICATED;case ew.INVALID_ARGUMENT:return Ib.INVALID_ARGUMENT;case ew.NOT_FOUND:return Ib.NOT_FOUND;case ew.ALREADY_EXISTS:return Ib.ALREADY_EXISTS;case ew.PERMISSION_DENIED:return Ib.PERMISSION_DENIED;case ew.FAILED_PRECONDITION:return Ib.FAILED_PRECONDITION;case ew.ABORTED:return Ib.ABORTED;case ew.OUT_OF_RANGE:return Ib.OUT_OF_RANGE;case ew.UNIMPLEMENTED:return Ib.UNIMPLEMENTED;case ew.DATA_LOSS:return Ib.DATA_LOSS;default:return Eb()}}(nw=ew||(ew={}))[nw.OK=0]="OK",nw[nw.CANCELLED=1]="CANCELLED",nw[nw.UNKNOWN=2]="UNKNOWN",nw[nw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nw[nw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nw[nw.NOT_FOUND=5]="NOT_FOUND",nw[nw.ALREADY_EXISTS=6]="ALREADY_EXISTS",nw[nw.PERMISSION_DENIED=7]="PERMISSION_DENIED",nw[nw.UNAUTHENTICATED=16]="UNAUTHENTICATED",nw[nw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nw[nw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nw[nw.ABORTED=10]="ABORTED",nw[nw.OUT_OF_RANGE=11]="OUT_OF_RANGE",nw[nw.UNIMPLEMENTED=12]="UNIMPLEMENTED",nw[nw.INTERNAL=13]="INTERNAL",nw[nw.UNAVAILABLE=14]="UNAVAILABLE",nw[nw.DATA_LOSS=15]="DATA_LOSS";var sw=function(){function t(t,e){this.$=t,this.root=e||cw.EMPTY}return t.prototype.Tt=function(e,n){return new t(this.$,this.root.Tt(e,n,this.$).copy(null,null,cw.It,null,null))},t.prototype.remove=function(e){return new t(this.$,this.root.remove(e,this.$).copy(null,null,cw.It,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.W();){var n=this.$(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.W();){var r=this.$(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.W=function(){return this.root.W()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.At=function(){return this.root.At()},t.prototype.Rt=function(){return this.root.Rt()},t.prototype.Pt=function(t){return this.root.Pt(t)},t.prototype.forEach=function(t){this.Pt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Pt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.yt=function(){return new uw(this.root,null,this.$,!1)},t.prototype.Vt=function(t){return new uw(this.root,t,this.$,!1)},t.prototype.vt=function(){return new uw(this.root,null,this.$,!0)},t.prototype.bt=function(t){return new uw(this.root,t,this.$,!0)},t}(),uw=function(){function t(t,e,n,r){this.St=r,this.Dt=[];for(var i=1;!t.W();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.St?t.left:t.right;else{if(0===i){this.Dt.push(t);break}this.Dt.push(t),t=this.St?t.right:t.left}}return t.prototype.Ct=function(){var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.St)for(t=t.left;!t.W();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.W();)this.Dt.push(t),t=t.left;return e},t.prototype.Nt=function(){return this.Dt.length>0},t.prototype.xt=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),cw=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.W=function(){return!1},t.prototype.Pt=function(t){return this.left.Pt(t)||t(this.key,this.value)||this.right.Pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.W()?this:this.left.min()},t.prototype.At=function(){return this.min().key},t.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},t.prototype.Tt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Tt(t,e,n))).Ft()},t.prototype.Ot=function(){if(this.left.W())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.Ot(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(e,i.key)){if(i.right.W())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Bt()),t.left.Mt()&&t.left.left.Mt()&&(t=t.$t()),t.left.Mt()&&t.right.Mt()&&(t=t.qt()),t},t.prototype.kt=function(){var t=this.qt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.$t())).Bt()).qt()),t},t.prototype.Lt=function(){var t=this.qt();return t.left.left.Mt()&&(t=(t=t.$t()).qt()),t},t.prototype.Bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.$t=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.qt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.Qt();return Math.pow(2,t)<=this.size+1},t.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw Eb();if(this.right.Mt())throw Eb();var t=this.left.Qt();if(t!==this.right.Qt())throw Eb();return t+(this.Mt()?0:1)},t}();cw.EMPTY=null,cw.RED=!0,cw.It=!1,cw.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Eb()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Eb()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Eb()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Eb()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Eb()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Tt=function(t,e,n){return new cw(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.W=function(){return!0},t.prototype.Pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.At=function(){return null},t.prototype.Rt=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.Qt=function(){return 0},t}());var lw=function(){function t(t){this.$=t,this.data=new sw(this.$)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.At()},t.prototype.last=function(){return this.data.Rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pt((function(e,n){return t(e),!1}))},t.prototype.Kt=function(t,e){for(var n=this.data.Vt(t[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Wt=function(t,e){var n;for(n=void 0!==e?this.data.Vt(e):this.data.yt();n.Nt();)if(!t(n.Ct().key))return},t.prototype.jt=function(t){var e=this.data.Vt(t);return e.Nt()?e.Ct().key:null},t.prototype.yt=function(){return new hw(this.data.yt())},t.prototype.Vt=function(t){return new hw(this.data.Vt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Tt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.W=function(){return this.data.W()},t.prototype.Gt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),r=e.data.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(0!==this.$(i,o))return!1}return!0},t.prototype.H=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.$);return n.data=e,n},t}(),hw=function(){function t(t){this.zt=t}return t.prototype.Ct=function(){return this.zt.Ct().key},t.prototype.Nt=function(){return this.zt.Nt()},t}(),fw=new sw(Wb.$);function dw(){return fw}function pw(){return dw()}var vw=new sw(Wb.$);function yw(){return vw}var mw=new sw(Wb.$),gw=new lw(Wb.$);function _w(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=gw,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var bw=new lw(Mb);function ww(){return bw}var kw=function(){function t(t){this.$=t?function(e,n){return t(e,n)||Wb.$(e.key,n.key)}:function(t,e){return Wb.$(t.key,e.key)},this.Ht=yw(),this.Jt=new sw(this.$)}return t.Yt=function(e){return new t(e.$)},t.prototype.has=function(t){return null!=this.Ht.get(t)},t.prototype.get=function(t){return this.Ht.get(t)},t.prototype.first=function(){return this.Jt.At()},t.prototype.last=function(){return this.Jt.Rt()},t.prototype.W=function(){return this.Jt.W()},t.prototype.indexOf=function(t){var e=this.Ht.get(t);return e?this.Jt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Jt.Pt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ht.Tt(t.key,t),e.Jt.Tt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ht.remove(t),this.Jt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Jt.yt(),r=e.Jt.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.$=this.$,r.Ht=e,r.Jt=n,r},t}(),Cw=function(){function t(){this.Xt=new sw(Wb.$)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Xt.get(e);n?0!==t.type&&3===n.type?this.Xt=this.Xt.Tt(e,t):3===t.type&&1!==n.type?this.Xt=this.Xt.Tt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Xt=this.Xt.Tt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Xt=this.Xt.remove(e):1===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):Eb():this.Xt=this.Xt.Tt(e,t)},t.prototype.Zt=function(){var t=[];return this.Xt.Pt((function(e,n){t.push(n)})),t},t}(),Ew=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=o,this.ne=a,this.se=s}return t.ie=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,kw.Yt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ne===t.ne&&this.ee.isEqual(t.ee)&&AC(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.te.isEqual(t.te)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Sw=function(){function t(t,e,n,r,i){this.ft=t,this.re=e,this.oe=n,this.ce=r,this.ue=i}return t.ae=function(e,n){var r=new Map;return r.set(e,Ow.he(e,n)),new t(Ub.min(),r,ww(),dw(),_w())},t}(),Ow=function(){function t(t,e,n,r,i){this.resumeToken=t,this.le=e,this._e=n,this.fe=r,this.de=i}return t.he=function(e,n){return new t(tw.lt,n,_w(),_w(),_w())},t}(),Iw=function(t,e,n,r){this.we=t,this.removedTargetIds=e,this.key=n,this.Ee=r},Tw=function(t,e){this.targetId=t,this.Te=e},xw=function(t,e,n,r){void 0===n&&(n=tw.lt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Aw=function(){function t(){this.Ie=0,this.me=Rw(),this.Ae=tw.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(t.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),t.prototype.Ve=function(t){t.ht()>0&&(this.Pe=!0,this.Ae=t)},t.prototype.pe=function(){var t=_w(),e=_w(),n=_w();return this.me.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Eb()}})),new Ow(this.Ae,this.Re,t,e,n)},t.prototype.ve=function(){this.Pe=!1,this.me=Rw()},t.prototype.be=function(t,e){this.Pe=!0,this.me=this.me.Tt(t,e)},t.prototype.Se=function(t){this.Pe=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.Ie+=1},t.prototype.Ce=function(){this.Ie-=1},t.prototype.Ne=function(){this.Pe=!0,this.Re=!0},t}(),Pw=function(){function t(t){this.xe=t,this.Fe=new Map,this.Oe=dw(),this.Me=Dw(),this.ke=new lw(Mb)}return t.prototype.$e=function(t){for(var e=0,n=t.we;e<n.length;e++){var r=n[e];t.Ee instanceof yC?this.Le(r,t.Ee):t.Ee instanceof mC&&this.Be(r,t.key,t.Ee)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Be(o[i],t.key,t.Ee)},t.prototype.qe=function(t){var e=this;this.Ue(t,(function(n){var r=e.Qe(n);switch(t.state){case 0:e.Ke(n)&&r.Ve(t.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(t.resumeToken);break;case 2:r.Ce(),r.ge||e.removeTarget(n);break;case 3:e.Ke(n)&&(r.Ne(),r.Ve(t.resumeToken));break;case 4:e.Ke(n)&&(e.We(n),r.Ve(t.resumeToken));break;default:Eb()}}))},t.prototype.Ue=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fe.forEach((function(t,r){n.Ke(r)&&e(r)}))},t.prototype.je=function(t){var e=t.targetId,n=t.Te.count,r=this.Ge(e);if(r){var i=r.target;if($b(i))if(0===n){var o=new Wb(i.path);this.Be(e,o,new mC(o,Ub.min()))}else Sb(1===n);else this.ze(e)!==n&&(this.We(e),this.ke=this.ke.add(e))}},t.prototype.He=function(t){var e=this,n=new Map;this.Fe.forEach((function(r,i){var o=e.Ge(i);if(o){if(r.le&&$b(o.target)){var a=new Wb(o.target.path);null!==e.Oe.get(a)||e.Je(i,a)||e.Be(i,a,new mC(a,t))}r.ye&&(n.set(i,r.pe()),r.ve())}}));var r=_w();this.Me.forEach((function(t,n){var i=!0;n.Wt((function(t){var n=e.Ge(t);return!n||2===n._t||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Sw(t,n,this.ke,this.Oe,r);return this.Oe=dw(),this.Me=Dw(),this.ke=new lw(Mb),i},t.prototype.Le=function(t,e){if(this.Ke(t)){var n=this.Je(t,e.key)?2:0;this.Qe(t).be(e.key,n),this.Oe=this.Oe.Tt(e.key,e),this.Me=this.Me.Tt(e.key,this.Ye(e.key).add(t))}},t.prototype.Be=function(t,e,n){if(this.Ke(t)){var r=this.Qe(t);this.Je(t,e)?r.be(e,1):r.Se(e),this.Me=this.Me.Tt(e,this.Ye(e).delete(t)),n&&(this.Oe=this.Oe.Tt(e,n))}},t.prototype.removeTarget=function(t){this.Fe.delete(t)},t.prototype.ze=function(t){var e=this.Qe(t).pe();return this.xe.Xe(t).size+e._e.size-e.de.size},t.prototype.De=function(t){this.Qe(t).De()},t.prototype.Qe=function(t){var e=this.Fe.get(t);return e||(e=new Aw,this.Fe.set(t,e)),e},t.prototype.Ye=function(t){var e=this.Me.get(t);return e||(e=new lw(Mb),this.Me=this.Me.Tt(t,e)),e},t.prototype.Ke=function(t){var e=null!==this.Ge(t);return e||bb("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.Fe.get(t);return e&&e.ge?null:this.xe.Ze(t)},t.prototype.We=function(t){var e=this;this.Fe.set(t,new Aw),this.xe.Xe(t).forEach((function(n){e.Be(t,n,null)}))},t.prototype.Je=function(t,e){return this.xe.Xe(t).has(e)},t}();function Dw(){return new sw(Wb.$)}function Rw(){return new sw(Wb.$)}function Nw(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jw(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Mw(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lw(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Fw(t){var e=Gw(t.mapValue.fields.__local_write_time__.timestampValue);return new Vb(e.seconds,e.nanos)}var Vw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uw(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lw(t)?4:10:Eb()}function qw(t,e){var n=Uw(t);if(n!==Uw(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fw(t).isEqual(Fw(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Gw(t.timestampValue),r=Gw(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Qw(t.bytesValue).isEqual(Qw(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Kw(t.geoPointValue.latitude)===Kw(e.geoPointValue.latitude)&&Kw(t.geoPointValue.longitude)===Kw(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Kw(t.integerValue)===Kw(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Kw(t.doubleValue),r=Kw(e.doubleValue);return n===r?Kb(n)===Kb(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Lb(t.arrayValue.values||[],e.arrayValue.values||[],qw);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Nw(n)!==Nw(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!qw(n[i],r[i])))return!1;return!0}(t,e);default:return Eb()}}function Bw(t,e){return void 0!==(t.values||[]).find((function(t){return qw(t,e)}))}function zw(t,e){var n=Uw(t),r=Uw(e);if(n!==r)return Mb(n,r);switch(n){case 0:return 0;case 1:return Mb(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Kw(t.integerValue||t.doubleValue),r=Kw(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Hw(t.timestampValue,e.timestampValue);case 4:return Hw(Fw(t),Fw(e));case 5:return Mb(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Qw(t),r=Qw(e);return n.F(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Mb(n[i],r[i]);if(0!==o)return o}return Mb(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Mb(Kw(t.latitude),Kw(e.latitude));return 0!==n?n:Mb(Kw(t.longitude),Kw(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=zw(n[i],r[i]);if(o)return o}return Mb(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Mb(r[a],o[a]);if(0!==s)return s;var u=zw(n[r[a]],i[o[a]]);if(0!==u)return u}return Mb(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Eb()}}function Hw(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Mb(t,e);var n=Gw(t),r=Gw(e),i=Mb(n.seconds,r.seconds);return 0!==i?i:Mb(n.nanos,r.nanos)}function Ww(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Gw(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Qw(e.bytesValue).toBase64():"referenceValue"in e?Wb.it(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):Eb();var n}(t)}function Gw(t){if(Sb(!!t),"string"==typeof t){var e=0,n=Vw.exec(t);if(Sb(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Kw(t.seconds),nanos:Kw(t.nanos)}}function Kw(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Qw(t){return"string"==typeof t?tw.fromBase64String(t):tw.fromUint8Array(t)}function Yw(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function Zw(t){return!!t&&"integerValue"in t}function Jw(t){return!!t&&"arrayValue"in t}function Xw(t){return!!t&&"nullValue"in t}function $w(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tk(t){return!!t&&"mapValue"in t}var ek={asc:"ASCENDING",desc:"DESCENDING"},nk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rk=function(t,e){this.t=t,this.tn=e};function ik(t){return{integerValue:""+t}}function ok(t,e){if(t.tn){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kb(e)?"-0":e}}function ak(t,e){return Qb(e)?ik(e):ok(t,e)}function sk(t,e){return t.tn?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function uk(t,e){return t.tn?e.toBase64():e.toUint8Array()}function ck(t,e){return sk(t,e.M())}function lk(t){return Sb(!!t),Ub.N(function(t){var e=Gw(t);return new Vb(e.seconds,e.nanos)}(t))}function hk(t,e){return function(t){return new Bb(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).J()}function fk(t){var e=Bb.Y(t);return Sb(Nk(e)),e}function dk(t,e){return hk(t.t,e.path)}function pk(t,e){var n=fk(e);if(n.get(1)!==t.t.projectId)throw new Tb(Ib.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Tb(Ib.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Wb(gk(n))}function vk(t,e){return hk(t.t,e)}function yk(t){var e=fk(t);return 4===e.length?Bb.X():gk(e)}function mk(t){return new Bb(["projects",t.t.projectId,"databases",t.t.database]).J()}function gk(t){return Sb(t.length>4&&"documents"===t.get(4)),t.B(5)}function _k(t,e,n){return{name:dk(t,e),fields:n.proto.mapValue.fields}}function bk(t,e){var n;if(e instanceof iC)n={update:_k(t,e.key,e.value)};else if(e instanceof lC)n={delete:dk(t,e.key)};else if(e instanceof oC)n={update:_k(t,e.key,e.data),updateMask:Rk(e.en)};else if(e instanceof sC)n={transform:{document:dk(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Vk)return{fieldPath:e.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof Uk)return{fieldPath:e.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof Bk)return{fieldPath:e.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof Hk)return{fieldPath:e.field.J(),increment:n.nn};throw Eb()}(0,t)}))}};else{if(!(e instanceof hC))return Eb();n={verify:dk(t,e.key)}}return e.rn.sn||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ck(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Eb()}(t,e.rn)),n}function wk(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Zk.updateTime(lk(t.updateTime)):void 0!==t.exists?Zk.exists(t.exists):Zk.on()}(e.currentDocument):Zk.on();if(e.update){var r=pk(t,e.update.name),i=new fC({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Kk((t.fieldPaths||[]).map((function(t){return Hb.nt(t)})))}(e.updateMask);return new oC(r,i,o,n)}return new iC(r,i,n)}if(e.delete){var a=pk(t,e.delete);return new lC(a,n)}if(e.transform){var s=pk(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(Sb("REQUEST_TIME"===e.setToServerValue),n=new Vk):"appendMissingElements"in e?n=new Uk(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Bk(e.removeAllFromArray.values||[]):"increment"in e?n=new Hk(t,e.increment):Eb();var r=Hb.nt(e.fieldPath);return new Qk(r,n)}(t,e)}));return Sb(!0===n.exists),new sC(s,u)}if(e.verify){var c=pk(t,e.verify);return new hC(c,n)}return Eb()}function kk(t,e){return{documents:[vk(t,e.path)]}}function Ck(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=vk(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=vk(t,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if($w(t.value))return{unaryFilter:{field:xk(t.field),op:"IS_NAN"}};if(Xw(t.value))return{unaryFilter:{field:xk(t.field),op:"IS_NULL"}}}else if("!="===t.op){if($w(t.value))return{unaryFilter:{field:xk(t.field),op:"IS_NOT_NAN"}};if(Xw(t.value))return{unaryFilter:{field:xk(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xk(t.field),op:Tk(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:xk(t.field),direction:Ik(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.tn||Gb(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Sk(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Sk(e.endAt)),n}function Ek(t){var e=yk(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Sb(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[Dk(e)]:void 0!==e.fieldFilter?[Pk(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Eb():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new QC(Ak(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Gb(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Ok(n.startAt));var l=null;return n.endAt&&(l=Ok(n.endAt)),bC(e,i,s,a,u,"F",c,l)}function Sk(t){return{before:t.before,values:t.position}}function Ok(t){return new HC(t.values||[],!!t.before)}function Ik(t){return ek[t]}function Tk(t){return nk[t]}function xk(t){return{fieldPath:t.J()}}function Ak(t){return Hb.nt(t.fieldPath)}function Pk(t){return jC.create(Ak(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Eb()}}(t.fieldFilter.op),t.fieldFilter.value)}function Dk(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ak(t.unaryFilter.field);return jC.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ak(t.unaryFilter.field);return jC.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ak(t.unaryFilter.field);return jC.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ak(t.unaryFilter.field);return jC.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Eb()}}function Rk(t){var e=[];return t.fields.forEach((function(t){return e.push(t.J())})),{fieldPaths:e}}function Nk(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var jk=function(){this.cn=void 0};function Mk(t,e,n){return t instanceof Vk?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Uk?qk(t,e):t instanceof Bk?zk(t,e):function(t,e){var n=Fk(t,e),r=Wk(n)+Wk(t.nn);return Zw(n)&&Zw(t.nn)?ik(r):ok(t.serializer,r)}(t,e)}function Lk(t,e,n){return t instanceof Uk?qk(t,e):t instanceof Bk?zk(t,e):n}function Fk(t,e){return t instanceof Hk?Zw(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Vk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hy.c)(e,t),e}(jk),Uk=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(hy.c)(e,t),e}(jk);function qk(t,e){for(var n=Gk(e),r=function(t){n.some((function(e){return qw(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Bk=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(hy.c)(e,t),e}(jk);function zk(t,e){for(var n=Gk(e),r=function(t){n=n.filter((function(e){return!qw(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Hk=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.nn=n,r}return Object(hy.c)(e,t),e}(jk);function Wk(t){return Kw(t.integerValue||t.doubleValue)}function Gk(t){return Jw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Kk=function(){function t(t){this.fields=t,t.sort(Hb.$)}return t.prototype.un=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].j(t))return!0;return!1},t.prototype.isEqual=function(t){return Lb(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Qk=function(t,e){this.field=t,this.transform=e},Yk=function(t,e){this.version=t,this.transformResults=e},Zk=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.on=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Jk(t,e){return void 0!==t.updateTime?e instanceof yC&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof yC}var Xk=function(){};function $k(t,e,n){return t instanceof iC?function(t,e,n){return new yC(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof oC?function(t,e,n){if(!Jk(t.rn,e))return new gC(t.key,n.version);var r=aC(t,e);return new yC(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof sC?function(t,e,n){if(Sb(null!=n.transformResults),!Jk(t.rn,e))return new gC(t.key,n.version);var r=uC(0,e),i=function(t,e,n){var r=[];Sb(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof yC&&(s=e.field(o.field)),r.push(Lk(a,s,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,a=cC(t,r.data(),i);return new yC(t.key,o,a,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new mC(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function tC(t,e,n,r){return t instanceof iC?function(t,e){if(!Jk(t.rn,e))return e;var n=rC(e);return new yC(t.key,n,t.value,{an:!0})}(t,e):t instanceof oC?function(t,e){if(!Jk(t.rn,e))return e;var n=rC(e),r=aC(t,e);return new yC(t.key,n,r,{an:!0})}(t,e):t instanceof sC?function(t,e,n,r){if(!Jk(t.rn,e))return e;var i=uC(0,e),o=function(t,e,n,r){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.transform,c=null;n instanceof yC&&(c=n.field(s.field)),null===c&&r instanceof yC&&(c=r.field(s.field)),i.push(Mk(u,c,e))}return i}(t.fieldTransforms,n,e,r),a=cC(t,i.data(),o);return new yC(t.key,i.version,a,{an:!0})}(t,e,r,n):function(t,e){return Jk(t.rn,e)?new mC(t.key,Ub.min()):e}(t,e)}function eC(t,e){return t instanceof sC?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e instanceof yC?e.field(o.field):void 0,s=Fk(o.transform,a||null);null!=s&&(n=null==n?(new dC).set(o.field,s):n.set(o.field,s))}return n?n.hn():null}(t,e):null}function nC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.rn.isEqual(e.rn)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.en.isEqual(e.en):2!==t.type||Lb(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Uk&&e instanceof Uk||t instanceof Bk&&e instanceof Bk?Lb(t.elements,e.elements,qw):t instanceof Hk&&e instanceof Hk?qw(t.nn,e.nn):t instanceof Vk&&e instanceof Vk}(t.transform,e.transform)}(t,e)})))}function rC(t){return t instanceof yC?t.version:Ub.min()}var iC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.rn=r,i.type=0,i}return Object(hy.c)(e,t),e}(Xk),oC=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.en=r,o.rn=i,o.type=1,o}return Object(hy.c)(e,t),e}(Xk);function aC(t,e){return function(t,e){var n=new dC(e);return t.en.fields.forEach((function(e){if(!e.W()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.hn()}(t,e instanceof yC?e.data():fC.empty())}var sC=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.rn=Zk.exists(!0),r}return Object(hy.c)(e,t),e}(Xk);function uC(t,e){return e}function cC(t,e,n){for(var r=new dC(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.hn()}var lC=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=3,r}return Object(hy.c)(e,t),e}(Xk),hC=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=4,r}return Object(hy.c)(e,t),e}(Xk),fC=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.W())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!tk(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.K()])||null},t.prototype.isEqual=function(t){return qw(this.proto,t.proto)},t}(),dC=function(){function t(t){void 0===t&&(t=fC.empty()),this.ln=t,this._n=new Map}return t.prototype.set=function(t,e){return this.fn(t,e),this},t.prototype.delete=function(t){return this.fn(t,null),this},t.prototype.fn=function(t,e){for(var n=this._n,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Uw(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.K(),e)},t.prototype.hn=function(){var t=this.dn(Hb.X(),this._n);return null!=t?new fC(t):this.ln},t.prototype.dn=function(t,e){var n=this,r=!1,i=this.ln.field(t),o=tk(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var a=n.dn(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function pC(t){var e=[];return jw(t.fields||{},(function(t,n){var r=new Hb([t]);if(tk(n)){var i=pC(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)})),new Kk(e)}var vC=function(t,e){this.key=t,this.version=e},yC=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).wn=r,o.an=!!i.an,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(hy.c)(e,t),e.prototype.field=function(t){return this.wn.field(t)},e.prototype.data=function(){return this.wn},e.prototype.En=function(){return this.wn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.an===t.an&&this.hasCommittedMutations===t.hasCommittedMutations&&this.wn.isEqual(t.wn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(vC),mC=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(hy.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(vC),gC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hy.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(vC),_C=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.Tn=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.In=null,this.mn=null};function bC(t,e,n,r,i,o,a,s){return new _C(t,e,n,r,i,o,a,s)}function wC(t){return new _C(t)}function kC(t){return!Gb(t.limit)&&"F"===t.limitType}function CC(t){return!Gb(t.limit)&&"L"===t.limitType}function EC(t){return t.Tn.length>0?t.Tn[0].field:null}function SC(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.An())return r.field}return null}function OC(t){return null!==t.collectionGroup}function IC(t){var e=Ob(t);if(null===e.In){e.In=[];var n=SC(e),r=EC(e);if(null!==n&&null===r)n.tt()||e.In.push(new QC(n)),e.In.push(new QC(Hb.et(),"asc"));else{for(var i=!1,o=0,a=e.Tn;o<a.length;o++){var s=a[o];e.In.push(s),s.field.tt()&&(i=!0)}if(!i){var u=e.Tn.length>0?e.Tn[e.Tn.length-1].dir:"asc";e.In.push(new QC(Hb.et(),u))}}}return e.In}function TC(t){var e=Ob(t);if(!e.mn)if("F"===e.limitType)e.mn=Zb(e.path,e.collectionGroup,IC(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=IC(e);r<i.length;r++){var o=i[r];n.push(new QC(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new HC(e.endAt.position,!e.endAt.before):null,s=e.startAt?new HC(e.startAt.position,!e.startAt.before):null;e.mn=Zb(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.mn}function xC(t,e,n){return new _C(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function AC(t,e){return Xb(TC(t),TC(e))&&t.limitType===e.limitType}function PC(t){return Jb(TC(t))+"|lt:"+t.limitType}function DC(t){return"Query(target="+function(t){var e=t.path.J();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.J()+" "+e.op+" "+Ww(e.value);var e})).join(", ")+"]"),Gb(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.J()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+WC(t.startAt)),t.endAt&&(e+=", endAt: "+WC(t.endAt)),"Target("+e+")"}(TC(t))+"; limitType="+t.limitType+")"}function RC(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.rt(t.collectionGroup)&&t.path.j(n):Wb.ot(t.path)?t.path.isEqual(n):t.path.G(n)}(t,e)&&function(t,e){for(var n=0,r=t.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!GC(t.startAt,IC(t),e)||t.endAt&&GC(t.endAt,IC(t),e))}(t,e)}function NC(t){return function(e,n){for(var r=!1,i=0,o=IC(t);i<o.length;i++){var a=o[i],s=YC(a,e,n);if(0!==s)return s;r=r||a.field.tt()}return 0}}var jC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(hy.c)(e,t),e.create=function(t,n,r){return t.tt()?"in"===n||"not-in"===n?this.Rn(t,n,r):new MC(t,n,r):"array-contains"===n?new UC(t,r):"in"===n?new qC(t,r):"not-in"===n?new BC(t,r):"array-contains-any"===n?new zC(t,r):new e(t,n,r)},e.Rn=function(t,e,n){return"in"===e?new LC(t,n):new FC(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Pn(zw(e,this.value)):null!==e&&Uw(this.value)===Uw(e)&&this.Pn(zw(e,this.value))},e.prototype.Pn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Eb()}},e.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),MC=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Wb.it(r.referenceValue),i}return Object(hy.c)(e,t),e.prototype.matches=function(t){var e=Wb.$(t.key,this.key);return this.Pn(e)},e}(jC),LC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=VC(0,n),r}return Object(hy.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(jC),FC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=VC(0,n),r}return Object(hy.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(jC);function VC(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Wb.it(t.referenceValue)}))}var UC=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(hy.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Jw(e)&&Bw(e.arrayValue,this.value)},e}(jC),qC=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(hy.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Bw(this.value.arrayValue,e)},e}(jC),BC=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(hy.c)(e,t),e.prototype.matches=function(t){if(Bw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Bw(this.value.arrayValue,e)},e}(jC),zC=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(hy.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Jw(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Bw(e.value.arrayValue,t)}))},e}(jC),HC=function(t,e){this.position=t,this.before=e};function WC(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Ww(t)})).join(",")}function GC(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.tt()?Wb.$(Wb.it(a.referenceValue),n.key):zw(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function KC(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!qw(t.position[n],e.position[n]))return!1;return!0}var QC=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function YC(t,e,n){var r=t.field.tt()?Wb.$(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?zw(r,i):Eb()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Eb()}}function ZC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var JC=function(){function t(t,e,n,r){this.batchId=t,this.gn=e,this.baseMutations=n,this.mutations=r}return t.prototype.yn=function(t,e,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=$k(o,e,r[i]))}return e},t.prototype.pn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=tC(i,e,e,this.gn))}for(var o=e,a=0,s=this.mutations;a<s.length;a++){var u=s[a];u.key.isEqual(t)&&(e=tC(u,e,o,this.gn))}return e},t.prototype.vn=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.pn(r.key,t.get(r.key));i&&(n=n.Tt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),_w())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Lb(this.mutations,t.mutations,(function(t,e){return nC(t,e)}))&&Lb(this.baseMutations,t.baseMutations,(function(t,e){return nC(t,e)}))},t}(),XC=function(){function t(t,e,n,r){this.batch=t,this.bn=e,this.Vn=n,this.Sn=r}return t.from=function(e,n,r){Sb(e.mutations.length===r.length);for(var i=mw,o=e.mutations,a=0;a<o.length;a++)i=i.Tt(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),$C=function(){function t(t,e){this.Dn=t,this.Cn=e,this.Nn={}}return t.prototype.get=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.Cn(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Dn(t),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.Nn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],t))return 1===n.length?delete this.Nn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){jw(this.Nn,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.W=function(){return Mw(this.Nn)},t}(),tE=function(){function t(t){var e=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,t((function(t){e.On=!0,e.result=t,e.xn&&e.xn(t)}),(function(t){e.On=!0,e.error=t,e.Fn&&e.Fn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Mn&&Eb(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(e,this.result):new t((function(t,i){r.xn=function(n){r.$n(e,n).next(t,i)},r.Fn=function(e){r.kn(n,e).next(t,i)}}))},t.prototype.Ln=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.$n=function(e,n){return e?this.Bn((function(){return e(n)})):t.resolve(n)},t.prototype.kn=function(e,n){return e?this.Bn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.qn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Un=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.qn(r)},t}(),eE=function(){function t(){this.Qn=new $C((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Kn=!1}return t.prototype.Wn=function(t){var e=this.Qn.get(t);return e?e.readTime:Ub.min()},t.prototype.jn=function(t,e){this.Gn(),this.Qn.set(t.key,{zn:t,readTime:e})},t.prototype.Hn=function(t,e){void 0===e&&(e=null),this.Gn(),this.Qn.set(t,{zn:null,readTime:e})},t.prototype.Jn=function(t,e){this.Gn();var n=this.Qn.get(e);return void 0!==n?tE.resolve(n.zn):this.Yn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.Gn(),this.Kn=!0,this.Zn(t)},t.prototype.Gn=function(){},t}(),nE=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function rE(t){return new rk(t,!0)}function iE(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var oE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",aE=function(){function t(){this.ts=[]}return t.prototype.es=function(t){this.ts.push(t)},t.prototype.ns=function(){this.ts.forEach((function(t){return t()}))},t}(),sE=function(){function t(t,e,n){this.ss=t,this.rs=e,this.os=n}return t.prototype.cs=function(t,e){var n=this;return this.rs.us(t,e).next((function(r){return n.hs(t,e,r)}))},t.prototype.hs=function(t,e,n){return this.ss.Jn(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].pn(e,t);return t}))},t.prototype.ls=function(t,e,n){var r=pw();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].pn(t,e);r=r.Tt(t,e)})),r},t.prototype._s=function(t,e){var n=this;return this.ss.getEntries(t,e).next((function(e){return n.fs(t,e)}))},t.prototype.fs=function(t,e){var n=this;return this.rs.ds(t,e).next((function(r){var i=n.ls(t,e,r),o=dw();return i.forEach((function(t,e){e||(e=new mC(t,Ub.min())),o=o.Tt(t,e)})),o}))},t.prototype.ws=function(t,e,n){return function(t){return Wb.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Es(t,e.path):OC(e)?this.Ts(t,e,n):this.Is(t,e,n)},t.prototype.Es=function(t,e){return this.cs(t,new Wb(e)).next((function(t){var e=yw();return t instanceof yC&&(e=e.Tt(t.key,t)),e}))},t.prototype.Ts=function(t,e,n){var r=this,i=e.collectionGroup,o=yw();return this.os.As(t,i).next((function(a){return tE.forEach(a,(function(a){var s=function(t,e){return new _C(e,null,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.Is(t,s,n).next((function(t){t.forEach((function(t,e){o=o.Tt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Is=function(t,e,n){var r,i,o=this;return this.ss.ws(t,e,n).next((function(n){return r=n,o.rs.Rs(t,e)})).next((function(e){return o.Ps(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c),h=tC(u,l,l,o.gn);r=h instanceof yC?r.Tt(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){RC(e,n)||(r=r.remove(t))})),r}))},t.prototype.Ps=function(t,e,n){for(var r=_w(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof oC&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ss.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof yC&&(c=c.Tt(t,e))})),c}))},t}(),uE=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.gs=n,this.ys=r}return t.Vs=function(e,n){for(var r=_w(),i=_w(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),cE=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ps=function(t){return n.vs(t)},this.bs=function(t){return e.Ss(t)})}return t.prototype.vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.bs&&this.bs(t),t},t}();cE.Ds=-1;var lE=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=t,this.Ns=e,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ms=0},t.prototype.Ls=function(){this.Ms=this.Os},t.prototype.Bs=function(t){var e=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&bb("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ks=this.Cs.Us(this.Ns,i,(function(){return e.$s=Date.now(),t()})),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},t.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},t.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},t.prototype.qs=function(){return(Math.random()-.5)*this.Ms},t}(),hE=function(){function t(e,n,r){this.name=e,this.version=n,this.Ws=r,12.2===t.js(Object(py.g)())&&wb("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return bb("SimpleDb","Removing database:",t),mE(window.indexedDB.deleteDatabase(t)).Ln()},t.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(t.zs())return!0;var e=Object(py.g)(),n=t.js(e),r=0<n&&n<10,i=t.Hs(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.zs=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Js)},t.Ys=function(t,e){return t.store(e)},t.js=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Hs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Xs=function(t){return Object(hy.b)(this,void 0,void 0,(function(){var e,n=this;return Object(hy.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(bb("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new dE(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Tb(Ib.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new dE(t,n))},i.onupgradeneeded=function(t){bb("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Ws.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){bb("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(t){return n.Zs(t)}),this.db)]}}))}))},t.prototype.ti=function(t){this.Zs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(hy.b)(this,void 0,void 0,(function(){var i,o,a,s,u;return Object(hy.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return Object(hy.d)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.Xs(t)];case 2:return s.db=h.sent(),e=vE.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),tE.reject(t)})).Ln(),u={},a.catch((function(){})),[4,e.ei];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return bb("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),fE=function(){function t(t){this.ni=t,this.si=!1,this.ii=null}return Object.defineProperty(t.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ni=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.si=!0},t.prototype.oi=function(t){this.ii=t},t.prototype.delete=function(){return mE(this.ni.delete())},t}(),dE=function(t){function e(e,n){var r=this;return(r=t.call(this,Ib.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(hy.c)(e,t),e}(Tb);function pE(t){return"IndexedDbTransactionError"===t.name}var vE=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ci=new nE,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){e.error?n.ci.reject(new dE(t,e.error)):n.ci.resolve()},this.transaction.onerror=function(e){var r=_E(e.target.error);n.ci.reject(new dE(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new dE(n,e)}},Object.defineProperty(t.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ci.reject(t),this.aborted||(bb("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new yE(e)},t}(),yE=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(bb("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(bb("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),mE(n)},t.prototype.add=function(t){return bb("SimpleDb","ADD",this.store.name,t,t),mE(this.store.add(t))},t.prototype.get=function(t){var e=this;return mE(this.store.get(t)).next((function(n){return void 0===n&&(n=null),bb("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return bb("SimpleDb","DELETE",this.store.name,t),mE(this.store.delete(t))},t.prototype.count=function(){return bb("SimpleDb","COUNT",this.store.name),mE(this.store.count())},t.prototype.ui=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ai(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.hi=function(t,e){bb("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.li=!1;var r=this.cursor(n);return this.ai(r,(function(t,e,n){return n.delete()}))},t.prototype._i=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ai(r,e)},t.prototype.fi=function(t){var e=this.cursor({});return new tE((function(n,r){e.onerror=function(t){var e=_E(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.ai=function(t,e){var n=[];return new tE((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new fE(i),a=e(i.primaryKey,i.value,o);if(a instanceof tE){var s=a.catch((function(t){return o.done(),tE.reject(t)}));n.push(s)}o.On?r():null===o.ri?i.continue():i.continue(o.ri)}else r()}})).next((function(){return tE.qn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.li?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function mE(t){return new tE((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=_E(t.target.error);n(e)}}))}var gE=!1;function _E(t){var e=hE.js(Object(py.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Tb("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return gE||(gE=!0,setTimeout((function(){throw r}),0)),r}}return t}function bE(){return"undefined"!=typeof window?window:null}function wE(){return"undefined"!=typeof document?document:null}var kE=function(){function t(t,e,n,r,i){this.di=t,this.Ns=e,this.wi=n,this.op=r,this.Ei=i,this.Ti=new nE,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch((function(t){}))}return t.Ii=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.mi=setTimeout((function(){return e.Ai()}),t)},t.prototype.Ks=function(){return this.Ai()},t.prototype.cancel=function(t){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new Tb(Ib.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Ai=function(){var t=this;this.di.Ri((function(){return null!==t.mi?(t.clearTimeout(),t.op().then((function(e){return t.Ti.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},t}(),CE=function(){function t(){var t=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new lE(this,"async_queue_retry"),this.Di=function(){var e=wE();e&&bb("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Si.Qs()};var e=wE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(t.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t){this.enqueue(t)},t.prototype.Ni=function(t){this.xi(),this.Fi(t)},t.prototype.Oi=function(){if(!this.yi){this.yi=!0;var t=wE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Di)}},t.prototype.enqueue=function(t){return this.xi(),this.yi?new Promise((function(t){})):this.Fi(t)},t.prototype.Mi=function(t){var e=this;this.Ri((function(){return e.gi.push(t),e.ki()}))},t.prototype.ki=function(){return Object(hy.b)(this,void 0,void 0,(function(){var t,e=this;return Object(hy.d)(this,(function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!pE(t=n.sent()))throw t;return bb("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gi.length>0&&this.Si.Bs((function(){return e.ki()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Fi=function(t){var e=this,n=this.Pi.then((function(){return e.vi=!0,t().catch((function(t){throw e.pi=t,e.vi=!1,wb("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.vi=!1,t}))}));return this.Pi=n,n},t.prototype.Us=function(t,e,n){var r=this;this.xi(),this.bi.indexOf(t)>-1&&(e=0);var i=kE.Ii(this,t,e,n,(function(t){return r.$i(t)}));return this.Vi.push(i),i},t.prototype.xi=function(){this.pi&&Eb()},t.prototype.Li=function(){},t.prototype.Bi=function(){return Object(hy.b)(this,void 0,void 0,(function(){var t;return Object(hy.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Pi];case 1:e.sent(),e.label=2;case 2:if(t!==this.Pi)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.qi=function(t){for(var e=0,n=this.Vi;e<n.length;e++)if(n[e].Ns===t)return!0;return!1},t.prototype.Ui=function(t){var e=this;return this.Bi().then((function(){e.Vi.sort((function(t,e){return t.wi-e.wi}));for(var n=0,r=e.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ns===t)break}return e.Bi()}))},t.prototype.Qi=function(t){this.bi.push(t)},t.prototype.$i=function(t){var e=this.Vi.indexOf(t);this.Vi.splice(e,1)},t}();function EE(t,e){if(wb("AsyncQueue",e+": "+t),pE(t))return new Tb(Ib.UNAVAILABLE,e+": "+t);throw t}function SE(t,e){var n=t[1],r=e[1],i=Mb(t[0],e[0]);return 0===i?Mb(n,r):i}var OE=function(){function t(t){this.Ki=t,this.buffer=new lw(SE),this.Wi=0}return t.prototype.ji=function(){return++this.Wi},t.prototype.Gi=function(t){var e=[t,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();SE(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),IE={zi:!1,Hi:0,Ji:0,Yi:0},TE=function(){function t(t,e,n){this.Xi=t,this.Zi=e,this.tr=n}return t.er=function(e){return new t(e,t.nr,t.sr)},t}();TE.nr=10,TE.sr=1e3,TE.ir=new TE(41943040,TE.nr,TE.sr),TE.rr=new TE(-1,0,0);var xE=function(){function t(t,e){this.cr=t,this.di=e,this.ur=!1,this.ar=null}return t.prototype.start=function(t){-1!==this.cr.params.Xi&&this.hr(t)},t.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(t.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),t.prototype.hr=function(t){var e=this,n=this.ur?3e5:6e4;bb("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,(function(){return Object(hy.b)(e,void 0,void 0,(function(){var e;return Object(hy.d)(this,(function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return pE(e=n.sent())?(bb("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,rO(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),AE=function(){function t(t,e){this.dr=t,this.params=e}return t.prototype.wr=function(t,e){return this.dr.Er(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Tr=function(t,e){var n=this;if(0===e)return tE.resolve(cE.Ds);var r=new OE(e);return this.dr.Ue(t,(function(t){return r.Gi(t.sequenceNumber)})).next((function(){return n.dr.Ir(t,(function(t){return r.Gi(t)}))})).next((function(){return r.maxValue}))},t.prototype.mr=function(t,e,n){return this.dr.mr(t,e,n)},t.prototype.Ar=function(t,e){return this.dr.Ar(t,e)},t.prototype.Rr=function(t,e){var n=this;return-1===this.params.Xi?(bb("LruGarbageCollector","Garbage collection skipped; disabled"),tE.resolve(IE)):this.Pr(t).next((function(r){return r<n.params.Xi?(bb("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Xi),IE):n.gr(t,e)}))},t.prototype.Pr=function(t){return this.dr.Pr(t)},t.prototype.gr=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.wr(t,this.params.Zi).next((function(e){return e>c.params.tr?(bb("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.tr+" from "+e),r=c.params.tr):r=e,o=Date.now(),c.Tr(t,r)})).next((function(r){return n=r,a=Date.now(),c.mr(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.Ar(t,n)})).next((function(t){return u=Date.now(),_b()<=dy.a.DEBUG&&bb("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),tE.resolve({zi:!0,Hi:r,Ji:i,Yi:t})}))},t}(),PE=function(){function t(){}return t.prototype.yr=function(t){this.Vr=t},t.prototype.ws=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Tn.length||1===t.Tn.length&&t.Tn[0].field.tt())}(e)||n.isEqual(Ub.min())?this.pr(t,e):this.Vr._s(t,r).next((function(o){var a=i.vr(e,o);return(kC(e)||CC(e))&&i.br(e.limitType,a,r,n)?i.pr(t,e):(_b()<=dy.a.DEBUG&&bb("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),DC(e)),i.Vr.ws(t,e,n).next((function(t){return a.forEach((function(e){t=t.Tt(e.key,e)})),t})))}))},t.prototype.vr=function(t,e){var n=new lw(NC(t));return e.forEach((function(e,r){r instanceof yC&&RC(t,r)&&(n=n.add(r))})),n},t.prototype.br=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},t.prototype.pr=function(t,e){return _b()<=dy.a.DEBUG&&bb("QueryEngine","Using full collection scan to execute query:",DC(e)),this.Vr.ws(t,e,Ub.min())},t}();function DE(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=NE(e)),e=RE(t.get(n),e);return NE(e)}function RE(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function NE(t){return t+"\x01\x01"}function jE(t){var e=t.length;if(Sb(e>=2),2===e)return Sb("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Bb.X();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&Eb(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:Eb()}o=a+2}return new Bb(r)}var ME=function(t){this.Sr=t};function LE(t,e){if(e.document)return function(t,e,n){var r=pk(t,e.name),i=lk(e.updateTime),o=new fC({mapValue:{fields:e.fields}});return new yC(r,i,o,{hasCommittedMutations:!!n})}(t.Sr,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Wb.ct(e.noDocument.path),r=BE(e.noDocument.readTime);return new mC(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Wb.ct(e.unknownDocument.path),o=BE(e.unknownDocument.version);return new gC(i,o)}return Eb()}function FE(t,e,n){var r=VE(n),i=e.key.path.q().H();if(e instanceof yC){var o=function(t,e){return{name:dk(t,e.key),fields:e.En().mapValue.fields,updateTime:sk(t,e.version.M())}}(t.Sr,e);return new vS(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof mC){var a=e.key.path.H(),s=qE(e.version),u=e.hasCommittedMutations;return new vS(null,new dS(a,s),null,u,r,i)}if(e instanceof gC){var c=e.key.path.H(),l=qE(e.version);return new vS(new pS(c,l),null,null,!0,r,i)}return Eb()}function VE(t){var e=t.M();return[e.seconds,e.nanoseconds]}function UE(t){var e=new Vb(t[0],t[1]);return Ub.N(e)}function qE(t){var e=t.M();return new uS(e.seconds,e.nanoseconds)}function BE(t){var e=new Vb(t.seconds,t.nanoseconds);return Ub.N(e)}function zE(t,e){var n=(e.baseMutations||[]).map((function(e){return wk(t.Sr,e)})),r=e.mutations.map((function(e){return wk(t.Sr,e)})),i=Vb.fromMillis(e.localWriteTimeMs);return new JC(e.batchId,i,n,r)}function HE(t){var e,n,r=BE(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?BE(t.lastLimboFreeSnapshotVersion):Ub.min();return void 0!==t.query.documents?(Sb(1===(n=t.query).documents.length),e=TC(wC(yk(n.documents[0])))):e=function(t){return TC(Ek(t))}(t.query),new rw(e,t.targetId,0,t.lastListenSequenceNumber,r,i,tw.fromBase64String(t.resumeToken))}function WE(t,e){var n,r=qE(e.ft),i=qE(e.lastLimboFreeSnapshotVersion);n=$b(e.target)?kk(t.Sr,e.target):Ck(t.Sr,e.target);var o=e.resumeToken.toBase64();return new mS(e.targetId,Jb(e.target),r,o,e.sequenceNumber,i,n)}function GE(t){var e=Ek({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?xC(e,e.limit,"L"):e}var KE=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.os=n,this.Dr=r,this.Cr={}}return t.Nr=function(e,n,r,i){return Sb(""!==e.uid),new t(e.u()?e.uid:"",n,r,i)},t.prototype.Fr=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ZE(t)._i({index:hS.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Or=function(t,e,n,r){var i=this,o=JE(t),a=ZE(t);return a.add({}).next((function(s){Sb("number"==typeof s);for(var u=new JC(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return bk(t.Sr,e)})),i=n.mutations.map((function(e){return bk(t.Sr,e)}));return new hS(e,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new lw((function(t,e){return Mb(t.J(),e.J())})),f=0,d=r;f<d.length;f++){var p=d[f],v=fS.key(i.userId,p.key.path,s);h=h.add(p.key.path.q()),l.push(a.put(c)),l.push(o.put(v,fS.PLACEHOLDER))}return h.forEach((function(e){l.push(i.os.Mr(t,e))})),t.es((function(){i.Cr[s]=u.keys()})),tE.qn(l).next((function(){return u}))}))},t.prototype.kr=function(t,e){var n=this;return ZE(t).get(e).next((function(t){return t?(Sb(t.userId===n.userId),zE(n.serializer,t)):null}))},t.prototype.$r=function(t,e){var n=this;return this.Cr[e]?tE.resolve(this.Cr[e]):this.kr(t,e).next((function(t){if(t){var r=t.keys();return n.Cr[e]=r,r}return null}))},t.prototype.Lr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return ZE(t)._i({index:hS.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Sb(e.batchId>=r),o=zE(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.Br=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ZE(t)._i({index:hS.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.qr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ZE(t).ui(hS.userMutationsIndex,n).next((function(t){return t.map((function(t){return zE(e.serializer,t)}))}))},t.prototype.us=function(t,e){var n=this,r=fS.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return JE(t)._i({range:i},(function(r,i,a){var s=r[0],u=r[2],c=jE(r[1]);if(s===n.userId&&e.path.isEqual(c))return ZE(t).get(u).next((function(t){if(!t)throw Eb();Sb(t.userId===n.userId),o.push(zE(n.serializer,t))}));a.done()})).next((function(){return o}))},t.prototype.ds=function(t,e){var n=this,r=new lw(Mb),i=[];return e.forEach((function(e){var o=fS.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=JE(t)._i({range:a},(function(t,i,o){var a=t[0],s=t[2],u=jE(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()}));i.push(s)})),tE.qn(i).next((function(){return n.Ur(t,r)}))},t.prototype.Rs=function(t,e){var n=this,r=e.path,i=r.length+1,o=fS.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new lw(Mb);return JE(t)._i({range:a},(function(t,e,o){var a=t[0],u=t[2],c=jE(t[1]);a===n.userId&&r.j(c)?c.length===i&&(s=s.add(u)):o.done()})).next((function(){return n.Ur(t,s)}))},t.prototype.Ur=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(ZE(t).get(e).next((function(t){if(null===t)throw Eb();Sb(t.userId===n.userId),r.push(zE(n.serializer,t))})))})),tE.qn(i).next((function(){return r}))},t.prototype.Qr=function(t,e){var n=this;return YE(t.Kr,this.userId,e).next((function(r){return t.es((function(){n.Wr(e.batchId)})),tE.forEach(r,(function(e){return n.Dr.jr(t,e)}))}))},t.prototype.Wr=function(t){delete this.Cr[t]},t.prototype.Gr=function(t){var e=this;return this.Fr(t).next((function(n){if(!n)return tE.resolve();var r=IDBKeyRange.lowerBound(fS.prefixForUser(e.userId)),i=[];return JE(t)._i({range:r},(function(t,n,r){if(t[0]===e.userId){var o=jE(t[1]);i.push(o)}else r.done()})).next((function(){Sb(0===i.length)}))}))},t.prototype.zr=function(t,e){return QE(t,this.userId,e)},t.prototype.Hr=function(t){var e=this;return XE(t).get(this.userId).next((function(t){return t||new lS(e.userId,-1,"")}))},t}();function QE(t,e,n){var r=fS.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return JE(t)._i({range:o,li:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function YE(t,e,n){var r=t.store(hS.store),i=t.store(fS.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r._i({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){Sb(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=fS.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return tE.qn(o).next((function(){return c}))}function ZE(t){return FS.Ys(t,hS.store)}function JE(t){return FS.Ys(t,fS.store)}function XE(t){return FS.Ys(t,lS.store)}var $E=function(){function t(t,e){this.serializer=t,this.os=e}return t.prototype.jn=function(t,e,n){return nS(t).put(rS(e),n)},t.prototype.Hn=function(t,e){var n=nS(t),r=rS(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Jr(t,r)}))},t.prototype.Jn=function(t,e){var n=this;return nS(t).get(rS(e)).next((function(t){return n.Yr(t)}))},t.prototype.Xr=function(t,e){var n=this;return nS(t).get(rS(e)).next((function(t){var e=n.Yr(t);return e?{zn:e,size:iS(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=pw();return this.Zr(t,e,(function(t,e){var i=n.Yr(e);r=r.Tt(t,i)})).next((function(){return r}))},t.prototype.eo=function(t,e){var n=this,r=pw(),i=new sw(Wb.$);return this.Zr(t,e,(function(t,e){var o=n.Yr(e);o?(r=r.Tt(t,o),i=i.Tt(t,iS(e))):(r=r.Tt(t,null),i=i.Tt(t,0))})).next((function(){return{no:r,so:i}}))},t.prototype.Zr=function(t,e,n){if(e.W())return tE.resolve();var r=IDBKeyRange.bound(e.first().path.H(),e.last().path.H()),i=e.yt(),o=i.Ct();return nS(t)._i({range:r},(function(t,e,r){for(var a=Wb.ct(t);o&&Wb.$(o,a)<0;)n(o,null),o=i.Ct();o&&o.isEqual(a)&&(n(o,e),o=i.Nt()?i.Ct():null),o?r.oi(o.path.H()):r.done()})).next((function(){for(;o;)n(o,null),o=i.Nt()?i.Ct():null}))},t.prototype.ws=function(t,e,n){var r=this,i=yw(),o=e.path.length+1,a={};if(n.isEqual(Ub.min())){var s=e.path.H();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.H(),c=VE(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=vS.collectionReadTimeIndex}return nS(t)._i(a,(function(t,n,a){if(t.length===o){var s=LE(r.serializer,n);e.path.j(s.key.path)?s instanceof yC&&RC(e,s)&&(i=i.Tt(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.io=function(t){return new tS(this,!!t&&t.ro)},t.prototype.oo=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return eS(t).get(yS.key).next((function(t){return Sb(!!t),t}))},t.prototype.Jr=function(t,e){return eS(t).put(yS.key,e)},t.prototype.Yr=function(t){if(t){var e=LE(this.serializer,t);return e instanceof mC&&e.version.isEqual(Ub.min())?null:e}return null},t}(),tS=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).co=e,r.ro=n,r.uo=new $C((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(hy.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[],r=0,i=new lw((function(t,e){return Mb(t.J(),e.J())}));return this.Qn.forEach((function(o,a){var s=e.uo.get(o);if(a.zn){var u=FE(e.co.serializer,a.zn,e.Wn(o));i=i.add(o.path.q());var c=iS(u);r+=c-s,n.push(e.co.jn(t,o,u))}else if(r-=s,e.ro){var l=FE(e.co.serializer,new mC(o,Ub.min()),e.Wn(o));n.push(e.co.jn(t,o,l))}else n.push(e.co.Hn(t,o))})),i.forEach((function(r){n.push(e.co.os.Mr(t,r))})),n.push(this.co.updateMetadata(t,r)),tE.qn(n)},e.prototype.Yn=function(t,e){var n=this;return this.co.Xr(t,e).next((function(t){return null===t?(n.uo.set(e,0),null):(n.uo.set(e,t.size),t.zn)}))},e.prototype.Xn=function(t,e){var n=this;return this.co.eo(t,e).next((function(t){var e=t.no;return t.so.forEach((function(t,e){n.uo.set(t,e)})),e}))},e}(eE);function eS(t){return FS.Ys(t,yS.store)}function nS(t){return FS.Ys(t,vS.store)}function rS(t){return t.path.H()}function iS(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Eb();e=t.noDocument}return JSON.stringify(e).length}var oS=function(){function t(){this.ao=new aS}return t.prototype.Mr=function(t,e){return this.ao.add(e),tE.resolve()},t.prototype.As=function(t,e){return tE.resolve(this.ao.getEntries(e))},t}(),aS=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.K(),n=t.q(),r=this.index[e]||new lw(Bb.$),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.K(),n=t.q(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new lw(Bb.$)).H()},t}(),sS=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Sb(n<r&&n>=0&&r<=11);var o=new vE("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(cS.store)}(t),function(t){t.createObjectStore(lS.store,{keyPath:lS.keyPath}),t.createObjectStore(hS.store,{keyPath:hS.keyPath,autoIncrement:!0}).createIndex(hS.userMutationsIndex,hS.userMutationsKeyPath,{unique:!0}),t.createObjectStore(fS.store)}(t),wS(t),function(t){t.createObjectStore(vS.store)}(t));var a=tE.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(gS.store),t.deleteObjectStore(mS.store),t.deleteObjectStore(_S.store)}(t),wS(t)),a=a.next((function(){return function(t){var e=t.store(_S.store),n=new _S(0,0,Ub.min().M(),0);return e.put(_S.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(hS.store).ui().next((function(n){t.deleteObjectStore(hS.store),t.createObjectStore(hS.store,{keyPath:hS.keyPath,autoIncrement:!0}).createIndex(hS.userMutationsIndex,hS.userMutationsKeyPath,{unique:!0});var r=e.store(hS.store),i=n.map((function(t){return r.put(t)}));return tE.qn(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(kS.store,{keyPath:kS.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(yS.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(vS.store);e.createIndex(vS.readTimeIndex,vS.readTimeIndexPath,{unique:!1}),e.createIndex(vS.collectionReadTimeIndex,vS.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.rewriteCanonicalIds(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(CS.store,{keyPath:CS.keyPath})}(t),function(t){t.createObjectStore(ES.store,{keyPath:ES.keyPath})}(t)}))),a},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(vS.store)._i((function(t,n){e+=iS(n)})).next((function(){var n=new yS(e);return t.store(yS.store).put(yS.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(lS.store),r=t.store(hS.store);return n.ui().next((function(n){return tE.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui(hS.userMutationsIndex,i).next((function(r){return tE.forEach(r,(function(r){Sb(r.userId===n.userId);var i=zE(e.serializer,r);return YE(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(gS.store),n=t.store(vS.store);return t.store(_S.store).get(_S.key).next((function(t){var r=[];return n._i((function(n,i){var o=new Bb(n),a=function(t){return[0,DE(t)]}(o);r.push(e.get(a).next((function(n){return n?tE.resolve():function(n){return e.put(new gS(0,DE(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return tE.qn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(bS.store,{keyPath:bS.keyPath});var n=e.store(bS.store),r=new aS,i=function(t){if(r.add(t)){var e=t.K(),i=t.q();return n.put({collectionId:e,parent:DE(i)})}};return e.store(vS.store)._i({li:!0},(function(t,e){var n=new Bb(t);return i(n.q())})).next((function(){return e.store(fS.store)._i({li:!0},(function(t,e){var n=jE(t[1]);return i(n.q())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(mS.store);return n._i((function(t,r){var i=HE(r),o=WE(e.serializer,i);return n.put(o)}))},t}(),uS=function(t,e){this.seconds=t,this.nanoseconds=e},cS=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};cS.store="owner",cS.key="owner";var lS=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};lS.store="mutationQueues",lS.keyPath="userId";var hS=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};hS.store="mutations",hS.keyPath="batchId",hS.userMutationsIndex="userMutationsIndex",hS.userMutationsKeyPath=["userId","batchId"];var fS=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,DE(e)]},t.key=function(t,e,n){return[t,DE(e),n]},t}();fS.store="documentMutations",fS.PLACEHOLDER=new fS;var dS=function(t,e){this.path=t,this.readTime=e},pS=function(t,e){this.path=t,this.version=e},vS=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};vS.store="remoteDocuments",vS.readTimeIndex="readTimeIndex",vS.readTimeIndexPath="readTime",vS.collectionReadTimeIndex="collectionReadTimeIndex",vS.collectionReadTimeIndexPath=["parentPath","readTime"];var yS=function(t){this.byteSize=t};yS.store="remoteDocumentGlobal",yS.key="remoteDocumentGlobalKey";var mS=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};mS.store="targets",mS.keyPath="targetId",mS.queryTargetsIndexName="queryTargetsIndex",mS.queryTargetsKeyPath=["canonicalId","targetId"];var gS=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};gS.store="targetDocuments",gS.keyPath=["targetId","path"],gS.documentTargetsIndex="documentTargetsIndex",gS.documentTargetsKeyPath=["path","targetId"];var _S=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};_S.key="targetGlobalKey",_S.store="targetGlobal";var bS=function(t,e){this.collectionId=t,this.parent=e};function wS(t){t.createObjectStore(gS.store,{keyPath:gS.keyPath}).createIndex(gS.documentTargetsIndex,gS.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(mS.store,{keyPath:mS.keyPath}).createIndex(mS.queryTargetsIndexName,mS.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(_S.store)}bS.store="collectionParents",bS.keyPath=["collectionId","parent"];var kS=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};kS.store="clientMetadata",kS.keyPath="clientId";var CS=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};CS.store="bundles",CS.keyPath="bundleId";var ES=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};ES.store="namedQueries",ES.keyPath="name";var SS=Object(hy.g)(Object(hy.g)(Object(hy.g)(Object(hy.g)([lS.store,hS.store,fS.store,vS.store,mS.store,cS.store,_S.store,gS.store],[kS.store]),[yS.store]),[bS.store]),[CS.store,ES.store]),OS=function(){function t(t){this.serializer=t}return t.prototype.ho=function(t,e){return IS(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:BE(e.createTime),version:e.version};var e}))},t.prototype.lo=function(t,e){return IS(t).put({bundleId:(n=e).id,createTime:qE(lk(n.createTime)),version:n.version});var n},t.prototype._o=function(t,e){return TS(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:GE(e.bundledQuery),readTime:BE(e.readTime)};var e}))},t.prototype.fo=function(t,e){return TS(t).put(function(t){return{name:t.name,readTime:qE(lk(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function IS(t){return FS.Ys(t,CS.store)}function TS(t){return FS.Ys(t,ES.store)}var xS=function(){function t(){this.wo=new aS}return t.prototype.Mr=function(t,e){var n=this;if(!this.wo.has(e)){var r=e.K(),i=e.q();t.es((function(){n.wo.add(e)}));var o={collectionId:r,parent:DE(i)};return AS(t).put(o)}return tE.resolve()},t.prototype.As=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Fb(e),""],!1,!0);return AS(t).ui(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(jE(o.parent))}return n}))},t}();function AS(t){return FS.Ys(t,bS.store)}var PS=function(){function t(t){this.Eo=t}return t.prototype.next=function(){return this.Eo+=2,this.Eo},t.To=function(){return new t(0)},t.Io=function(){return new t(-1)},t}(),DS=function(){function t(t,e){this.Dr=t,this.serializer=e}return t.prototype.mo=function(t){var e=this;return this.Ao(t).next((function(n){var r=new PS(n.highestTargetId);return n.highestTargetId=r.next(),e.Ro(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Po=function(t){return this.Ao(t).next((function(t){return Ub.N(new Vb(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.yo=function(t){return this.Ao(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Vo=function(t,e,n){var r=this;return this.Ao(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ro(t,i)}))},t.prototype.po=function(t,e){var n=this;return this.vo(t,e).next((function(){return n.Ao(t).next((function(r){return r.targetCount+=1,n.bo(e,r),n.Ro(t,r)}))}))},t.prototype.So=function(t,e){return this.vo(t,e)},t.prototype.Do=function(t,e){var n=this;return this.Co(t,e.targetId).next((function(){return RS(t).delete(e.targetId)})).next((function(){return n.Ao(t)})).next((function(e){return Sb(e.targetCount>0),e.targetCount-=1,n.Ro(t,e)}))},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return RS(t)._i((function(a,s){var u=HE(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Do(t,u)))})).next((function(){return tE.qn(o)})).next((function(){return i}))},t.prototype.Ue=function(t,e){return RS(t)._i((function(t,n){var r=HE(n);e(r)}))},t.prototype.Ao=function(t){return NS(t).get(_S.key).next((function(t){return Sb(null!==t),t}))},t.prototype.Ro=function(t,e){return NS(t).put(_S.key,e)},t.prototype.vo=function(t,e){return RS(t).put(WE(this.serializer,e))},t.prototype.bo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.No=function(t){return this.Ao(t).next((function(t){return t.targetCount}))},t.prototype.xo=function(t,e){var n=Jb(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return RS(t)._i({range:r,index:mS.queryTargetsIndexName},(function(t,n,r){var o=HE(n);Xb(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.Fo=function(t,e,n){var r=this,i=[],o=jS(t);return e.forEach((function(e){var a=DE(e.path);i.push(o.put(new gS(n,a))),i.push(r.Dr.Oo(t,n,e))})),tE.qn(i)},t.prototype.Mo=function(t,e,n){var r=this,i=jS(t);return tE.forEach(e,(function(e){var o=DE(e.path);return tE.qn([i.delete([n,o]),r.Dr.ko(t,n,e)])}))},t.prototype.Co=function(t,e){var n=jS(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.$o=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=jS(t),i=_w();return r._i({range:n,li:!0},(function(t,e,n){var r=jE(t[1]),o=new Wb(r);i=i.add(o)})).next((function(){return i}))},t.prototype.zr=function(t,e){var n=DE(e.path),r=IDBKeyRange.bound([n],[Fb(n)],!1,!0),i=0;return jS(t)._i({index:gS.documentTargetsIndex,li:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ze=function(t,e){return RS(t).get(e).next((function(t){return t?HE(t):null}))},t}();function RS(t){return FS.Ys(t,mS.store)}function NS(t){return FS.Ys(t,_S.store)}function jS(t){return FS.Ys(t,gS.store)}var MS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",LS=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kr=e,r.Lo=n,r}return Object(hy.c)(e,t),e}(aE),FS=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Cs=o,this.window=a,this.document=s,this.Bo=c,this.qo=l,this.Uo=null,this.Qo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ko=null,this.inForeground=!1,this.Wo=null,this.jo=null,this.Go=Number.NEGATIVE_INFINITY,this.zo=function(t){return Promise.resolve()},!t.Gs())throw new Tb(Ib.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Dr=new qS(this,i),this.Ho=n+"main",this.serializer=new ME(u),this.Jo=new hE(this.Ho,11,new sS(this.serializer)),this.Yo=new DS(this.Dr,this.serializer),this.os=new xS,this.ss=function(t,e){return new $E(t,e)}(this.serializer,this.os),this.Xo=new OS(this.serializer),this.window&&this.window.localStorage?this.Zo=this.window.localStorage:(this.Zo=null,!1===l&&wb("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ys=function(t,e){if(t instanceof LS)return hE.Ys(t.Kr,e);throw Eb()},t.prototype.start=function(){var t=this;return this.tc().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Tb(Ib.FAILED_PRECONDITION,MS);return t.ec(),t.nc(),t.sc(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Yo.yo(e)}))})).then((function(e){t.Uo=new cE(e,t.Bo)})).then((function(){t.Qo=!0})).catch((function(e){return t.Jo&&t.Jo.close(),Promise.reject(e)}))},t.prototype.ic=function(t){var e=this;return this.zo=function(n){return Object(hy.b)(e,void 0,void 0,(function(){return Object(hy.d)(this,(function(e){return this.lr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.rc=function(t){var e=this;this.Jo.ti((function(n){return Object(hy.b)(e,void 0,void 0,(function(){return Object(hy.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.oc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Cs.Ri((function(){return Object(hy.b)(e,void 0,void 0,(function(){return Object(hy.d)(this,(function(t){switch(t.label){case 0:return this.lr?[4,this.tc()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.tc=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return US(e).put(new kS(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.cc(e).next((function(e){e||(t.isPrimary=!1,t.Cs.Mi((function(){return t.zo(!1)})))}))})).next((function(){return t.uc(e)})).next((function(n){return t.isPrimary&&!n?t.ac(e).next((function(){return!1})):!!n&&t.hc(e).next((function(){return!0}))}))})).catch((function(e){if(pE(e))return bb("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return bb("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Cs.Mi((function(){return t.zo(e)})),t.isPrimary=e}))},t.prototype.cc=function(t){var e=this;return VS(t).get(cS.key).next((function(t){return tE.resolve(e.lc(t))}))},t.prototype._c=function(t){return US(t).delete(this.clientId)},t.prototype.fc=function(){return Object(hy.b)(this,void 0,void 0,(function(){var e,n,r,i=this;return Object(hy.d)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.dc(this.Go,18e5)?[3,2]:(this.Go=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Ys(e,kS.store);return n.ui().next((function(t){var e=i.wc(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return tE.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Zo)for(n=0,r=e;n<r.length;n++)this.Zo.removeItem(this.Ec(r[n].clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.sc=function(){var t=this;this.jo=this.Cs.Us("client_metadata_refresh",4e3,(function(){return t.tc().then((function(){return t.fc()})).then((function(){return t.sc()}))}))},t.prototype.lc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.uc=function(t){var e=this;return this.qo?tE.resolve(!0):VS(t).get(cS.key).next((function(n){if(null!==n&&e.dc(n.leaseTimestampMs,5e3)&&!e.Tc(n.ownerId)){if(e.lc(n)&&e.networkEnabled)return!0;if(!e.lc(n)){if(!n.allowTabSynchronization)throw new Tb(Ib.FAILED_PRECONDITION,MS);return!1}}return!(!e.networkEnabled||!e.inForeground)||US(t).ui().next((function(t){return void 0===e.wc(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&bb("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Ic=function(){return Object(hy.b)(this,void 0,void 0,(function(){var t=this;return Object(hy.d)(this,(function(e){switch(e.label){case 0:return this.Qo=!1,this.mc(),this.jo&&(this.jo.cancel(),this.jo=null),this.Ac(),this.Rc(),[4,this.Jo.runTransaction("shutdown","readwrite",[cS.store,kS.store],(function(e){var n=new LS(e,cE.Ds);return t.ac(n).next((function(){return t._c(n)}))}))];case 1:return e.sent(),this.Jo.close(),this.Pc(),[2]}}))}))},t.prototype.wc=function(t,e){var n=this;return t.filter((function(t){return n.dc(t.updateTimeMs,e)&&!n.Tc(t.clientId)}))},t.prototype.gc=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return US(e).ui().next((function(e){return t.wc(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"lr",{get:function(){return this.Qo},enumerable:!1,configurable:!0}),t.prototype.yc=function(t){return KE.Nr(t,this.serializer,this.os,this.Dr)},t.prototype.Vc=function(){return this.Yo},t.prototype.vc=function(){return this.ss},t.prototype.bc=function(){return this.os},t.prototype.Sc=function(){return this.Xo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return bb("IndexedDbPersistence","Starting transaction:",t),this.Jo.runTransaction(t,"readonly"===e?"readonly":"readwrite",SS,(function(o){return r=new LS(o,i.Uo?i.Uo.next():cE.Ds),"readwrite-primary"===e?i.cc(r).next((function(t){return!!t||i.uc(r)})).next((function(e){if(!e)throw wb("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Cs.Mi((function(){return i.zo(!1)})),new Tb(Ib.FAILED_PRECONDITION,oE);return n(r)})).next((function(t){return i.hc(r).next((function(){return t}))})):i.Dc(r).next((function(){return n(r)}))})).then((function(t){return r.ns(),t}))},t.prototype.Dc=function(t){var e=this;return VS(t).get(cS.key).next((function(t){if(null!==t&&e.dc(t.leaseTimestampMs,5e3)&&!e.Tc(t.ownerId)&&!e.lc(t)&&!(e.qo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Tb(Ib.FAILED_PRECONDITION,MS)}))},t.prototype.hc=function(t){var e=new cS(this.clientId,this.allowTabSynchronization,Date.now());return VS(t).put(cS.key,e)},t.Gs=function(){return hE.Gs()},t.prototype.ac=function(t){var e=this,n=VS(t);return n.get(cS.key).next((function(t){return e.lc(t)?(bb("IndexedDbPersistence","Releasing primary lease."),n.delete(cS.key)):tE.resolve()}))},t.prototype.dc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(wb("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.ec=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Wo=function(){t.Cs.Ri((function(){return t.inForeground="visible"===t.document.visibilityState,t.tc()}))},this.document.addEventListener("visibilitychange",this.Wo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Ac=function(){this.Wo&&(this.document.removeEventListener("visibilitychange",this.Wo),this.Wo=null)},t.prototype.nc=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ko=function(){e.mc(),e.Cs.Ri((function(){return e.Ic()}))},this.window.addEventListener("unload",this.Ko))},t.prototype.Rc=function(){this.Ko&&(this.window.removeEventListener("unload",this.Ko),this.Ko=null)},t.prototype.Tc=function(t){var e;try{var n=null!==(null===(e=this.Zo)||void 0===e?void 0:e.getItem(this.Ec(t)));return bb("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return wb("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.mc=function(){if(this.Zo)try{this.Zo.setItem(this.Ec(this.clientId),String(Date.now()))}catch(t){wb("Failed to set zombie client id.",t)}},t.prototype.Pc=function(){if(this.Zo)try{this.Zo.removeItem(this.Ec(this.clientId))}catch(t){}},t.prototype.Ec=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function VS(t){return FS.Ys(t,cS.store)}function US(t){return FS.Ys(t,kS.store)}var qS=function(){function t(t,e){this.db=t,this.cr=new AE(this,e)}return t.prototype.Er=function(t){var e=this.Cc(t);return this.db.Vc().No(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Cc=function(t){var e=0;return this.Ir(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ue=function(t,e){return this.db.Vc().Ue(t,e)},t.prototype.Ir=function(t,e){return this.Nc(t,(function(t,n){return e(n)}))},t.prototype.Oo=function(t,e,n){return BS(t,n)},t.prototype.ko=function(t,e,n){return BS(t,n)},t.prototype.mr=function(t,e,n){return this.db.Vc().mr(t,e,n)},t.prototype.jr=function(t,e){return BS(t,e)},t.prototype.xc=function(t,e){return function(t,e){var n=!1;return XE(t).fi((function(r){return QE(t,r,e).next((function(t){return t&&(n=!0),tE.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Ar=function(t,e){var n=this,r=this.db.vc().io(),i=[],o=0;return this.Nc(t,(function(a,s){if(s<=e){var u=n.xc(t,a).next((function(e){if(!e)return o++,r.Jn(t,a).next((function(){return r.Hn(a),jS(t).delete([0,DE(a.path)])}))}));i.push(u)}})).next((function(){return tE.qn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.dt(t.Lo);return this.db.Vc().So(t,n)},t.prototype.Fc=function(t,e){return BS(t,e)},t.prototype.Nc=function(t,e){var n,r=jS(t),i=cE.Ds;return r._i({index:gS.documentTargetsIndex},(function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==cE.Ds&&e(new Wb(jE(n)),i),i=a,n=o):i=cE.Ds})).next((function(){i!==cE.Ds&&e(new Wb(jE(n)),i)}))},t.prototype.Pr=function(t){return this.db.vc().oo(t)},t}();function BS(t,e){return jS(t).put(function(t,e){return new gS(0,DE(t.path),e)}(e,t.Lo))}function zS(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var HS=function(){function t(t,e,n,r){this.persistence=t,this.Oc=e,this.serializer=r,this.Mc=new sw(Mb),this.kc=new $C((function(t){return Jb(t)}),Xb),this.$c=Ub.min(),this.rs=t.yc(n),this.Lc=t.vc(),this.Yo=t.Vc(),this.Bc=new sE(this.Lc,this.rs,this.persistence.bc()),this.Xo=t.Sc(),this.Oc.yr(this.Bc)}return t.prototype._r=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Rr(n,e.Mc)}))},t}();function WS(t,e,n,r){return new HS(t,e,n,r)}function GS(t,e){return Object(hy.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(hy.d)(this,(function(a){switch(a.label){case 0:return n=Ob(t),r=n.rs,i=n.Bc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.rs.qr(t).next((function(a){return o=a,r=n.persistence.yc(e),i=new sE(n.Lc,r,n.persistence.bc()),r.qr(t)})).next((function(e){for(var n=[],r=[],a=_w(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)a=a.add(y[v].key)}return i._s(t,a).next((function(t){return{qc:t,Uc:n,Qc:r}}))}))}))];case 1:return o=a.sent(),[2,(n.rs=r,n.Bc=i,n.Oc.yr(n.Bc),o)]}}))}))}function KS(t,e){var n=Ob(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Lc.io({ro:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=tE.resolve();return o.forEach((function(t){a=a.next((function(){return r.Jn(e,t)})).next((function(e){var o=e,a=n.Sn.get(t);Sb(null!==a),(!o||o.version.F(a)<0)&&(o=i.yn(t,o,n))&&r.jn(o,n.bn)}))})),a.next((function(){return t.rs.Qr(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.rs.Gr(t)})).next((function(){return n.Bc._s(t,r)}))}))}function QS(t){var e=Ob(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Yo.Po(t)}))}function YS(t,e){var n=Ob(t),r=e.ft,i=n.Mc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Lc.io({ro:!0});i=n.Mc;var a=[];e.re.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.Yo.Mo(t,e.de,o).next((function(){return n.Yo.Fo(t,e._e,o)})));var u=e.resumeToken;if(u.ht()>0){var c=s.wt(u,r).dt(t.Lo);i=i.Tt(o,c),function(t,e,n){return Sb(e.resumeToken.ht()>0),0===t.resumeToken.ht()||e.ft.O()-t.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(s,c,e)&&a.push(n.Yo.So(t,c))}}}));var s=dw();if(e.ce.forEach((function(r,i){e.ue.has(r)&&a.push(n.persistence.Dr.Fc(t,r))})),a.push(function(t,e,n,r,i){var o=_w();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var i=dw();return n.forEach((function(n,o){var a=t.get(n),s=r;o instanceof mC&&o.version.isEqual(Ub.min())?(e.Hn(n,s),i=i.Tt(n,o)):null==a||o.version.F(a.version)>0||0===o.version.F(a.version)&&a.hasPendingWrites?(e.jn(o,s),i=i.Tt(n,o)):bb("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),i}))}(t,o,e.ce,r).next((function(t){s=t}))),!r.isEqual(Ub.min())){var u=n.Yo.Po(t).next((function(e){return n.Yo.Vo(t,t.Lo,r)}));a.push(u)}return tE.qn(a).next((function(){return o.apply(t)})).next((function(){return n.Bc.fs(t,s)}))})).then((function(t){return n.Mc=i,t}))}function ZS(t,e){var n=Ob(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.rs.Lr(t,e)}))}function JS(t,e){var n=Ob(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Yo.xo(t,e).next((function(i){return i?tE.resolve(r=i):n.Yo.mo(t).next((function(i){return r=new rw(e,i,0,t.Lo),n.Yo.po(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Mc.get(t.targetId);return(null===r||t.ft.F(r.ft)>0)&&(n.Mc=n.Mc.Tt(t.targetId,t),n.kc.set(e,t.targetId)),t}))}function XS(t,e,n){return Object(hy.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object(hy.d)(this,(function(s){switch(s.label){case 0:r=Ob(t),i=r.Mc.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Dr.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!pE(a=s.sent()))throw a;return bb("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Mc=r.Mc.remove(e),r.kc.delete(i.target),[2]}}))}))}function $S(t,e,n){var r=Ob(t),i=Ub.min(),o=_w();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Ob(t),i=r.kc.get(n);return void 0!==i?tE.resolve(r.Mc.get(i)):r.Yo.xo(e,n)}(r,t,TC(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Yo.$o(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Oc.ws(t,e,n?i:Ub.min(),n?o:_w())})).next((function(t){return{documents:t,Kc:o}}))}))}function tO(t,e){var n=Ob(t),r=Ob(n.Yo),i=n.Mc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ze(t,e).next((function(t){return t?t.target:null}))}))}function eO(t){var e=Ob(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Ob(t),i=dw(),o=VE(n),a=nS(e),s=IDBKeyRange.lowerBound(o,!0);return a._i({index:vS.readTimeIndex,range:s},(function(t,e){var n=LE(r.serializer,e);i=i.Tt(n.key,n),o=e.readTime})).next((function(){return{Wc:i,readTime:UE(o)}}))}(e.Lc,t,e.$c)})).then((function(t){var n=t.Wc;return e.$c=t.readTime,n}))}function nO(t){return Object(hy.b)(this,void 0,void 0,(function(){var e;return Object(hy.d)(this,(function(n){return[2,(e=Ob(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=nS(t),n=Ub.min();return e._i({index:vS.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=UE(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$c=t}))]}))}))}function rO(t){return Object(hy.b)(this,void 0,void 0,(function(){return Object(hy.d)(this,(function(e){if(t.code!==Ib.FAILED_PRECONDITION||t.message!==oE)throw t;return bb("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var iO=function(){function t(t,e,n,r,i,o){this.Cs=t,this.jc=n,this.Gc=r,this.zc=i,this.listener=o,this.state=0,this.Hc=0,this.Jc=null,this.stream=null,this.Si=new lE(t,e)}return t.prototype.Yc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Xc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Zc()},t.prototype.stop=function(){return Object(hy.b)(this,void 0,void 0,(function(){return Object(hy.d)(this,(function(t){switch(t.label){case 0:return this.Yc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.tu=function(){this.state=0,this.Si.reset()},t.prototype.eu=function(){var t=this;this.Xc()&&null===this.Jc&&(this.Jc=this.Cs.Us(this.jc,6e4,(function(){return t.nu()})))},t.prototype.su=function(t){this.iu(),this.stream.send(t)},t.prototype.nu=function(){return Object(hy.b)(this,void 0,void 0,(function(){return Object(hy.d)(this,(function(t){return this.Xc()?[2,this.close(0)]:[2]}))}))},t.prototype.iu=function(){this.Jc&&(this.Jc.cancel(),this.Jc=null)},t.prototype.close=function(t,e){return Object(hy.b)(this,void 0,void 0,(function(){return Object(hy.d)(this,(function(n){switch(n.label){case 0:return this.iu(),this.Si.cancel(),this.Hc++,3!==t?this.Si.reset():e&&e.code===Ib.RESOURCE_EXHAUSTED?(wb(e.toString()),wb("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):e&&e.code===Ib.UNAUTHENTICATED&&this.zc.m(),null!==this.stream&&(this.ru(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ou(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ru=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.cu(this.Hc),n=this.Hc;this.zc.getToken().then((function(e){t.Hc===n&&t.uu(e)}),(function(n){e((function(){var e=new Tb(Ib.UNKNOWN,"Fetching auth token failed: "+n.message);return t.au(e)}))}))},t.prototype.uu=function(t){var e=this,n=this.cu(this.Hc);this.stream=this.hu(t),this.stream.lu((function(){n((function(){return e.state=2,e.listener.lu()}))})),this.stream.ou((function(t){n((function(){return e.au(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Zc=function(){var t=this;this.state=4,this.Si.Bs((function(){return Object(hy.b)(t,void 0,void 0,(function(){return Object(hy.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.au=function(t){return bb("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.cu=function(t){var e=this;return function(n){e.Cs.Ri((function(){return e.Hc===t?n():(bb("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),oO=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,a}return Object(hy.c)(e,t),e.prototype.hu=function(t){return this.Gc._u("Listen",t)},e.prototype.onMessage=function(t){this.Si.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Eb()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.tn?(Sb(void 0===e||"string"==typeof e),tw.fromBase64String(e||"")):(Sb(void 0===e||e instanceof Uint8Array),tw.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(t){var e=void 0===t.code?Ib.UNKNOWN:aw(t.code);return new Tb(e,t.message||"")}(a);n=new xw(r,i,o,s||null)}else if("documentChange"in e){var u=e.documentChange,c=pk(t,u.document.name),l=lk(u.document.updateTime),h=new fC({mapValue:{fields:u.document.fields}}),f=new yC(c,l,h,{});n=new Iw(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=pk(t,d.document),v=d.readTime?lk(d.readTime):Ub.min(),y=new mC(p,v);n=new Iw([],d.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){var m=e.documentRemove,g=pk(t,m.document);n=new Iw([],m.removedTargetIds||[],g,null)}else{if(!("filter"in e))return Eb();var _=e.filter,b=new iw(_.count||0);n=new Tw(_.targetId,b)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Ub.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Ub.min():e.readTime?lk(e.readTime):Ub.min()}(t);return this.listener.fu(e,n)},e.prototype.du=function(t){var e={};e.database=mk(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=$b(r)?{documents:kk(t,r)}:{query:Ck(t,r)}).targetId=e.targetId,e.resumeToken.ht()>0?n.resumeToken=uk(t,e.resumeToken):e.ft.F(Ub.min())>0&&(n.readTime=sk(t,e.ft.M())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Eb()}}(0,e._t);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.su(e)},e.prototype.wu=function(t){var e={};e.database=mk(this.serializer),e.removeTarget=t,this.su(e)},e}(iO),aO=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,a.Eu=!1,a}return Object(hy.c)(e,t),Object.defineProperty(e.prototype,"Tu",{get:function(){return this.Eu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Eu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ru=function(){this.Eu&&this.Iu([])},e.prototype.hu=function(t){return this.Gc._u("Write",t)},e.prototype.onMessage=function(t){if(Sb(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Eu){this.Si.reset();var e=function(t,e){return t&&t.length>0?(Sb(void 0!==e),t.map((function(t){return function(t,e){var n=lk(t.updateTime?t.updateTime:e);n.isEqual(Ub.min())&&(n=lk(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Yk(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=lk(t.commitTime);return this.listener.mu(n,e)}return Sb(!t.writeResults||0===t.writeResults.length),this.Eu=!0,this.listener.Au()},e.prototype.Ru=function(){var t={};t.database=mk(this.serializer),this.su(t)},e.prototype.Iu=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return bk(e.serializer,t)}))};this.su(n)},e}(iO),sO=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Gc=n,i.serializer=r,i.Pu=!1,i}return Object(hy.c)(e,t),e.prototype.gu=function(){if(this.Pu)throw new Tb(Ib.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.yu=function(t,e,n){var r=this;return this.gu(),this.credentials.getToken().then((function(i){return r.Gc.yu(t,e,n,i)})).catch((function(t){throw t.code===Ib.UNAUTHENTICATED&&r.credentials.m(),t}))},e.prototype.Vu=function(t,e,n){var r=this;return this.gu(),this.credentials.getToken().then((function(i){return r.Gc.Vu(t,e,n,i)})).catch((function(t){throw t.code===Ib.UNAUTHENTICATED&&r.credentials.m(),t}))},e.prototype.terminate=function(){this.Pu=!1},e}((function(){})),uO=function(){function t(t,e){this.di=t,this.pu=e,this.state="Unknown",this.vu=0,this.bu=null,this.Su=!0}return t.prototype.Du=function(){var t=this;0===this.vu&&(this.Cu("Unknown"),this.bu=this.di.Us("online_state_timeout",1e4,(function(){return t.bu=null,t.Nu("Backend didn't respond within 10 seconds."),t.Cu("Offline"),Promise.resolve()})))},t.prototype.xu=function(t){"Online"===this.state?this.Cu("Unknown"):(this.vu++,this.vu>=1&&(this.Fu(),this.Nu("Connection failed 1 times. Most recent error: "+t.toString()),this.Cu("Offline")))},t.prototype.set=function(t){this.Fu(),this.vu=0,"Online"===t&&(this.Su=!1),this.Cu(t)},t.prototype.Cu=function(t){t!==this.state&&(this.state=t,this.pu(t))},t.prototype.Nu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Su?(wb(e),this.Su=!1):bb("OnlineStateTracker",e)},t.prototype.Fu=function(){null!==this.bu&&(this.bu.cancel(),this.bu=null)},t}(),cO=function(t,e,n,r,i){var o=this;this.Ou=t,this.Mu=e,this.di=n,this.ku={},this.$u=[],this.Lu=new Map,this.Bu=new Set,this.qu=[],this.Uu=i,this.Uu.Qu((function(t){n.Ri((function(){return Object(hy.b)(o,void 0,void 0,(function(){return Object(hy.d)(this,(function(t){switch(t.label){case 0:return gO(this)?(bb("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(hy.b)(this,void 0,void 0,(function(){var e;return Object(hy.d)(this,(function(n){switch(n.label){case 0:return(e=Ob(t)).Bu.add(4),[4,hO(e)];case 1:return n.sent(),e.Ku.set("Unknown"),e.Bu.delete(4),[4,lO(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Ku=new uO(n,r)};function lO(t){return Object(hy.b)(this,void 0,void 0,(function(){var e,n;return Object(hy.d)(this,(function(r){switch(r.label){case 0:if(!gO(t))return[3,4];e=0,n=t.qu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function hO(t){return Object(hy.b)(this,void 0,void 0,(function(){var e,n;return Object(hy.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.qu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function fO(t,e){var n=Ob(t);n.Lu.has(e.targetId)||(n.Lu.set(e.targetId,e),mO(n)?yO(n):RO(n).Xc()&&pO(n,e))}function dO(t,e){var n=Ob(t),r=RO(n);n.Lu.delete(e),r.Xc()&&vO(n,e),0===n.Lu.size&&(r.Xc()?r.eu():gO(n)&&n.Ku.set("Unknown"))}function pO(t,e){t.Wu.De(e.targetId),RO(t).du(e)}function vO(t,e){t.Wu.De(e),RO(t).wu(e)}function yO(t){t.Wu=new Pw({Xe:function(e){return t.ku.Xe(e)},Ze:function(e){return t.Lu.get(e)||null}}),RO(t).start(),t.Ku.Du()}function mO(t){return gO(t)&&!RO(t).Yc()&&t.Lu.size>0}function gO(t){return 0===Ob(t).Bu.size}function _O(t){t.Wu=void 0}function bO(t){return Object(hy.b)(this,void 0,void 0,(function(){return Object(hy.d)(this,(function(e){return t.Lu.forEach((function(e,n){pO(t,e)})),[2]}))}))}function wO(t,e){return Object(hy.b)(this,void 0,void 0,(function(){return Object(hy.d)(this,(function(n){return _O(t),mO(t)?(t.Ku.xu(e),yO(t)):t.Ku.set("Unknown"),[2]}))}))}function kO(t,e,n){return Object(hy.b)(this,void 0,void 0,(function(){var r,i,o;return Object(hy.d)(this,(function(a){switch(a.label){case 0:if(t.Ku.set("Online"),!(e instanceof xw&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(hy.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(hy.d)(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.Lu.has(o=i[r])?[4,t.ku.ju(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.Lu.delete(o),t.Wu.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),bb("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,CO(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Iw?t.Wu.$e(e):e instanceof Tw?t.Wu.je(e):t.Wu.qe(e),n.isEqual(Ub.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,QS(t.Ou)];case 8:return i=a.sent(),n.F(i)>=0?[4,function(t,e){var n=t.Wu.He(e);return n.re.forEach((function(n,r){if(n.resumeToken.ht()>0){var i=t.Lu.get(r);i&&t.Lu.set(r,i.wt(n.resumeToken,e))}})),n.oe.forEach((function(e){var n=t.Lu.get(e);if(n){t.Lu.set(e,n.wt(tw.lt,n.ft)),vO(t,e);var r=new rw(n.target,e,1,n.sequenceNumber);pO(t,r)}})),t.ku.Gu(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return bb("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,CO(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function CO(t,e,n){return Object(hy.b)(this,void 0,void 0,(function(){var r=this;return Object(hy.d)(this,(function(i){switch(i.label){case 0:if(!pE(e))throw e;return t.Bu.add(1),[4,hO(t)];case 1:return i.sent(),t.Ku.set("Offline"),n||(n=function(){return QS(t.Ou)}),t.di.Mi((function(){return Object(hy.b)(r,void 0,void 0,(function(){return Object(hy.d)(this,(function(e){switch(e.label){case 0:return bb("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Bu.delete(1),[4,lO(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function EO(t,e){return e().catch((function(n){return CO(t,n,e)}))}function SO(t){return Object(hy.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(hy.d)(this,(function(a){switch(a.label){case 0:e=Ob(t),n=NO(e),r=e.$u.length>0?e.$u[e.$u.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return gO(t)&&t.$u.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,ZS(e.Ou,r)];case 3:return null===(i=a.sent())?(0===e.$u.length&&n.eu(),[3,7]):(r=i.batchId,function(t,e){t.$u.push(e);var n=NO(t);n.Xc()&&n.Tu&&n.Iu(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,CO(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return OO(e)&&IO(e),[2]}}))}))}function OO(t){return gO(t)&&!NO(t).Yc()&&t.$u.length>0}function IO(t){NO(t).start()}function TO(t){return Object(hy.b)(this,void 0,void 0,(function(){return Object(hy.d)(this,(function(e){return NO(t).Ru(),[2]}))}))}function xO(t){return Object(hy.b)(this,void 0,void 0,(function(){var e,n,r;return Object(hy.d)(this,(function(i){for(e=NO(t),n=0,r=t.$u;n<r.length;n++)e.Iu(r[n].mutations);return[2]}))}))}function AO(t,e,n){return Object(hy.b)(this,void 0,void 0,(function(){var r,i;return Object(hy.d)(this,(function(o){switch(o.label){case 0:return r=t.$u.shift(),i=XC.from(r,e,n),[4,EO(t,(function(){return t.ku.zu(i)}))];case 1:return o.sent(),[4,SO(t)];case 2:return o.sent(),[2]}}))}))}function PO(t,e){return Object(hy.b)(this,void 0,void 0,(function(){return Object(hy.d)(this,(function(n){switch(n.label){case 0:return e&&NO(t).Tu?[4,function(t,e){return Object(hy.b)(this,void 0,void 0,(function(){var n,r;return Object(hy.d)(this,(function(i){switch(i.label){case 0:return ow(r=e.code)&&r!==Ib.ABORTED?(n=t.$u.shift(),NO(t).tu(),[4,EO(t,(function(){return t.ku.Hu(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,SO(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return OO(t)&&IO(t),[2]}}))}))}function DO(t,e){return Object(hy.b)(this,void 0,void 0,(function(){var n;return Object(hy.d)(this,(function(r){switch(r.label){case 0:return n=Ob(t),e?(n.Bu.delete(2),[4,lO(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Bu.add(2),[4,hO(n)]);case 3:r.sent(),n.Ku.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function RO(t){var e=this;return t.Ju||(t.Ju=function(t,e,n){var r=Ob(t);return r.gu(),new oO(e,r.Gc,r.credentials,r.serializer,n)}(t.Mu,t.di,{lu:bO.bind(null,t),ou:wO.bind(null,t),fu:kO.bind(null,t)}),t.qu.push((function(n){return Object(hy.b)(e,void 0,void 0,(function(){return Object(hy.d)(this,(function(e){switch(e.label){case 0:return n?(t.Ju.tu(),mO(t)?yO(t):t.Ku.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ju.stop()];case 2:e.sent(),_O(t),e.label=3;case 3:return[2]}}))}))}))),t.Ju}function NO(t){var e=this;return t.Yu||(t.Yu=function(t,e,n){var r=Ob(t);return r.gu(),new aO(e,r.Gc,r.credentials,r.serializer,n)}(t.Mu,t.di,{lu:TO.bind(null,t),ou:PO.bind(null,t),Au:xO.bind(null,t),mu:AO.bind(null,t)}),t.qu.push((function(n){return Object(hy.b)(e,void 0,void 0,(function(){return Object(hy.d)(this,(function(e){switch(e.label){case 0:return n?(t.Yu.tu(),[4,SO(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Yu.stop()];case 3:e.sent(),t.$u.length>0&&(bb("RemoteStore","Stopping write stream with "+t.$u.length+" pending writes"),t.$u=[]),e.label=4;case 4:return[2]}}))}))}))),t.Yu}var jO=function(){this.Xu=void 0,this.listeners=[]},MO=function(){this.queries=new $C((function(t){return PC(t)}),AC),this.onlineState="Unknown",this.Zu=new Set};function LO(t,e){return Object(hy.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Object(hy.d)(this,(function(c){switch(c.label){case 0:if(n=Ob(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new jO),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.ta(r)];case 2:return a.Xu=c.sent(),[3,4];case 3:return s=c.sent(),u=EE(s,"Initialization of query '"+DC(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.ea(n.onlineState),o.Xu&&e.na(o.Xu)&&qO(n),[2]}}))}))}function FO(t,e){return Object(hy.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(hy.d)(this,(function(s){return n=Ob(t),i=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.sa(r))]:[2]}))}))}function VO(t,e){for(var n=Ob(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].na(a)&&(r=!0);s.Xu=a}}r&&qO(n)}function UO(t,e,n){var r=Ob(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function qO(t){t.Zu.forEach((function(t){t.next()}))}var BO=function(){function t(t,e,n){this.query=t,this.ia=e,this.ra=!1,this.oa=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.na=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Ew(t.query,t.docs,t.te,e,t.ee,t.fromCache,t.ne,!0)}var o=!1;return this.ra?this.ca(t)&&(this.ia.next(t),o=!0):this.ua(t,this.onlineState)&&(this.aa(t),o=!0),this.oa=t,o},t.prototype.onError=function(t){this.ia.error(t)},t.prototype.ea=function(t){this.onlineState=t;var e=!1;return this.oa&&!this.ra&&this.ua(this.oa,t)&&(this.aa(this.oa),e=!0),e},t.prototype.ua=function(t,e){return!t.fromCache||!(this.options.ha&&"Offline"!==e||t.docs.W()&&"Offline"!==e)},t.prototype.ca=function(t){return t.docChanges.length>0||!!(t.ne||this.oa&&this.oa.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.aa=function(t){t=Ew.ie(t.query,t.docs,t.ee,t.fromCache),this.ra=!0,this.ia.next(t)},t}(),zO=function(){function t(){this.la=new lw(HO._a),this.fa=new lw(HO.da)}return t.prototype.W=function(){return this.la.W()},t.prototype.Oo=function(t,e){var n=new HO(t,e);this.la=this.la.add(n),this.fa=this.fa.add(n)},t.prototype.wa=function(t,e){var n=this;t.forEach((function(t){return n.Oo(t,e)}))},t.prototype.ko=function(t,e){this.Ea(new HO(t,e))},t.prototype.Ta=function(t,e){var n=this;t.forEach((function(t){return n.ko(t,e)}))},t.prototype.Ia=function(t){var e=this,n=new Wb(new Bb([])),r=new HO(n,t),i=new HO(n,t+1),o=[];return this.fa.Kt([r,i],(function(t){e.Ea(t),o.push(t.key)})),o},t.prototype.ma=function(){var t=this;this.la.forEach((function(e){return t.Ea(e)}))},t.prototype.Ea=function(t){this.la=this.la.delete(t),this.fa=this.fa.delete(t)},t.prototype.Aa=function(t){var e=new Wb(new Bb([])),n=new HO(e,t),r=new HO(e,t+1),i=_w();return this.fa.Kt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.zr=function(t){var e=new HO(t,0),n=this.la.jt(e);return null!==n&&t.isEqual(n.key)},t}(),HO=function(){function t(t,e){this.key=t,this.Ra=e}return t._a=function(t,e){return Wb.$(t.key,e.key)||Mb(t.Ra,e.Ra)},t.da=function(t,e){return Mb(t.Ra,e.Ra)||Wb.$(t.key,e.key)},t}();function WO(t,e){return"firestore_clients_"+t+"_"+e}function GO(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.u()&&(r+="_"+e.uid),r}function KO(t,e){return"firestore_targets_"+t+"_"+e}var QO=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Pa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new Tb(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(wb("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ga=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),YO=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Pa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Tb(r.error.code,r.error.message)),i?new t(e,r.state,o):(wb("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ga=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ZO=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Pa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ww(),a=0;i&&a<r.activeTargetIds.length;++a)i=Qb(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(wb("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),JO=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Pa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(wb("SharedClientState","Failed to parse online state: "+e),null)},t}(),XO=function(){function t(){this.activeTargetIds=ww()}return t.prototype.ya=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Va=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ga=function(){var t={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),$O=function(){function t(t,e,n,r,i){this.window=t,this.Cs=e,this.persistenceKey=n,this.pa=r,this.va=null,this.pu=null,this.ps=null,this.ba=this.Sa.bind(this),this.Da=new sw(Mb),this.lr=!1,this.Ca=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Na=WO(this.persistenceKey,this.pa),this.xa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Da=this.Da.Tt(this.pa,new XO),this.Fa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Oa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Ma=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ka=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.$a=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ba)}return t.Gs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(hy.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,l=this;return Object(hy.d)(this,(function(h){switch(h.label){case 0:return[4,this.va.gc()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.pa&&(i=this.getItem(WO(this.persistenceKey,r)))&&(o=ZO.Pa(r,i))&&(this.Da=this.Da.Tt(o.clientId,o));for(this.La(),(a=this.storage.getItem(this.ka))&&(s=this.Ba(a))&&this.qa(s),u=0,c=this.Ca;u<c.length;u++)this.Sa(c[u]);return this.Ca=[],this.window.addEventListener("unload",(function(){return l.Ic()})),this.lr=!0,[2]}}))}))},t.prototype.Ss=function(t){this.setItem(this.xa,JSON.stringify(t))},t.prototype.Ua=function(){return this.Qa(this.Da)},t.prototype.Ka=function(t){var e=!1;return this.Da.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Wa=function(t){this.ja(t,"pending")},t.prototype.Ga=function(t,e,n){this.ja(t,e,n),this.za(t)},t.prototype.Ha=function(t){var e="not-current";if(this.Ka(t)){var n=this.storage.getItem(KO(this.persistenceKey,t));if(n){var r=YO.Pa(t,n);r&&(e=r.state)}}return this.Ja.ya(t),this.La(),e},t.prototype.Ya=function(t){this.Ja.Va(t),this.La()},t.prototype.Xa=function(t){return this.Ja.activeTargetIds.has(t)},t.prototype.Za=function(t){this.removeItem(KO(this.persistenceKey,t))},t.prototype.th=function(t,e,n){this.eh(t,e,n)},t.prototype.nh=function(t,e,n){var r=this;e.forEach((function(t){r.za(t)})),this.currentUser=t,n.forEach((function(t){r.Wa(t)}))},t.prototype.sh=function(t){this.ih(t)},t.prototype.rh=function(){this.oh()},t.prototype.Ic=function(){this.lr&&(this.window.removeEventListener("storage",this.ba),this.removeItem(this.Na),this.lr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return bb("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){bb("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){bb("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Sa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(bb("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Na)return void wb("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi((function(){return Object(hy.b)(e,void 0,void 0,(function(){var t,e,r,i,o,a;return Object(hy.d)(this,(function(s){if(this.lr){if(null!==n.key)if(this.Fa.test(n.key)){if(null==n.newValue)return t=this.uh(n.key),[2,this.ah(t,null)];if(e=this.hh(n.key,n.newValue))return[2,this.ah(e.clientId,e)]}else if(this.Oa.test(n.key)){if(null!==n.newValue&&(r=this.lh(n.key,n.newValue)))return[2,this._h(r)]}else if(this.Ma.test(n.key)){if(null!==n.newValue&&(i=this.fh(n.key,n.newValue)))return[2,this.dh(i)]}else if(n.key===this.ka){if(null!==n.newValue&&(o=this.Ba(n.newValue)))return[2,this.qa(o)]}else if(n.key===this.xa)(a=function(t){var e=cE.Ds;if(null!=t)try{var n=JSON.parse(t);Sb("number"==typeof n),e=n}catch(t){wb("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==cE.Ds&&this.ps(a);else if(n.key===this.$a)return[2,this.va.wh()]}else this.Ca.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ja",{get:function(){return this.Da.get(this.pa)},enumerable:!1,configurable:!0}),t.prototype.La=function(){this.setItem(this.Na,this.Ja.ga())},t.prototype.ja=function(t,e,n){var r=new QO(this.currentUser,t,e,n),i=GO(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ga())},t.prototype.za=function(t){var e=GO(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ih=function(t){this.storage.setItem(this.ka,JSON.stringify({clientId:this.pa,onlineState:t}))},t.prototype.eh=function(t,e,n){var r=KO(this.persistenceKey,t),i=new YO(t,e,n);this.setItem(r,i.ga())},t.prototype.oh=function(){this.setItem(this.$a,"value-not-used")},t.prototype.uh=function(t){var e=this.Fa.exec(t);return e?e[1]:null},t.prototype.hh=function(t,e){var n=this.uh(t);return ZO.Pa(n,e)},t.prototype.lh=function(t,e){var n=this.Oa.exec(t),r=Number(n[1]);return QO.Pa(new mb(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fh=function(t,e){var n=this.Ma.exec(t),r=Number(n[1]);return YO.Pa(r,e)},t.prototype.Ba=function(t){return JO.Pa(t)},t.prototype._h=function(t){return Object(hy.b)(this,void 0,void 0,(function(){return Object(hy.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.va.Eh(t.batchId,t.state,t.error)]:(bb("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.dh=function(t){return this.va.Th(t.targetId,t.state,t.error)},t.prototype.ah=function(t,e){var n=this,r=e?this.Da.Tt(t,e):this.Da.remove(t),i=this.Qa(this.Da),o=this.Qa(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.va.Ih(a,s).then((function(){n.Da=r}))},t.prototype.qa=function(t){this.Da.get(t.clientId)&&this.pu(t.onlineState)},t.prototype.Qa=function(t){var e=ww();return t.forEach((function(t,n){e=e.Gt(n.activeTargetIds)})),e},t}(),tI=function(){function t(){this.mh=new XO,this.Ah={},this.pu=null,this.ps=null}return t.prototype.Wa=function(t){},t.prototype.Ga=function(t,e,n){},t.prototype.Ha=function(t){return this.mh.ya(t),this.Ah[t]||"not-current"},t.prototype.th=function(t,e,n){this.Ah[t]=e},t.prototype.Ya=function(t){this.mh.Va(t)},t.prototype.Xa=function(t){return this.mh.activeTargetIds.has(t)},t.prototype.Za=function(t){delete this.Ah[t]},t.prototype.Ua=function(){return this.mh.activeTargetIds},t.prototype.Ka=function(t){return this.mh.activeTargetIds.has(t)},t.prototype.start=function(){return this.mh=new XO,Promise.resolve()},t.prototype.nh=function(t,e,n){},t.prototype.sh=function(t){},t.prototype.Ic=function(){},t.prototype.Ss=function(t){},t.prototype.rh=function(){},t}(),eI=function(t){this.key=t},nI=function(t){this.key=t},rI=function(){function t(t,e){this.query=t,this.Rh=e,this.Ph=null,this.le=!1,this.gh=_w(),this.ee=_w(),this.yh=NC(t),this.Vh=new kw(this.yh)}return Object.defineProperty(t.prototype,"ph",{get:function(){return this.Rh},enumerable:!1,configurable:!0}),t.prototype.bh=function(t,e){var n=this,r=e?e.Sh:new Cw,i=e?e.Vh:this.Vh,o=e?e.ee:this.ee,a=i,s=!1,u=kC(this.query)&&i.size===this.query.limit?i.last():null,c=CC(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pt((function(t,e){var l=i.get(t),h=e instanceof yC?e:null;h&&(h=RC(n.query,h)?h:null);var f=!!l&&n.ee.has(l.key),d=!!h&&(h.an||n.ee.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Dh(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.yh(h,u)>0||c&&n.yh(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),kC(this.query)||CC(this.query))for(;a.size>this.query.limit;){var l=kC(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Vh:a,Sh:r,br:s,ee:o}},t.prototype.Dh=function(t,e){return t.an&&e.hasCommittedMutations&&!e.an},t.prototype.Zn=function(t,e,n){var r=this,i=this.Vh;this.Vh=t.Vh,this.ee=t.ee;var o=t.Sh.Zt();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Eb()}};return n(t)-n(e)}(t.type,e.type)||r.yh(t.doc,e.doc)})),this.Ch(n);var a=e?this.Nh():[],s=0===this.gh.size&&this.le?1:0,u=s!==this.Ph;return this.Ph=s,0!==o.length||u?{snapshot:new Ew(this.query,t.Vh,i,o,t.ee,0===s,u,!1),xh:a}:{xh:a}},t.prototype.ea=function(t){return this.le&&"Offline"===t?(this.le=!1,this.Zn({Vh:this.Vh,Sh:new Cw,ee:this.ee,br:!1},!1)):{xh:[]}},t.prototype.Fh=function(t){return!this.Rh.has(t)&&!!this.Vh.has(t)&&!this.Vh.get(t).an},t.prototype.Ch=function(t){var e=this;t&&(t._e.forEach((function(t){return e.Rh=e.Rh.add(t)})),t.fe.forEach((function(t){})),t.de.forEach((function(t){return e.Rh=e.Rh.delete(t)})),this.le=t.le)},t.prototype.Nh=function(){var t=this;if(!this.le)return[];var e=this.gh;this.gh=_w(),this.Vh.forEach((function(e){t.Fh(e.key)&&(t.gh=t.gh.add(e.key))}));var n=[];return e.forEach((function(e){t.gh.has(e)||n.push(new nI(e))})),this.gh.forEach((function(t){e.has(t)||n.push(new eI(t))})),n},t.prototype.Oh=function(t){this.Rh=t.Kc,this.gh=_w();var e=this.bh(t.documents);return this.Zn(e,!0)},t.prototype.Mh=function(){return Ew.ie(this.query,this.Vh,this.ee,0===this.Ph)},t}(),iI=function(t,e,n){this.query=t,this.targetId=e,this.view=n},oI=function(t){this.key=t,this.kh=!1},aI=function(){function t(t,e,n,r,i,o){this.Ou=t,this.$h=e,this.Lh=n,this.Bh=r,this.currentUser=i,this.qh=o,this.Uh={},this.Qh=new $C((function(t){return PC(t)}),AC),this.Kh=new Map,this.Wh=[],this.jh=new sw(Wb.$),this.Gh=new Map,this.zh=new zO,this.Hh={},this.Jh=new Map,this.Yh=PS.Io(),this.onlineState="Unknown",this.Xh=void 0}return Object.defineProperty(t.prototype,"Zh",{get:function(){return!0===this.Xh},enumerable:!1,configurable:!0}),t}();function sI(t,e){return Object(hy.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(hy.d)(this,(function(s){switch(s.label){case 0:return n=MI(t),(i=n.Qh.get(e))?(n.Bh.Ha(i.targetId),r=i.view.Mh(),[3,4]):[3,1];case 1:return[4,JS(n.Ou,TC(e))];case 2:return o=s.sent(),a=n.Bh.Ha(o.targetId),[4,uI(n,e,o.targetId,"current"===a)];case 3:r=s.sent(),n.Zh&&fO(n.$h,o),s.label=4;case 4:return[2,r]}}))}))}function uI(t,e,n,r){return Object(hy.b)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return Object(hy.d)(this,(function(l){switch(l.label){case 0:return t.tl=function(e,n,r){return function(t,e,n,r){return Object(hy.b)(this,void 0,void 0,(function(){var i,o,a;return Object(hy.d)(this,(function(s){switch(s.label){case 0:return(i=e.view.bh(n)).br?[4,$S(t.Ou,e.query,!1).then((function(t){return e.view.bh(t.documents,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.re.get(e.targetId),a=e.view.Zn(i,t.Zh,o),[2,(wI(t,e.targetId,a.xh),a.snapshot)]}}))}))}(t,e,n,r)},[4,$S(t.Ou,e,!0)];case 1:return i=l.sent(),o=new rI(e,i.Kc),a=o.bh(i.documents),s=Ow.he(n,r&&"Offline"!==t.onlineState),u=o.Zn(a,t.Zh,s),wI(t,n,u.xh),c=new iI(e,n,o),[2,(t.Qh.set(e,c),t.Kh.has(n)?t.Kh.get(n).push(e):t.Kh.set(n,[e]),u.snapshot)]}}))}))}function cI(t,e){return Object(hy.b)(this,void 0,void 0,(function(){var n,r,i;return Object(hy.d)(this,(function(o){switch(o.label){case 0:return n=Ob(t),r=n.Qh.get(e),(i=n.Kh.get(r.targetId)).length>1?[2,(n.Kh.set(r.targetId,i.filter((function(t){return!AC(t,e)}))),void n.Qh.delete(e))]:n.Zh?(n.Bh.Ya(r.targetId),n.Bh.Ka(r.targetId)?[3,2]:[4,XS(n.Ou,r.targetId,!1).then((function(){n.Bh.Za(r.targetId),dO(n.$h,r.targetId),_I(n,r.targetId)})).catch(rO)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return _I(n,r.targetId),[4,XS(n.Ou,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function lI(t,e,n){return Object(hy.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object(hy.d)(this,(function(s){switch(s.label){case 0:r=LI(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=Ob(t),i=Vb.now(),o=e.reduce((function(t,e){return t.add(e.key)}),_w());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Bc._s(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=eC(c,n.get(c.key));null!=l&&a.push(new oC(c.key,l,pC(l.proto.mapValue),Zk.exists(!0)))}return r.rs.Or(t,i,a,e)}))})).then((function(t){var e=t.vn(n);return{batchId:t.batchId,Qn:e}}))}(r.Ou,e)];case 2:return i=s.sent(),r.Bh.Wa(i.batchId),function(t,e,n){var r=t.Hh[t.currentUser.h()];r||(r=new sw(Mb)),r=r.Tt(e,n),t.Hh[t.currentUser.h()]=r}(r,i.batchId,n),[4,EI(r,i.Qn)];case 3:return s.sent(),[4,SO(r.$h)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=EE(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function hI(t,e){return Object(hy.b)(this,void 0,void 0,(function(){var n,r;return Object(hy.d)(this,(function(i){switch(i.label){case 0:n=Ob(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,YS(n.Ou,e)];case 2:return r=i.sent(),e.re.forEach((function(t,e){var r=n.Gh.get(e);r&&(Sb(t._e.size+t.fe.size+t.de.size<=1),t._e.size>0?r.kh=!0:t.fe.size>0?Sb(r.kh):t.de.size>0&&(Sb(r.kh),r.kh=!1))})),[4,EI(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,rO(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function fI(t,e,n){var r=Ob(t);if(r.Zh&&0===n||!r.Zh&&1===n){var i=[];r.Qh.forEach((function(t,n){var r=n.view.ea(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Ob(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].ea(e)&&(r=!0)})),r&&qO(n)}(r.Lh,e),i.length&&r.Uh.fu(i),r.onlineState=e,r.Zh&&r.Bh.sh(e)}}function dI(t,e,n){return Object(hy.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Object(hy.d)(this,(function(c){switch(c.label){case 0:return(r=Ob(t)).Bh.th(e,"rejected",n),i=r.Gh.get(e),(o=i&&i.key)?(a=(a=new sw(Wb.$)).Tt(o,new mC(o,Ub.min())),s=_w().add(o),u=new Sw(Ub.min(),new Map,new lw(Mb),a,s),[4,hI(r,u)]):[3,2];case 1:return c.sent(),r.jh=r.jh.remove(o),r.Gh.delete(e),CI(r),[3,4];case 2:return[4,XS(r.Ou,e,!1).then((function(){return _I(r,e,n)})).catch(rO)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function pI(t,e){return Object(hy.b)(this,void 0,void 0,(function(){var n,r,i;return Object(hy.d)(this,(function(o){switch(o.label){case 0:n=Ob(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,KS(n.Ou,e)];case 2:return i=o.sent(),gI(n,r,null),mI(n,r),n.Bh.Ga(r,"acknowledged"),[4,EI(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,rO(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function vI(t,e,n){return Object(hy.b)(this,void 0,void 0,(function(){var r,i;return Object(hy.d)(this,(function(o){switch(o.label){case 0:r=Ob(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Ob(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.rs.kr(t,e).next((function(e){return Sb(null!==e),r=e.keys(),n.rs.Qr(t,e)})).next((function(){return n.rs.Gr(t)})).next((function(){return n.Bc._s(t,r)}))}))}(r.Ou,e)];case 2:return i=o.sent(),gI(r,e,n),mI(r,e),r.Bh.Ga(e,"rejected",n),[4,EI(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,rO(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function yI(t,e){return Object(hy.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(hy.d)(this,(function(s){switch(s.label){case 0:gO((n=Ob(t)).$h)||bb("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=Ob(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.rs.Br(t)}))}(n.Ou)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Jh.get(r)||[]).push(e),n.Jh.set(r,i),[3,4]);case 3:return o=s.sent(),a=EE(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function mI(t,e){(t.Jh.get(e)||[]).forEach((function(t){t.resolve()})),t.Jh.delete(e)}function gI(t,e,n){var r=Ob(t),i=r.Hh[r.currentUser.h()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Hh[r.currentUser.h()]=i}}function _I(t,e,n){void 0===n&&(n=null),t.Bh.Ya(e);for(var r=0,i=t.Kh.get(e);r<i.length;r++){var o=i[r];t.Qh.delete(o),n&&t.Uh.el(o,n)}t.Kh.delete(e),t.Zh&&t.zh.Ia(e).forEach((function(e){t.zh.zr(e)||bI(t,e)}))}function bI(t,e){var n=t.jh.get(e);null!==n&&(dO(t.$h,n),t.jh=t.jh.remove(e),t.Gh.delete(n),CI(t))}function wI(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof eI?(t.zh.Oo(o.key,e),kI(t,o)):o instanceof nI?(bb("SyncEngine","Document no longer in limbo: "+o.key),t.zh.ko(o.key,e),t.zh.zr(o.key)||bI(t,o.key)):Eb()}}function kI(t,e){var n=e.key;t.jh.get(n)||(bb("SyncEngine","New document in limbo: "+n),t.Wh.push(n),CI(t))}function CI(t){for(;t.Wh.length>0&&t.jh.size<t.qh;){var e=t.Wh.shift(),n=t.Yh.next();t.Gh.set(n,new oI(e)),t.jh=t.jh.Tt(e,n),fO(t.$h,new rw(TC(wC(e.path)),n,2,cE.Ds))}}function EI(t,e,n){return Object(hy.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object(hy.d)(this,(function(s){switch(s.label){case 0:return r=Ob(t),i=[],o=[],a=[],r.Qh.W()?[3,3]:(r.Qh.forEach((function(t,s){a.push(r.tl(s,e,n).then((function(t){if(t){r.Zh&&r.Bh.th(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=uE.Vs(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.Uh.fu(i),[4,function(t,e){return Object(hy.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Object(hy.d)(this,(function(l){switch(l.label){case 0:n=Ob(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return tE.forEach(e,(function(e){return tE.forEach(e.gs,(function(r){return n.persistence.Dr.Oo(t,e.targetId,r)})).next((function(){return tE.forEach(e.ys,(function(r){return n.persistence.Dr.ko(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!pE(r=l.sent()))throw r;return bb("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.Mc.get(s),c=u.Et(u.ft),n.Mc=n.Mc.Tt(s,c));return[2]}}))}))}(r.Ou,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function SI(t,e){return Object(hy.b)(this,void 0,void 0,(function(){var n,r;return Object(hy.d)(this,(function(i){switch(i.label){case 0:return(n=Ob(t)).currentUser.isEqual(e)?[3,3]:(bb("SyncEngine","User change. New user:",e.h()),[4,GS(n.Ou,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Jh.forEach((function(t){t.forEach((function(t){t.reject(new Tb(Ib.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Jh.clear()}(n),n.Bh.nh(e,r.Uc,r.Qc),[4,EI(n,r.qc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function OI(t,e){var n=Ob(t),r=n.Gh.get(e);if(r&&r.kh)return _w().add(r.key);var i=_w(),o=n.Kh.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Qh.get(s[a]);i=i.Gt(u.view.ph)}return i}function II(t,e){return Object(hy.b)(this,void 0,void 0,(function(){var n,r,i;return Object(hy.d)(this,(function(o){switch(o.label){case 0:return[4,$S((n=Ob(t)).Ou,e.query,!0)];case 1:return r=o.sent(),i=e.view.Oh(r),[2,(n.Zh&&wI(n,e.targetId,i.xh),i)]}}))}))}function TI(t){return Object(hy.b)(this,void 0,void 0,(function(){var e;return Object(hy.d)(this,(function(n){return[2,eO((e=Ob(t)).Ou).then((function(t){return EI(e,t)}))]}))}))}function xI(t,e,n,r){return Object(hy.b)(this,void 0,void 0,(function(){var i,o;return Object(hy.d)(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=Ob(t),r=Ob(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.$r(t,e).next((function(e){return e?n.Bc._s(t,e):tE.resolve(null)}))}))}((i=Ob(t)).Ou,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,SO(i.$h)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(gI(i,e,r||null),mI(i,e),function(t,e){Ob(Ob(t).rs).Wr(e)}(i.Ou,e)):Eb(),a.label=4;case 4:return[4,EI(i,o)];case 5:return a.sent(),[3,7];case 6:bb("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function AI(t,e){return Object(hy.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Object(hy.d)(this,(function(c){switch(c.label){case 0:return MI(n=Ob(t)),LI(n),!0!==e||!0===n.Xh?[3,3]:(r=n.Bh.Ua(),[4,PI(n,r.H())]);case 1:return i=c.sent(),n.Xh=!0,[4,DO(n.$h,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)fO(n.$h,a[o]);return[3,7];case 3:return!1!==e||!1===n.Xh?[3,7]:(s=[],u=Promise.resolve(),n.Kh.forEach((function(t,e){n.Bh.Xa(e)?s.push(e):u=u.then((function(){return _I(n,e),XS(n.Ou,e,!0)})),dO(n.$h,e)})),[4,u]);case 4:return c.sent(),[4,PI(n,s)];case 5:return c.sent(),function(t){var e=Ob(t);e.Gh.forEach((function(t,n){dO(e.$h,n)})),e.zh.ma(),e.Gh=new Map,e.jh=new sw(Wb.$)}(n),n.Xh=!1,[4,DO(n.$h,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function PI(t,e,n){return Object(hy.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p;return Object(hy.d)(this,(function(v){switch(v.label){case 0:n=Ob(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.Kh.get(s=a[o]))&&0!==c.length?[4,JS(n.Ou,TC(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.Qh.get(h[l]),[4,II(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,tO(n.Ou,s)];case 8:return p=v.sent(),[4,JS(n.Ou,p)];case 9:return u=v.sent(),[4,uI(n,DI(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Uh.fu(i),r)]}}))}))}function DI(t){return bC(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function RI(t){var e=Ob(t);return Ob(Ob(e.Ou).persistence).gc()}function NI(t,e,n,r){return Object(hy.b)(this,void 0,void 0,(function(){var i,o,a;return Object(hy.d)(this,(function(s){switch(s.label){case 0:return(i=Ob(t)).Xh?(bb("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Kh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,eO(i.Ou)];case 3:return o=s.sent(),a=Sw.ae(e,"current"===n),[4,EI(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,XS(i.Ou,e,!0)];case 6:return s.sent(),_I(i,e,r),[3,8];case 7:Eb(),s.label=8;case 8:return[2]}}))}))}function jI(t,e,n){return Object(hy.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h;return Object(hy.d)(this,(function(f){switch(f.label){case 0:if(!(r=MI(t)).Xh)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Kh.has(a=o[i])?(bb("SyncEngine","Adding an already active target "+a),[3,5]):[4,tO(r.Ou,a)]:[3,6];case 2:return s=f.sent(),[4,JS(r.Ou,s)];case 3:return u=f.sent(),[4,uI(r,DI(s),u.targetId,!1)];case 4:f.sent(),fO(r.$h,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(hy.d)(this,(function(e){switch(e.label){case 0:return r.Kh.has(t)?[4,XS(r.Ou,t,!1).then((function(){dO(r.$h,t),_I(r,t)})).catch(rO)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function MI(t){var e=Ob(t);return e.$h.ku.Gu=hI.bind(null,e),e.$h.ku.Xe=OI.bind(null,e),e.$h.ku.ju=dI.bind(null,e),e.Uh.fu=VO.bind(null,e.Lh),e.Uh.el=UO.bind(null,e.Lh),e}function LI(t){var e=Ob(t);return e.$h.ku.zu=pI.bind(null,e),e.$h.ku.Hu=vI.bind(null,e),e}var FI=function(){function t(t,e){this.os=t,this.Dr=e,this.rs=[],this.nl=1,this.sl=new lw(HO._a)}return t.prototype.Fr=function(t){return tE.resolve(0===this.rs.length)},t.prototype.Or=function(t,e,n,r){var i=this.nl;this.nl++;var o=new JC(i,e,n,r);this.rs.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.sl=this.sl.add(new HO(u.key,i)),this.os.Mr(t,u.key.path.q())}return tE.resolve(o)},t.prototype.kr=function(t,e){return tE.resolve(this.il(e))},t.prototype.Lr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return tE.resolve(this.rs.length>r?this.rs[r]:null)},t.prototype.Br=function(){return tE.resolve(0===this.rs.length?-1:this.nl-1)},t.prototype.qr=function(t){return tE.resolve(this.rs.slice())},t.prototype.us=function(t,e){var n=this,r=new HO(e,0),i=new HO(e,Number.POSITIVE_INFINITY),o=[];return this.sl.Kt([r,i],(function(t){var e=n.il(t.Ra);o.push(e)})),tE.resolve(o)},t.prototype.ds=function(t,e){var n=this,r=new lw(Mb);return e.forEach((function(t){var e=new HO(t,0),i=new HO(t,Number.POSITIVE_INFINITY);n.sl.Kt([e,i],(function(t){r=r.add(t.Ra)}))})),tE.resolve(this.ol(r))},t.prototype.Rs=function(t,e){var n=e.path,r=n.length+1,i=n;Wb.ot(i)||(i=i.child(""));var o=new HO(new Wb(i),0),a=new lw(Mb);return this.sl.Wt((function(t){var e=t.key.path;return!!n.j(e)&&(e.length===r&&(a=a.add(t.Ra)),!0)}),o),tE.resolve(this.ol(a))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.il(t);null!==r&&n.push(r)})),n},t.prototype.Qr=function(t,e){var n=this;Sb(0===this.cl(e.batchId,"removed")),this.rs.shift();var r=this.sl;return tE.forEach(e.mutations,(function(i){var o=new HO(i.key,e.batchId);return r=r.delete(o),n.Dr.jr(t,i.key)})).next((function(){n.sl=r}))},t.prototype.Wr=function(t){},t.prototype.zr=function(t,e){var n=new HO(e,0),r=this.sl.jt(n);return tE.resolve(e.isEqual(r&&r.key))},t.prototype.Gr=function(t){return tE.resolve()},t.prototype.cl=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.rs.length?0:t-this.rs[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.rs.length?null:this.rs[e]},t}(),VI=function(){function t(t,e){this.os=t,this.ul=e,this.docs=new sw(Wb.$),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ul(e);return this.docs=this.docs.Tt(r,{zn:e,size:a,readTime:n}),this.size+=a-o,this.os.Mr(t,r.path.q())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Jn=function(t,e){var n=this.docs.get(e);return tE.resolve(n?n.zn:null)},t.prototype.getEntries=function(t,e){var n=this,r=pw();return e.forEach((function(t){var e=n.docs.get(t);r=r.Tt(t,e?e.zn:null)})),tE.resolve(r)},t.prototype.ws=function(t,e,n){for(var r=yw(),i=new Wb(e.path.child("")),o=this.docs.Vt(i);o.Nt();){var a=o.Ct(),s=a.value,u=s.zn,c=s.readTime;if(!e.path.j(a.key.path))break;c.F(n)<=0||u instanceof yC&&RC(e,u)&&(r=r.Tt(u.key,u))}return tE.resolve(r)},t.prototype.al=function(t,e){return tE.forEach(this.docs,(function(t){return e(t)}))},t.prototype.io=function(t){return new UI(this)},t.prototype.oo=function(t){return tE.resolve(this.size)},t}(),UI=function(t){function e(e){var n=this;return(n=t.call(this)||this).co=e,n}return Object(hy.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[];return this.Qn.forEach((function(r,i){i&&i.zn?n.push(e.co.jn(t,i.zn,e.Wn(r))):e.co.Hn(r)})),tE.qn(n)},e.prototype.Yn=function(t,e){return this.co.Jn(t,e)},e.prototype.Xn=function(t,e){return this.co.getEntries(t,e)},e}(eE),qI=function(){function t(t){this.persistence=t,this.hl=new $C((function(t){return Jb(t)}),Xb),this.lastRemoteSnapshotVersion=Ub.min(),this.highestTargetId=0,this.ll=0,this._l=new zO,this.targetCount=0,this.fl=PS.To()}return t.prototype.Ue=function(t,e){return this.hl.forEach((function(t,n){return e(n)})),tE.resolve()},t.prototype.Po=function(t){return tE.resolve(this.lastRemoteSnapshotVersion)},t.prototype.yo=function(t){return tE.resolve(this.ll)},t.prototype.mo=function(t){return this.highestTargetId=this.fl.next(),tE.resolve(this.highestTargetId)},t.prototype.Vo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),tE.resolve()},t.prototype.vo=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new PS(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.po=function(t,e){return this.vo(e),this.targetCount+=1,tE.resolve()},t.prototype.So=function(t,e){return this.vo(e),tE.resolve()},t.prototype.Do=function(t,e){return this.hl.delete(e.target),this._l.Ia(e.targetId),this.targetCount-=1,tE.resolve()},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return this.hl.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.hl.delete(a),o.push(r.Co(t,s.targetId)),i++)})),tE.qn(o).next((function(){return i}))},t.prototype.No=function(t){return tE.resolve(this.targetCount)},t.prototype.xo=function(t,e){var n=this.hl.get(e)||null;return tE.resolve(n)},t.prototype.Fo=function(t,e,n){return this._l.wa(e,n),tE.resolve()},t.prototype.Mo=function(t,e,n){this._l.Ta(e,n);var r=this.persistence.Dr,i=[];return r&&e.forEach((function(e){i.push(r.jr(t,e))})),tE.qn(i)},t.prototype.Co=function(t,e){return this._l.Ia(e),tE.resolve()},t.prototype.$o=function(t,e){var n=this._l.Aa(e);return tE.resolve(n)},t.prototype.zr=function(t,e){return tE.resolve(this._l.zr(e))},t}(),BI=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.ho=function(t,e){return tE.resolve(this.dl.get(e))},t.prototype.lo=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:lk(n.createTime)}),tE.resolve()},t.prototype._o=function(t,e){return tE.resolve(this.wl.get(e))},t.prototype.fo=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:GE(n.bundledQuery),readTime:lk(n.readTime)}),tE.resolve()},t}(),zI=function(){function t(t,e){var n=this;this.El={},this.Uo=new cE(0),this.Qo=!1,this.Qo=!0,this.Dr=t(this),this.Yo=new qI(this),this.os=new oS,this.ss=function(t,e){return new VI(t,(function(t){return n.Dr.Tl(t)}))}(this.os),this.serializer=new ME(e),this.Xo=new BI(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Ic=function(){return this.Qo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"lr",{get:function(){return this.Qo},enumerable:!1,configurable:!0}),t.prototype.rc=function(){},t.prototype.oc=function(){},t.prototype.bc=function(){return this.os},t.prototype.yc=function(t){var e=this.El[t.h()];return e||(e=new FI(this.os,this.Dr),this.El[t.h()]=e),e},t.prototype.Vc=function(){return this.Yo},t.prototype.vc=function(){return this.ss},t.prototype.Sc=function(){return this.Xo},t.prototype.runTransaction=function(t,e,n){var r=this;bb("MemoryPersistence","Starting transaction:",t);var i=new HI(this.Uo.next());return this.Dr.Il(),n(i).next((function(t){return r.Dr.ml(i).next((function(){return t}))})).Ln().then((function(t){return i.ns(),t}))},t.prototype.Al=function(t,e){return tE.Un(Object.values(this.El).map((function(n){return function(){return n.zr(t,e)}})))},t}(),HI=function(t){function e(e){var n=this;return(n=t.call(this)||this).Lo=e,n}return Object(hy.c)(e,t),e}(aE),WI=function(){function t(t){this.persistence=t,this.Rl=new zO,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw Eb()},enumerable:!1,configurable:!0}),t.prototype.Oo=function(t,e,n){return this.Rl.Oo(n,e),this.yl.delete(n.toString()),tE.resolve()},t.prototype.ko=function(t,e,n){return this.Rl.ko(n,e),this.yl.add(n.toString()),tE.resolve()},t.prototype.jr=function(t,e){return this.yl.add(e.toString()),tE.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.Ia(e.targetId).forEach((function(t){return n.yl.add(t.toString())}));var r=this.persistence.Vc();return r.$o(t,e.targetId).next((function(t){t.forEach((function(t){return n.yl.add(t.toString())}))})).next((function(){return r.Do(t,e)}))},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.vc().io();return tE.forEach(this.yl,(function(r){var i=Wb.st(r);return e.Vl(t,i).next((function(t){t||n.Hn(i)}))})).next((function(){return e.Pl=null,n.apply(t)}))},t.prototype.Fc=function(t,e){var n=this;return this.Vl(t,e).next((function(t){t?n.yl.delete(e.toString()):n.yl.add(e.toString())}))},t.prototype.Tl=function(t){return 0},t.prototype.Vl=function(t,e){var n=this;return tE.Un([function(){return tE.resolve(n.Rl.zr(e))},function(){return n.persistence.Vc().zr(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),GI=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.lu=function(t){this.bl=t},t.prototype.ou=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),KI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},QI=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(hy.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise((function(i,o){var a=new db;a.listenOnce(lb.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case cb.NO_ERROR:var e=a.getResponseJson();bb("Connection","XHR received:",JSON.stringify(e)),i(e);break;case cb.TIMEOUT:bb("Connection",'RPC "'+t+'" timed out'),o(new Tb(Ib.DEADLINE_EXCEEDED,"Request time out"));break;case cb.HTTP_ERROR:var n=a.getStatus();if(bb("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Ib).indexOf(e)>=0?e:Ib.UNKNOWN}(r.status);o(new Tb(s,r.message))}else o(new Tb(Ib.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Tb(Ib.UNAVAILABLE,"Connection failed."));break;default:Eb()}}finally{bb("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype._u=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new ib,i=sg(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(o.initMessageHeaders,e),Object(py.l)()||Object(py.n)()||Object(py.j)()||Object(py.k)()||Object(py.o)()||Object(py.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");bb("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new GI({pl:function(t){c?bb("Connection","Not sending because WebChannel is closed:",t):(u||(bb("Connection","Opening WebChannel transport."),s.open(),u=!0),bb("Connection","WebChannel sending:",t),s.send(t))},vl:function(){return s.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(s,fb.EventType.OPEN,(function(){c||bb("Connection","WebChannel transport opened.")})),h(s,fb.EventType.CLOSE,(function(){c||(c=!0,bb("Connection","WebChannel transport closed"),l.Nl())})),h(s,fb.EventType.ERROR,(function(t){c||(c=!0,kb("Connection","WebChannel transport errored:",t),l.Nl(new Tb(Ib.UNAVAILABLE,"The operation could not be completed")))})),h(s,fb.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Sb(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){bb("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=ew[t];if(void 0!==e)return aw(e)}(i),a=r.message;void 0===o&&(o=Ib.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.Nl(new Tb(o,a)),s.close()}else bb("Connection","WebChannel received:",n),l.xl(n)}})),h(i,hb.STAT_EVENT,(function(t){10===t.stat?bb("Connection","Detected buffering proxy"):11===t.stat&&bb("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Cl()}),0),l},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.yu=function(t,e,n,r){var i=this.kl(t,e);bb("RestConnection","Sending: ",i,n);var o={};return this.$l(o,r),this.Ll(t,i,o,n).then((function(t){return bb("RestConnection","Received: ",t),t}),(function(e){throw kb("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Vu=function(t,e,n,r){return this.yu(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.1.2",t["Content-Type"]="text/plain",e)for(var n in e.T)e.T.hasOwnProperty(n)&&(t[n]=e.T[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+KI[t]},t}()),YI=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Qu=function(t){this.Kl.push(t)},t.prototype.Ic=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){bb("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){bb("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ZI=function(){function t(){}return t.prototype.Qu=function(t){},t.prototype.Ic=function(){},t}(),JI=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(hy.b)(this,void 0,void 0,(function(){return Object(hy.d)(this,(function(e){switch(e.label){case 0:return this.serializer=rE(t.Fl.t),this.Bh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Ou=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return WS(this.persistence,new PE,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new zI(WI.gl,this.serializer)},t.prototype.jl=function(t){return new tI},t.prototype.terminate=function(){return Object(hy.b)(this,void 0,void 0,(function(){return Object(hy.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.Bh.Ic()];case 1:return t.sent(),[4,this.persistence.Ic()];case 2:return t.sent(),[2]}}))}))},t}(),XI=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(hy.c)(e,t),e.prototype.initialize=function(e){return Object(hy.b)(this,void 0,void 0,(function(){return Object(hy.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,nO(this.Ou)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,LI(this.Xl.va)];case 4:return n.sent(),[4,SO(this.Xl.$h)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return WS(this.persistence,new PE,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new xE(this.persistence.Dr.cr,t.di)},e.prototype.Gl=function(t){var e=zS(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?TE.er(this.cacheSizeBytes):TE.ir;return new FS(this.synchronizeTabs,e,t.clientId,n,t.di,bE(),wE(),this.serializer,this.Bh,!!this.forceOwnership)},e.prototype.jl=function(t){return new tI},e}(JI),$I=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(hy.c)(e,t),e.prototype.initialize=function(e){return Object(hy.b)(this,void 0,void 0,(function(){var n,r=this;return Object(hy.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.va,this.Bh instanceof $O?(this.Bh.va={Eh:xI.bind(null,n),Th:NI.bind(null,n),Ih:jI.bind(null,n),gc:RI.bind(null,n),wh:TI.bind(null,n)},[4,this.Bh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.ic((function(t){return Object(hy.b)(r,void 0,void 0,(function(){return Object(hy.d)(this,(function(e){switch(e.label){case 0:return[4,AI(this.Xl.va,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.lr?this.zl.start(this.Ou):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=bE();if(!$O.Gs(e))throw new Tb(Ib.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=zS(t.Fl.t,t.Fl.persistenceKey);return new $O(e,t.di,n,t.clientId,t.Yl)},e}(XI),tT=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(hy.b)(this,void 0,void 0,(function(){var n=this;return Object(hy.d)(this,(function(r){switch(r.label){case 0:return this.Ou?[3,2]:(this.Ou=t.Ou,this.Bh=t.Bh,this.Mu=this.Zl(e),this.$h=this.t_(e),this.Lh=this.e_(e),this.va=this.n_(e,!t.synchronizeTabs),this.Bh.pu=function(t){return fI(n.va,t,1)},this.$h.ku.s_=SI.bind(null,this.va),[4,DO(this.$h,this.va.Zh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new MO},t.prototype.Zl=function(t){var e=rE(t.Fl.t),n=new QI(t.Fl);return function(t,e,n){return new sO(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,a=this;return e=this.Ou,n=this.Mu,r=t.di,i=function(t){return fI(a.va,t,0)},o=YI.Gs()?new YI:new ZI,new cO(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,a){var s=new aI(t,e,n,r,i,o);return a&&(s.Xh=!0),s}(this.Ou,this.$h,this.Lh,this.Bh,t.Yl,t.qh,e)},t.prototype.terminate=function(){return function(t){return Object(hy.b)(this,void 0,void 0,(function(){var e;return Object(hy.d)(this,(function(n){switch(n.label){case 0:return e=Ob(t),bb("RemoteStore","RemoteStore shutting down."),e.Bu.add(5),[4,hO(e)];case 1:return n.sent(),e.Uu.Ic(),e.Ku.set("Unknown"),[2]}}))}))}(this.$h)},t}(),eT=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function nT(t,e,n){if(!n)throw new Tb(Ib.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function rT(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Tb(Ib.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function iT(t,e,n,r){if(!0===e&&!0===r)throw new Tb(Ib.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function oT(t){if(!Wb.ot(t))throw new Tb(Ib.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function aT(t){if(Wb.ot(t))throw new Tb(Ib.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function sT(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Eb()}function uT(t,e){if("_delegate"in t&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Tb(Ib.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=sT(t);throw new Tb(Ib.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function cT(t,e){if(e<=0)throw new Tb(Ib.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var lT=function(t){this._methodName=t},hT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hy.c)(e,t),e.prototype.c_=function(t){if(2!==t.u_)throw t.a_(1===t.u_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.en.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(lT);function fT(t,e,n){return new yx({u_:3,h_:e.settings.h_,methodName:t._methodName,l_:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var dT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hy.c)(e,t),e.prototype.c_=function(t){return new Qk(t.path,new Vk)},e.prototype.isEqual=function(t){return t instanceof e},e}(lT),pT=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).__=n,r}return Object(hy.c)(e,t),e.prototype.c_=function(t){var e=fT(this,t,!0),n=this.__.map((function(t){return kx(t,e)})),r=new Uk(n);return new Qk(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(lT),vT=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).__=n,r}return Object(hy.c)(e,t),e.prototype.c_=function(t){var e=fT(this,t,!0),n=this.__.map((function(t){return kx(t,e)})),r=new Bk(n);return new Qk(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(lT),yT=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(hy.c)(e,t),e.prototype.c_=function(t){var e=new Hk(t.serializer,ak(t.serializer,this.f_));return new Qk(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(lT),mT=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Tb(Ib.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Tb(Ib.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.d_=t,this.w_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.d_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.d_===t.d_&&this.w_===t.w_},t.prototype.toJSON=function(){return{latitude:this.d_,longitude:this.w_}},t.prototype.C=function(t){return Mb(this.d_,t.d_)||Mb(this.w_,t.w_)},t}(),gT=function(){function t(t){this.E_=t}return t.fromBase64String=function(e){try{return new t(tw.fromBase64String(e))}catch(e){throw new Tb(Ib.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(tw.fromUint8Array(e))},t.prototype.toBase64=function(){return this.E_.toBase64()},t.prototype.toUint8Array=function(){return this.E_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.E_.isEqual(t.E_)},t}(),_T=function(t){this.o_=t},bT=new Map,wT=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Tb(Ib.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Tb(Ib.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,iT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),kT=function(){function t(t,e){this.T_="(lite)",this.I_=new wT({}),this.m_=!1,t instanceof yb?(this.A_=t,this.R_=new Ab):(this.P_=t,this.A_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Tb(Ib.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yb(t.options.projectId)}(t),this.R_=new Pb(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.P_)throw new Tb(Ib.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.P_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"g_",{get:function(){return this.m_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y_",{get:function(){return void 0!==this.V_},enumerable:!1,configurable:!0}),t.prototype.p_=function(t){if(this.m_)throw new Tb(Ib.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.I_=new wT(t),void 0!==t.credentials&&(this.R_=function(t){if(!t)return new Ab;switch(t.type){case"gapi":var e=t.client;return Sb(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Rb(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Tb(Ib.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.v_=function(){return this.I_},t.prototype.b_=function(){return this.m_=!0,this.I_},t.prototype._delete=function(){return this.V_||(this.V_=this.S_()),this.V_},t.prototype.S_=function(){return function(t){var e=bT.get(t);e&&(bb("ComponentProvider","Removing Datastore"),bT.delete(t),e.terminate())}(this),Promise.resolve()},t}();function CT(){if("undefined"==typeof Uint8Array)throw new Tb(Ib.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ET(){if("undefined"==typeof atob)throw new Tb(Ib.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ST=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hy.c)(e,t),e.fromBase64String=function(t){return ET(),new e(gT.fromBase64String(t))},e.fromUint8Array=function(t){return CT(),new e(gT.fromUint8Array(t))},e.prototype.toBase64=function(){return ET(),this.o_.toBase64()},e.prototype.toUint8Array=function(){return CT(),this.o_.toUint8Array()},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(_T),OT=function(){function t(){}return t.prototype.D_=function(t,e){switch(void 0===e&&(e="none"),Uw(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Kw(t.integerValue||t.doubleValue);case 3:return this.C_(t.timestampValue);case 4:return this.N_(t,e);case 5:return t.stringValue;case 6:return this.x_(Qw(t.bytesValue));case 7:return this.F_(t.referenceValue);case 8:return this.O_(t.geoPointValue);case 9:return this.M_(t.arrayValue,e);case 10:return this.k_(t.mapValue,e);default:throw Eb()}},t.prototype.k_=function(t,e){var n=this,r={};return jw(t.fields||{},(function(t,i){r[t]=n.D_(i,e)})),r},t.prototype.O_=function(t){return new mT(Kw(t.latitude),Kw(t.longitude))},t.prototype.M_=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.D_(t,e)}))},t.prototype.N_=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return Lw(n)?t(n):n}(t);return null==n?null:this.D_(n,e);case"estimate":return this.C_(Fw(t));default:return null}},t.prototype.C_=function(t){var e=Gw(t);return new Vb(e.seconds,e.nanos)},t.prototype.L_=function(t,e){var n=Bb.Y(t);Sb(Nk(n));var r=new yb(n.get(1),n.get(3)),i=new Wb(n.B(5));return r.isEqual(e)||wb("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),IT=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(hy.c)(e,t),e.prototype.x_=function(t){return new ST(new gT(t))},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return tA.B_(e,this.firestore,null)},e}(OT),TT=function(){function t(t,e,n,r,i){this.q_=t,this.U_=e,this.Q_=n,this.K_=r,this.W_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.Q_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new WT(this.q_,this.W_,this.Q_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.K_},t.prototype.data=function(){if(this.K_){if(this.W_){var t=new xT(this.q_,this.U_,this.Q_,this.K_,null);return this.W_.fromFirestore(t)}return this.U_.D_(this.K_.En())}},t.prototype.get=function(t){if(this.K_){var e=this.K_.data().field(AT("DocumentSnapshot.get",t));if(null!==e)return this.U_.D_(e)}},t}(),xT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hy.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(TT);function AT(t,e){return"string"==typeof e?Tx(t,e):e instanceof _T?e.o_.j_:e.j_}var PT=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Tb(Ib.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.j_=new Hb(t)}return t.prototype.isEqual=function(t){return this.j_.isEqual(t.j_)},t}(),DT=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).G_=new CE,r.T_="name"in e?e.name:"[DEFAULT]",r}return Object(hy.c)(e,t),e.prototype.S_=function(){return this.z_||Jx(this),this.z_.terminate()},e}(kT);function RT(t,e,n){var r=this,i=new nE;return t.di.enqueue((function(){return Object(hy.b)(r,void 0,void 0,(function(){var r;return Object(hy.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Nx(t,n)];case 1:return o.sent(),[4,jx(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Ib.FAILED_PRECONDITION||t.code===Ib.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function NT(t){if(t.g_||t.y_)throw new Tb(Ib.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var jT=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this).q_=e,s.H_=e,s.metadata=o,s}return Object(hy.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.K_){if(this.W_){var e=new MT(this.q_,this.U_,this.Q_,this.K_,this.metadata,null);return this.W_.fromFirestore(e,t)}return this.U_.D_(this.K_.En(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.K_){var n=this.K_.data().field(AT("DocumentSnapshot.get",t));if(null!==n)return this.U_.D_(n,e.serverTimestamps)}},e}(TT),MT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hy.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(jT),LT=function(){function t(t,e,n,r){this.q_=t,this.U_=e,this.J_=r,this.metadata=new iA(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.J_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.J_.docs.forEach((function(r){t.call(e,new MT(n.q_,n.U_,r.key,r,new iA(n.J_.ee.has(r.key),n.J_.fromCache),n.query.W_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.J_.se)throw new Tb(Ib.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Y_&&this.X_===e||(this.Y_=function(t,e){if(t.J_.te.W()){var n=0;return t.J_.docChanges.map((function(e){return{type:"added",doc:new MT(t.q_,t.U_,e.doc.key,e.doc,new iA(t.J_.ee.has(e.doc.key),t.J_.fromCache),t.query.W_),oldIndex:-1,newIndex:n++}}))}var r=t.J_.te;return t.J_.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new MT(t.q_,t.U_,e.doc.key,e.doc,new iA(t.J_.ee.has(e.doc.key),t.J_.fromCache),t.query.W_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:FT(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.X_=e),this.Y_},t}();function FT(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Eb()}}function VT(t,e){return t instanceof jT&&e instanceof jT?t.q_===e.q_&&t.Q_.isEqual(e.Q_)&&(null===t.K_?null===e.K_:t.K_.isEqual(e.K_))&&t.W_===e.W_:t instanceof LT&&e instanceof LT&&t.q_===e.q_&&lx(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.J_.isEqual(e.J_)}var UT=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(hy.c)(e,t),e.prototype.x_=function(t){return new gT(t)},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return new WT(this.firestore,null,e)},e}(OT);function qT(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=uT(t,WT);var o=uT(t.firestore,DT),a=hx(o);return e instanceof _T&&(e=e.o_),zT(o,("string"==typeof e||e instanceof PT?bx(a,"updateDoc",t.Q_,e,n,r):_x(a,"updateDoc",t.Q_,e)).tf(t.Q_,Zk.exists(!0)))}function BT(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof _T&&(t=t.o_);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||iE(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(iE(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof WT)c=uT(t.firestore,DT),l=wC(t.Q_.path),u={next:function(e){i[s]&&i[s](HT(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=uT(t,GT);c=uT(d.firestore,DT),l=d.Z_;var p=new UT(c);u={next:function(t){i[s]&&i[s](new LT(c,p,d,t))},error:i[s+1],complete:i[s+2]},ix(t.Z_)}return function(t,e,n,r){var i=this,o=new eT(r),a=new BO(e,o,n);return t.di.Ri((function(){return Object(hy.b)(i,void 0,void 0,(function(){var e;return Object(hy.d)(this,(function(n){switch(n.label){case 0:return e=LO,[4,Bx(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.r_(),t.di.Ri((function(){return Object(hy.b)(i,void 0,void 0,(function(){var e;return Object(hy.d)(this,(function(n){switch(n.label){case 0:return e=FO,[4,Bx(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(Zx(c),l,h,u)}function zT(t,e){return function(t,e){var n=this,r=new nE;return t.di.Ri((function(){return Object(hy.b)(n,void 0,void 0,(function(){var n;return Object(hy.d)(this,(function(i){switch(i.label){case 0:return n=lI,[4,qx(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Zx(t),e)}function HT(t,e,n){var r=n.docs.get(e.Q_),i=new UT(t);return new jT(t,i,e.Q_,r,new iA(n.hasPendingWrites,n.fromCache),e.W_)}var WT=function(){function t(t,e,n){this.W_=e,this.Q_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"ef",{get:function(){return this.Q_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.Q_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Q_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ox(this.firestore,this.W_,this.Q_.path.q())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.Q_)},t}(),GT=function(){function t(t,e,n){this.W_=e,this.Z_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.Z_)},t}(),KT=function(){};function QT(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.nf(t)}return t}var YT=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).sf=e,i.rf=n,i.cf=r,i.type="where",i}return Object(hy.c)(e,t),e.prototype.nf=function(t){var e=hx(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.tt()){if("array-contains"===o||"array-contains-any"===o)throw new Tb(Ib.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){nx(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(ex(r,t,l[c]));s={arrayValue:{values:u}}}else s=ex(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||nx(a,o),s=wx(n,"where",a,"in"===o||"not-in"===o);var h=jC.create(i,o,s);return function(t,e){if(e.An()){var n=SC(t);if(null!==n&&!n.isEqual(e.field))throw new Tb(Ib.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=EC(t);null!==r&&rx(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Tb(Ib.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.Z_,0,e,t.firestore.A_,this.sf,this.rf,this.cf);return new GT(t.firestore,t.W_,function(t,e){var n=t.filters.concat([e]);return new _C(t.path,t.collectionGroup,t.Tn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.Z_,n))},e}(KT),ZT=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).sf=e,r.uf=n,r.type="orderBy",r}return Object(hy.c)(e,t),e.prototype.nf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Tb(Ib.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Tb(Ib.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new QC(e,n);return function(t,e){if(null===EC(t)){var n=SC(t);null!==n&&rx(0,n,e.field)}}(t,r),r}(t.Z_,this.sf,this.uf);return new GT(t.firestore,t.W_,function(t,e){var n=t.Tn.concat([e]);return new _C(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.Z_,e))},e}(KT),JT=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.af=n,i.hf=r,i}return Object(hy.c)(e,t),e.prototype.nf=function(t){return new GT(t.firestore,t.W_,xC(t.Z_,this.af,this.hf))},e}(KT),XT=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.lf=n,i._f=r,i}return Object(hy.c)(e,t),e.prototype.nf=function(t){var e=tx(t,this.type,this.lf,this._f);return new GT(t.firestore,t.W_,function(t,e){return new _C(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.Z_,e))},e}(KT),$T=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.lf=n,i._f=r,i}return Object(hy.c)(e,t),e.prototype.nf=function(t){var e=tx(t,this.type,this.lf,this._f);return new GT(t.firestore,t.W_,function(t,e){return new _C(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.Z_,e))},e}(KT);function tx(t,e,n,r){if(n[0]instanceof _T&&(n[0]=n[0].o_),n[0]instanceof TT)return function(t,e,n,r,i){if(!r)throw new Tb(Ib.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=IC(t);a<s.length;a++){var u=s[a];if(u.field.tt())o.push(Yw(e,r.key));else{var c=r.field(u.field);if(Lw(c))throw new Tb(Ib.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.J();throw new Tb(Ib.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new HC(o,i)}(t.Z_,t.firestore.A_,e,n[0].K_,r);var i=hx(t.firestore);return function(t,e,n,r,i,o){var a=t.Tn;if(i.length>a.length)throw new Tb(Ib.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.tt()){if("string"!=typeof c)throw new Tb(Ib.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!OC(t)&&-1!==c.indexOf("/"))throw new Tb(Ib.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Bb.Y(c));if(!Wb.ot(l))throw new Tb(Ib.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Wb(l);s.push(Yw(e,h))}else{var f=wx(n,r,c);s.push(f)}}return new HC(s,o)}(t.Z_,t.firestore.A_,i,e,n,r)}function ex(t,e,n){if(n instanceof _T&&(n=n.o_),"string"==typeof n){if(""===n)throw new Tb(Ib.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!OC(e)&&-1!==n.indexOf("/"))throw new Tb(Ib.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Bb.Y(n));if(!Wb.ot(r))throw new Tb(Ib.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Yw(t,new Wb(r))}if(n instanceof WT)return Yw(t,n.Q_);throw new Tb(Ib.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+sT(n)+".")}function nx(t,e){if(!Array.isArray(t)||0===t.length)throw new Tb(Ib.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Tb(Ib.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function rx(t,e,n){if(!n.isEqual(e))throw new Tb(Ib.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function ix(t){if(CC(t)&&0===t.Tn.length)throw new Tb(Ib.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ox=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,wC(r))||this).firestore=e,i.ef=r,i.type="collection",i}return Object(hy.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Z_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Z_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.ef.q();return t.W()?null:new WT(this.firestore,null,new Wb(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.ef)},e}(GT);function ax(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t instanceof _T&&(t=t.o_),nT("collection","path",e),t instanceof kT){var i=Bb.Y.apply(Bb,Object(hy.g)([e],n));return aT(i),new ox(t,null,i)}if(!(t instanceof WT||t instanceof ox))throw new Tb(Ib.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=Bb.Y.apply(Bb,Object(hy.g)([t.path],n)).child(Bb.Y(e));return aT(o),new ox(t.firestore,null,o)}function sx(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t instanceof _T&&(t=t.o_),1===arguments.length&&(e=jb.D()),nT("doc","path",e),t instanceof kT){var i=Bb.Y.apply(Bb,Object(hy.g)([e],n));return oT(i),new WT(t,null,new Wb(i))}if(!(t instanceof WT||t instanceof ox))throw new Tb(Ib.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=t.ef.child(Bb.Y.apply(Bb,Object(hy.g)([e],n)));return oT(o),new WT(t.firestore,t instanceof ox?t.W_:null,new Wb(o))}var ux=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(hy.c)(e,t),e.prototype.x_=function(t){return new gT(t)},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return new WT(this.firestore,null,e)},e}(OT);function cx(t,e){return t instanceof _T&&(t=t.o_),e instanceof _T&&(e=e.o_),(t instanceof WT||t instanceof ox)&&(e instanceof WT||e instanceof ox)&&t.firestore===e.firestore&&t.path===e.path&&t.W_===e.W_}function lx(t,e){return t instanceof _T&&(t=t.o_),e instanceof _T&&(e=e.o_),t instanceof GT&&e instanceof GT&&t.firestore===e.firestore&&AC(t.Z_,e.Z_)&&t.W_===e.W_}function hx(t){var e=t.b_(),n=rE(t.A_);return new mx(t.A_,!!e.ignoreUndefinedProperties,n)}var fx=/^__.*__$/,dx=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.tf=function(t,e){var n=[];return n.push(null!==this.en?new oC(t,this.data,this.en,e):new iC(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new sC(t,this.fieldTransforms)),n},t}(),px=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.tf=function(t,e){var n=[new oC(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new sC(t,this.fieldTransforms)),n},t}();function vx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Eb()}}var yx=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ff(),this.fieldTransforms=i||[],this.en=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u_",{get:function(){return this.settings.u_},enumerable:!1,configurable:!0}),t.prototype.df=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},t.prototype.wf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.df({path:n,l_:!1});return r.Ef(t),r},t.prototype.Tf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.df({path:n,l_:!1});return r.ff(),r},t.prototype.If=function(t){return this.df({path:void 0,l_:!0})},t.prototype.a_=function(t){return xx(t,this.settings.methodName,this.settings.mf||!1,this.path,this.settings.h_)},t.prototype.contains=function(t){return void 0!==this.en.find((function(e){return t.j(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.j(e.field)}))},t.prototype.ff=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Ef(this.path.get(t))},t.prototype.Ef=function(t){if(0===t.length)throw this.a_("Document fields must not be empty");if(vx(this.u_)&&fx.test(t))throw this.a_('Document fields cannot begin and end with "__"')},t}(),mx=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||rE(t)}return t.prototype.Af=function(t,e,n,r){return void 0===r&&(r=!1),new yx({u_:t,methodName:e,h_:n,path:Hb.X(),l_:!1,mf:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function gx(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Af(o.merge||o.mergeFields?2:0,e,n,i);Sx("Data must be an object, but it was:",a,r);var s,u,c=Cx(r,a);if(o.merge)s=new Kk(a.en),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Ox(e,f[h],n);if(!a.contains(d))throw new Tb(Ib.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Ax(l,d)||l.push(d)}s=new Kk(l),u=a.fieldTransforms.filter((function(t){return s.un(t.field)}))}else s=null,u=a.fieldTransforms;return new dx(new fC(c),s,u)}function _x(t,e,n,r){var i=t.Af(1,e,n);Sx("Data must be an object, but it was:",i,r);var o=[],a=new dC;jw(r,(function(t,r){var s=Tx(e,t,n);r instanceof _T&&(r=r.o_);var u=i.Tf(s);if(r instanceof hT)o.push(s);else{var c=kx(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Kk(o);return new px(a.hn(),s,i.fieldTransforms)}function bx(t,e,n,r,i,o){var a=t.Af(1,e,n),s=[Ox(e,r,n)],u=[i];if(o.length%2!=0)throw new Tb(Ib.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Ox(e,o[c])),u.push(o[c+1]);for(var l=[],h=new dC,f=s.length-1;f>=0;--f)if(!Ax(l,s[f])){var d=s[f],p=u[f];p instanceof _T&&(p=p.o_);var v=a.Tf(d);if(p instanceof hT)l.push(d);else{var y=kx(p,v);null!=y&&(l.push(d),h.set(d,y))}}var m=new Kk(l);return new px(h.hn(),m,a.fieldTransforms)}function wx(t,e,n,r){return void 0===r&&(r=!1),kx(n,t.Af(r?4:3,e))}function kx(t,e){if(t instanceof _T&&(t=t.o_),Ex(t))return Sx("Unsupported field value:",e,t),Cx(t,e);if(t instanceof lT)return function(t,e){if(!vx(e.u_))throw e.a_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.a_(t._methodName+"() is not currently supported inside arrays");var n=t.c_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.settings.l_&&4!==e.u_)throw e.a_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=kx(o[i],e.If(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof _T&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ak(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Vb.fromDate(t);return{timestampValue:sk(e.serializer,n)}}if(t instanceof Vb){var r=new Vb(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:sk(e.serializer,r)}}if(t instanceof mT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof gT)return{bytesValue:uk(e.serializer,t.E_)};if(t instanceof WT){var i=e.t,o=t.firestore.A_;if(!o.isEqual(i))throw e.a_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:hk(t.firestore.A_||e.t,t.Q_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.a_("Unsupported field value: "+sT(t))}(t,e)}function Cx(t,e){var n={};return Mw(t)?e.path&&e.path.length>0&&e.en.push(e.path):jw(t,(function(t,r){var i=kx(r,e.wf(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Ex(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Vb||t instanceof mT||t instanceof gT||t instanceof WT||t instanceof lT)}function Sx(t,e,n){if(!Ex(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=sT(n);throw e.a_("an object"===r?t+" a custom object":t+" "+r)}}function Ox(t,e,n){if(e instanceof _T&&(e=e.o_),e instanceof PT)return e.j_;if("string"==typeof e)return Tx(t,e);throw xx("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Ix=new RegExp("[~\\*/\\[\\]]");function Tx(t,e,n){if(e.search(Ix)>=0)throw xx("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(PT.bind.apply(PT,Object(hy.g)([void 0],e.split("."))))).j_}catch(r){throw xx("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function xx(t,e,n,r,i){var o=r&&!r.W(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Tb(Ib.INVALID_ARGUMENT,(s+=". ")+t+u)}function Ax(t,e){return t.some((function(t){return t.isEqual(e)}))}var Px=function(){function t(t){this.Mu=t,this.Rf=new Map,this.mutations=[],this.Pf=!1,this.gf=null,this.yf=new Set}return t.prototype.Vf=function(t){return Object(hy.b)(this,void 0,void 0,(function(){var e,n=this;return Object(hy.d)(this,(function(r){switch(r.label){case 0:if(this.pf(),this.mutations.length>0)throw new Tb(Ib.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(hy.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Object(hy.d)(this,(function(u){switch(u.label){case 0:return n=Ob(t),r=mk(n.serializer)+"/documents",i={documents:e.map((function(t){return dk(n.serializer,t)}))},[4,n.Vu("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Sb(!!e.found);var n=pk(t,e.found.name),r=lk(e.found.updateTime),i=new fC({mapValue:{fields:e.found.fields}});return new yC(n,r,i,{})}(t,e):"missing"in e?function(t,e){Sb(!!e.missing),Sb(!!e.readTime);var n=pk(t,e.missing),r=lk(e.readTime);return new mC(n,r)}(t,e):Eb()}(n.serializer,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());Sb(!!e),s.push(e)})),s)]}}))}))}(this.Mu,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof mC||t instanceof yC?n.vf(t):Eb()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.tf(t,this.rn(t))),this.yf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.tf(t,this.bf(t)))}catch(t){this.gf=t}this.yf.add(t.toString())},t.prototype.delete=function(t){this.write([new lC(t,this.rn(t))]),this.yf.add(t.toString())},t.prototype.commit=function(){return Object(hy.b)(this,void 0,void 0,(function(){var t,e=this;return Object(hy.d)(this,(function(n){switch(n.label){case 0:if(this.pf(),this.gf)throw this.gf;return t=this.Rf,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Wb.st(n);e.mutations.push(new hC(r,e.rn(r)))})),[4,function(t,e){return Object(hy.b)(this,void 0,void 0,(function(){var n,r,i;return Object(hy.d)(this,(function(o){switch(o.label){case 0:return n=Ob(t),r=mk(n.serializer)+"/documents",i={writes:e.map((function(t){return bk(n.serializer,t)}))},[4,n.yu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Mu,this.mutations)];case 1:return n.sent(),this.Pf=!0,[2]}}))}))},t.prototype.vf=function(t){var e;if(t instanceof yC)e=t.version;else{if(!(t instanceof mC))throw Eb();e=Ub.min()}var n=this.Rf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Tb(Ib.ABORTED,"Document version changed between two reads.")}else this.Rf.set(t.key.toString(),e)},t.prototype.rn=function(t){var e=this.Rf.get(t.toString());return!this.yf.has(t.toString())&&e?Zk.updateTime(e):Zk.on()},t.prototype.bf=function(t){var e=this.Rf.get(t.toString());if(!this.yf.has(t.toString())&&e){if(e.isEqual(Ub.min()))throw new Tb(Ib.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zk.updateTime(e)}return Zk.exists(!0)},t.prototype.write=function(t){this.pf(),this.mutations=this.mutations.concat(t)},t.prototype.pf=function(){},t}(),Dx=function(){function t(t,e,n,r){this.di=t,this.Mu=e,this.updateFunction=n,this.Ti=r,this.Sf=5,this.Si=new lE(this.di,"transaction_retry")}return t.prototype.run=function(){this.Df()},t.prototype.Df=function(){var t=this;this.Si.Bs((function(){return Object(hy.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(hy.d)(this,(function(r){return t=new Px(this.Mu),(e=this.Cf(t))&&e.then((function(e){n.di.Ri((function(){return t.commit().then((function(){n.Ti.resolve(e)})).catch((function(t){n.Nf(t)}))}))})).catch((function(t){n.Nf(t)})),[2]}))}))}))},t.prototype.Cf=function(t){try{var e=this.updateFunction(t);return!Gb(e)&&e.catch&&e.then?e:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ti.reject(t),null}},t.prototype.Nf=function(t){var e=this;this.Sf>0&&this.xf(t)?(this.Sf-=1,this.di.Ri((function(){return e.Df(),Promise.resolve()}))):this.Ti.reject(t)},t.prototype.xf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ow(e)}return!1},t}(),Rx=function(){function t(t,e,n){var r=this;this.credentials=t,this.di=e,this.Fl=n,this.user=mb.UNAUTHENTICATED,this.clientId=jb.D(),this.Ff=function(){},this.g=new nE,this.credentials.A((function(t){bb("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.Ff(t)),r.g.resolve()}))}return t.prototype.getConfiguration=function(){return Object(hy.b)(this,void 0,void 0,(function(){return Object(hy.d)(this,(function(t){switch(t.label){case 0:return[4,this.g.promise];case 1:return[2,(t.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,qh:100})]}}))}))},t.prototype.Of=function(t){var e=this;this.Ff=t,this.g.promise.then((function(){return e.Ff(e.user)}))},t.prototype.Mf=function(){if(this.di.Ci)throw new Tb(Ib.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.di.Oi();var e=new nE;return this.di.Ni((function(){return Object(hy.b)(t,void 0,void 0,(function(){var t,n;return Object(hy.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.kf?[4,this.kf.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.$f?[4,this.$f.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),e.resolve(),[3,6];case 5:return t=r.sent(),n=EE(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function Nx(t,e){return Object(hy.b)(this,void 0,void 0,(function(){var n,r=this;return Object(hy.d)(this,(function(i){switch(i.label){case 0:return t.di.Li(),bb("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.Of((function(n){return t.di.Mi((function(){return Object(hy.b)(r,void 0,void 0,(function(){return Object(hy.d)(this,(function(t){switch(t.label){case 0:return[4,GS(e.Ou,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.rc((function(){return t.terminate()})),t.$f=e,[2]}}))}))}function jx(t,e){return Object(hy.b)(this,void 0,void 0,(function(){var n,r;return Object(hy.d)(this,(function(i){switch(i.label){case 0:return t.di.Li(),[4,Mx(t)];case 1:return n=i.sent(),bb("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.Of((function(n){return t.di.Mi((function(){return function(t,e){return Object(hy.b)(this,void 0,void 0,(function(){var n,r;return Object(hy.d)(this,(function(i){switch(i.label){case 0:return(n=Ob(t)).di.Li(),bb("RemoteStore","RemoteStore received new credentials"),r=gO(n),n.Bu.add(3),[4,hO(n)];case 1:return i.sent(),r&&n.Ku.set("Unknown"),[4,n.ku.s_(e)];case 2:return i.sent(),n.Bu.delete(3),[4,lO(n)];case 3:return i.sent(),[2]}}))}))}(e.$h,n)}))})),t.kf=e,[2]}}))}))}function Mx(t){return Object(hy.b)(this,void 0,void 0,(function(){return Object(hy.d)(this,(function(e){switch(e.label){case 0:return t.$f?[3,2]:(bb("FirestoreClient","Using default OfflineComponentProvider"),[4,Nx(t,new JI)]);case 1:e.sent(),e.label=2;case 2:return[2,t.$f]}}))}))}function Lx(t){return Object(hy.b)(this,void 0,void 0,(function(){return Object(hy.d)(this,(function(e){switch(e.label){case 0:return t.kf?[3,2]:(bb("FirestoreClient","Using default OnlineComponentProvider"),[4,jx(t,new tT)]);case 1:e.sent(),e.label=2;case 2:return[2,t.kf]}}))}))}function Fx(t){return Mx(t).then((function(t){return t.persistence}))}function Vx(t){return Mx(t).then((function(t){return t.Ou}))}function Ux(t){return Lx(t).then((function(t){return t.$h}))}function qx(t){return Lx(t).then((function(t){return t.va}))}function Bx(t){return Object(hy.b)(this,void 0,void 0,(function(){var e,n;return Object(hy.d)(this,(function(r){switch(r.label){case 0:return[4,Lx(t)];case 1:return e=r.sent(),[2,((n=e.Lh).ta=sI.bind(null,e.va),n.sa=cI.bind(null,e.va),n)]}}))}))}function zx(t,e,n){var r=this;void 0===n&&(n={});var i=new nE;return t.di.Ri((function(){return Object(hy.b)(r,void 0,void 0,(function(){var r;return Object(hy.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new eT({next:function(o){e.Ri((function(){return FO(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Tb(Ib.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Tb(Ib.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new BO(wC(n.path),o,{includeMetadataChanges:!0,ha:!0});return LO(t,a)},[4,Bx(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.di,e,n,i])]}}))}))})),i.promise}function Hx(t,e,n){var r=this;void 0===n&&(n={});var i=new nE;return t.di.Ri((function(){return Object(hy.b)(r,void 0,void 0,(function(){var r;return Object(hy.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new eT({next:function(n){e.Ri((function(){return FO(t,a)})),n.fromCache&&"server"===r.source?i.reject(new Tb(Ib.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new BO(n,o,{includeMetadataChanges:!0,ha:!0});return LO(t,a)},[4,Bx(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.di,e,n,i])]}}))}))})),i.promise}var Wx=function(){function t(t,e){this.q_=t,this.Lf=e,this.Bf=[],this.qf=!1,this.Uf=hx(t)}return t.prototype.set=function(t,e,n){this.Qf();var r=Gx(t,this.q_),i=fA(r.W_,e,n),o=gx(this.Uf,"WriteBatch.set",r.Q_,i,null!==r.W_,n);return this.Bf=this.Bf.concat(o.tf(r.Q_,Zk.on())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Qf();var o,a=Gx(t,this.q_);return e instanceof _T&&(e=e.o_),o="string"==typeof e||e instanceof PT?bx(this.Uf,"WriteBatch.update",a.Q_,e,n,r):_x(this.Uf,"WriteBatch.update",a.Q_,e),this.Bf=this.Bf.concat(o.tf(a.Q_,Zk.exists(!0))),this},t.prototype.delete=function(t){this.Qf();var e=Gx(t,this.q_);return this.Bf=this.Bf.concat(new lC(e.Q_,Zk.on())),this},t.prototype.commit=function(){return this.Qf(),this.qf=!0,this.Bf.length>0?this.Lf(this.Bf):Promise.resolve()},t.prototype.Qf=function(){if(this.qf)throw new Tb(Ib.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Gx(t,e){if(t instanceof _T&&(t=t.o_),t.firestore!==e)throw new Tb(Ib.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Kx=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).q_=e,r}return Object(hy.c)(e,t),e.prototype.get=function(e){var n=this,r=Gx(e,this.q_),i=new UT(this.q_);return t.prototype.get.call(this,e).then((function(t){return new jT(n.q_,i,r.Q_,t.K_,new iA(!1,!1),r.W_)}))},e}(function(){function t(t,e){this.q_=t,this.Kf=e,this.Uf=hx(t)}return t.prototype.get=function(t){var e=this,n=Gx(t,this.q_),r=new ux(this.q_);return this.Kf.Vf([n.Q_]).then((function(t){if(!t||1!==t.length)return Eb();var i=t[0];if(i instanceof mC)return new TT(e.q_,r,n.Q_,null,n.W_);if(i instanceof yC)return new TT(e.q_,r,i.key,i,n.W_);throw Eb()}))},t.prototype.set=function(t,e,n){var r=Gx(t,this.q_),i=fA(r.W_,e,n),o=gx(this.Uf,"Transaction.set",r.Q_,i,null!==r.W_,n);return this.Kf.set(r.Q_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Gx(t,this.q_);return e instanceof _T&&(e=e.o_),o="string"==typeof e||e instanceof PT?bx(this.Uf,"Transaction.update",a.Q_,e,n,r):_x(this.Uf,"Transaction.update",a.Q_,e),this.Kf.update(a.Q_,o),this},t.prototype.delete=function(t){var e=Gx(t,this.q_);return this.Kf.delete(e.Q_),this},t}()),Qx=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){NT(t=uT(t,DT));var n=Zx(t),r=t.b_(),i=new tT;return RT(n,i,new XI(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){NT(t=uT(t,DT));var e=Zx(t),n=t.b_(),r=new tT;return RT(e,r,new $I(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.g_&&!t.y_)throw new Tb(Ib.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new nE;return t.G_.Ni((function(){return Object(hy.b)(e,void 0,void 0,(function(){var e;return Object(hy.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(hy.b)(this,void 0,void 0,(function(){return Object(hy.d)(this,(function(e){switch(e.label){case 0:return hE.Gs()?[4,hE.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(zS(t.A_,t.T_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.o_)},t}(),Yx=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Wf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof yb||(i.jf=e),i}return Object(hy.c)(e,t),Object.defineProperty(e.prototype,"A_",{get:function(){return this.o_.A_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.v_()),t)).merge,this.o_.p_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.v_().host&&kb("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.di.enqueue((function(){return Object(hy.b)(e,void 0,void 0,(function(){var e,n;return Object(hy.d)(this,(function(r){switch(r.label){case 0:return[4,Fx(t)];case 1:return e=r.sent(),[4,Ux(t)];case 2:return n=r.sent(),[2,(e.oc(!0),function(t){var e=Ob(t);return e.Bu.delete(0),lO(e)}(n))]}}))}))}))}(Zx(uT(this.o_,DT)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.di.enqueue((function(){return Object(hy.b)(e,void 0,void 0,(function(){var e,n;return Object(hy.d)(this,(function(r){switch(r.label){case 0:return[4,Fx(t)];case 1:return e=r.sent(),[4,Ux(t)];case 2:return n=r.sent(),[2,(e.oc(!1),function(t){return Object(hy.b)(this,void 0,void 0,(function(){var e;return Object(hy.d)(this,(function(n){switch(n.label){case 0:return(e=Ob(t)).Bu.add(0),[4,hO(e)];case 1:return n.sent(),e.Ku.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Zx(uT(this.o_,DT)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&iT("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Wf.enableMultiTabIndexedDbPersistence(this):this.Wf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Wf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new nE;return t.di.Ri((function(){return Object(hy.b)(e,void 0,void 0,(function(){var e;return Object(hy.d)(this,(function(r){switch(r.label){case 0:return e=yI,[4,qx(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Zx(uT(this.o_,DT)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new eT(e);return t.di.Ri((function(){return Object(hy.b)(n,void 0,void 0,(function(){var e;return Object(hy.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Ob(t).Zu.add(e),e.next()},[4,Bx(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.di.Ri((function(){return Object(hy.b)(n,void 0,void 0,(function(){var e;return Object(hy.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Ob(t).Zu.delete(e)},[4,Bx(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Zx(t=uT(t,DT)),iE(e)?e:{next:e})}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.jf)throw new Tb(Ib.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.jf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new lA(this,ax(this.o_,t))}catch(t){throw eA(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new tA(this,sx(this.o_,t))}catch(t){throw eA(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new sA(this,function(t,e){if(t=uT(t,kT),nT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Tb(Ib.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new GT(t,null,function(t){return new _C(Bb.X(),t)}(e))}(this.o_,t))}catch(t){throw eA(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new nE;return t.di.Ri((function(){return Object(hy.b)(n,void 0,void 0,(function(){var n;return Object(hy.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return Lx(t).then((function(t){return t.Mu}))}(t)];case 1:return n=i.sent(),new Dx(t.di,n,e,r).run(),[2]}}))}))})),r.promise}(Zx(t),(function(n){return e(new Kx(t,n))}))}(this.o_,(function(n){return t(new Xx(e,n))}))},e.prototype.batch=function(){var t=this;return Zx(this.o_),new $x(new Wx(this.o_,(function(e){return zT(t.o_,e)})))},e}(_T);function Zx(t){return t.z_||Jx(t),t.z_.Mf(),t.z_}function Jx(t){var e=t.b_(),n=function(t,e,n){return new vb(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.A_,t.T_,e);t.z_=new Rx(t.R_,t.G_,n)}var Xx=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(hy.c)(e,t),e.prototype.get=function(t){var e=this,n=hA(t);return this.o_.get(n).then((function(t){return new oA(e.q_,t)}))},e.prototype.set=function(t,e,n){var r=hA(t);return n?(rT("Transaction.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=hA(t);return 2===arguments.length?this.o_.update(a,e):(r=this.o_).update.apply(r,Object(hy.g)([a,e,n],i)),this},e.prototype.delete=function(t){var e=hA(t);return this.o_.delete(e),this},e}(_T),$x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hy.c)(e,t),e.prototype.set=function(t,e,n){var r=hA(t);return n?(rT("WriteBatch.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=hA(t);return 2===arguments.length?this.o_.update(a,e):(r=this.o_).update.apply(r,Object(hy.g)([a,e,n],i)),this},e.prototype.delete=function(t){var e=hA(t);return this.o_.delete(e),this},e.prototype.commit=function(){return this.o_.commit()},e}(_T),tA=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.U_=new IT(e),r}return Object(hy.c)(e,t),e.Gf=function(t,n,r){if(t.length%2!=0)throw new Tb(Ib.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.J()+" has "+t.length);return new e(n,new WT(n.o_,r,new Wb(t)))},e.B_=function(t,n,r){return new e(n,new WT(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new lA(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new lA(this.firestore,ax(this.o_,t))}catch(t){throw eA(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof _T&&(t=t.o_),t instanceof WT&&cx(this.o_,t)},e.prototype.set=function(t,e){e=rT("DocumentReference.set",e);try{return function(t,e,n){t=uT(t,WT);var r=uT(t.firestore,DT),i=fA(t.W_,e,n);return zT(r,gx(hx(r),"setDoc",t.Q_,i,null!==t.W_,n).tf(t.Q_,Zk.on()))}(this.o_,t,e)}catch(t){throw eA(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?qT(this.o_,t):qT.apply(void 0,Object(hy.g)([this.o_,t,e],n))}catch(t){throw eA(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return zT(uT((t=this.o_).firestore,DT),[new lC(t.Q_,Zk.on())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=nA(e),i=rA(e,(function(e){return new oA(t.firestore,new jT(t.firestore.o_,t.U_,e.Q_,e.K_,e.metadata,t.o_.W_))}));return BT(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=uT(t,WT);var e=uT(t.firestore,DT),n=Zx(e),r=new UT(e);return function(t,e){var n=this,r=new nE;return t.di.Ri((function(){return Object(hy.b)(n,void 0,void 0,(function(){var n;return Object(hy.d)(this,(function(i){switch(i.label){case 0:return n=function(t){function e(e,n,r){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e,n){return Object(hy.b)(this,void 0,void 0,(function(){var r,i,o;return Object(hy.d)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(t,e){var n=Ob(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Bc.cs(t,e)}))}(t,e)];case 1:return(r=a.sent())instanceof yC?n.resolve(r):r instanceof mC?n.resolve(null):n.reject(new Tb(Ib.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=a.sent(),o=EE(i,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}}))}))})),[4,Vx(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.Q_).then((function(n){return new jT(e,r,t.Q_,n,new iA(n instanceof yC&&n.an,!0),t.W_)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){t=uT(t,WT);var e=uT(t.firestore,DT);return zx(Zx(e),t.Q_,{source:"server"}).then((function(n){return HT(e,t,n)}))}(this.o_):function(t){t=uT(t,WT);var e=uT(t.firestore,DT);return zx(Zx(e),t.Q_).then((function(n){return HT(e,t,n)}))}(this.o_)).then((function(t){return new oA(e.firestore,new jT(e.firestore.o_,e.U_,t.Q_,t.K_,t.metadata,e.o_.W_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(_T);function eA(t,e,n){return t.message=t.message.replace(e,n),t}function nA(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!iE(r))return r}return{}}function rA(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=iE(t[0])?t[0]:iE(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var iA=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),oA=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(hy.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new tA(this.q_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return VT(this.o_,t.o_)},e}(_T),aA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hy.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(oA),sA=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.U_=new IT(e),r}return Object(hy.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,QT(this.o_,function(t,e,n){var r=e,i=AT("where",t);return new YT(i,r,n)}(t,n,r)))}catch(t){throw eA(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,QT(this.o_,function(t,e){void 0===e&&(e="asc");var n=e,r=AT("orderBy",t);return new ZT(r,n)}(t,n)))}catch(t){throw eA(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,QT(this.o_,function(t){return cT("limit",t),new JT("limit",t,"F")}(t)))}catch(t){throw eA(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,QT(this.o_,function(t){return cT("limitToLast",t),new JT("limitToLast",t,"L")}(t)))}catch(t){throw eA(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,QT(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new XT("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw eA(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,QT(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new XT("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw eA(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,QT(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $T("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw eA(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,QT(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $T("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw eA(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return lx(this.o_,t.o_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=uT(t,GT);var e=uT(t.firestore,DT),n=Zx(e),r=new UT(e);return function(t,e){var n=this,r=new nE;return t.di.Ri((function(){return Object(hy.b)(n,void 0,void 0,(function(){var n;return Object(hy.d)(this,(function(i){switch(i.label){case 0:return n=function(t){function e(e,n,r){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e,n){return Object(hy.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Object(hy.d)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,$S(t,e,!0)];case 1:return r=c.sent(),i=new rI(e,r.Kc),o=i.bh(r.documents),a=i.Zn(o,!1),n.resolve(a.snapshot),[3,3];case 2:return s=c.sent(),u=EE(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))})),[4,Vx(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.Z_).then((function(n){return new LT(e,r,t,n)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){t=uT(t,GT);var e=uT(t.firestore,DT),n=Zx(e),r=new UT(e);return Hx(n,t.Z_,{source:"server"}).then((function(n){return new LT(e,r,t,n)}))}(this.o_):function(t){t=uT(t,GT);var e=uT(t.firestore,DT),n=Zx(e),r=new UT(e);return ix(t.Z_),Hx(n,t.Z_).then((function(n){return new LT(e,r,t,n)}))}(this.o_)).then((function(t){return new cA(e.firestore,new LT(e.firestore.o_,e.U_,e.o_,t.J_))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=nA(e),i=rA(e,(function(e){return new cA(t.firestore,new LT(t.firestore.o_,t.U_,t.o_,e.J_))}));return BT(this.o_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(_T),uA=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(hy.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new aA(this.q_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),e}(_T),cA=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(hy.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new sA(this.q_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map((function(e){return new aA(t.q_,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map((function(t){return new uA(e.q_,t)}))},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach((function(r){t.call(e,new aA(n.q_,r))}))},e.prototype.isEqual=function(t){return VT(this.o_,t.o_)},e}(_T),lA=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.o_=n,r}return Object(hy.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.o_.parent;return t?new tA(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new tA(this.firestore,void 0===t?sx(this.o_):sx(this.o_,t))}catch(t){throw eA(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=uT(t.firestore,DT),r=sx(t),i=fA(t.W_,e);return zT(n,gx(hx(t.firestore),"addDoc",r.Q_,i,null!==t.W_,{}).tf(r.Q_,Zk.exists(!1))).then((function(){return r}))}(this.o_,t).then((function(t){return new tA(e.firestore,t)}))},e.prototype.isEqual=function(t){return cx(this.o_,t.o_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(sA);function hA(t){return t instanceof _T&&(t=t.o_),uT(t,WT)}function fA(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var dA,pA=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(PT.bind.apply(PT,Object(hy.g)([void 0],e))))||this}return Object(hy.c)(e,t),e.documentId=function(){return new e(Hb.et().J())},e.prototype.isEqual=function(t){return t instanceof _T&&(t=t.o_),t instanceof PT&&this.o_.j_.isEqual(t.j_)},e}(_T),vA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hy.c)(e,t),e.serverTimestamp=function(){var t=new dT("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new hT("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pT("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new vT("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new yT("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(_T),yA={Firestore:Yx,GeoPoint:mT,Timestamp:Vb,Blob:ST,Transaction:Xx,WriteBatch:$x,DocumentReference:tA,DocumentSnapshot:oA,Query:sA,QueryDocumentSnapshot:aA,QuerySnapshot:cA,CollectionReference:lA,FieldPath:pA,FieldValue:vA,setLogLevel:function(t){gb.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new pb.a("firestore",(function(t){return function(t,e){return new Yx(t,new DT(t,e),new Qx)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},yA)))})(dA=fy.a),dA.registerVersion("@firebase/firestore","2.0.5"),n("tf+s");var mA=new r.q("angularfire2.auth.use-emulator");function gA(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ka.a;return new Gt.a((function(n){var r;return null!=e?e.schedule((function(){r=t.onSnapshot({includeMetadataChanges:!0},n)})):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}}))}(t,e)}function _A(t,e){return gA(t,e).pipe(Object(ie.a)((function(t){return{payload:t,type:"query"}})))}function bA(t,e){return _A(t,e).pipe(Ve(void 0),ns(),Object(ie.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1],i=r.payload.docChanges(),o=i.map((function(t){return{type:t.type,payload:t}}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((function(t,e){var r=i.find((function(e){return e.doc.ref.isEqual(t.ref)})),a=null==n?void 0:n.payload.docs.find((function(e){return e.ref.isEqual(t.ref)}));r&&JSON.stringify(r.doc.metadata)===JSON.stringify(t.metadata)||!r&&a&&JSON.stringify(a.metadata)===JSON.stringify(t.metadata)||o.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})})),o})))}function wA(t,e,n){return bA(t,n).pipe(Ue((function(t,n){return function(t,e,n){return e.forEach((function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return kA(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return kA(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return kA(t,e.oldIndex,1)}return t}(t,e))})),t}(t,n.map((function(t){return t.payload})),e)}),[]),(function(t){return t.lift(new Wa(void 0,void 0))}),Object(ie.a)((function(t){return t.map((function(t){return{type:t.type,payload:t}}))})))}function kA(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[e,n].concat(o)),r}function CA(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var EA=function(){function t(e,n,r){_classCallCheck(this,t),this.ref=e,this.query=n,this.afs=r}return _createClass(t,[{key:"stateChanges",value:function(t){var e=bA(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(ie.a)((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})))),e.pipe(Ve(void 0),ns(),ue((function(t){var e=_slicedToArray(t,2),n=e[0];return e[1].length>0||!n})),Object(ie.a)((function(t){var e=_slicedToArray(t,2);e[0];return e[1]})),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Ue((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=CA(t);return wA(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _A(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ie.a)((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign(Object.assign({},e.data()),_defineProperty({},t.idField,e.id)):e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Bt.a)(this.query.get(t)).pipe(Object(as.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new SA(this.ref.doc(t),this.afs)}}]),t}(),SA=function(){function t(e,n){_classCallCheck(this,t),this.ref=e,this.afs=n}return _createClass(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=PA(this.ref.collection(t),e),r=n.ref,i=n.query;return new EA(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return gA(this.ref,this.afs.schedulers.outsideAngular).pipe(Ve(void 0),ns(),Object(ie.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1];return r.exists?(null==n?void 0:n.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(ie.a)((function(e){var n=e.payload;return t.idField?Object.assign(Object.assign({},n.data()),_defineProperty({},t.idField,n.id)):n.data()})))}},{key:"get",value:function(t){return Object(Bt.a)(this.ref.get(t)).pipe(Object(as.b)(this.afs.schedulers.insideAngular))}}]),t}(),OA=function(){function t(e,n){_classCallCheck(this,t),this.query=e,this.afs=n}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?bA(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ie.a)((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),ue((function(t){return t.length>0})),this.afs.keepUnstableUntilFirst):bA(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Ue((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=CA(t);return wA(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _A(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ie.a)((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign(_defineProperty({},t.idField,e.id),e.data()):e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Bt.a)(this.query.get(t)).pipe(Object(as.b)(this.afs.schedulers.insideAngular))}}]),t}(),IA=new r.q("angularfire2.enableFirestorePersistence"),TA=new r.q("angularfire2.firestore.persistenceSettings"),xA=new r.q("angularfire2.firestore.settings"),AA=new r.q("angularfire2.firestore.use-emulator");function PA(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var DA,RA,NA,jA=((NA=function(){function t(e,n,r,i,o,a,s,u,c){_classCallCheck(this,t),this.schedulers=new cy.d(a),this.keepUnstableUntilFirst=Object(cy.h)(this.schedulers);var l=Object(cy.g)(e,a,n);!ly.a.auth&&c&&Object(cy.j)();var h=u,f=_slicedToArray(Object(cy.f)(l.name+".firestore","AngularFirestore",l,(function(){var t=a.runOutsideAngular((function(){return l.firestore()}));return i&&t.settings(i),h&&t.useEmulator.apply(t,_toConsumableArray(h)),r&&!function(t){return"server"===t}(o)?[t,a.runOutsideAngular((function(){try{return Object(Bt.a)(t.enablePersistence(s||void 0).then((function(){return!0}),(function(){return!1})))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(qt.a)(!1)}}))]:[t,Object(qt.a)(!1)]}),[i,h,r]),2);this.firestore=f[0],this.persistenceEnabled$=f[1]}return _createClass(t,[{key:"collection",value:function(t,e){var n=PA("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run((function(){return r}));return new EA(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new OA(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run((function(){return e}));return new SA(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||NA)(r.Wb(cy.c),r.Wb(cy.b,8),r.Wb(IA,8),r.Wb(xA,8),r.Wb(r.B),r.Wb(r.z),r.Wb(TA,8),r.Wb(AA,8),r.Wb(mA,8))},NA.\u0275prov=Object(r.Jb)({factory:function(){return new NA(Object(r.Wb)(cy.c),Object(r.Wb)(cy.b,8),Object(r.Wb)(IA,8),Object(r.Wb)(xA,8),Object(r.Wb)(r.B),Object(r.Wb)(r.z),Object(r.Wb)(TA,8),Object(r.Wb)(AA,8),Object(r.Wb)(mA,8))},token:NA,providedIn:"any"}),NA),MA=((RA=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:IA,useValue:!0},{provide:TA,useValue:e}]}}}]),t}()).\u0275mod=r.Lb({type:RA}),RA.\u0275inj=r.Kb({factory:function(t){return new(t||RA)},providers:[jA]}),RA),LA=((DA=function(){function t(e){_classCallCheck(this,t),this.noteMaker=e}return _createClass(t,[{key:"resolve",value:function(){return this.noteMaker.fetchPosts()}}]),t}()).\u0275fac=function(t){return new(t||DA)(r.Wb(jd))},DA.\u0275prov=r.Jb({token:DA,factory:DA.\u0275fac}),DA),FA=function(){return["/notes"]};function VA(t,e){1&t&&(r.Sb(0,"div"),r.Sb(1,"h3"),r.sc(2,"Please, "),r.Sb(3,"a",3),r.sc(4,"start adding your notes"),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Cb(3),r.fc("routerLink",r.gc(1,FA)))}function UA(t,e){if(1&t){var n=r.Tb();r.Sb(0,"h3"),r.sc(1," Please, "),r.Sb(2,"a",4),r.ac("click",(function(){return r.kc(n),r.cc().openDialog()})),r.sc(3,"sign in"),r.Rb(),r.sc(4," to start adding your notes "),r.Rb()}}var qA,BA,zA,HA=((qA=function(){function t(e,n){_classCallCheck(this,t),this.eventEmitter=e,this.router=n}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"openDialog",value:function(){this.eventEmitter.onInvokeNavbarLoginComponent()}},{key:"checkRedirection",value:function(){this.redirection=!!localStorage.getItem("userData")}}]),t}()).\u0275fac=function(t){return new(t||qA)(r.Nb(Jp),r.Nb(di))},qA.\u0275cmp=r.Hb({type:qA,selectors:[["app-home"]],decls:6,vars:2,consts:[[1,"text-container"],[4,"ngIf","ngIfElse"],["elseBlock",""],[3,"routerLink"],[3,"click"]],template:function(t,e){if(1&t&&(r.Sb(0,"div",0),r.Sb(1,"h1"),r.sc(2,"Welcome to NotesApp"),r.Rb(),r.qc(3,VA,5,2,"div",1),r.qc(4,UA,5,0,"ng-template",null,2,r.rc),r.Rb()),2&t){var n=r.jc(5);r.Cb(3),r.fc("ngIf",e.redirection)("ngIfElse",n)}},directives:[H,pi],styles:[".text-container[_ngcontent-%COMP%]{text-align:center;padding-top:50px}.text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;color:#00f}"]}),qA),WA=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new GA(t,this.project))}}]),t}(),GA=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){this.hasSubscription||this.tryNext(t)}},{key:"tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=new Ee.a(this,e,n),i=this.destination;i.add(r);var o=Object(Jt.a)(this,t,void 0,void 0,r);o!==r&&i.add(o)}},{key:"_complete",value:function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}]),n}(Zt.a),KA=((BA=function(){function t(e){_classCallCheck(this,t),this.auth=e}return _createClass(t,[{key:"intercept",value:function(t,e){return this.auth.user.pipe(Te(1),function t(e,n){return n?function(r){return r.pipe(t((function(t,r){return Object(Bt.a)(e(t,r)).pipe(Object(ie.a)((function(e,i){return n(t,e,r,i)})))})))}:function(t){return t.lift(new WA(e))}}((function(n){if(!n)return e.handle(t);var r=t.clone({params:(new bf).set("auth",n.token)});return e.handle(r)})))}}]),t}()).\u0275fac=function(t){return new(t||BA)(r.Wb(rd))},BA.\u0275prov=r.Jb({token:BA,factory:BA.\u0275fac,providedIn:"root"}),BA),QA=[{path:"",pathMatch:"full",redirectTo:"/home"},{path:"home",component:HA},{path:"notes",component:uy,resolve:{notes:LA}}],YA=((zA=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:zA,bootstrap:[iv]}),zA.\u0275inj=r.Kb({factory:function(t){return new(t||zA)},providers:[LA,{provide:of,useValue:{hasBackdrop:!0}},{provide:nf,useValue:{}},{provide:zf,useClass:KA,multi:!0}],imports:[[at,Ut,Ch,Wp,Jv,cy.a.initializeApp(i),MA,nd,Di.forRoot(QA),Ra,Ap,Vp,Rd,df]]}),zA);Ft().bootstrapModule(YA).catch((function(t){return console.error(t)}))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);
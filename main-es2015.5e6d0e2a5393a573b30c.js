(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var o=Object(r.e)(s.value,2),a=o[1],c=this.normalizeInstanceIdentifier(o[0]);try{var u=this.getOrInitializeService(c);a.resolve(u)}catch(l){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new o(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("ZUHj"),i=n("l7GE"),s=n("51Dv"),o=n("lJxs"),a=n("Cfvw");function c(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(c((n,r)=>Object(a.a)(t(n,r)).pipe(Object(o.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new u(t,n)))}class u{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new s.a(this,e,n),o=this.destination;o.add(i);const a=Object(r.a)(this,t,void 0,void 0,i);a!==i&&o.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var c=n("3N8a");class u extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(u)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class u extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends u{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),c=n("Lhse"),u=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("mCNh"),c=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.1.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),c=n("c2HN"),u=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("EY2u"),i=n("LRne"),s=n("z6cu");let o=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class u extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("51Dv"),i=n("SeVD"),s=n("HDdC");function o(t,e,n,o,a=new r.a(t,n,o)){if(!a.closed)return e instanceof s.a?e.subscribe(a):Object(i.a)(e)(a)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return ys})),n.d(e,"b",(function(){return fc})),n.d(e,"c",(function(){return cc})),n.d(e,"d",(function(){return oc})),n.d(e,"e",(function(){return ac})),n.d(e,"f",(function(){return su})),n.d(e,"g",(function(){return Qc})),n.d(e,"h",(function(){return ts})),n.d(e,"i",(function(){return Sc})),n.d(e,"j",(function(){return Lo})),n.d(e,"k",(function(){return gc})),n.d(e,"l",(function(){return Fo})),n.d(e,"m",(function(){return gn})),n.d(e,"n",(function(){return Ma})),n.d(e,"o",(function(){return $})),n.d(e,"p",(function(){return l})),n.d(e,"q",(function(){return W})),n.d(e,"r",(function(){return gs})),n.d(e,"s",(function(){return ra})),n.d(e,"t",(function(){return ia})),n.d(e,"u",(function(){return mc})),n.d(e,"v",(function(){return at})),n.d(e,"w",(function(){return Jc})),n.d(e,"x",(function(){return ot})),n.d(e,"y",(function(){return Hc})),n.d(e,"z",(function(){return Tc})),n.d(e,"A",(function(){return h})),n.d(e,"B",(function(){return dc})),n.d(e,"C",(function(){return hc})),n.d(e,"D",(function(){return Fa})),n.d(e,"E",(function(){return zo})),n.d(e,"F",(function(){return Uo})),n.d(e,"G",(function(){return Bo})),n.d(e,"H",(function(){return Ho})),n.d(e,"I",(function(){return rr})),n.d(e,"J",(function(){return f})),n.d(e,"K",(function(){return tu})),n.d(e,"L",(function(){return ca})),n.d(e,"M",(function(){return Mc})),n.d(e,"N",(function(){return $o})),n.d(e,"O",(function(){return Wo})),n.d(e,"P",(function(){return la})),n.d(e,"Q",(function(){return gt})),n.d(e,"R",(function(){return Os})),n.d(e,"S",(function(){return Wc})),n.d(e,"T",(function(){return Nn})),n.d(e,"U",(function(){return A})),n.d(e,"V",(function(){return nt})),n.d(e,"W",(function(){return Rn})),n.d(e,"X",(function(){return ru})),n.d(e,"Y",(function(){return Vc})),n.d(e,"Z",(function(){return pc})),n.d(e,"ab",(function(){return ns})),n.d(e,"bb",(function(){return xa})),n.d(e,"cb",(function(){return er})),n.d(e,"db",(function(){return or})),n.d(e,"eb",(function(){return Fn})),n.d(e,"fb",(function(){return Sn})),n.d(e,"gb",(function(){return xn})),n.d(e,"hb",(function(){return An})),n.d(e,"ib",(function(){return Tn})),n.d(e,"jb",(function(){return In})),n.d(e,"kb",(function(){return kn})),n.d(e,"lb",(function(){return Ea})),n.d(e,"mb",(function(){return nu})),n.d(e,"nb",(function(){return Ca})),n.d(e,"ob",(function(){return Sa})),n.d(e,"pb",(function(){return On})),n.d(e,"qb",(function(){return L})),n.d(e,"rb",(function(){return xs})),n.d(e,"sb",(function(){return Ws})),n.d(e,"tb",(function(){return Hs})),n.d(e,"ub",(function(){return Ss})),n.d(e,"vb",(function(){return wa})),n.d(e,"wb",(function(){return Ut})),n.d(e,"xb",(function(){return I})),n.d(e,"yb",(function(){return Cn})),n.d(e,"zb",(function(){return bo})),n.d(e,"Ab",(function(){return So})),n.d(e,"Bb",(function(){return No})),n.d(e,"Cb",(function(){return Ir})),n.d(e,"Db",(function(){return As})),n.d(e,"Eb",(function(){return so})),n.d(e,"Fb",(function(){return Gs})),n.d(e,"Gb",(function(){return Ja})),n.d(e,"Hb",(function(){return vt})),n.d(e,"Ib",(function(){return It})),n.d(e,"Jb",(function(){return y})),n.d(e,"Kb",(function(){return b})),n.d(e,"Lb",(function(){return St})),n.d(e,"Mb",(function(){return Tt})),n.d(e,"Nb",(function(){return Rs})),n.d(e,"Ob",(function(){return Us})),n.d(e,"Pb",(function(){return zs})),n.d(e,"Qb",(function(){return Bs})),n.d(e,"Rb",(function(){return Vs})),n.d(e,"Sb",(function(){return Fs})),n.d(e,"Tb",(function(){return qs})),n.d(e,"Ub",(function(){return dn})),n.d(e,"Vb",(function(){return mo})),n.d(e,"Wb",(function(){return et})),n.d(e,"Xb",(function(){return Ns})),n.d(e,"Yb",(function(){return sc})),n.d(e,"Zb",(function(){return js})),n.d(e,"ac",(function(){return $s})),n.d(e,"bc",(function(){return tc})),n.d(e,"cc",(function(){return Js})),n.d(e,"dc",(function(){return to})),n.d(e,"ec",(function(){return Xs})),n.d(e,"fc",(function(){return Ms})),n.d(e,"gc",(function(){return Da})),n.d(e,"hc",(function(){return Ra})),n.d(e,"ic",(function(){return Na})),n.d(e,"jc",(function(){return Ga})),n.d(e,"kc",(function(){return Ds})),n.d(e,"lc",(function(){return ie})),n.d(e,"mc",(function(){return ar})),n.d(e,"nc",(function(){return Ot})),n.d(e,"oc",(function(){return Za})),n.d(e,"pc",(function(){return Ka})),n.d(e,"qc",(function(){return io})),n.d(e,"rc",(function(){return Ps})),n.d(e,"sc",(function(){return ic})),n.d(e,"tc",(function(){return ho})),n.d(e,"uc",(function(){return fo})),n.d(e,"vc",(function(){return po})),n.d(e,"wc",(function(){return go})),n.d(e,"xc",(function(){return Qa}));var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function c(t){return{toString:t}.toString()}function u(t,e,n){return c(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const l=u("Inject",t=>({token:t})),h=u("Optional"),d=u("Self"),f=u("SkipSelf");var p=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function m(t){for(let e in t)if(t[e]===m)return e;throw Error("Could not find renamed property on target object.")}function g(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function y(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function b(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function _(t){return v(t,t[E])||v(t,t[O])}function v(t,e){return e&&e.token===t?e:null}function w(t){return t&&(t.hasOwnProperty(C)||t.hasOwnProperty(x))?t[C]:null}const E=m({"\u0275prov":m}),C=m({"\u0275inj":m}),S=m({"\u0275provFallback":m}),O=m({ngInjectableDef:m}),x=m({ngInjectorDef:m});function I(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(I).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function T(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const k=m({__forward_ref__:m});function A(t){return t.__forward_ref__=A,t.toString=function(){return I(this())},t}function P(t){return D(t)?t():t}function D(t){return"function"==typeof t&&t.hasOwnProperty(k)&&t.__forward_ref__===A}const R="undefined"!=typeof globalThis&&globalThis,N="undefined"!=typeof window&&window,j="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,M="undefined"!=typeof global&&global,L=R||M||N||j,F=m({"\u0275cmp":m}),V=m({"\u0275dir":m}),U=m({"\u0275pipe":m}),B=m({"\u0275mod":m}),z=m({"\u0275loc":m}),q=m({"\u0275fac":m}),H=m({__NG_ELEMENT_ID__:m});class W{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=y({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const $=new W("INJECTOR",-1),G={},K=/\n/gm,Q=m({provide:String,useValue:m});let Y,J=void 0;function Z(t){const e=J;return J=t,e}function X(t){const e=Y;return Y=t,e}function tt(t,e=p.Default){if(void 0===J)throw new Error("inject() must be called from an injection context");return null===J?rt(t,void 0,e):J.get(t,e&p.Optional?null:void 0,e)}function et(t,e=p.Default){return(Y||tt)(P(t),e)}const nt=et;function rt(t,e,n){const r=_(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&p.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${I(t)}]`)}function it(t){const e=[];for(let n=0;n<t.length;n++){const r=P(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=p.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof h||"Optional"===i.ngMetadataName||i===h?n|=p.Optional:i instanceof f||"SkipSelf"===i.ngMetadataName||i===f?n|=p.SkipSelf:i instanceof d||"Self"===i.ngMetadataName||i===d?n|=p.Self:t=i instanceof l||i===l?i.token:i}e.push(et(t,n))}else e.push(et(r))}return e}class st{get(t,e=G){if(e===G){const e=new Error(`NullInjectorError: No provider for ${I(t)}!`);throw e.name="NullInjectorError",e}return e}}class ot{}class at{}function ct(t,e){t.forEach(t=>Array.isArray(t)?ct(t,e):e(t))}function ut(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function lt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ht(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function dt(t,e,n){let r=pt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ft(t,e){const n=pt(t,e);if(n>=0)return t[1|n]}function pt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const mt=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),gt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),yt={},bt=[];let _t=0;function vt(t){return c(()=>{const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===mt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||bt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||gt.Emulated,id:"c",styles:t.styles||bt,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.directives,o=t.features,a=t.pipes;return i.id+=_t++,i.inputs=xt(t.inputs,r),i.outputs=xt(t.outputs),o&&o.forEach(t=>t(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(wt):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(Et):null,i})}function wt(t){return kt(t)||function(t){return t[V]||null}(t)}function Et(t){return function(t){return t[U]||null}(t)}const Ct={};function St(t){const e={type:t.type,bootstrap:t.bootstrap||bt,declarations:t.declarations||bt,imports:t.imports||bt,exports:t.exports||bt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&c(()=>{Ct[t.id]=t.type}),e}function Ot(t,e){return c(()=>{const n=Pt(t,!0);n.declarations=e.declarations||bt,n.imports=e.imports||bt,n.exports=e.exports||bt})}function xt(t,e){if(null==t)return yt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const It=vt;function Tt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function kt(t){return t[F]||null}function At(t,e){return t.hasOwnProperty(q)?t[q]:null}function Pt(t,e){const n=t[B]||null;if(!n&&!0===e)throw new Error(`Type ${I(t)} does not have '\u0275mod' property.`);return n}function Dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Rt(t){return Array.isArray(t)&&!0===t[1]}function Nt(t){return 0!=(8&t.flags)}function jt(t){return 2==(2&t.flags)}function Mt(t){return 1==(1&t.flags)}function Lt(t){return null!==t.template}function Ft(t){return 0!=(512&t[2])}let Vt=void 0;function Ut(t){Vt=t}function Bt(t){return!!t.listen}const zt={createRenderer:(t,e)=>void 0!==Vt?Vt:"undefined"!=typeof document?document:void 0};function qt(t){for(;Array.isArray(t);)t=t[0];return t}function Ht(t,e){return qt(e[t+20])}function Wt(t,e){return qt(e[t.index])}function $t(t,e){return t.data[e+20]}function Gt(t,e){const n=e[t];return Dt(n)?n:n[0]}function Kt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Qt(t){return 4==(4&t[2])}function Yt(t){return 128==(128&t[2])}function Jt(t,e){return null===t||null==e?null:t[e]}function Zt(t){t[18]=0}function Xt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const te={lFrame:we(null),bindingsEnabled:!0,checkNoChangesMode:!1};function ee(){return te.bindingsEnabled}function ne(){return te.lFrame.lView}function re(){return te.lFrame.tView}function ie(t){te.lFrame.contextLView=t}function se(){return te.lFrame.previousOrParentTNode}function oe(t,e){te.lFrame.previousOrParentTNode=t,te.lFrame.isParent=e}function ae(){return te.lFrame.isParent}function ce(){te.lFrame.isParent=!1}function ue(){return te.checkNoChangesMode}function le(t){te.checkNoChangesMode=t}function he(){const t=te.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function de(){return te.lFrame.bindingIndex++}function fe(t,e){const n=te.lFrame;n.bindingIndex=n.bindingRootIndex=t,pe(e)}function pe(t){te.lFrame.currentDirectiveIndex=t}function me(t){const e=te.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function ge(){return te.lFrame.currentQueryIndex}function ye(t){te.lFrame.currentQueryIndex=t}function be(t,e){const n=ve();te.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function _e(t,e){const n=ve(),r=t[1];te.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function ve(){const t=te.lFrame,e=null===t?null:t.child;return null===e?we(t):e}function we(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Ee(){const t=te.lFrame;return te.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const Ce=Ee;function Se(){const t=Ee();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Oe(){return te.lFrame.selectedIndex}function xe(t){te.lFrame.selectedIndex=t}function Ie(){const t=te.lFrame;return $t(t.tView,t.selectedIndex)}function Te(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function ke(t,e,n){De(t,e,3,n)}function Ae(t,e,n,r){(3&t[2])===n&&De(t,e,n,r)}function Pe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function De(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(Re(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function Re(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}class Ne{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function je(t,e,n){const r=Bt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=s,a=n[++i];Le(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Me(t){return 3===t||4===t||6===t}function Le(t){return 64===t.charCodeAt(0)}function Fe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ve(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ve(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Ue(t){return-1!==t}function Be(t){return 32767&t}function ze(t){return t>>16}function qe(t,e){let n=ze(t),r=e;for(;n>0;)r=r[15],n--;return r}function He(t){return"string"==typeof t?t:null==t?"":""+t}function We(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():He(t)}const $e=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(L))();function Ge(t){return t instanceof Function?t():t}let Ke=!0;function Qe(t){const e=Ke;return Ke=t,e}let Ye=0;function Je(t,e){const n=Xe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ze(r.data,t),Ze(e,null),Ze(r.blueprint,null));const i=tn(t,e),s=t.injectorIndex;if(Ue(i)){const t=Be(i),n=qe(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Ze(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Xe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function tn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function en(t,e,n){!function(t,e,n){let r="string"!=typeof n?n[H]:n.charCodeAt(0)||0;null==r&&(r=n[H]=Ye++);const i=255&r,s=1<<i,o=64&i,a=32&i,c=e.data;128&i?o?a?c[t+7]|=s:c[t+6]|=s:a?c[t+5]|=s:c[t+4]|=s:o?a?c[t+3]|=s:c[t+2]|=s:a?c[t+1]|=s:c[t]|=s}(t,e,n)}function nn(t,e,n,r=p.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[H];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){be(e,t);try{const t=i();if(null!=t||r&p.Optional)return t;throw new Error(`No provider for ${We(n)}!`)}finally{Ce()}}else if("number"==typeof i){if(-1===i)return new ln(t,e);let s=null,o=Xe(t,e),a=-1,c=r&p.Host?e[16][6]:null;for((-1===o||r&p.SkipSelf)&&(a=-1===o?tn(t,e):e[o+8],un(r,!1)?(s=e[1],o=Be(a),e=qe(a,e)):o=-1);-1!==o;){a=e[o+8];const t=e[1];if(cn(i,o,t.data)){const t=sn(o,e,n,s,r,c);if(t!==rn)return t}un(r,e[1].data[o+8]===c)&&cn(i,o,e)?(s=t,o=Be(a),e=qe(a,e)):o=-1}}}if(r&p.Optional&&void 0===i&&(i=null),0==(r&(p.Self|p.Host))){const t=e[9],s=X(void 0);try{return t?t.get(n,i,r&p.Optional):rt(n,i,r&p.Optional)}finally{X(s)}}if(r&p.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${We(n)}]`)}const rn={};function sn(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=on(a,o,n,null==r?jt(a)&&Ke:r!=o&&3===a.type,i&p.Host&&s===a);return null!==c?an(e,o,c,a):rn}function on(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=65535&s,c=t.directiveStart,u=s>>16,l=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<l;h++){const t=o[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=o[c];if(t&&Lt(t)&&t.type===n)return c}return null}function an(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Ne){const o=i;if(o.resolving)throw new Error("Circular dep for "+We(s[n]));const a=Qe(o.canSeeViewProviders);let c;o.resolving=!0,o.injectImpl&&(c=X(o.injectImpl)),be(t,r);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{onChanges:r,onInit:i,doCheck:s}=e;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{o.injectImpl&&X(c),Qe(a),o.resolving=!1,Ce()}}return i}function cn(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function un(t,e){return!(t&p.Self||t&p.Host&&e)}class ln{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return nn(this._tNode,this._lView,t,void 0,e)}}function hn(t){const e=t;if(D(t))return()=>{const t=hn(P(e));return t?t():null};let n=At(e);if(null===n){const t=w(e);n=t&&t.factory}return n||null}function dn(t){return c(()=>{const e=t.prototype.constructor,n=e[q]||hn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[q]||hn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function fn(t){return t.ngDebugContext}function pn(t){return t.ngOriginalError}function mn(t,...e){t.error(...e)}class gn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||mn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?fn(t)?fn(t):this._findContext(pn(t)):null}_findOriginalError(t){let e=pn(t);for(;e&&pn(e);)e=pn(e);return e}}class yn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class bn extends yn{getTypeName(){return"HTML"}}class _n extends yn{getTypeName(){return"Style"}}class vn extends yn{getTypeName(){return"Script"}}class wn extends yn{getTypeName(){return"URL"}}class En extends yn{getTypeName(){return"ResourceURL"}}function Cn(t){return t instanceof yn?t.changingThisBreaksApplicationSecurity:t}function Sn(t,e){const n=On(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function On(t){return t instanceof yn&&t.getTypeName()||null}function xn(t){return new bn(t)}function In(t){return new _n(t)}function Tn(t){return new vn(t)}function kn(t){return new wn(t)}function An(t){return new En(t)}let Pn=!0,Dn=!1;function Rn(){return Dn=!0,Pn}function Nn(){if(Dn)throw new Error("Cannot enable prod mode after platform setup.");Pn=!1}class jn{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Mn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Ln=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Fn(t){return(t=String(t)).match(Mn)||t.match(Ln)?t:(Rn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Vn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Un(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Bn=Vn("area,br,col,hr,img,wbr"),zn=Vn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qn=Vn("rp,rt"),Hn=Un(qn,zn),Wn=Un(Bn,Un(zn,Vn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Un(qn,Vn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hn),$n=Vn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gn=Vn("srcset"),Kn=Un($n,Gn,Vn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Qn=Vn("script,style,template");class Yn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Wn.hasOwnProperty(e))return this.sanitizedSomething=!0,!Qn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!Kn.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;$n[s]&&(o=Fn(o)),Gn[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Fn(t.trim())).join(", ")),this.buf.push(" ",e,'="',Xn(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Wn.hasOwnProperty(e)&&!Bn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Xn(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const Jn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zn=/([^\#-~ |!])/g;function Xn(t){return t.replace(/&/g,"&amp;").replace(Jn,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Zn,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let tr;function er(t,e){let n=null;try{tr=tr||new jn(t);let r=e?String(e):"";n=tr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=tr.getInertBodyElement(r)}while(r!==s);const o=new Yn,a=o.sanitizeChildren(nr(n)||n);return Rn()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=nr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function nr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const rr=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),ir=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),sr=/^url\(([^)]+)\)$/;function or(t){if(!(t=String(t).trim()))return"";const e=t.match(sr);return e&&Fn(e[1])===e[1]||t.match(ir)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Rn()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}function ar(t){const e=function(){const t=ne();return t&&t[12]}();return e?e.sanitize(rr.URL,t)||"":Sn(t,"URL")?Cn(t):Fn(He(t))}function cr(t,e){t.__ngContext__=e}function ur(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function lr(){throw new Error("Cannot mix multi providers and regular providers")}function hr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function dr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==hr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function fr(t){return 0===t.type&&"ng-template"!==t.tagName}function pr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function mr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Me(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!pr(t,c,n)||""===c&&1===e.length){if(gr(r))return!1;o=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!dr(t.attrs,u,n)){if(gr(r))return!1;o=!0}continue}const l=yr(8&r?"class":c,i,fr(t),n);if(-1===l){if(gr(r))return!1;o=!0;continue}if(""!==u){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==hr(e,u,0)||2&r&&u!==t){if(gr(r))return!1;o=!0}}}}else{if(!o&&!gr(r)&&!gr(c))return!1;if(o&&gr(c))continue;o=!1,r=c|1&r}}return gr(r)||o}function gr(t){return 0==(1&t)}function yr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function br(t,e,n=!1){for(let r=0;r<e.length;r++)if(mr(t,e[r],n))return!0;return!1}function _r(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function vr(t,e){return t?":not("+e.trim()+")":e}function wr(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||gr(o)||(e+=vr(s,i),i=""),r=o,s=s||!gr(r);n++}return""!==i&&(e+=vr(s,i)),e}const Er={};function Cr(t){const e=t[3];return Rt(e)?e[3]:e}function Sr(t){return xr(t[13])}function Or(t){return xr(t[4])}function xr(t){for(;null!==t&&!Rt(t);)t=t[4];return t}function Ir(t){Tr(re(),ne(),Oe()+t,ue())}function Tr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ke(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ae(e,r,0,n)}xe(n)}function kr(t,e){return t<<17|e<<2}function Ar(t){return t>>17&32767}function Pr(t){return 2|t}function Dr(t){return(131068&t)>>2}function Rr(t,e){return-131069&t|e<<2}function Nr(t){return 1|t}function jr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];ye(i),n.contentQueries(2,e[s],s)}}}function Mr(t,e,n){return Bt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Lr(t,e,n,r,i,s,o,a,c,u){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Zt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Fr(t,e,n,r,i,s){const o=n+20,a=t.data[o]||function(t,e,n,r,i,s){const o=se(),a=ae(),c=a?o:o&&o.parent,u=t.data[n]=Kr(0,c&&c!==e?c:null,r,n,i,s);return null===t.firstChild&&(t.firstChild=u),o&&(!a||null!=o.child||null===u.parent&&2!==o.type?a||(o.next=u):o.child=u),u}(t,e,o,r,i,s);return oe(a,!0),a}function Vr(t,e,n){_e(e,e[6]);try{const r=t.viewQuery;null!==r&&gi(1,r,n);const i=t.template;null!==i&&zr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&jr(t,e),t.staticViewQueries&&gi(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)hi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Se()}}function Ur(t,e,n,r){const i=e[2];if(256==(256&i))return;_e(e,e[6]);const s=ue();try{Zt(e),te.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&zr(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&ke(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ae(e,n,0,null),Pe(e,0)}if(function(t){for(let e=Sr(t);null!==e;e=Or(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Xt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Sr(t);null!==e;e=Or(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];Yt(n)&&Ur(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&jr(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&ke(e,n)}else{const n=t.contentHooks;null!==n&&Ae(e,n,1),Pe(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,xe(s),r+=9+n[++t],i=r):r+=o:(null!==o&&(fe(r,i),o(2,e[i])),i++)}}}finally{xe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)li(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&gi(2,c,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&ke(e,n)}else{const n=t.viewHooks;null!==n&&Ae(e,n,2),Pe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Xt(e[3],-1))}finally{Se()}}function Br(t,e,n,r){const i=e[10],s=!ue(),o=Qt(e);try{s&&!o&&i.begin&&i.begin(),o&&Vr(t,e,r),Ur(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function zr(t,e,n,r,i){const s=Oe();try{xe(-1),2&r&&e.length>20&&Tr(t,e,0,ue()),n(r,i)}finally{xe(s)}}function qr(t,e,n){if(Nt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Hr(t,e,n){ee()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Je(n,e),cr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Lt(r);s&&oi(e,n,r);const c=an(e,t,a,n);cr(c,e),null!==o&&ai(0,a-i,c,r,0,o),s&&(Gt(n.index,e)[8]=c)}}(t,e,n,Wt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-20,c=te.lFrame.currentDirectiveIndex;try{xe(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];pe(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?ti(r,i):o&&s.push(null)}}finally{xe(-1),pe(c)}}(t,e,n))}function Wr(t,e,n=Wt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function $r(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Gr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Gr(t,e,n,r,i,s,o,a,c,u){const l=20+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Er);return n}(l,h);return d[1]={type:t,id:e,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:u,incompleteFirstPass:!1}}function Kr(t,e,n,r,i,s){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Qr(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Yr(t,e,n,r,i,s,o,a){const c=Wt(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(Ei(t,n,u,r,i),jt(e)&&function(t,e){const n=Gt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.tagName||"",r):i,Bt(s)?s.setProperty(c,r,i):Le(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Jr(t,e,n,r){let i=!1;if(ee()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];br(n,o.selectors,!1)&&(i||(i=[]),en(Je(n,e),t,o.type),Lt(o)?(2&n.flags&&ur(n),ni(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){let r=0;i=!0,ii(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}ei(t,n,s.length);let a=!1,c=!1;for(let i=0;i<s.length;i++){const u=s[i];n.mergedAttrs=Fe(n.mergedAttrs,u.hostAttrs),si(t,e,u),ri(t.data.length-1,u,o),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128),!a&&(u.onChanges||u.onInit||u.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),c||!u.onChanges&&!u.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),c=!0),Zr(t,u),r+=u.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,u=null===i||fr(e)?null:ci(n,i);s.push(u),o=Qr(n,c,o),a=Qr(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),Xr(t,e,r)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Fe(n.mergedAttrs,n.attrs),i}function Zr(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Xr(t,e,n){for(let r=0;r<n;r++)e.push(Er),t.blueprint.push(Er),t.data.push(null)}function ti(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ei(t,e,n){const r=20-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function ni(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ri(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Lt(e)&&(n[""]=t)}}function ii(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function si(t,e,n){t.data.push(n);const r=n.factory||(n.factory=At(n.type)),i=new Ne(r,Lt(n),null);t.blueprint.push(i),e.push(i)}function oi(t,e,n){const r=Wt(e,t),i=$r(n),s=t[10],o=di(t,Lr(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n)));t[e.index]=o}function ai(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function ci(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ui(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function li(t,e){const n=Gt(e,t);if(Yt(n)){const t=n[1];80&n[2]?Ur(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Sr(e);null!==r;r=Or(r))for(let e=10;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Ur(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Gt(n[r],e);Yt(i)&&i[5]>0&&t(i)}}(n)}}function hi(t,e){const n=Gt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Vr(r,n,n[8])}function di(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function fi(t){for(;t;){t[2]|=64;const e=Cr(t);if(Ft(t)&&!e)return t;t=e}return null}function pi(t,e,n){const r=e[10];r.begin&&r.begin();try{Ur(t,e,t.template,n)}catch(i){throw wi(e,i),i}finally{r.end&&r.end()}}function mi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Kt(n),i=r[1];Br(i,r,i.template,n)}}(t[8])}function gi(t,e,n){ye(0),e(t,n)}const yi=(()=>Promise.resolve(null))();function bi(t){return t[7]||(t[7]=[])}function _i(t){return t.cleanup||(t.cleanup=[])}function vi(t,e,n){return(null===t||Lt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function wi(t,e){const n=t[9],r=n?n.get(gn,null):null;r&&r.handleError(e)}function Ei(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=e[o],u=t.data[o];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function Ci(t,e){const n=e[3];return-1===t.index?Rt(n)?n:null:n}function Si(t,e){const n=Ci(t,e);return n?Mi(e[11],n[7]):null}function Oi(t,e,n,r,i){if(null!=r){let s,o=!1;Rt(r)?s=r:Dt(r)&&(o=!0,r=r[0]);const a=qt(r);0===t&&null!==n?null==i?Ni(e,n,a):Ri(e,n,a,i||null):1===t&&null!==n?Ri(e,n,a,i||null):2===t?function(t,e,n){const r=Mi(t,e);r&&function(t,e,n,r){Bt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==qt(n)&&Oi(e,t,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];Bi(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function xi(t,e,n,r){const i=Si(t.node,e);i&&Bi(t,e,e[11],n?1:2,i,r)}function Ii(t,e){const n=t[9],r=n.indexOf(e);1024&e[2]&&Xt(e[3],-1),n.splice(r,1)}function Ti(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Ii(i,r),e>0&&(t[n-1][4]=r[4]);const s=lt(t,10+e);xi(r[1],r,!1,null);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function ki(t,e){if(!(256&e[2])){const n=e[11];Bt(n)&&n.destroyNode&&Bi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Pi(t[1],t);for(;e;){let n=null;if(Dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Dt(e)&&Pi(e[1],e),e=Ai(e,t);null===e&&(e=t),Dt(e)&&Pi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ai(t,e){let n;return Dt(t)&&(n=t[6])&&2===n.type?Ci(n,t):t[3]===e?null:t[3]}function Pi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ne)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):qt(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Bt(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Rt(e[3])){r!==e[3]&&Ii(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function Di(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?Si(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Wt(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==gt.ShadowDom&&n!==gt.Native)return null}return Wt(r,n)}function Ri(t,e,n,r){Bt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Ni(t,e,n){Bt(t)?t.appendChild(e,n):e.appendChild(n)}function ji(t,e,n,r){null!==r?Ri(t,e,n,r):Ni(t,e,n)}function Mi(t,e){return Bt(t)?t.parentNode(e):e.parentNode}function Li(t,e){if(2===t.type){const n=Ci(t,e);return null===n?null:Vi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Wt(t,e):null}function Fi(t,e,n,r){const i=Di(t,r,e);if(null!=i){const t=e[11],s=Li(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)ji(t,i,n[e],s);else ji(t,i,n,s)}}function Vi(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Wt(n,e);if(0===r)return Vi(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Rt(t)?Vi(-1,t):qt(t)}}{const r=e[16],i=r[6],s=Cr(r),o=i.projection[n.projection];return null!=o?t(s,o):t(e,n.next)}}return null}(t,r)}return e[7]}function Ui(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;o&&0===e&&(a&&cr(qt(a),r),n.flags|=4),64!=(64&n.flags)&&(4===c||5===c?(Ui(t,e,n.child,r,i,s,!1),Oi(e,t,i,a,s)):1===c?zi(t,e,r,n,i,s):Oi(e,t,i,a,s)),n=o?n.projectionNext:n.next}}function Bi(t,e,n,r,i,s){Ui(n,r,t.node.child,e,i,s,!1)}function zi(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Oi(e,t,i,a[c],s);else Ui(t,e,a,o[3],i,s,!0)}function qi(t,e,n){Bt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Hi(t,e,n){Bt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Wi{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,s=!1){for(;null!==r;){const o=n[r.index];if(null!==o&&i.push(qt(o)),Rt(o))for(let e=10;e<o.length;e++){const n=o[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],s=e[6].projection[r.projection];if(Array.isArray(s))i.push(...s);else{const n=Cr(e);t(n[1],n,s,i,!0)}}r=s?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}ki(this._lView[1],this._lView)}onDestroy(t){var e,n,r;e=this._lView[1],r=t,bi(n=this._lView).push(r),e.firstCreatePass&&_i(e).push(n[7].length-1,null)}markForCheck(){fi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){pi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){le(!0);try{pi(t,e,n)}finally{le(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Bi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class $i extends Wi{constructor(t){super(t),this._view=t}detectChanges(){mi(this._view)}checkNoChanges(){!function(t){le(!0);try{mi(t)}finally{le(!1)}}(this._view)}get context(){return null}}let Gi,Ki,Qi;function Yi(t,e,n){return Gi||(Gi=class extends t{}),new Gi(Wt(e,n))}function Ji(t,e,n,r){return Ki||(Ki=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Lr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Vr(e,n,t),new Wi(n)}}),0===n.type?new Ki(r,n,Yi(e,n,r)):null}function Zi(t,e,n,r){let i;Qi||(Qi=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Yi(e,this._hostTNode,this._hostView)}get injector(){return new ln(this._hostTNode,this._hostView)}get parentInjector(){const t=tn(this._hostTNode,this._hostView),e=qe(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=ze(t),i=e,s=e[6];for(;r>1;)i=i[15],s=i[6],r--;return s}(t,this._hostView,this._hostTNode);return Ue(t)&&null!=n?new ln(n,e):new ln(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(ot,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Rt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Qi(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],ut(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),xi(r,n,!0,Vi(i,this._lContainer)),t.attachToViewContainerRef(this),ut(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);!function(t,e){const n=Ti(t,e);n&&ki(n[1],n)}(this._lContainer,e),lt(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Ti(this._lContainer,e);return n&&null!=lt(this._lContainer[8],e)?new Wi(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[n.index];if(Rt(s))i=s;else{let t;if(4===n.type)t=qt(s);else if(t=r[11].createComment(""),Ft(r)){const e=r[11],i=Wt(n,r);Ri(e,Mi(e,i),t,function(t,e){return Bt(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Fi(r[1],r,t,n);r[n.index]=i=ui(s,r,t,n),di(r,i)}return new Qi(i,n,r)}function Xi(t=!1){return function(t,e,n){if(!n&&jt(t)){const n=Gt(t.index,e);return new Wi(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Wi(e[16],e):null}(se(),ne(),t)}let ts=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>es(),t})();const es=Xi,ns=new W("Set Injector scope."),rs={},is={},ss=[];let os=void 0;function as(){return void 0===os&&(os=new st),os}function cs(t,e=null,n=null,r){return new us(t,n,e||as(),r)}class us{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ct(e,n=>this.processProvider(n,t,e)),ct([t],t=>this.processInjectorType(t,[],i)),this.records.set($,ds(void 0,this));const s=this.records.get(ns);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:I(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=G,n=p.Default){this.assertNotDestroyed();const r=Z(this);try{if(!(n&p.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof W)&&_(t);e=n&&this.injectableDefInScope(n)?ds(ls(t),rs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&p.Self?as():this.parent).get(t,e=n&p.Optional&&e===G?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(I(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=I(e);if(Array.isArray(e))i=e.map(I).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):I(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(K,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Z(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(I(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=P(t)))return!1;let r=w(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=w(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{ct(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ct(r,t=>this.processProvider(t,n,r||ss))}}this.injectorDefTypes.add(s),this.records.set(s,ds(r.factory,rs));const a=r.providers;if(null!=a&&!o){const e=t;ct(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=ps(t=P(t))?t:P(t&&t.provide);const i=function(t,e,n){return fs(t)?ds(void 0,t.useValue):ds(hs(t,e,n),rs)}(t,e,n);if(ps(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&lr()}else{let e=this.records.get(r);e?void 0===e.multi&&lr():(e=ds(void 0,rs,!0),e.factory=()=>it(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===is?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(I(t)):e.value===rs&&(e.value=is,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ls(t){const e=_(t),n=null!==e?e.factory:At(t);if(null!==n)return n;const r=w(t);if(null!==r)return r.factory;if(t instanceof W)throw new Error(`Token ${I(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=ht(e,"?");throw new Error(`Can't resolve all parameters for ${I(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[E]||t[O]||t[S]&&t[S]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function hs(t,e,n){let r=void 0;if(ps(t)){const e=P(t);return At(e)||ls(e)}if(fs(t))r=()=>P(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...it(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>et(P(t.useExisting));else{const i=P(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${I(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return At(i)||ls(i);r=()=>new i(...it(t.deps))}var i;return r}function ds(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function fs(t){return null!==t&&"object"==typeof t&&Q in t}function ps(t){return"function"==typeof t}const ms=function(t,e,n){return function(t,e=null,n=null,r){const i=cs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let gs=(()=>{class t{static create(t,e){return Array.isArray(t)?ms(t,e,""):ms(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=G,t.NULL=new st,t.\u0275prov=y({token:t,providedIn:"any",factory:()=>et($)}),t.__NG_ELEMENT_ID__=-1,t})();const ys=new W("AnalyzeForEntryComponents");let bs=new Map;const _s=new Set;function vs(t){return"string"==typeof t?t:t.text()}function ws(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=T(i,t):2==s&&(r=T(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}let Es=null;function Cs(){if(!Es){const t=L.Symbol;if(t&&t.iterator)Es=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Es=n)}}}return Es}function Ss(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class Os{constructor(t){this.wrapped=t}static wrap(t){return new Os(t)}static unwrap(t){return Os.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Os}}function xs(t){return!!Is(t)&&(Array.isArray(t)||!(t instanceof Map)&&Cs()in t)}function Is(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ts(t,e,n){return t[e]=n}function ks(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function As(t,e,n,r){const i=ne();return ks(i,de(),e)&&(re(),function(t,e,n,r,i,s){const o=Wt(t,e),a=e[11];if(null==r)Bt(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==i?He(r):i(r,t.tagName||"",n);Bt(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}(Ie(),i,t,e,n,r)),As}function Ps(t,e,n,r,i,s,o,a){const c=ne(),u=re(),l=t+20,h=u.firstCreatePass?function(t,e,n,r,i,s,o,a,c){const u=e.consts,l=Fr(e,n[6],t,0,o||null,Jt(u,a));Jr(e,n,l,Jt(u,c)),Te(e,l);const h=l.tViews=Gr(2,-1,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u),d=Kr(0,null,2,-1,null,null);return d.injectorIndex=l.injectorIndex,h.node=d,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,u,c,e,n,r,i,s,o):u.data[l];oe(h,!1);const d=c[11].createComment("");Fi(u,c,d,h),cr(d,c),di(c,c[l]=ui(d,c,d,h)),Mt(h)&&Hr(u,c,h),null!=o&&Wr(c,h,a)}function Ds(t){return function(t,e){return t[e+20]}(te.lFrame.contextLView,t)}function Rs(t,e=p.Default){const n=ne();return null==n?et(t,e):nn(se(),n,P(t),e)}function Ns(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Me(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(se(),t)}function js(){throw new Error("invalid")}function Ms(t,e,n){const r=ne();return ks(r,de(),e)&&Yr(re(),Ie(),r,t,e,r[11],n,!1),Ms}function Ls(t,e,n,r,i){const s=i?"class":"style";Ei(t,n,e.inputs[s],s,r)}function Fs(t,e,n,r){const i=ne(),s=re(),o=20+t,a=i[11],c=i[o]=Mr(e,a,te.lFrame.currentNamespace),u=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=Jt(a,s),u=Fr(e,n[6],t,3,i,c);return Jr(e,n,u,Jt(a,o)),null!==u.attrs&&ws(u,u.attrs,!1),null!==u.mergedAttrs&&ws(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(t,s,i,0,e,n,r):s.data[o];oe(u,!0);const l=u.mergedAttrs;null!==l&&je(a,c,l);const h=u.classes;null!==h&&Hi(a,c,h);const d=u.styles;null!==d&&qi(a,c,d),Fi(s,i,c,u),0===te.lFrame.elementDepthCount&&cr(c,i),te.lFrame.elementDepthCount++,Mt(u)&&(Hr(s,i,u),qr(s,u,i)),null!==r&&Wr(i,u)}function Vs(){let t=se();ae()?ce():(t=t.parent,oe(t,!1));const e=t;te.lFrame.elementDepthCount--;const n=re();n.firstCreatePass&&(Te(n,t),Nt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ls(n,e,ne(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ls(n,e,ne(),e.stylesWithoutHost,!1)}function Us(t,e,n,r){Fs(t,e,n,r),Vs()}function Bs(t,e,n){const r=ne(),i=re(),s=t+20,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Jt(s,r),a=Fr(e,n[6],t,4,"ng-container",o);return null!==o&&ws(a,o,!0),Jr(e,n,a,Jt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[s];oe(o,!0);const a=r[s]=r[11].createComment("");Fi(i,r,a,o),cr(a,r),Mt(o)&&(Hr(i,r,o),qr(i,o,r)),null!=n&&Wr(r,o)}function zs(){let t=se();const e=re();ae()?ce():(t=t.parent,oe(t,!1)),e.firstCreatePass&&(Te(e,t),Nt(t)&&e.queries.elementEnd(t))}function qs(){return ne()}function Hs(t){return!!t&&"function"==typeof t.then}function Ws(t){return!!t&&"function"==typeof t.subscribe}function $s(t,e,n=!1,r){const i=ne(),s=re(),o=se();return Ks(s,i,i[11],o,t,e,n,r),$s}function Gs(t,e,n=!1,r){const i=se(),s=ne(),o=re();return Ks(o,s,vi(me(o.data),i,s),i,t,e,n,r),Gs}function Ks(t,e,n,r,i,s,o=!1,a){const c=Mt(r),u=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=bi(e);let h=!0;if(3===r.type){const d=Wt(r,e),f=a?a(d):yt,p=f.target||d,m=l.length,g=a?t=>a(qt(t[r.index])).target:r.index;if(Bt(n)){let o=null;if(!a&&c&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Ys(r,e,s,!1);const t=n.listen(f.name||p,i,s);l.push(s,t),u&&u.push(i,g,m,m+1)}}else s=Ys(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),u&&u.push(i,g,m,o)}const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),u&&u.push(i,r.index,o,-(o+1))}}}function Qs(t,e,n){try{return!1!==e(n)}catch(r){return wi(t,r),!1}}function Ys(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?Gt(t.index,e):e;0==(32&e[2])&&fi(o);let a=Qs(e,n,s),c=i.__ngNextListenerFn__;for(;c;)a=Qs(e,c,s)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Js(t=1){return function(t){return(te.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,te.lFrame.contextLView))[8]}(t)}function Zs(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?br(t,s,!0):_r(r,s))return i}else n=i}return n}function Xs(t){const e=ne()[16][6];if(!e.projection){const n=e.projection=ht(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Zs(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function to(t,e=0,n){const r=ne(),i=re(),s=Fr(i,r[6],t,1,null,n||null);null===s.projection&&(s.projection=e),ce(),function(t,e,n){zi(e[11],0,e,n,Di(t,n,e),Li(n.parent||e[6],e))}(i,r,s)}const eo=[];function no(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Ar(s):Dr(s),c=!1;for(;0!==a&&(!1===c||o);){const n=t[a+1];ro(t[a],e)&&(c=!0,t[a+1]=r?Nr(n):Pr(n)),a=r?Ar(n):Dr(n)}c&&(t[n+1]=r?Pr(s):Nr(s))}function ro(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&pt(t,e)>=0}function io(t,e,n){return oo(t,e,n,!1),io}function so(t,e){return oo(t,e,null,!0),so}function oo(t,e,n,r){const i=ne(),s=re(),o=function(t){const e=te.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();if(s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Oe()+20],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=me(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=co(n=ao(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=ao(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Dr(r))return t[Ar(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=ao(null,t,e,n[1],r),n=co(n,e.attrs,r),function(t,e,n,r){t[Ar(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=co(r,t[s].hostAttrs,n);return co(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ar(o),c=Dr(o);t[r]=n;let u,l=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||pt(t,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){const e=Ar(t[a+1]);t[r+1]=kr(e,a),0!==e&&(t[e+1]=Rr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=kr(a,0),0!==a&&(t[a+1]=Rr(t[a+1],r)),a=r;else t[r+1]=kr(c,0),0===a?a=r:t[c+1]=Rr(t[c+1],r),c=r;l&&(t[r+1]=Pr(t[r+1])),no(t,u,r,!0),no(t,u,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&pt(s,e)>=0&&(n[r+1]=Nr(n[r+1]))}(e,u,t,r,s),o=kr(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Er&&ks(i,o,e)){let a;null==n&&(a=function(){const t=te.lFrame;return null===t?null:t.currentSanitizer}())&&(n=a),function(t,e,n,r,i,s,o,a){if(3!==e.type)return;const c=t.data,u=c[a+1];lo(1==(1&u)?uo(c,e,n,i,Dr(u),o):void 0)||(lo(s)||function(t){return 2==(2&t)}(u)&&(s=uo(c,null,n,i,a,o)),function(t,e,n,r,i){const s=Bt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?s?t.removeStyle(n,r,e):n.style.removeProperty(r):s?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,o,Ht(Oe(),n),i,s))}(s,s.data[Oe()+20],i,i[11],t,i[o+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=I(Cn(t)))),t}(e,n),r,o)}}function ao(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=co(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function co(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),dt(t,o,!!n||e[++s]))}return void 0===t?null:t}function uo(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),c=s?e[1]:e,u=null===c;let l=n[i+1];l===Er&&(l=u?eo:void 0);let h=u?ft(l,r):c===r?l:void 0;if(s&&!lo(h)&&(h=ft(e,r)),lo(h)&&(a=h,o))return a;const d=t[i+1];i=o?Ar(d):Dr(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=ft(t,r))}return a}function lo(t){return void 0!==t}function ho(t,e=""){const n=ne(),r=re(),i=t+20,s=r.firstCreatePass?Fr(r,n[6],t,3,null,null):r.data[i],o=n[i]=function(t,e){return Bt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Fi(r,n,o,s),oe(s,!1)}function fo(t){return po("",t,""),fo}function po(t,e,n){const r=ne(),i=function(t,e,n,r){return ks(t,de(),n)?e+He(n)+r:Er}(r,t,e,n);return i!==Er&&function(t,e,n){const r=Ht(e,t),i=t[11];Bt(i)?i.setValue(r,n):r.textContent=n}(r,Oe(),i),po}function mo(t,e,n){const r=ne();return ks(r,de(),e)&&Yr(re(),Ie(),r,t,e,r[11],n,!0),mo}function go(t,e,n){const r=ne();if(ks(r,de(),e)){const i=re(),s=Ie();Yr(i,s,r,t,e,vi(me(i.data),s,r),n,!0)}return go}function yo(t,e){const n=Kt(t)[1],r=n.data.length-1;Te(n,{directiveStart:r,directiveEnd:r+1})}function bo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Lt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=_o(t.inputs),e.declaredInputs=_o(t.declaredInputs),e.outputs=_o(t.outputs);const n=i.hostBindings;n&&Eo(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&vo(t,s),o&&wo(t,o),g(t.inputs,i.inputs),g(t.declaredInputs,i.declaredInputs),g(t.outputs,i.outputs),Lt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}e.afterContentChecked=e.afterContentChecked||i.afterContentChecked,e.afterContentInit=t.afterContentInit||i.afterContentInit,e.afterViewChecked=t.afterViewChecked||i.afterViewChecked,e.afterViewInit=t.afterViewInit||i.afterViewInit,e.doCheck=t.doCheck||i.doCheck,e.onDestroy=t.onDestroy||i.onDestroy,e.onInit=t.onInit||i.onInit}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===bo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Fe(i.hostAttrs,n=Fe(n,i.hostAttrs))}}(r)}function _o(t){return t===yt?{}:t===bt?[]:t}function vo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function wo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Eo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}class Co{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function So(t){t.type.prototype.ngOnChanges&&(t.setInput=Oo,t.onChanges=function(){const t=xo(this),e=t&&t.current;if(e){const n=t.previous;if(n===yt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function Oo(t,e,n,r){const i=xo(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:yt,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],c=o[a];s[a]=new Co(c&&c.currentValue,e,o===yt),t[r]=e}function xo(t){return t.__ngSimpleChanges__||null}function Io(t,e,n,r,i){if(t=P(t),Array.isArray(t))for(let s=0;s<t.length;s++)Io(t[s],e,n,r,i);else{const s=re(),o=ne();let a=ps(t)?t:P(t.provide),c=hs(t);const u=se(),l=65535&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>16;if(ps(t)||!t.multi){const r=new Ne(c,i,Rs),f=Ao(a,e,i?l:l+d,h);-1===f?(en(Je(u,o),s,a),To(s,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=65536),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=Ao(a,e,l+d,h),p=Ao(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){en(Je(u,o),s,a);const l=function(t,e,n,r,i){const s=new Ne(t,n,Rs);return s.multi=[],s.index=e,s.componentProviders=0,ko(s,i,r&&!n),s}(i?Do:Po,n.length,i,r,c);!i&&g&&(n[p].providerFactory=l),To(s,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=65536),n.push(l),o.push(l)}else To(s,t,f>-1?f:p,ko(n[i?p:f],c,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function To(t,e,n,r){const i=ps(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function ko(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ao(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Po(t,e,n,r){return Ro(this.multi,[])}function Do(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=an(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Ro(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Ro(i,s);return s}function Ro(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function No(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=re();if(r.firstCreatePass){const i=Lt(t);Io(n,r.data,r.blueprint,i,!0),Io(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}So.ngInherit=!0;class jo{}class Mo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${I(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Lo=(()=>{class t{}return t.NULL=new Mo,t})(),Fo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Vo(t),t})();const Vo=function(t){return Yi(t,se(),ne())};class Uo{}const Bo=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let zo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>qo(),t})();const qo=function(){const t=ne(),e=Gt(se().index,t);return function(t){const e=t[11];if(Bt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Dt(e)?e:t)};let Ho=(()=>{class t{}return t.\u0275prov=y({token:t,providedIn:"root",factory:()=>null}),t})();class Wo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const $o=new Wo("9.1.12");class Go{constructor(){}supports(t){return xs(t)}create(t){return new Qo(t)}}const Ko=(t,e)=>e;class Qo{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ko}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Xo(n,r,i)?e:n,o=Xo(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!xs(t))throw new Error(`Error trying to diff '${I(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Ss(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Ss(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Cs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Ss(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Ss(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Ss(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ss(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Yo(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Zo),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Zo),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Yo{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Jo{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Ss(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Zo{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Jo,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Xo(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ta{constructor(){}supports(t){return t instanceof Map||Is(t)}create(){return new ea}}class ea{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Is(t)))throw new Error(`Error trying to diff '${I(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new na(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Ss(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class na{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ra=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new f,new h]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=y({token:t,providedIn:"root",factory:()=>new t([new Go])}),t})(),ia=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new f,new h]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=y({token:t,providedIn:"root",factory:()=>new t([new ta])}),t})();const sa=[new ta],oa=new ra([new Go]),aa=new ia(sa);let ca=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ua(t,Fo),t})();const ua=function(t,e){return Ji(t,e,se(),ne())};let la=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ha(t,Fo),t})();const ha=function(t,e){return Zi(t,e,se(),ne())},da={};class fa extends Lo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=kt(t);return new ga(e,this.ngModule)}}function pa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ma=new W("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>$e});class ga extends jo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(wr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return pa(this.componentDef.inputs)}get outputs(){return pa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,da,i);return s!==da||r===da?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Uo,zt),o=i.get(Ho,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(Bt(t))return t.selectRootElement(e,n===gt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Mr(c,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),d={components:[],scheduler:$e,clean:yi,playerHandler:null,flags:0},f=Gr(0,-1,null,1,0,null,null,null,null,null),p=Lr(null,f,d,l,null,null,s,a,o,i);let m,g;_e(p,null);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Fr(o,null,0,3,null,null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(ws(a,c,!0),null!==t&&(je(i,t,c),null!==a.classes&&Hi(i,t,a.classes),null!==a.styles&&qi(i,t,a.styles)));const u=r.createRenderer(t,e),l=Lr(n,$r(e),null,e.onPush?64:16,n[20],a,r,u,void 0);return o.firstCreatePass&&(en(Je(a,n),o,e.type),ni(o,a),ii(a,n.length,1)),di(n,l),n[20]=l}(u,this.componentDef,p,s,a);if(u)if(n)je(a,u,["ng-version",$o.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!gr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&je(a,u,t),e&&e.length>0&&Hi(a,u,e.join(" "))}if(g=$t(f,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}m=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=se();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ei(t,r,1),si(t,e,n));const i=an(e,t,e.length-1,r);cr(i,e);const s=Wt(r,e);return s&&cr(s,e),i}(s,n,e);r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=se();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){xe(a.index-20);const t=n[1];Zr(t,e),Xr(t,n,e.hostVars),ti(e,o)}return o}(t,this.componentDef,p,d,[yo]),Vr(f,p,null)}finally{Se()}const y=new ya(this.componentType,m,Yi(Fo,g,p),p,g);return n&&!h||(f.node.child=g),y}}class ya extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new $i(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=Kr(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new ln(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const ba=void 0;var _a=["en",[["a","p"],["AM","PM"],ba],[["AM","PM"],ba,ba],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ba,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ba,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ba,"{1} 'at' {0}",ba],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let va={};function wa(t,e,n){"string"!=typeof e&&(n=e,e=t[xa.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),va[e]=t,n&&(va[e][xa.ExtraData]=n)}function Ea(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Oa(e);if(n)return n;const r=e.split("-")[0];if(n=Oa(r),n)return n;if("en"===r)return _a;throw new Error(`Missing locale data for the locale "${t}".`)}function Ca(t){return Ea(t)[xa.CurrencyCode]||null}function Sa(t){return Ea(t)[xa.PluralCase]}function Oa(t){return t in va||(va[t]=L.ng&&L.ng.common&&L.ng.common.locales&&L.ng.common.locales[t]),va[t]}const xa=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let Ia="en-US";function Ta(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ia=t.toLowerCase().replace(/_/g,"-"))}const ka=new Map;class Aa extends ot{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new fa(this);const n=Pt(t),r=t[z]||null;r&&Ta(r),this._bootstrapComponents=Ge(n.bootstrap),this._r3Injector=cs(t,e,[{provide:ot,useValue:this},{provide:Lo,useValue:this.componentFactoryResolver}],I(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=gs.THROW_IF_NOT_FOUND,n=p.Default){return t===gs||t===ot||t===$?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Pa extends at{constructor(t){super(),this.moduleType=t,null!==Pt(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${I(e)} vs ${I(e.name)}`)})(t,ka.get(t),e),ka.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new Aa(this.moduleType,t)}}function Da(t,e,n){const r=he()+t,i=ne();return i[r]===Er?Ts(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Ra(t,e,n,r){return function(t,e,n,r,i,s){const o=e+n;return ks(t,o,i)?Ts(t,o+1,s?r.call(s,i):r(i)):ja(t,o+1)}(ne(),he(),t,e,n,r)}function Na(t,e,n,r,i){return function(t,e,n,r,i,s,o){const a=e+n;return function(t,e,n,r){const i=ks(t,e,n);return ks(t,e+1,r)||i}(t,a,i,s)?Ts(t,a+2,o?r.call(o,i,s):r(i,s)):ja(t,a+2)}(ne(),he(),t,e,n,r,i)}function ja(t,e){const n=t[e];return n===Er?void 0:n}class Ma extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}}function La(){return this._results[Cs()]()}class Fa{constructor(){this.dirty=!0,this._results=[],this.changes=new Ma,this.length=0;const t=Cs(),e=Fa.prototype;e[t]||(e[t]=La)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Va{constructor(t){this.queryList=t,this.matches=null}clone(){return new Va(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ua{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ua(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==rc(t,e).matches&&this.queries[e].setDirty()}}class Ba{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class za{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new za(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class qa{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new qa(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,Ha(e,n[r]))}else{const n=this.metadata.predicate;n===ca?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,on(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Fo||r===la||r===ca&&0===e.type)this.addMatch(e.index,-2);else{const n=on(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ha(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Wa(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?Yi(Fo,t,e):0===t.type?Ji(ca,Fo,t,e):null}(e,t):-2===n?function(t,e,n){return n===Fo?Yi(Fo,e,t):n===ca?Ji(ca,Fo,e,t):n===la?Zi(la,Fo,e,t):void 0}(t,e,r):an(t,t[1],n,e)}function $a(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Wa(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Ga(t){const e=ne(),n=re(),r=ge();ye(r+1);const i=rc(n,r);if(t.dirty&&Qt(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?function t(e,n,r,i){const s=e.queries.getByIndex(r),o=s.matches;if(null!==o){const a=$a(e,n,s,r);for(let e=0;e<o.length;e+=2){const r=o[e];if(r>0)i.push(a[e/2]);else{const s=o[e+1],a=n[-r];for(let e=10;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,s,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,s,i)}}}}}return i}(n,e,r,[]):$a(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function Ka(t,e,n){Ya(re(),ne(),t,e,n,!0)}function Qa(t,e,n){Ya(re(),ne(),t,e,n,!1)}function Ya(t,e,n,r,i,s){t.firstCreatePass&&(nc(t,new Ba(n,r,s,i),-1),s&&(t.staticViewQueries=!0)),ec(t,e)}function Ja(t,e,n,r){Xa(re(),ne(),e,n,r,!1,se(),t)}function Za(t,e,n,r){Xa(re(),ne(),e,n,r,!0,se(),t)}function Xa(t,e,n,r,i,s,o,a){t.firstCreatePass&&(nc(t,new Ba(n,r,s,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),s&&(t.staticContentQueries=!0)),ec(t,e)}function tc(){return t=ne(),e=ge(),t[19].queries[e].queryList;var t,e}function ec(t,e){const n=new Fa;!function(t,e,n,r){const i=bi(e);i.push(n),t.firstCreatePass&&_i(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[19]&&(e[19]=new Ua),e[19].queries.push(new Va(n))}function nc(t,e,n){null===t.queries&&(t.queries=new za),t.queries.track(new qa(e,n))}function rc(t,e){return t.queries.getByIndex(e)}function ic(t,e){return Ji(ca,Fo,t,e)}function sc(t=p.Default){const e=Xi(!0);if(null!=e||t&p.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const oc=new W("Application Initializer");let ac=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Hs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(et(oc,8))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const cc=new W("AppId"),uc={provide:cc,useFactory:function(){return`${lc()}${lc()}${lc()}`},deps:[]};function lc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hc=new W("Platform Initializer"),dc=new W("Platform ID"),fc=new W("appBootstrapListener");let pc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const mc=new W("LocaleId"),gc=new W("DefaultCurrencyCode");class yc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const bc=function(t){return new Pa(t)},_c=bc,vc=function(t){return Promise.resolve(bc(t))},wc=function(t){const e=bc(t),n=Ge(Pt(t).declarations).reduce((t,e)=>{const n=kt(e);return n&&t.push(new ga(n)),t},[]);return new yc(e,n)},Ec=wc,Cc=function(t){return Promise.resolve(wc(t))};let Sc=(()=>{class t{constructor(){this.compileModuleSync=_c,this.compileModuleAsync=vc,this.compileModuleAndAllComponentsSync=Ec,this.compileModuleAndAllComponentsAsync=Cc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const Oc=new W("compilerOptions"),xc=(()=>Promise.resolve(0))();function Ic(t){"undefined"==typeof Zone?xc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Tc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ma(!1),this.onMicrotaskEmpty=new Ma(!1),this.onStable=new Ma(!1),this.onError=new Ma(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=L.requestAnimationFrame,e=L.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(L,()=>{t.lastRequestAnimationFrameId=-1,Dc(t),Pc(t)}),Dc(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return Rc(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),Nc(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return Rc(t),e.invoke(r,i,s,o,a)}finally{Nc(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Dc(t),Pc(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Tc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Ac,kc,kc);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function kc(){}const Ac={};function Pc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Dc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Rc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Nc(t){t._nesting--,Pc(t)}class jc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ma,this.onMicrotaskEmpty=new Ma,this.onStable=new Ma,this.onError=new Ma}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Mc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tc.assertNotInAngularZone(),Ic(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ic(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(et(Tc))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})(),Lc=(()=>{class t{constructor(){this._applications=new Map,Bc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Bc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();class Fc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Vc(t){Bc=t}let Uc,Bc=new Fc,zc=function(t,e,n){const r=t.get(Oc,[]).concat(e),i=new Pa(n);if(0===bs.size)return Promise.resolve(i);const s=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(r.map(t=>t.providers));if(0===s.length)return Promise.resolve(i);const o=function(){const t=L.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),a=gs.create({providers:s}).get(o.ResourceLoader);return function(t){const e=[],n=new Map;function r(t){let e=n.get(t);if(!e){const r=(t=>Promise.resolve(a.get(t)))(t);n.set(t,e=r.then(vs))}return e}return bs.forEach((t,n)=>{const i=[];t.templateUrl&&i.push(r(t.templateUrl).then(e=>{t.template=e}));const s=t.styleUrls,o=t.styles||(t.styles=[]),a=t.styles.length;s&&s.forEach((e,n)=>{o.push(""),i.push(r(e).then(r=>{o[a+n]=r,s.splice(s.indexOf(e),1),0==s.length&&(t.styleUrls=void 0)}))});const c=Promise.all(i).then(()=>function(t){_s.delete(t)}(n));e.push(c)}),bs=new Map,Promise.all(e).then(()=>{})}().then(()=>i)};const qc=new W("AllowMultipleToken");class Hc{constructor(t,e){this.name=t,this.token=e}}function Wc(t,e,n=[]){const r="Platform: "+e,i=new W(r);return(e=[])=>{let s=$c();if(!s||s.injector.get(qc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ns,useValue:"platform"});!function(t){if(Uc&&!Uc.destroyed&&!Uc.injector.get(qc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Uc=t.get(Gc);const e=t.get(hc,null);e&&e.forEach(t=>t())}(gs.create({providers:t,name:r}))}return function(t){const e=$c();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function $c(){return Uc&&!Uc.destroyed?Uc:null}let Gc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new jc:("zone.js"===t?void 0:t)||new Tc({enableLongStackTrace:Rn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Tc,useValue:n}];return n.run(()=>{const e=gs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(gn,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Yc(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return Hs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(ac);return t.runInitializers(),t.donePromise.then(()=>(Ta(i.injector.get(mc,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Kc({},e);return zc(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Qc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${I(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(et(gs))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function Kc(t,e){return Array.isArray(e)?e.reduce(Kc,t):Object.assign(Object.assign({},t),e)}let Qc=(()=>{class t{constructor(t,e,n,r,i,c){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Rn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Tc.assertNotInAngularZone(),Ic(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Tc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(u,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof jo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ot),i=n.create(gs.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(Mc,null);return s&&i.injector.get(Lc).registerApplication(i.location.nativeElement,s),this._loadComponent(i),Rn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Yc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(fc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Yc(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(et(Tc),et(pc),et(gs),et(gn),et(Lo),et(ac))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function Yc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Jc{}class Zc{}const Xc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let tu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Xc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>eu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>eu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(et(Sc),et(Zc,8))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function eu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const nu=function(t){return null},ru=Wc(null,"core",[{provide:dc,useValue:"unknown"},{provide:Gc,deps:[gs]},{provide:Lc,deps:[]},{provide:pc,deps:[]}]),iu=[{provide:Qc,useClass:Qc,deps:[Tc,pc,gs,gn,Lo,ac]},{provide:ma,deps:[Tc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ac,useClass:ac,deps:[[new h,oc]]},{provide:Sc,useClass:Sc,deps:[]},uc,{provide:ra,useFactory:function(){return oa},deps:[]},{provide:ia,useFactory:function(){return aa},deps:[]},{provide:mc,useFactory:function(t){return Ta(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new l(mc),new h,new f]]},{provide:gc,useValue:"USD"}];let su=(()=>{class t{constructor(t){}}return t.\u0275mod=St({type:t}),t.\u0275inj=b({factory:function(e){return new(e||t)(et(Qc))},providers:iu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule((function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("SpAZ");function i(...t){return s(t)}function s(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"h",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{c(r.next(t))}catch(e){s(e)}}function a(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return a}));var r=n("7o/Q"),i=n("WMd4");function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new c(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class c{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return f}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,u=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=u[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return f})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return c})),n.d(e,"m",(function(){return u})),n.d(e,"n",(function(){return d})),n.d(e,"o",(function(){return m}));var r=n("mrSG");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function c(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function u(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?b(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",c=new g(i,a,r);return c},t}();function b(t,e){return t.replace(_,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var _=/\{\$([^}]+)}/g;function v(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function C(){}},qgXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i)},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(a))try{a.call(this)}catch(l){e=l instanceof o?c(l.errors):[l]}if(Object(r.a)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(l){e=e||[],l instanceof o?e=e.concat(c(l.errors)):e.push(l)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return x})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return S})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return g})),n.d(e,"j",(function(){return E}));var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),u=n("Jgta");function l(){}class h{constructor(t,e=r.a){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new c.q("angularfire2.app.options"),_=new c.q("angularfire2.app.nameOrConfig"),v=new c.O("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=u.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&C("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const E=()=>{C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=(t,...e)=>{Object(c.W)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&C("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const O={provide:class{},useFactory:w,deps:[b,c.z,[new c.A,_]]};let x=(()=>{class t{constructor(t){u.a.registerVersion("angularfire",v.full,t.toString()),u.a.registerVersion("angular",c.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:_,useValue:n}]}}}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(e){return new(e||t)(c.Wb(c.B))},providers:[O]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("XNiG"),i=n("HDdC"),s=n("7o/Q"),o=n("quSY");function a(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new u(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class u extends s.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function f(){return new r.a}function p(){return t=>{return a()((e=f,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},z6cu:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",u),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new c.b("@firebase/app"),f=function(){function t(t,e,n){var r,i,c=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return c}),"PUBLIC"));try{for(var u=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=u.next();!l.done;l=u.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,s,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&c.push("and"),o&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}u(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function u(a){var c,u,h=a.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.f)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=Object(s.h)(Object.keys(e)),m=p.next();!m.done;m=p.next())e[m.value]._addComponent(a)}catch(g){c={error:g}}finally{try{m&&!m.done&&(u=p.return)&&u.call(p)}finally{if(c)throw c.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(f);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var b=p;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new m(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(b),e.a=b},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyD1O6sO7uFrwlns1gR1PGfAibtNu_uyHoA",authDomain:"notesapp-b2c5d.firebaseapp.com",projectId:"notesapp-b2c5d",storageBucket:"notesapp-b2c5d.appspot.com",messagingSenderId:"1013442246465",appId:"1:1013442246465:web:470dfefece2912fea653c0"};let s=null;function o(){return s}const a=new r.q("DocumentToken");let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Wb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a))},t.\u0275prov=Object(r.Jb)({factory:f,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function f(){return new h(Object(r.Wb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.Wb)(a).location;return new v(Object(r.Wb)(c),e&&e.origin||"")}const _=new r.q("appBaseHref");let v=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(c),r.Wb(_,8))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(c),r.Wb(_,8))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(y),r.Wb(c))},t.normalizeQueryParams=g,t.joinWithSlash=p,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Jb)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new E(Object(r.Wb)(y),Object(r.Wb)(c))}function S(t){return t.replace(/\/index.html$/,"")}const O=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),x=r.ob;class I{}let T=(()=>{class t extends I{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(x(e||this.locale)(t)){case O.Zero:return"zero";case O.One:return"one";case O.Two:return"two";case O.Few:return"few";case O.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.u))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();function k(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let A=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.rb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.xb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.s),r.Nb(r.t),r.Nb(r.l),r.Nb(r.E))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class P{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let D=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.W)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(OI){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new P(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new R(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new R(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.P),r.Nb(r.L),r.Nb(r.s))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class R{constructor(t,e){this.record=t,this.view=e}}let N=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new j,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){M("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){M("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.P),r.Nb(r.L))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class j{constructor(){this.$implicit=null,this.ngIf=null}}function M(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.xb)(e)}'.`)}class L{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let F=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),V=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new L(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.P),r.Nb(r.L),r.Nb(F,1))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),U=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.t),r.Nb(r.E))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),B=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[{provide:I,useClass:T}]}),t})(),z=(()=>{class t{}return t.\u0275prov=Object(r.Jb)({token:t,providedIn:"root",factory:()=>new q(Object(r.Wb)(a),window,Object(r.Wb)(r.m))}),t})();class q{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(OI){return!1}}}class H extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new H,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=$||($=document.querySelector("base"),$)?$.getAttribute("href"):null;return null==e?null:(n=e,W||(W=document.createElement("a")),W.setAttribute("href",n),"/"===W.pathname.charAt(0)?W.pathname:"/"+W.pathname);var n}resetBaseElement(){$=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return k(document.cookie,t)}}let W,$=null;const G=new r.q("TRANSITION_ID"),K=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[G,a,r.r],multi:!0}];class Q{static init(){Object(r.Y)(new Q)}addToWindow(t){r.qb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.qb.getAllAngularRootElements=()=>t.getAllRootElements(),r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push(t=>{const e=r.qb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(s)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Y=new r.q("EventManagerPlugins");let J=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Y),r.Wb(r.z))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class Z{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let X=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),tt=(()=>{class t extends X{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nt=/%COMP%/g;function rt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?rt(t,i,n):(i=i.replace(nt,t),n.push(i))}return n}function it(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let st=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ot(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new at(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.Q.Native:case r.Q.ShadowDom:return new ct(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=rt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(J),r.Wb(tt),r.Wb(r.c))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class ot{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(et[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=et[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=et[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.G.DashCase?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,it(n)):this.eventManager.addEventListener(t,e,it(n))}}class at extends ot{constructor(t,e,n,r){super(t),this.component=n;const i=rt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(nt,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(nt,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ct extends ot{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.Q.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=rt(i.id,i.styles,[]);for(let r=0;r<s.length;r++){const t=document.createElement("style");t.textContent=s[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ut=(()=>{class t extends Z{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const lt=["alt","control","meta","shift"],ht={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ft={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let pt=(()=>{class t extends Z{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(lt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&dt.hasOwnProperty(e)&&(e=dt[e]))}return ht[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),lt.forEach(r=>{r!=n&&(0,ft[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),mt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return Object(r.Wb)(gt)},token:t,providedIn:"root"}),t})(),gt=(()=>{class t extends mt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.I.NONE:return e;case r.I.HTML:return Object(r.fb)(e,"HTML")?Object(r.yb)(e):Object(r.cb)(this._doc,String(e));case r.I.STYLE:return Object(r.fb)(e,"Style")?Object(r.yb)(e):Object(r.db)(e);case r.I.SCRIPT:if(Object(r.fb)(e,"Script"))return Object(r.yb)(e);throw new Error("unsafe value used in a script context");case r.I.URL:return Object(r.pb)(e),Object(r.fb)(e,"URL")?Object(r.yb)(e):Object(r.eb)(String(e));case r.I.RESOURCE_URL:if(Object(r.fb)(e,"ResourceURL"))return Object(r.yb)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.gb)(t)}bypassSecurityTrustStyle(t){return Object(r.jb)(t)}bypassSecurityTrustScript(t){return Object(r.ib)(t)}bypassSecurityTrustUrl(t){return Object(r.kb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.hb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a))},t.\u0275prov=Object(r.Jb)({factory:function(){return t=Object(r.Wb)(r.o),new gt(t.get(a));var t},token:t,providedIn:"root"}),t})();const yt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){H.makeCurrent(),Q.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.wb)(document),document},deps:[]}],bt=Object(r.S)(r.X,"browser",yt),_t=[[],{provide:r.ab,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:Y,useClass:ut,multi:!0,deps:[a,r.z,r.B]},{provide:Y,useClass:pt,multi:!0,deps:[a]},[],{provide:st,useClass:st,deps:[J,tt,r.c]},{provide:r.F,useExisting:st},{provide:X,useExisting:tt},{provide:tt,useClass:tt,deps:[a]},{provide:r.M,useClass:r.M,deps:[r.z]},{provide:J,useClass:J,deps:[Y,r.z]},[]];let vt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:G,useExisting:r.c},K]}}}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)(r.Wb(t,12))},providers:_t,imports:[B,r.f]}),t})();"undefined"!=typeof window&&window;var wt=n("LRne"),Et=n("Cfvw"),Ct=n("XNiG"),St=n("9ppp");class Ot extends Ct.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new St.a;return this._value}next(t){super.next(this._value=t)}}var xt=n("HDdC");const It=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Tt=n("z+Ro"),kt=n("DH7j"),At=n("l7GE"),Pt=n("ZUHj"),Dt=n("yCtX");const Rt={};class Nt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new jt(t,this.resultSelector))}}class jt extends At.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Rt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(Pt.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const s=this.values,o=this.toRespond?s[n]===Rt?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var Mt=n("EY2u");function Lt(t){return new xt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Et.a)(n):Object(Mt.b)()).subscribe(e)})}var Ft=n("lJxs"),Vt=n("bHdf");function Ut(){return Object(Vt.a)(1)}var Bt=n("7o/Q");function zt(t,e){return function(n){return n.lift(new qt(t,e))}}class qt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ht(t,this.predicate,this.thisArg))}}class Ht extends Bt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Wt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function $t(t){return function(e){return 0===t?Object(Mt.b)():e.lift(new Gt(t))}}class Gt{constructor(t){if(this.total=t,this.total<0)throw new Wt}call(t,e){return e.subscribe(new Kt(t,this.total))}}class Kt extends Bt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Qt(t=Zt){return e=>e.lift(new Yt(t))}class Yt{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Jt(t,this.errorFactory))}}class Jt extends Bt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Zt(){return new It}function Xt(t=null){return e=>e.lift(new te(t))}class te{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ee(t,this.defaultValue))}}class ee extends Bt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var ne=n("SpAZ");function re(t,e){const n=arguments.length>=2;return r=>r.pipe(t?zt((e,n)=>t(e,n,r)):ne.a,$t(1),n?Xt(e):Qt(()=>new It))}var ie=n("51Dv");function se(t){return function(e){const n=new oe(t),r=e.lift(n);return n.caught=r}}class oe{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ae(t,this.selector,this.caught))}}class ae extends At.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new ie.a(this,void 0,void 0);this.add(r);const i=Object(Pt.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function ce(t){return e=>0===t?Object(Mt.b)():e.lift(new ue(t))}class ue{constructor(t){if(this.total=t,this.total<0)throw new Wt}call(t,e){return e.subscribe(new le(t,this.total))}}class le extends Bt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function he(t,e){const n=arguments.length>=2;return r=>r.pipe(t?zt((e,n)=>t(e,n,r)):ne.a,ce(1),n?Xt(e):Qt(()=>new It))}var de=n("5+tZ");class fe{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new pe(t,this.predicate,this.thisArg,this.source))}}class pe extends Bt.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function me(t,e){return"function"==typeof e?n=>n.pipe(me((n,r)=>Object(Et.a)(t(n,r)).pipe(Object(Ft.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new ge(t))}class ge{constructor(t){this.project=t}call(t,e){return e.subscribe(new ye(t,this.project))}}class ye extends At.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new ie.a(this,e,n),s=this.destination;s.add(i),this.innerSubscription=Object(Pt.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function be(...t){return Ut()(Object(wt.a)(...t))}function _e(...t){const e=t[t.length-1];return Object(Tt.a)(e)?(t.pop(),n=>be(t,n,e)):e=>be(t,e)}function ve(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new we(t,e,n))}}class we{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Ee(t,this.accumulator,this.seed,this.hasSeed))}}class Ee extends Bt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Ce(t,e){return Object(de.a)(t,e,1)}var Se=n("mCNh"),Oe=n("vkgz"),xe=n("quSY");function Ie(t){return e=>e.lift(new Te(t))}class Te{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ke(t,this.callback))}}class ke extends Bt.a{constructor(t,e){super(t),this.add(new xe.a(e))}}class Ae{constructor(t,e){this.id=t,this.url=e}}class Pe extends Ae{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class De extends Ae{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Re extends Ae{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ne extends Ae{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class je extends Ae{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Me extends Ae{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Le extends Ae{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fe extends Ae{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ve extends Ae{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ue{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Be{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ze{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qe{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class He{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class We{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $e{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Ge=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Ob(0,"router-outlet")},directives:function(){return[Jr]},encapsulation:2}),t})();class Ke{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Qe(t){return new Ke(t)}function Ye(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Je(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class Ze{constructor(t,e){this.routes=t,this.module=e}}function Xe(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];tn(r,en(e,r))}}function tn(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Xe(t.children,e)}function en(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function nn(t){const e=t.children&&t.children.map(nn),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Ge),n}function rn(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!sn(t[i],e[i]))return!1;return!0}function sn(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function on(t){return Array.prototype.concat.apply([],t)}function an(t){return t.length>0?t[t.length-1]:null}function cn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function un(t){return Object(r.sb)(t)?t:Object(r.tb)(t)?Object(Et.a)(Promise.resolve(t)):Object(wt.a)(t)}function ln(t,e,n){return n?function(t,e){return rn(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!pn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>sn(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!pn(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!pn(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!pn(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,s)}}(e,n,n.segments)}(t.root,e.root)}class hn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qe(this.queryParams)),this._queryParamMap}toString(){return bn.serialize(this)}}class dn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,cn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _n(this)}}class fn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Qe(this.parameters)),this._parameterMap}toString(){return On(this)}}function pn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function mn(t,e){let n=[];return cn(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),cn(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class gn{}class yn{parse(t){const e=new An(t);return new hn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return _n(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return cn(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=mn(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${_n(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${wn(e)}=${wn(t)}`).join("&"):`${wn(e)}=${wn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const bn=new yn;function _n(t){return t.segments.map(t=>On(t)).join("/")}function vn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wn(t){return vn(t).replace(/%3B/gi,";")}function En(t){return vn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cn(t){return decodeURIComponent(t)}function Sn(t){return Cn(t.replace(/\+/g,"%20"))}function On(t){return`${En(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${En(t)}=${En(e[t])}`).join("")}`;var e}const xn=/^[^\/()?;=#]+/;function In(t){const e=t.match(xn);return e?e[0]:""}const Tn=/^[^=?&#]+/,kn=/^[^?&#]+/;class An{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dn([],{}):new dn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new dn(t,e)),n}parseSegment(){const t=In(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new fn(Cn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=In(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=In(this.remaining);t&&(n=t,this.capture(n))}t[Cn(e)]=Cn(n)}parseQueryParam(t){const e=function(t){const e=t.match(Tn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(kn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Sn(e),i=Sn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=In(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new dn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Pn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Dn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Dn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Rn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Rn(t,this._root).map(t=>t.value)}}function Dn(t,e){if(t===e.value)return e;for(const n of e.children){const e=Dn(t,n);if(e)return e}return null}function Rn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Rn(t,n);if(r.length)return r.unshift(e),r}return[]}class Nn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function jn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Mn extends Pn{constructor(t,e){super(t),this.snapshot=e,zn(this,t)}toString(){return this.snapshot.toString()}}function Ln(t,e){const n=function(t,e){const n=new Un([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Bn("",new Nn(n,[]))}(t,e),r=new Ot([new fn("",{})]),i=new Ot({}),s=new Ot({}),o=new Ot({}),a=new Ot(""),c=new Fn(r,i,o,a,s,"primary",e,n.root);return c.snapshot=n.root,new Mn(new Nn(c,[]),n)}class Fn{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Ft.a)(t=>Qe(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Ft.a)(t=>Qe(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Un{constructor(t,e,n,r,i,s,o,a,c,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qe(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bn extends Pn{constructor(t,e){super(e),this.url=t,zn(this,e)}toString(){return qn(this._root)}}function zn(t,e){e.value._routerState=t,e.children.forEach(e=>zn(t,e))}function qn(t){const e=t.children.length>0?` { ${t.children.map(qn).join(", ")} } `:"";return`${t.value}${e}`}function Hn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,rn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),rn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!rn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),rn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Wn(t,e){return rn(t.params,e.params)&&function(t,e){return pn(t,e)&&t.every((t,n)=>rn(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Wn(t.parent,e.parent))}function $n(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Gn(t,e,n,r,i){let s={};return r&&cn(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new hn(n.root===t?e:function t(e,n,r){const i={};return cn(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new dn(e.segments,i)}(n.root,t,e),s,i)}class Kn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&$n(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==an(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Yn(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function Jn(t,e,n){if(t||(t=new dn([],{})),0===t.segments.length&&t.hasChildren())return Zn(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=Yn(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!nr(o,a,e))return s;r+=2}else{if(!nr(o,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new dn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new dn(t.segments.slice(r.pathIndex),t.children),Zn(e,0,i)}return r.match&&0===i.length?new dn(t.segments,{}):r.match&&!t.hasChildren()?Xn(t,e,n):r.match?Zn(t,0,i):Xn(t,e,n)}function Zn(t,e,n){if(0===n.length)return new dn(t.segments,{});{const r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return cn(r,(n,r)=>{null!==n&&(i[r]=Jn(t.children[r],e,n))}),cn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new dn(t.segments,i)}}function Xn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=tr(n[i].outlets);return new dn(r,t)}if(0===i&&$n(n[0])){r.push(new fn(t.segments[e].path,n[0])),i++;continue}const s=Yn(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&$n(o)?(r.push(new fn(s,er(o))),i+=2):(r.push(new fn(s,{})),i++)}return new dn(r,{})}function tr(t){const e={};return cn(t,(t,n)=>{null!==t&&(e[n]=Xn(new dn([],{}),0,t))}),e}function er(t){const e={};return cn(t,(t,n)=>e[n]=""+t),e}function nr(t,e,n){return t==n.path&&rn(e,n.parameters)}class rr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Hn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=jn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),cn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=jn(t),i=t.value.component?n.children:e;cn(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=jn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new We(t.value.snapshot))}),t.children.length&&this.forwardEvent(new qe(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Hn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),ir(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function ir(t){Hn(t.value),t.children.forEach(ir)}function sr(t){return"function"==typeof t}function or(t){return t instanceof hn}class ar{constructor(t){this.segmentGroup=t||null}}class cr{constructor(t){this.urlTree=t}}function ur(t){return new xt.a(e=>e.error(new ar(t)))}function lr(t){return new xt.a(e=>e.error(new cr(t)))}function hr(t){return new xt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class dr{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(Ft.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(se(t=>{if(t instanceof cr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof ar)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(Ft.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(se(t=>{if(t instanceof ar)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new dn([],{primary:t}):t;return new hn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Ft.a)(t=>new dn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(wt.a)({});const n=[],r=[],i={};return cn(t,(t,s)=>{const o=e(s,t).pipe(Object(Ft.a)(t=>i[s]=t));"primary"===s?n.push(o):r.push(o)}),wt.a.apply(null,n.concat(r)).pipe(Ut(),re(),Object(Ft.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return Object(wt.a)(...n).pipe(Object(Ft.a)(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(se(t=>{if(t instanceof ar)return Object(wt.a)(null);throw t}))),Ut(),he(t=>!!t),se((t,n)=>{if(t instanceof It||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(wt.a)(new dn([],{}));throw new ar(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return gr(r)!==s?ur(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):ur(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?lr(i):this.lineralizeSegments(n,i).pipe(Object(de.a)(n=>{const i=new dn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:u}=fr(e,r,i);if(!o)return ur(e);const l=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?lr(l):this.lineralizeSegments(r,l).pipe(Object(de.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Ft.a)(t=>(n._loadedConfig=t,new dn(r,{})))):Object(wt.a)(new dn(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=fr(e,n,r);if(!i)return ur(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(de.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>mr(t,e,n)&&"primary"!==gr(n))}(t,n,r)?{segmentGroup:pr(new dn(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==gr(r)&&(n[gr(r)]=new dn([],{}));return n}(r,new dn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>mr(t,e,n))}(t,n,r)?{segmentGroup:pr(new dn(t.segments,function(t,e,n,r){const i={};for(const s of n)mr(t,e,s)&&!r[gr(s)]&&(i[gr(s)]=new dn([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Ft.a)(t=>new dn(s,t))):0===r.length&&0===o.length?Object(wt.a)(new dn(s,{})):this.expandSegment(n,i,r,o,"primary",!0).pipe(Object(Ft.a)(t=>new dn(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(wt.a)(new Ze(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(wt.a)(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(Et.a)(r).pipe(Object(Ft.a)(r=>{const i=t.get(r);let s;if(function(t){return t&&sr(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!sr(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return un(s)})).pipe(Ut(),(i=t=>!0===t,t=>t.lift(new fe(i,void 0,t)))):Object(wt.a)(!0);var i}(t.injector,e,n).pipe(Object(de.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Ft.a)(t=>(e._loadedConfig=t,t))):function(t){return new xt.a(e=>e.error(Ye(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(wt.a)(new Ze([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(wt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return hr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new hn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return cn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return cn(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new dn(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function fr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Je)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function pr(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new dn(t.segments.concat(e.segments),e.children)}return t}function mr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function gr(t){return t.outlet||"primary"}class yr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class br{constructor(t,e){this.component=t,this.route=e}}function _r(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=jn(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,c=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!pn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!pn(t.url,e.url)||!rn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wn(t,e)||!rn(t.queryParams,e.queryParams);case"paramsChange":default:return!Wn(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?s.canActivateChecks.push(new yr(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?c?c.children:null:r,i,s),u&&s.canDeactivateChecks.push(new br(c&&c.outlet&&c.outlet.component||null,a))}else a&&wr(n,c,s),s.canActivateChecks.push(new yr(i)),t(e,null,o.component?c?c.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),cn(o,(t,e)=>wr(t,r.getContext(e),s)),s}(r,e?e._root:null,n,[r.value])}function vr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function wr(t,e,n){const r=jn(t),i=t.value;cn(r,(t,r)=>{wr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new br(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const Er=Symbol("INITIAL_VALUE");function Cr(){return me(t=>function(...t){let e=null,n=null;return Object(Tt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(kt.a)(t[0])&&(t=t[0]),Object(Dt.a)(t,n).lift(new Nt(e))}(...t.map(t=>t.pipe(ce(1),_e(Er)))).pipe(ve((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Er)return t;if(r===Er&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||or(r))return r}return t},t)},Er),zt(t=>t!==Er),Object(Ft.a)(t=>or(t)?t:!0===t),ce(1)))}function Sr(t,e){return null!==t&&e&&e(new He(t)),Object(wt.a)(!0)}function Or(t,e){return null!==t&&e&&e(new ze(t)),Object(wt.a)(!0)}function xr(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(wt.a)(!0);const i=r.map(r=>Lt(()=>{const i=vr(r,e,n);let s;if(function(t){return t&&sr(t.canActivate)}(i))s=un(i.canActivate(e,t));else{if(!sr(i))throw new Error("Invalid CanActivate guard");s=un(i(e,t))}return s.pipe(he())}));return Object(wt.a)(i).pipe(Cr())}function Ir(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Lt(()=>{const i=e.guards.map(i=>{const s=vr(i,e.node,n);let o;if(function(t){return t&&sr(t.canActivateChild)}(s))o=un(s.canActivateChild(r,t));else{if(!sr(s))throw new Error("Invalid CanActivateChild guard");o=un(s(r,t))}return o.pipe(he())});return Object(wt.a)(i).pipe(Cr())}));return Object(wt.a)(i).pipe(Cr())}class Tr{}class kr{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=Dr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Un([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Nn(n,e),i=new Bn(this.url,r);return this.inheritParamsAndData(i._root),Object(wt.a)(i)}catch(t){return new xt.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Vn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=mn(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof Tr))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Tr}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Tr;if((t.outlet||"primary")!==r)throw new Tr;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?an(n).parameters:{};i=new Un(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jr(t),r,t.component,t,Ar(e),Pr(e)+n.length,Mr(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Tr;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Je)(n,t,e);if(!r)throw new Tr;const i={};cn(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new Un(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jr(t),r,t.component,t,Ar(e),Pr(e)+s.length,Mr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=Dr(e,s,o,a,this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const t=this.processChildren(a,c);return[new Nn(i,t)]}if(0===a.length&&0===u.length)return[new Nn(i,[])];const l=this.processSegment(a,c,u,"primary");return[new Nn(i,l)]}}function Ar(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Pr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Dr(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Rr(t,e,n)&&"primary"!==Nr(n))}(t,n,r)){const i=new dn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==Nr(s)){const n=new dn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Nr(s)]=n}return i}(t,e,r,new dn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Rr(t,e,n))}(t,n,r)){const s=new dn(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Rr(t,n,a)&&!i[Nr(a)]){const n=new dn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Nr(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new dn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Rr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Nr(t){return t.outlet||"primary"}function jr(t){return t.data||{}}function Mr(t){return t.resolve||{}}function Lr(t,e,n,r){const i=vr(t,e,r);return un(i.resolve?i.resolve(e,n):i(e,n))}function Fr(t){return function(e){return e.pipe(me(e=>{const n=t(e);return n?Object(Et.a)(n).pipe(Object(Ft.a)(()=>e)):Object(Et.a)([e])}))}}class Vr{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Ur=new r.q("ROUTES");class Br{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Ft.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Ze(on(r.injector.get(Ur)).map(nn),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(Et.a)(this.loader.load(t)):un(t()).pipe(Object(de.a)(t=>t instanceof r.v?Object(wt.a)(t):Object(Et.a)(this.compiler.compileModuleAsync(t))))}}class zr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function qr(t){throw t}function Hr(t,e,n){return e.parse("/")}function Wr(t,e){return Object(wt.a)(null)}let $r=(()=>{class t{constructor(t,e,n,i,s,o,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Ct.a,this.errorHandler=qr,this.malformedUriErrorHandler=Hr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Wr,afterPreactivation:Wr},this.urlHandlingStrategy=new zr,this.routeReuseStrategy=new Vr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(r.x),this.console=s.get(r.Z);const u=s.get(r.z);this.isNgZoneEnabled=u instanceof r.z,this.resetConfig(c),this.currentUrlTree=new hn(new dn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Br(o,a,t=>this.triggerEvent(new Ue(t)),t=>this.triggerEvent(new Be(t))),this.routerState=Ln(this.currentUrlTree,this.rootComponentType),this.transitions=new Ot({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(zt(t=>0!==t.id),Object(Ft.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),me(t=>{let n=!1,r=!1;return Object(wt.a)(t).pipe(Object(Oe.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),me(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(wt.a)(t).pipe(me(t=>{const n=this.transitions.getValue();return e.next(new Pe(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Mt.a:[t]}),me(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(me(t=>function(t,e,n,r,i){return new dr(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(Ft.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Oe.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(de.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new kr(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(Ft.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Oe.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Oe.a)(t=>{const n=new je(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Pe(n,this.serializeUrl(r),i,s);e.next(a);const c=Ln(r,this.rootComponentType).snapshot;return Object(wt.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Mt.a}),Fr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Oe.a)(t=>{const e=new Me(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Ft.a)(t=>Object.assign(Object.assign({},t),{guards:_r(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(de.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(wt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Et.a)(t).pipe(Object(de.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(wt.a)(!0);const o=s.map(s=>{const o=vr(s,e,i);let a;if(function(t){return t&&sr(t.canDeactivate)}(o))a=un(o.canDeactivate(t,e,n,r));else{if(!sr(o))throw new Error("Invalid CanDeactivate guard");a=un(o(t,e,n,r))}return a.pipe(he())});return Object(wt.a)(o).pipe(Cr())}(t.component,t.route,n,e,r)),he(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(de.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Et.a)(e).pipe(Ce(e=>Object(Et.a)([Or(e.route.parent,r),Sr(e.route,r),Ir(t,e.path,n),xr(t,e.route,n)]).pipe(Ut(),he(t=>!0!==t,!0))),he(t=>!0!==t,!0))}(r,s,t,e):Object(wt.a)(n)),Object(Ft.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Oe.a)(t=>{if(or(t.guardsResult)){const e=Ye(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Oe.a)(t=>{const e=new Le(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),zt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Re(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Fr(t=>{if(t.guards.canActivateChecks.length)return Object(wt.a)(t).pipe(Object(Oe.a)(t=>{const e=new Fe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(Object(de.a)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;return i.length?Object(Et.a)(i).pipe(Ce(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(wt.a)({});if(1===i.length){const s=i[0];return Lr(t[s],e,n,r).pipe(Object(Ft.a)(t=>({[s]:t})))}const s={};return Object(Et.a)(i).pipe(Object(de.a)(i=>Lr(t[i],e,n,r).pipe(Object(Ft.a)(t=>(s[i]=t,t))))).pipe(re(),Object(Ft.a)(()=>s))}(t._resolve,t,e,r).pipe(Object(Ft.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Vn(t,n).resolve),null)))}(t.route,r,e,n)),function(t,e){return arguments.length>=2?function(n){return Object(Se.a)(ve(t,e),$t(1),Xt(e))(n)}:function(e){return Object(Se.a)(ve((e,n,r)=>t(e,n,r+1)),$t(1))(e)}}((t,e)=>t),Object(Ft.a)(e=>t)):Object(wt.a)(t)}))}),Object(Oe.a)(t=>{const e=new Ve(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),Fr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Ft.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Nn(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Fn(new Ot((i=n.value).url),new Ot(i.params),new Ot(i.queryParams),new Ot(i.fragment),new Ot(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new Nn(r,s)}}var i}(t,e._root,n?n._root:void 0);return new Mn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Oe.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),Object(Ft.a)(t=>(new rr(s,t.targetRouterState,t.currentRouterState,o).activate(i),t))),Object(Oe.a)({next(){n=!0},complete(){n=!0}}),Ie(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Re(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),se(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=or(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Re(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ne(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var i;return Mt.a}));var i,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Xe(t),this.config=t.map(nn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:s,preserveQueryParams:o,queryParamsHandling:a,preserveFragment:c}=e;Object(r.W)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,l=c?this.currentUrlTree.fragment:s;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=o?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return Gn(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Kn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return cn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Kn(n,e,r)}(n);if(s.toRoot())return Gn(e.root,new dn([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Qn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Qn(n.snapshot._urlSegment,!0,0);const r=$n(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Qn(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Zn(o.segmentGroup,o.index,s.commands):Jn(o.segmentGroup,o.index,s.commands);return Gn(o.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.W)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=or(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(or(t))return ln(this.currentUrlTree,t,e);const n=this.parseUrl(t);return ln(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new De(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition();if(s&&"imperative"!==e&&"imperative"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"hashchange"==e&&"popstate"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"popstate"==e&&"hashchange"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o,a,c;i?(o=i.resolve,a=i.reject,c=i.promise):c=new Promise((t,e)=>{o=t,a=e});const u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){r.Zb()},t.\u0275dir=r.Ib({type:t}),t})(),Gr=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof De&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.W)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:Kr(this.skipLocationChange),replaceUrl:Kr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Kr(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Kr(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb($r),r.Nb(Fn),r.Nb(y))},t.\u0275dir=r.Ib({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.ac("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(r.Vb("href",e.href,r.mc),r.Db("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.Ab]}),t})();function Kr(t){return""===t||!!t}class Qr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Yr,this.attachRef=null}}class Yr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Qr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Jr=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Zr(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Yr),r.Nb(r.P),r.Nb(r.j),r.Xb("name"),r.Nb(r.h))},t.\u0275dir=r.Ib({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Zr{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Fn?this.route:t===Yr?this.childContexts:this.parent.get(t,e)}}class Xr{}class ti{preload(t,e){return Object(wt.a)(null)}}let ei=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Br(e,n,e=>t.triggerEvent(new Ue(e)),e=>t.triggerEvent(new Be(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(zt(t=>t instanceof De),Ce(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Et.a)(n).pipe(Object(Vt.a)(),Object(Ft.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(de.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb($r),r.Wb(r.w),r.Wb(r.i),r.Wb(r.r),r.Wb(Xr))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),ni=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Pe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof De&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof $e&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new $e(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){r.Zb()},t.\u0275dir=r.Ib({type:t}),t})();const ri=new r.q("ROUTER_CONFIGURATION"),ii=new r.q("ROUTER_FORROOT_GUARD"),si=[E,{provide:gn,useClass:yn},{provide:$r,useFactory:function(t,e,n,r,i,s,a,c={},u,l){const h=new $r(null,t,e,n,r,i,s,on(a));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),c.errorHandler&&(h.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(h.malformedUriErrorHandler=c.malformedUriErrorHandler),c.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return c.onSameUrlNavigation&&(h.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.urlUpdateStrategy&&(h.urlUpdateStrategy=c.urlUpdateStrategy),c.relativeLinkResolution&&(h.relativeLinkResolution=c.relativeLinkResolution),h},deps:[gn,Yr,E,r.r,r.w,r.i,Ur,ri,[class{},new r.A],[class{},new r.A]]},Yr,{provide:Fn,useFactory:function(t){return t.routerState.root},deps:[$r]},{provide:r.w,useClass:r.K},ei,ti,class{preload(t,e){return e().pipe(se(()=>Object(wt.a)(null)))}},{provide:ri,useValue:{enableTracing:!1}}];function oi(){return new r.y("Router",$r)}let ai=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[si,hi(e),{provide:ii,useFactory:li,deps:[[$r,new r.A,new r.J]]},{provide:ri,useValue:n||{}},{provide:y,useFactory:ui,deps:[c,[new r.p(_),new r.A],ri]},{provide:ni,useFactory:ci,deps:[$r,z,ri]},{provide:Xr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ti},{provide:r.y,multi:!0,useFactory:oi},[di,{provide:r.d,multi:!0,useFactory:fi,deps:[di]},{provide:mi,useFactory:pi,deps:[di]},{provide:r.b,multi:!0,useExisting:mi}]]}}static forChild(e){return{ngModule:t,providers:[hi(e)]}}}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)(r.Wb(ii,8),r.Wb($r,8))}}),t})();function ci(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ni(t,e,n)}function ui(t,e,n={}){return n.useHash?new w(t,e):new v(t,e)}function li(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function hi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Ur,multi:!0,useValue:t}]}let di=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Ct.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get($r),r=this.injector.get(ri);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(wt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(ri),n=this.injector.get(ei),i=this.injector.get(ni),s=this.injector.get($r),o=this.injector.get(r.g);t===o.components[0]&&(this.isLegacyEnabled(e)?s.initialNavigation():this.isLegacyDisabled(e)&&s.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.r))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();function fi(t){return t.appInitializer.bind(t)}function pi(t){return t.bootstrapListener.bind(t)}const mi=new r.q("Router Initializer");var gi=n("XoHu");function yi(...t){if(1===t.length){const e=t[0];if(Object(kt.a)(e))return bi(e,null);if(Object(gi.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return bi(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return bi(t=1===t.length&&Object(kt.a)(t[0])?t[0]:t,null).pipe(Object(Ft.a)(t=>e(...t)))}return bi(t,null)}function bi(t,e){return new xt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const c=Object(Et.a)(t[a]);let u=!1;n.add(c.subscribe({next:t=>{u||(u=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&u||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const _i=new r.q("NgValueAccessor"),vi={provide:_i,useExisting:Object(r.U)(()=>wi),multi:!0};let wi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.E),r.Nb(r.l))},t.\u0275dir=r.Ib({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.Bb([vi])]}),t})();const Ei={provide:_i,useExisting:Object(r.U)(()=>Si),multi:!0},Ci=new r.q("CompositionEventMode");let Si=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.E),r.Nb(r.l),r.Nb(Ci,8))},t.\u0275dir=r.Ib({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.ac("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.Bb([Ei])]}),t})(),Oi=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t}),t})(),xi=(()=>{class t extends Oi{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Ii(e||t)},t.\u0275dir=r.Ib({type:t,features:[r.zb]}),t})();const Ii=r.Ub(xi);function Ti(){throw new Error("unimplemented")}class ki extends Oi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Ti()}get asyncValidator(){return Ti()}}class Ai{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Pi=(()=>{class t extends Ai{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(ki,2))},t.\u0275dir=r.Ib({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.zb]}),t})(),Di=(()=>{class t extends Ai{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(xi,2))},t.\u0275dir=r.Ib({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.zb]}),t})();function Ri(t){return null==t||0===t.length}const Ni=new r.q("NgValidators"),ji=new r.q("NgAsyncValidators"),Mi=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Li{static min(t){return e=>{if(Ri(e.value)||Ri(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Ri(e.value)||Ri(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Ri(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Ri(t.value)||Mi.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(Ri(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return Li.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Ri(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Fi);return 0==e.length?null:function(t){return Ui(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Fi);return 0==e.length?null:function(t){return yi(function(t,e){return e.map(e=>e(t))}(t,e).map(Vi)).pipe(Object(Ft.a)(Ui))}}}function Fi(t){return null!=t}function Vi(t){const e=Object(r.tb)(t)?Object(Et.a)(t):t;if(!Object(r.sb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Ui(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Bi(t){return t.validate?e=>t.validate(e):t}function zi(t){return t.validate?e=>t.validate(e):t}const qi={provide:_i,useExisting:Object(r.U)(()=>Hi),multi:!0};let Hi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.E),r.Nb(r.l))},t.\u0275dir=r.Ib({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Bb([qi])]}),t})();const Wi={provide:_i,useExisting:Object(r.U)(()=>Gi),multi:!0};let $i=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),Gi=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(ki),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.E),r.Nb(r.l),r.Nb($i),r.Nb(r.r))},t.\u0275dir=r.Ib({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Bb([Wi])]}),t})();const Ki={provide:_i,useExisting:Object(r.U)(()=>Qi),multi:!0};let Qi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.E),r.Nb(r.l))},t.\u0275dir=r.Ib({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Bb([Ki])]}),t})();const Yi='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Ji='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Zi='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class Xi{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Yi)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${Ji}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${Zi}`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+Yi)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Ji)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const ts={provide:_i,useExisting:Object(r.U)(()=>es),multi:!0};let es=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=r.ub}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.E),r.Nb(r.l))},t.\u0275dir=r.Ib({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Bb([ts])]}),t})();const ns={provide:_i,useExisting:Object(r.U)(()=>rs),multi:!0};let rs=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=r.ub}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.E),r.Nb(r.l))},t.\u0275dir=r.Ib({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Bb([ns])]}),t})();function is(t,e){return[...e.path,t]}function ss(t,e){t||us(e,"Cannot find control with"),e.valueAccessor||us(e,"No value accessor for form control with"),t.validator=Li.compose([t.validator,e.validator]),t.asyncValidator=Li.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&os(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&os(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function os(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function as(t,e){null==t&&us(e,"Cannot find control with"),t.validator=Li.compose([t.validator,e.validator]),t.asyncValidator=Li.composeAsync([t.asyncValidator,e.asyncValidator])}function cs(t){return us(t,"There is no FormControl instance attached to form control element with")}function us(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function ls(t){return null!=t?Li.compose(t.map(Bi)):null}function hs(t){return null!=t?Li.composeAsync(t.map(zi)):null}function ds(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object(r.ub)(e,n.currentValue)}const fs=[wi,Qi,Hi,es,rs,Gi];function ps(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function ms(t,e){if(!e)return null;Array.isArray(e)||us(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var s;e.constructor===Si?n=e:(s=e,fs.some(t=>s.constructor===t)?(r&&us(t,"More than one built-in value accessor matches form control with"),r=e):(i&&us(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(us(t,"No valid value accessor for form control with"),null)}function gs(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function ys(t){const e=_s(t)?t.validators:t;return Array.isArray(e)?ls(e):e||null}function bs(t,e){const n=_s(e)?e.asyncValidators:t;return Array.isArray(n)?hs(n):n||null}function _s(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class vs{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=ys(t)}setAsyncValidators(t){this.asyncValidator=bs(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=Vi(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Es?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Cs&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){_s(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class ws extends vs{constructor(t=null,e,n){super(ys(e),bs(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Es extends vs{constructor(t,e,n){super(ys(e),bs(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ws?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Cs extends vs{constructor(t,e,n){super(ys(e),bs(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ws?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Ss={provide:xi,useExisting:Object(r.U)(()=>xs)},Os=(()=>Promise.resolve(null))();let xs=(()=>{class t extends xi{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new Es({},ls(t),hs(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Os.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),ss(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Os.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),gs(this._directives,t)})}addFormGroup(t){Os.then(()=>{const e=this._findContainer(t.path),n=new Es({});as(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Os.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Os.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,ps(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Ni,10),r.Nb(ji,10))},t.\u0275dir=r.Ib({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.ac("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Bb([Ss]),r.zb]}),t})(),Is=(()=>{class t extends xi{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return is(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ls(this._validators)}get asyncValidator(){return hs(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return Ts(e||t)},t.\u0275dir=r.Ib({type:t,features:[r.zb]}),t})();const Ts=r.Ub(Is);class ks{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${Yi}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${Ji}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${Zi}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${Ji}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${Zi}`)}}const As={provide:xi,useExisting:Object(r.U)(()=>Ps)};let Ps=(()=>{class t extends Is{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof xs||ks.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(xi,5),r.Nb(Ni,10),r.Nb(ji,10))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[r.Bb([As]),r.zb]}),t})();const Ds={provide:ki,useExisting:Object(r.U)(()=>Ns)},Rs=(()=>Promise.resolve(null))();let Ns=(()=>{class t extends ki{constructor(t,e,n,i){super(),this.control=new ws,this._registered=!1,this.update=new r.n,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=ms(this,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),ds(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?is(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ls(this._rawValidators)}get asyncValidator(){return hs(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ss(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof Ps)&&this._parent instanceof Is?ks.formGroupNameException():this._parent instanceof Ps||this._parent instanceof xs||ks.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||ks.missingNameException()}_updateValue(t){Rs.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Rs.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(xi,9),r.Nb(Ni,10),r.Nb(ji,10),r.Nb(_i,10))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Bb([Ds]),r.zb,r.Ab]}),t})(),js=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Ms=new r.q("NgModelWithFormControlWarning"),Ls={provide:xi,useExisting:Object(r.U)(()=>Fs)};let Fs=(()=>{class t extends xi{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return ss(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){gs(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);as(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);as(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,ps(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>cs(e)),e.valueAccessor.registerOnTouched(()=>cs(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&ss(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=ls(this._validators);this.form.validator=Li.compose([this.form.validator,t]);const e=hs(this._asyncValidators);this.form.asyncValidator=Li.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||Xi.missingFormException()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Ni,10),r.Nb(ji,10))},t.\u0275dir=r.Ib({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.ac("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Bb([Ls]),r.zb,r.Ab]}),t})();const Vs={provide:xi,useExisting:Object(r.U)(()=>Us)};let Us=(()=>{class t extends Is{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){qs(this._parent)&&Xi.groupParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(xi,13),r.Nb(Ni,10),r.Nb(ji,10))},t.\u0275dir=r.Ib({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r.Bb([Vs]),r.zb]}),t})();const Bs={provide:xi,useExisting:Object(r.U)(()=>zs)};let zs=(()=>{class t extends xi{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return is(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return ls(this._validators)}get asyncValidator(){return hs(this._asyncValidators)}_checkParentType(){qs(this._parent)&&Xi.arrayParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(xi,13),r.Nb(Ni,10),r.Nb(ji,10))},t.\u0275dir=r.Ib({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r.Bb([Bs]),r.zb]}),t})();function qs(t){return!(t instanceof Us||t instanceof Fs||t instanceof zs)}const Hs={provide:ki,useExisting:Object(r.U)(()=>Ws)};let Ws=(()=>{class t extends ki{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=ms(this,i)}set isDisabled(t){Xi.disabledAttrWarning()}ngOnChanges(e){var n,i,s;this._added||this._setUpControl(),ds(e,this.viewModel)&&(n=t,i=this,s=this._ngModelWarningConfig,Object(r.W)()&&"never"!==s&&((null!==s&&"once"!==s||n._ngModelWarningSentOnce)&&("always"!==s||i._ngModelWarningSent)||(Xi.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,i._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return is(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ls(this._rawValidators)}get asyncValidator(){return hs(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Us)&&this._parent instanceof Is?Xi.ngModelGroupException():this._parent instanceof Us||this._parent instanceof Fs||this._parent instanceof zs||Xi.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(xi,13),r.Nb(Ni,10),r.Nb(ji,10),r.Nb(_i,10),r.Nb(Ms,8))},t.\u0275dir=r.Ib({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Bb([Hs]),r.zb,r.Ab]}),t._ngModelWarningSentOnce=!1,t})(),$s=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)}}),t})(),Gs=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Es(n,{asyncValidators:i,updateOn:s,validators:r})}control(t,e,n){return new ws(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Cs(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof ws||t instanceof Es||t instanceof Cs?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),Ks=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[$i],imports:[$s]}),t})(),Qs=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Ms,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[Gs,$i],imports:[$s]}),t})();function Ys(t){return null!=t&&""+t!="false"}function Js(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Zs(t){return Array.isArray(t)?t:[t]}function Xs(t){return null==t?"":"string"==typeof t?t:t+"px"}function to(t){return t instanceof r.l?t.nativeElement:t}var eo=n("n6bG");function no(t,e,n,r){return Object(eo.a)(n)&&(r=n,n=void 0),r?no(t,e,n).pipe(Object(Ft.a)(t=>Object(kt.a)(t)?r(...t):r(t))):new xt.a(r=>{!function t(e,n,r,i,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,s),o=()=>t.removeEventListener(n,r,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),o=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),o=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,r,i,s)}i.add(o)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}var ro=n("VRyK"),io=n("3N8a");class so extends io.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var oo=n("IjjT");class ao extends oo.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const co=new ao(so);var uo=n("7Hc7");class lo{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new ho(t,this.compare,this.keySelector))}}class ho extends Bt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var fo=n("D0XW");class po{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new mo(t,this.durationSelector))}}class mo extends At.a{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(Pt.a)(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var go=n("Y7HM");function yo(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function bo(t,e=fo.a){return n=()=>function(t=0,e,n){let r=-1;return Object(go.a)(e)?r=Number(e)<1?1:Number(e):Object(Tt.a)(e)&&(n=e),Object(Tt.a)(n)||(n=fo.a),new xt.a(e=>{const i=Object(go.a)(t)?t:+t-n.now();return n.schedule(yo,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new po(n))};var n}function _o(t){return e=>e.lift(new vo(t))}class vo{constructor(t){this.notifier=t}call(t,e){const n=new wo(t),r=Object(Pt.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class wo extends At.a{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}function Eo(){return t=>t.lift(new Co)}class Co{call(t,e){return e.subscribe(new So(t))}}class So extends Bt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}n("qgXg");var Oo=n("pxpQ");let xo;n("Ylt2");try{xo="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(OI){xo=!1}let Io,To=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!xo)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.B,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(r.B,8))},token:t,providedIn:"root"}),t})(),ko=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)}}),t})();const Ao=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Po(){if(Io)return Io;if("object"!=typeof document||!document)return Io=new Set(Ao),Io;let t=document.createElement("input");return Io=new Set(Ao.filter(e=>(t.setAttribute("type",e),t.type===e))),Io}let Do,Ro;function No(t){return function(){if(null==Do&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Do=!0}))}finally{Do=Do||!1}return Do}()?t:!!t.capture}function jo(t){if(function(){if(null==Ro){const t="undefined"!=typeof document?document.head:null;Ro=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Ro}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}const Mo=new r.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.V)(a)}});let Lo=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Mo,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(Mo,8))},token:t,providedIn:"root"}),t})(),Fo=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)}}),t})(),Vo=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new Ct.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new xt.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(bo(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(wt.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(zt(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>no(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.z),r.Wb(To),r.Wb(a,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(r.z),Object(r.Wb)(To),Object(r.Wb)(a,8))},token:t,providedIn:"root"}),t})(),Uo=(()=>{class t{constructor(t,e,n){this._platform=t,this._document=n,e.runOutsideAngular(()=>{const e=this._getWindow();this._change=t.isBrowser?Object(ro.a)(no(e,"resize"),no(e,"orientationchange")):Object(wt.a)(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(bo(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(To),r.Wb(r.z),r.Wb(a,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(To),Object(r.Wb)(r.z),Object(r.Wb)(a,8))},token:t,providedIn:"root"}),t})(),Bo=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)}}),t})(),zo=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[Fo,ko,Bo],Fo,Bo]}),t})();function qo(){throw Error("Host already has a portal attached")}class Ho{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&qo(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Wo extends Ho{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class $o extends Ho{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Go extends Ho{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class Ko{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&qo(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof Wo?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof $o?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Go?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Qo extends Ko{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Yo=(()=>{class t extends Ko{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.n,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.j),r.Nb(r.P),r.Nb(a))},t.\u0275dir=r.Ib({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.zb]}),t})(),Jo=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)}}),t})();function Zo(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class Xo{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Xs(-this._previousScrollPosition.left),t.style.top=Xs(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function ta(){return Error("Scroll strategy has already been attached.")}class ea{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw ta();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class na{enable(){}disable(){}attach(){}}function ra(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function ia(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class sa{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw ta();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();ra(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let oa=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new na,this.close=t=>new ea(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new Xo(this._viewportRuler,this._document),this.reposition=t=>new sa(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Vo),r.Wb(Uo),r.Wb(r.z),r.Wb(a))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(Vo),Object(r.Wb)(Uo),Object(r.Wb)(r.z),Object(r.Wb)(a))},token:t,providedIn:"root"}),t})();class aa{constructor(t){if(this.scrollStrategy=new na,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class ca{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class ua{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function la(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". Expected "top", "bottom" or "center".`)}function ha(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". Expected "start", "end" or "center".`)}let da=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(a))},token:t,providedIn:"root"}),t})();const fa=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let pa=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||fa){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),fa?e.setAttribute("platform","test"):t||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a),r.Wb(To))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(a),Object(r.Wb)(To))},token:t,providedIn:"root"}),t})();class ma{constructor(t,e,n,r,i,s,o,a){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._backdropElement=null,this._backdropClick=new Ct.a,this._attachments=new Ct.a,this._detachments=new Ct.a,this._locationChanges=xe.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new Ct.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(ce(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEvents.asObservable()}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Xs(this._config.width),t.height=Xs(this._config.height),t.minWidth=Xs(this._config.minWidth),t.minHeight=Xs(this._config.minHeight),t.maxWidth=Xs(this._config.maxWidth),t.maxHeight=Xs(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;Zs(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(_o(Object(ro.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const ga=/([A-Za-z%]+)$/;class ya{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ct.a,this._resizeSubscription=xe.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),c=this._getOverlayFit(a,e,n,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(c,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<c.visibleArea)&&(i={overlayFit:c,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ba(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){let{x:i,y:s}=t,o=this._getOffset(r,"x"),a=this._getOffset(r,"y");o&&(i+=o),a&&(s+=a);let c=0-s,u=s+e.height-n.height,l=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,c,u),d=l*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:l==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=_a(this._overlayRef.getConfig().minHeight),o=_a(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.right,0),s=Math.max(t.y+e.height-r.bottom,0),o=Math.max(r.top-n.top-t.y,0),a=Math.max(r.left-n.left-t.x,0);let c=0,u=0;return c=e.width<=r.width?a||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,u=e.height<=r.height?o||-s:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:c,y:u},{x:t.x+c,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new ua(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,c,u;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-r/2)}return{top:s,left:c,bottom:o,right:u,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=Xs(n.height),r.top=Xs(n.top),r.bottom=Xs(n.bottom),r.width=Xs(n.width),r.left=Xs(n.left),r.right=Xs(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=Xs(t)),i&&(r.maxWidth=Xs(i))}this._lastBoundingBoxSize=n,ba(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ba(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ba(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();ba(n,this._getExactOverlayY(e,t,r)),ba(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),c&&(o+=`translateY(${c}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=Xs(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=Xs(s.maxWidth):i&&(n.maxWidth="")),ba(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=Xs(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Xs(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ia(t,n),isOriginOutsideView:ra(t,n),isOverlayClipped:ia(e,n),isOverlayOutsideView:ra(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{ha("originX",t.originX),la("originY",t.originY),ha("overlayX",t.overlayX),la("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&Zs(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function ba(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function _a(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(ga);return n&&"px"!==n?null:parseFloat(e)}return t||null}class va{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new ya(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new ca(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class wa{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Ea=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new wa}connectedTo(t,e,n){return new va(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new ya(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Uo),r.Wb(a),r.Wb(To),r.Wb(pa))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(Uo),Object(r.Wb)(a),Object(r.Wb)(To),Object(r.Wb)(pa))},token:t,providedIn:"root"}),t})(),Ca=0,Sa=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=c,this._location=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new aa(t);return i.direction=i.direction||this._directionality.value,new ma(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+Ca++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new Qo(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(oa),r.Wb(pa),r.Wb(r.j),r.Wb(Ea),r.Wb(da),r.Wb(r.r),r.Wb(r.z),r.Wb(a),r.Wb(Lo),r.Wb(E,8))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const Oa={provide:new r.q("cdk-connected-overlay-scroll-strategy"),deps:[Sa],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let xa=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[Sa,Oa],imports:[[Fo,Jo,zo],zo]}),t})();function Ia(t,e=fo.a){return n=>n.lift(new Ta(t,e))}class Ta{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new ka(t,this.dueTime,this.scheduler))}}class ka extends Bt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Aa,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Aa(t){t.debouncedNext()}let Pa=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Da=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=to(t);return new xt.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new Ct.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Pa))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(Pa))},token:t,providedIn:"root"}),t})(),Ra=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.n,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Ys(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Js(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Ia(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Da),r.Nb(r.l),r.Nb(r.z))},t.\u0275dir=r.Ib({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),Na=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[Pa]}),t})();class ja extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ct.a,this._typeaheadSubscription=xe.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Ct.a,this.change=new Ct.a,t instanceof r.D&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){if(this._items.length&&this._items.some(t=>"function"!=typeof t.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(Oe.a)(t=>this._pressedLetters.push(t)),Ia(t),zt(()=>this._pressedLetters.length>0),Object(Ft.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}setActiveItem(t){const e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((n||Zo(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof r.D?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Ma=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(OI){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){const t=e&&e.nodeName.toLowerCase();if(-1===Fa(e))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===t)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=Fa(t);if(t.hasAttribute("contenteditable"))return-1!==i;if("iframe"===r)return!1;if("audio"===r){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===r){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==r||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}isFocusable(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||La(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(To))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(To))},token:t,providedIn:"root"}),t})();function La(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Fa(t){if(!La(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Va{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),Object(r.W)()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(ce(1)).subscribe(t)}}let Ua=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new Va(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Ma),r.Wb(r.z),r.Wb(a))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(Ma),Object(r.Wb)(r.z),Object(r.Wb)(a))},token:t,providedIn:"root"}),t})();function Ba(t){return 0===t.buttons}"undefined"!=typeof Element&&Element;const za=new r.q("cdk-focus-monitor-default-options"),qa=No({passive:!0,capture:!0});let Ha=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=Ba(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Wa(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=Wa(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){if(!this._platform.isBrowser)return Object(wt.a)(null);const n=to(t),r=jo(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject.asObservable();const s={checkChildren:e,subject:new Ct.a,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject.asObservable()}stopMonitoring(t){const e=to(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=to(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=Wa(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==Wa(t))return;const r=this._getFocusOrigin(t);this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,qa),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,qa)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,qa),t.addEventListener("mousedown",this._documentMousedownListener,qa),t.addEventListener("touchstart",this._documentTouchstartListener,qa),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,qa),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,qa),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,qa),t.removeEventListener("mousedown",this._documentMousedownListener,qa),t.removeEventListener("touchstart",this._documentTouchstartListener,qa),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.z),r.Wb(To),r.Wb(a,8),r.Wb(za,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(r.z),Object(r.Wb)(To),Object(r.Wb)(a,8),Object(r.Wb)(za,8))},token:t,providedIn:"root"}),t})();function Wa(t){return t.composedPath?t.composedPath()[0]:t.target}let $a=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(To),r.Wb(a))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(To),Object(r.Wb)(a))},token:t,providedIn:"root"}),t})();const Ga=new r.O("9.2.4");class Ka{}function Qa(t,e){return{type:7,name:t,definitions:e,options:{}}}function Ya(t,e=null){return{type:4,styles:e,timings:t}}function Ja(t,e=null){return{type:2,steps:t,options:e}}function Za(t){return{type:6,styles:t,offset:null}}function Xa(t,e,n){return{type:0,name:t,styles:e,options:n}}function tc(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function ec(t){Promise.resolve(null).then(t)}class nc{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ec(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class rc{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?ec(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function ic(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function sc(t){switch(t.length){case 0:return new nc;case 1:return t[0];default:return new rc(t)}}function oc(t,e,n,r,i={},s={}){const o=[],a=[];let c=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==c,l=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),u=l,c=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function ac(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&cc(n,"start",t)));break;case"done":t.onDone(()=>r(n&&cc(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&cc(n,"destroy",t)))}}function cc(t,e,n){const r=n.totalTime,i=uc(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function uc(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function lc(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function hc(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let dc=(t,e)=>!1,fc=(t,e)=>!1,pc=(t,e,n)=>[];const mc=ic();(mc||"undefined"!=typeof Element)&&(dc=(t,e)=>t.contains(e),fc=(()=>{if(mc||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):fc}})(),pc=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let gc=null,yc=!1;function bc(t){gc||(gc=("undefined"!=typeof document?document.body:null)||{},yc=!!gc.style&&"WebkitAppearance"in gc.style);let e=!0;return gc.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in gc.style,!e&&yc)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in gc.style),e}const _c=fc,vc=dc,wc=pc;function Ec(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Cc=(()=>{class t{validateStyleProperty(t){return bc(t)}matchesElement(t,e){return _c(t,e)}containsElement(t,e){return vc(t,e)}query(t,e,n){return wc(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new nc(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),Sc=(()=>{class t{}return t.NOOP=new Cc,t})();function Oc(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:xc(parseFloat(e[1]),e[2])}function xc(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Ic(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=xc(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=xc(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function Tc(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function kc(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Tc(t,n);return n}function Ac(t,e,n){return n?e+":"+n+";":""}function Pc(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Ac(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Ac(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Dc(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Uc(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),ic()&&Pc(t))}function Rc(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Uc(e);t.style[n]=""}),ic()&&Pc(t))}function Nc(t){return Array.isArray(t)?1==t.length?t[0]:Ja(t):t}const jc=new RegExp("{{\\s*(.+?)\\s*}}","g");function Mc(t){let e=[];if("string"==typeof t){let n;for(;n=jc.exec(t);)e.push(n[1]);jc.lastIndex=0}return e}function Lc(t,e,n){const r=t.toString(),i=r.replace(jc,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function Fc(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Vc=/-+([a-z0-9])/g;function Uc(t){return t.replace(Vc,(...t)=>t[1].toUpperCase())}function Bc(t,e){return 0===t||0===e}function zc(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=Hc(t,e)}))}}return e}function qc(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function Hc(t,e){return window.getComputedStyle(t)[e]}function Wc(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(Kc(i,o)),"<"!=s[0]||"*"==i&&"*"==o||e.push(Kc(o,i))}(t,n,e)):n.push(t),n}const $c=new Set(["true","1"]),Gc=new Set(["false","0"]);function Kc(t,e){const n=$c.has(t)||Gc.has(t),r=$c.has(e)||Gc.has(e);return(i,s)=>{let o="*"==t||t==i,a="*"==e||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?$c.has(t):Gc.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?$c.has(e):Gc.has(e)),o&&a}}const Qc=new RegExp("s*:selfs*,?","g");function Yc(t,e,n){return new Jc(t).build(e,n)}class Jc{constructor(t){this._driver=t}build(t,e){const n=new Zc(e);return this._resetContextStyleTimingState(n),qc(this,Nc(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(Xc(t)){const e=t;Object.keys(e).forEach(t=>{Mc(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Fc(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=qc(this,Nc(t.animation),e);return{type:1,matchers:Wc(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:tu(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>qc(this,t,e)),options:tu(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=qc(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:tu(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return eu(Ic(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=eu(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||Ic(r,e),eu(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Za({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Za(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Xc(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=Mc(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Xc(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Xc(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=c&&(r++,u=n.offset=c),o=o||u<0||u>1,s=s||u<a,a=u,i.push(u),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let l=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:qc(this,Nc(t.animation),e),options:tu(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:tu(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:tu(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Qc,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,lc(e.collectedStyles,e.currentQuerySelector,{});const o=qc(this,Nc(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:tu(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ic(t.timings,e.errors,!0);return{type:12,animation:qc(this,Nc(t.animation),e),timings:n,options:null}}}class Zc{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Xc(t){return!Array.isArray(t)&&"object"==typeof t}function tu(t){var e;return t?(t=Tc(t)).params&&(t.params=(e=t.params)?Tc(e):null):t={},t}function eu(t,e,n){return{duration:t,delay:e,easing:n}}function nu(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class ru{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const iu=new RegExp(":enter","g"),su=new RegExp(":leave","g");function ou(t,e,n,r,i,s={},o={},a,c,u=[]){return(new au).buildKeyframes(t,e,n,r,i,s,o,a,c,u)}class au{buildKeyframes(t,e,n,r,i,s,o,a,c,u=[]){c=c||new ru;const l=new uu(t,e,c,r,i,u,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),qc(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[nu(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Oc(n.duration):null,s=null!=n.delay?Oc(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),qc(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=cu);const t=Oc(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>qc(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Oc(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),qc(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Ic(e.params?Lc(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Oc(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=cu);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),qc(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;qc(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const cu={};class uu{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new lu(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Oc(n.duration)),null!=n.delay&&(r.delay=Oc(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Lc(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new uu(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=cu,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new hu(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(iu,"."+this._enterClassName)).replace(su,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class lu{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new lu(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):kc(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Lc(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=kc(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?Fc(t.values()):[],s=e.size?Fc(e.values()):[];if(n){const t=r[0],e=Tc(t);t.offset=0,e.offset=1,r=[t,e]}return nu(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class hu extends lu{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=kc(t[0],!1);a.offset=0,i.push(a);const c=kc(t[0],!1);c.offset=du(o),i.push(c);const u=t.length-1;for(let r=1;r<=u;r++){let o=kc(t[r],!1);o.offset=du((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return nu(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function du(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class fu{}class pu extends fu{normalizePropertyName(t,e){return Uc(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(mu[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const mu=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function gu(t,e,n,r,i,s,o,a,c,u,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:d}}const yu={};class bu{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,c,u){const l=[],h=this.ast.options&&this.ast.options.params||yu,d=this.buildStyles(n,o&&o.params||yu,l),f=a&&a.params||yu,p=this.buildStyles(r,f,l),m=new Set,g=new Map,y=new Map,b="void"===r,_={params:Object.assign(Object.assign({},h),f)},v=u?[]:ou(t,e,this.ast.animation,i,s,d,p,_,c,l);let w=0;if(v.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return gu(e,this._triggerName,n,r,b,d,p,[],[],g,y,w,l);v.forEach(t=>{const n=t.element,r=lc(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=lc(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const E=Fc(m.values());return gu(e,this._triggerName,n,r,b,d,p,v,E,g,y,w)}}class _u{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Tc(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=Lc(s,r,e)),n[t]=s})}}),n}}class vu{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new _u(t.style,t.options&&t.options.params||{})}),wu(this.states,"true","1"),wu(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new bu(t,e,this.states))}),this.fallbackTransition=new bu(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function wu(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Eu=new ru;class Cu{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Yc(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=oc(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=ou(this._driver,e,i,"ng-enter","ng-leave",{},{},n,Eu,r),s.forEach(t=>{const e=lc(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=sc(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=uc(e,"","","");return ac(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Su=[],Ou={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xu={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Iu{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Tc(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Tu=new Iu("void");class ku{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Mu(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=lc(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=lc(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Mu(t,"ng-trigger"),Mu(t,"ng-trigger-"+e),a[e]=Tu),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new Pu(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Mu(t,"ng-trigger"),Mu(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const c=new Iu(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[e]=c,a||(a=Tu),"void"!==c.value&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Rc(t,n),Dc(t,r)})}return}const u=lc(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(Mu(t,"ng-animate-queued"),s.onStart(()=>{Lu(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),u.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&sc(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||Tu,o=new Iu("void"),a=new Pu(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Ou||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Mu(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=uc(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,ac(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Au{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new ku(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Du(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Du(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Mu(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Lu(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(Du(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Du(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return sc(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Ou,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Mu(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?sc(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new ru,r=[],i=new Map,s=[],o=new Map,a=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=ju(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n="ng-enter"+p++;f.set(e,n),t.forEach(t=>Mu(t,n))});const m=[],g=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const b=new Map,_=ju(h,Array.from(g));_.forEach((t,e)=>{const n="ng-leave"+p++;b.set(e,n),t.forEach(t=>Mu(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>Lu(t,n))}),_.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>Lu(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const v=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(v.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!l||!this.driver.containsElement(l,i),h=b.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return e.onStart(()=>Rc(i,p.fromStyles)),e.onDestroy(()=>Dc(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>Rc(i,p.fromStyles)),e.onDestroy(()=>Dc(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>lc(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),v.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,C=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{lc(E,e,[]).push(t),t.destroy()})});const S=m.filter(t=>Vu(t,a,c)),O=new Map;Nu(O,this.driver,y,c,"*").forEach(t=>{Vu(t,a,c)&&S.push(t)});const x=new Map;d.forEach((t,e)=>{Nu(x,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=O.get(t),n=x.get(t);O.set(t,Object.assign(Object.assign({},e),n))});const I=[],T=[],k={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(u.has(e))return s.onDestroy(()=>Dc(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=k;if(C.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>C.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,x,O);if(s.setRealPlayer(n),t===k)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=sc(e)),r.push(s)}}else Rc(e,o.fromStyles),s.onDestroy(()=>Dc(e,o.toStyles)),T.push(s),u.has(e)&&r.push(s)}),T.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=sc(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(Lu(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Fu(this,t,r):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,c=lc(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}Rc(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,c=[],u=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new nc(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof rc?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||Su).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=oc(0,this._normalizer,0,e.keyframes,m,g),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new Pu(t,o,h);e.setRealPlayer(b),c.push(e)}return b});c.forEach(t=>{lc(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>Mu(t,"ng-animating"));const d=sc(h);return d.onDestroy(()=>{u.forEach(t=>Lu(t,"ng-animating")),Dc(a,e.toStyles)}),l.forEach(t=>{lc(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new nc(t.duration,t.delay)}}class Pu{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new nc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>ac(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){lc(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Du(t){return t&&1===t.nodeType}function Ru(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Nu(t,e,n,r,i){const s=[];n.forEach(t=>s.push(Ru(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=xu,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>Ru(t,s[a++])),o}function ju(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function Mu(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Lu(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Fu(t,e,n){sc(n).onDone(()=>t.processLeaveNode(e))}function Vu(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Uu{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Au(t,e,n),this._timelineEngine=new Cu(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=Yc(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new vu(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=hc(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=hc(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Bu(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=qu(e[0]),e.length>1&&(r=qu(e[e.length-1]))):e&&(n=qu(e)),n||r?new zu(t,n,r):null}let zu=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Dc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Dc(this._element,this._initialStyles),this._endStyles&&(Dc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Rc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Rc(this._element,this._endStyles),this._endStyles=null),Dc(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function qu(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Hu(i)&&(e=e||{},e[i]=t[i])}return e}function Hu(t){return"display"===t||"position"===t}class Wu{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Ju(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Yu(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Qu(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){$u(this._element,this._name,"paused")}resume(){$u(this._element,this._name,"running")}setPosition(t){const e=Gu(this._element,this._name);this._position=t*this._duration,Yu(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Qu(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Ju(t,"").split(","),r=Ku(n,e);r>=0&&(n.splice(r,1),Yu(t,"",n.join(",")))}(this._element,this._name))}}function $u(t,e,n){Yu(t,"PlayState",n,Gu(t,e))}function Gu(t,e){const n=Ju(t,"");return n.indexOf(",")>0?Ku(n.split(","),e):Ku([n],e)}function Ku(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Qu(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Yu(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Ju(t,e){return t.style["animation"+e]}class Zu{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Wu(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Hc(this.element,n))})}this.currentSnapshot=t}}class Xu extends nc{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Ec(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class tl{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return bc(t)}matchesElement(t,e){return _c(t,e)}containsElement(t,e){return vc(t,e)}query(t,e,n){return wc(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Ec(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.innerHTML=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof Zu),c={};Bc(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=zc(t,e,c));if(0==n)return new Xu(t,u);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=Bu(t,e),f=new Zu(t,e,l,n,r,i,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class el{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Hc(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class nl{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(rl().toString()),this._cssKeyframesDriver=new tl}validateStyleProperty(t){return bc(t)}matchesElement(t,e){return _c(t,e)}containsElement(t,e){return vc(t,e)}query(t,e,n){return wc(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},u=s.filter(t=>t instanceof el);Bc(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=Bu(t,e=zc(t,e=e.map(t=>kc(t,!1)),c));return new el(t,e,a,l)}}function rl(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let il=(()=>{class t extends Ka{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.Q.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Ja(t):t;return al(this._renderer,null,e,"register",[n]),new sl(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.F),r.Wb(a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class sl extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new ol(this._id,t,e||{},this._renderer)}}class ol{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return al(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function al(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let cl=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new ul("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new ll(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.F),r.Wb(Uu),r.Wb(r.z))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class ul{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ll extends ul{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let hl=(()=>{class t extends Uu{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a),r.Wb(Sc),r.Wb(fu))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const dl=new r.q("AnimationModuleType"),fl=[{provide:Sc,useFactory:function(){return"function"==typeof rl()?new nl:new tl}},{provide:dl,useValue:"BrowserAnimations"},{provide:Ka,useClass:il},{provide:fu,useFactory:function(){return new pu}},{provide:Uu,useClass:hl},{provide:r.F,useFactory:function(t,e,n){return new cl(t,e,n)},deps:[st,Uu,r.z]}];let pl=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:fl,imports:[vt]}),t})();const ml=new r.O("9.2.4"),gl=new r.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let yl,bl=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return Object(r.W)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&ml.full!==Ga.full&&console.warn("The Angular Material version ("+ml.full+") does not match the Angular CDK version ("+Ga.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)(r.Wb($a),r.Wb(gl,8),r.Wb(a,8))},imports:[[Fo],Fo]}),t})();function _l(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Ys(t)}}}function vl(t,e){return class extends t{constructor(...t){super(...t),this.color=e}get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),n&&this._elementRef.nativeElement.classList.add("mat-"+n),this._color=n)}}}function wl(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Ys(t)}}}function El(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new Ct.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{yl="undefined"!=typeof Intl}catch(OI){yl=!1}let Cl=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class Sl{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Ol={enterDuration:450,exitDuration:400},xl=No({passive:!0}),Il=["mousedown","touchstart"],Tl=["mouseup","mouseleave","touchend","touchcancel"];class kl{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=to(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},Ol),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,c=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=o-s+"px",u.style.top=a-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=n.color&&(u.style.backgroundColor=n.color),u.style.transitionDuration=c+"ms",this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const l=new Sl(this,u,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},c),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},Ol),t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=to(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Il))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Tl),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Ba(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,xl)})})}_removeTriggerEvents(){this._triggerElement&&(Il.forEach(t=>{this._triggerElement.removeEventListener(t,this,xl)}),this._pointerUpEventsRegistered&&Tl.forEach(t=>{this._triggerElement.removeEventListener(t,this,xl)}))}}const Al=new r.q("mat-ripple-global-options");let Pl=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new kl(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.z),r.Nb(To),r.Nb(Al,8),r.Nb(dl,8))},t.\u0275dir=r.Ib({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Eb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),Dl=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[bl,ko],bl]}),t})();const Rl=new r.q("mat-label-global-options");function Nl(t,e){}class jl{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Ml={dialogContainer:Qa("dialogContainer",[Xa("void, exit",Za({opacity:0,transform:"scale(0.7)"})),Xa("enter",Za({transform:"none"})),tc("* => enter",Ya("150ms cubic-bezier(0, 0, 0.2, 1)",Za({transform:"none",opacity:1}))),tc("* => void, * => exit",Ya("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Za({opacity:0})))])};function Ll(){throw Error("Attempting to attach dialog content after content is already attached")}let Fl=(()=>{class t extends Ko{constructor(t,e,n,i,s){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=s,this._elementFocusedBeforeDialogWasOpened=null,this._state="enter",this._animationStateChanged=new r.n,this.attachDomPortal=t=>(this._portalOutlet.hasAttached()&&Ll(),this._setupFocusTrap(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=i}attachComponentPortal(t){return this._portalOutlet.hasAttached()&&Ll(),this._setupFocusTrap(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached()&&Ll(),this._setupFocusTrap(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._focusTrap.focusInitialElement()||this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_containsFocus(){const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}_onAnimationDone(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(Ua),r.Nb(r.h),r.Nb(a,8),r.Nb(jl))},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-dialog-container"]],viewQuery:function(t,e){var n;1&t&&r.pc(Yo,!0),2&t&&r.jc(n=r.bc())&&(e._portalOutlet=n.first)},hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&r.Fb("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),2&t&&(r.Db("id",e._id)("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),r.wc("@dialogContainer",e._state))},features:[r.zb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.rc(0,Nl,0,0,"ng-template",0)},directives:[Yo],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Ml.dialogContainer]}}),t})(),Vl=0;class Ul{constructor(t,e,n="mat-dialog-"+Vl++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Ct.a,this._afterClosed=new Ct.a,this._beforeClosed=new Ct.a,this._state=0,e._id=n,e._animationStateChanged.pipe(zt(t=>"done"===t.phaseName&&"enter"===t.toState),ce(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(zt(t=>"done"===t.phaseName&&"exit"===t.toState),ce(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(zt(t=>27===t.keyCode&&!this.disableClose&&!Zo(t))).subscribe(t=>{t.preventDefault(),this.close()}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():this.close()})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(zt(t=>"start"===t.phaseName),ce(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._containerInstance._startExitAnimation(),this._state=1}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}const Bl=new r.q("MatDialogData"),zl=new r.q("mat-dialog-default-options"),ql=new r.q("mat-dialog-scroll-strategy"),Hl={provide:ql,deps:[Sa],useFactory:function(t){return()=>t.scrollStrategies.block()}};let Wl=(()=>{class t{constructor(t,e,n,r,i,s,o){this._overlay=t,this._injector=e,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ct.a,this._afterOpenedAtThisLevel=new Ct.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Lt(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(_e(void 0))),this._scrollStrategy=i}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}get _afterAllClosed(){const t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}open(t,e){if((e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new jl)).id&&this.getDialogById(e.id))throw Error(`Dialog with id "${e.id}" exists already. The dialog id must be unique.`);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new aa({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=r.r.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:jl,useValue:e}]}),i=new Wo(Fl,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const s=new Ul(n,e,i.id);if(t instanceof r.L)e.attachTemplatePortal(new $o(t,null,{$implicit:i.data,dialogRef:s}));else{const n=this._createInjector(i,s,e),r=e.attachComponentPortal(new Wo(t,i.viewContainerRef,n));s.componentInstance=r.instance}return s.updateSize(i.width,i.height).updatePosition(i.position),s}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,s=[{provide:Fl,useValue:n},{provide:Bl,useValue:t.data},{provide:Ul,useValue:e}];return!t.direction||i&&i.get(Lo,null)||s.push({provide:Lo,useValue:{value:t.direction,change:Object(wt.a)()}}),r.r.create({parent:i||this._injector,providers:s})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Sa),r.Wb(r.r),r.Wb(E,8),r.Wb(zl,8),r.Wb(ql),r.Wb(t,12),r.Wb(pa))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),$l=0,Gl=(()=>{class t{constructor(t,e,n){this._dialogRef=t,this._elementRef=e,this._dialog=n,this.id="mat-dialog-title-"+$l++}ngOnInit(){this._dialogRef||(this._dialogRef=function(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(t=>t.id===n.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Ul,8),r.Nb(r.l),r.Nb(Wl))},t.\u0275dir=r.Ib({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,e){2&t&&r.Vb("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t})(),Kl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t})(),Ql=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),t})(),Yl=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[Wl,Hl],imports:[[xa,Jo,bl],bl]}),t})();var Jl=n("z6cu"),Zl=n("w1tV");class Xl{}class th{}class eh{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof eh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new eh;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof eh?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class nh{encodeKey(t){return rh(t)}encodeValue(t){return rh(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function rh(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class ih{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new nh,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ih({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function sh(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function oh(t){return"undefined"!=typeof Blob&&t instanceof Blob}function ah(t){return"undefined"!=typeof FormData&&t instanceof FormData}class ch{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new eh),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new ih,this.urlWithParams=e}serializeBody(){return null===this.body?null:sh(this.body)||oh(this.body)||ah(this.body)||"string"==typeof this.body?this.body:this.body instanceof ih?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ah(this.body)?null:oh(this.body)?this.body.type||null:sh(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ih?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new ch(e,n,i,{params:c,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}const uh=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class lh{constructor(t,e=200,n="OK"){this.headers=t.headers||new eh,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class hh extends lh{constructor(t={}){super(t),this.type=uh.ResponseHeader}clone(t={}){return new hh({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class dh extends lh{constructor(t={}){super(t),this.type=uh.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new dh({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class fh extends lh{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function ph(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let mh=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof ch)r=t;else{let i=void 0;i=n.headers instanceof eh?n.headers:new eh(n.headers);let s=void 0;n.params&&(s=n.params instanceof ih?n.params:new ih({fromObject:n.params})),r=new ch(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(wt.a)(r).pipe(Ce(t=>this.handler.handle(t)));if(t instanceof ch||"events"===n.observe)return i;const s=i.pipe(zt(t=>t instanceof dh));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(Ft.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(Ft.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(Ft.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(Ft.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new ih).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,ph(n,e))}post(t,e,n={}){return this.request("POST",t,ph(n,e))}put(t,e,n={}){return this.request("PUT",t,ph(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Xl))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class gh{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const yh=new r.q("HTTP_INTERCEPTORS");let bh=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const _h=/^\)\]\}',?\n/;class vh{}let wh=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),Eh=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new xt.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new eh(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new hh({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),c=null;204!==i&&(c=void 0===n.response?n.responseText:n.response),0===i&&(i=c?200:0);let u=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(_h,"");try{c=""!==c?JSON.parse(c):null}catch(l){c=t,u&&(u=!1,c={error:l,text:c})}}u?(e.next(new dh({body:c,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new fh({error:c,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new fh({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let c=!1;const u=r=>{c||(e.next(s()),c=!0);let i={type:uh.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:uh.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:uh.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(vh))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const Ch=new r.q("XSRF_COOKIE_NAME"),Sh=new r.q("XSRF_HEADER_NAME");class Oh{}let xh=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=k(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a),r.Wb(r.B),r.Wb(Ch))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),Ih=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Oh),r.Wb(Sh))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),Th=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(yh,[]);this.chain=t.reduceRight((t,e)=>new gh(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(th),r.Wb(r.r))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),kh=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Ih,useClass:bh}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Ch,useValue:e.cookieName}:[],e.headerName?{provide:Sh,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[Ih,{provide:yh,useExisting:Ih,multi:!0},{provide:Oh,useClass:xh},{provide:Ch,useValue:"XSRF-TOKEN"},{provide:Sh,useValue:"X-XSRF-TOKEN"}]}),t})(),Ah=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[mh,{provide:Xl,useClass:Th},Eh,{provide:th,useExisting:Eh},wh,{provide:vh,useExisting:wh}],imports:[[kh.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const Ph=["*"];function Dh(t){return Error(`Unable to find icon with the name "${t}"`)}function Rh(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function Nh(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class jh{constructor(t,e){this.options=e,t.nodeName?this.svgElement=t:this.url=t}}let Mh=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new jh(n,r))}addSvgIconLiteralInNamespace(t,e,n,i){const s=this._sanitizer.sanitize(r.I.HTML,n);if(!s)throw Nh(n);const o=this._createSvgElementForSingleIcon(s,i);return this._addSvgIconConfig(t,e,new jh(o,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new jh(e,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.I.HTML,e);if(!i)throw Nh(e);const s=this._svgElementFromString(i);return this._addSvgIconSetConfig(t,new jh(s,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.I.RESOURCE_URL,t);if(!e)throw Rh(t);const n=this._cachedIconsByUrl.get(e);return n?Object(wt.a)(Lh(n)):this._loadSvgIconFromConfig(new jh(t)).pipe(Object(Oe.a)(t=>this._cachedIconsByUrl.set(e,t)),Object(Ft.a)(t=>Lh(t)))}getNamedSvgIcon(t,e=""){const n=Fh(e,t),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):Object(Jl.a)(Dh(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgElement?Object(wt.a)(Lh(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(Object(Oe.a)(e=>t.svgElement=e),Object(Ft.a)(t=>Lh(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Object(wt.a)(n):yi(e.filter(t=>!t.svgElement).map(t=>this._loadSvgIconSetFromConfig(t).pipe(se(e=>{const n=`Loading icon set URL: ${this._sanitizer.sanitize(r.I.RESOURCE_URL,t.url)} failed: ${e.message}`;return this._errorHandler?this._errorHandler.handleError(new Error(n)):console.error(n),Object(wt.a)(null)})))).pipe(Object(Ft.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw Dh(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgElement){const e=this._extractSvgIconFromSet(r.svgElement,t,r.options);if(e)return e}}return null}_loadSvgIconFromConfig(t){return this._fetchUrl(t.url).pipe(Object(Ft.a)(e=>this._createSvgElementForSingleIcon(e,t.options)))}_loadSvgIconSetFromConfig(t){return t.svgElement?Object(wt.a)(t.svgElement):this._fetchUrl(t.url).pipe(Object(Ft.a)(e=>(t.svgElement||(t.svgElement=this._svgElementFromString(e)),t.svgElement)))}_createSvgElementForSingleIcon(t,e){const n=this._svgElementFromString(t);return this._setSvgAttributes(n,e),n}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchUrl(t){if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error(`Cannot fetch icon from URL "${t}".`);const e=this._sanitizer.sanitize(r.I.RESOURCE_URL,t);if(!e)throw Rh(t);const n=this._inProgressUrlFetches.get(e);if(n)return n;const i=this._httpClient.get(e,{responseType:"text"}).pipe(Ie(()=>this._inProgressUrlFetches.delete(e)),Object(Zl.a)());return this._inProgressUrlFetches.set(e,i),i}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(Fh(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(mh,8),r.Wb(mt),r.Wb(a,8),r.Wb(r.m,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(mh,8),Object(r.Wb)(mt),Object(r.Wb)(a,8),Object(r.Wb)(r.m,8))},token:t,providedIn:"root"}),t})();function Lh(t){return t.cloneNode(!0)}function Fh(t,e){return t+":"+e}class Vh{constructor(t){this._elementRef=t}}const Uh=vl(Vh),Bh=new r.q("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(r.V)(a),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),zh=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],qh=zh.map(t=>`[${t}]`).join(", "),Hh=/^url\(['"]?#(.*?)['"]?\)$/;let Wh=(()=>{class t extends Uh{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=xe.a.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Ys(t)}get fontSet(){return this._fontSet}set fontSet(t){this._fontSet=this._cleanupFontValue(t)}get fontIcon(){return this._fontIcon}set fontIcon(t){this._fontIcon=this._cleanupFontValue(t)}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnChanges(t){const e=t.svgIcon;if(e)if(this._currentIconFetch.unsubscribe(),this.svgIcon){const[t,e]=this._splitIconName(this.svgIcon);this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(e,t).pipe(ce(1)).subscribe(t=>this._setSvgElement(t),n=>{const r=`Error retrieving icon ${t}:${e}! ${n.message}`;this._errorHandler?this._errorHandler.handleError(new Error(r)):console.error(r)})}else e.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}ngOnInit(){this._usingFontIcon()&&this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){const e=this._location.getPathname();this._previousPath=e,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(e)}this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(qh),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)zh.forEach(t=>{const i=e[r],s=i.getAttribute(t),o=s?s.match(Hh):null;if(o){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:o[1]})}})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(Mh),r.Xb("aria-hidden"),r.Nb(Bh,8),r.Nb(r.m,8))},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:4,hostBindings:function(t,e){2&t&&r.Eb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color)},inputs:{color:"color",inline:"inline",fontSet:"fontSet",fontIcon:"fontIcon",svgIcon:"svgIcon"},exportAs:["matIcon"],features:[r.zb,r.Ab],ngContentSelectors:Ph,decls:1,vars:0,template:function(t,e){1&t&&(r.ec(),r.dc(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),$h=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[bl],bl]}),t})();class Gh{constructor(t,e,n,r){this.email=t,this.id=e,this._token=n,this._tokenExpirationDate=r}get token(){return!this._tokenExpirationDate||new Date>this._tokenExpirationDate?null:this._token}}let Kh=(()=>{class t{constructor(t){this.http=t,this.baseSignUpUrl="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=",this.baseSignInUrl="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=",this.apiKey="AIzaSyD1O6sO7uFrwlns1gR1PGfAibtNu_uyHoA",this.user=new Ot(null)}signUp(t,e){return this.http.post(`${this.baseSignUpUrl}${this.apiKey}`,{email:t,password:e,returnSecureToken:!0}).pipe(Object(Oe.a)(t=>{this.handleAuthentication(t.email,t.localId,t.idToken,+t.expiresIn)}))}signIn(t,e){return this.http.post(`${this.baseSignInUrl}${this.apiKey}`,{email:t,password:e,returnSecureToken:!0}).pipe(Object(Oe.a)(t=>{this.handleAuthentication(t.email,t.localId,t.idToken,+t.expiresIn)}))}logout(){this.user.next(null),localStorage.removeItem("userData")}autologin(){const t=JSON.parse(localStorage.getItem("userData"));if(!t)return;const e=new Gh(t.email,t.id,t._token,new Date(t._tokenExpirationDate));if(e.token){const n=new Date(t._tokenExpirationDate).getTime()-(new Date).getTime();this.autologout(n),this.user.next(e)}}autologout(t){this.tokenExpirationTimer=setTimeout(()=>{this.logout()},t)}handleAuthentication(t,e,n,r){const i=new Date((new Date).getTime()+1e3*+r),s=new Gh(t,e,n,i);this.user.next(s),this.autologout(1e3*r),localStorage.setItem("userData",JSON.stringify(s))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(mh))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Qh=n("WMd4");function Yh(t,e=fo.a){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new Jh(r,e))}class Jh{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new Zh(t,this.delay,this.scheduler))}}class Zh extends Bt.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(Zh.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new Xh(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(Qh.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(Qh.a.createComplete()),this.unsubscribe()}}class Xh{constructor(t,e){this.time=t,this.notification=e}}const td=["mat-menu-item",""],ed=["*"];let nd=(()=>{class t{constructor(t,e,n,r,i,s,o){this._template=t,this._componentFactoryResolver=e,this._appRef=n,this._injector=r,this._viewContainerRef=i,this._document=s,this._changeDetectorRef=o,this._attached=new Ct.a}attach(t={}){this._portal||(this._portal=new $o(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new Qo(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const e=this._template.elementRef.nativeElement;e.parentNode.insertBefore(this._outlet.outletElement,e),this._changeDetectorRef&&this._changeDetectorRef.markForCheck(),this._portal.attach(this._outlet,t),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.L),r.Nb(r.j),r.Nb(r.g),r.Nb(r.r),r.Nb(r.P),r.Nb(a),r.Nb(r.h))},t.\u0275dir=r.Ib({type:t,selectors:[["ng-template","matMenuContent",""]]}),t})();const rd=new r.q("MAT_MENU_PANEL");class id{}const sd=wl(_l(id));let od=(()=>{class t extends sd{constructor(t,e,n,r){super(),this._elementRef=t,this._focusMonitor=n,this._parentMenu=r,this.role="menuitem",this._hovered=new Ct.a,this._focused=new Ct.a,this._highlighted=!1,this._triggersSubmenu=!1,n&&n.monitor(this._elementRef,!1),r&&r.addItem&&r.addItem(this),this._document=e}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement,e=this._document?this._document.TEXT_NODE:3;let n="";if(t.childNodes){const r=t.childNodes.length;for(let i=0;i<r;i++)t.childNodes[i].nodeType===e&&(n+=t.childNodes[i].textContent)}return n.trim()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(a),r.Nb(Ha),r.Nb(rd,8))},t.\u0275cmp=r.Hb({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,e){1&t&&r.ac("click",(function(t){return e._checkDisabled(t)}))("mouseenter",(function(){return e._handleMouseEnter()})),2&t&&(r.Db("role",e.role)("tabindex",e._getTabIndex())("aria-disabled",e.disabled.toString())("disabled",e.disabled||null),r.Eb("mat-menu-item",!0)("mat-menu-item-highlighted",e._highlighted)("mat-menu-item-submenu-trigger",e._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[r.zb],attrs:td,ngContentSelectors:ed,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(t,e){1&t&&(r.ec(),r.dc(0),r.Ob(1,"div",0)),2&t&&(r.Cb(1),r.fc("matRippleDisabled",e.disableRipple||e.disabled)("matRippleTrigger",e._getHostElement()))},directives:[Pl],encapsulation:2,changeDetection:0}),t})();const ad=new r.q("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let cd=0,ud=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._ngZone=e,this._defaultOptions=n,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new r.D,this._tabSubscription=xe.a.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Ct.a,this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new r.n,this.close=this.closed,this.panelId="mat-menu-panel-"+cd++}get xPosition(){return this._xPosition}set xPosition(t){"before"!==t&&"after"!==t&&function(){throw Error('xPosition value must be either \'before\' or after\'.\n      Example: <mat-menu xPosition="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){"above"!==t&&"below"!==t&&function(){throw Error('yPosition value must be either \'above\' or below\'.\n      Example: <mat-menu yPosition="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Ys(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Ys(t)}set panelClass(t){const e=this._previousPanelClass;e&&e.length&&e.split(" ").forEach(t=>{this._classList[t]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(t=>{this._classList[t]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new ja(this._directDescendantItems).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(_e(this._directDescendantItems),me(t=>Object(ro.a)(...t.map(t=>t._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(_e(this._directDescendantItems),me(t=>Object(ro.a)(...t.map(t=>t._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const e=t.keyCode,n=this._keyManager;switch(e){case 27:Zo(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;case 36:case 35:Zo(t)||(36===e?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault());break;default:38!==e&&40!==e||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.asObservable().pipe(ce(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const e=this._keyManager;if(e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length){let t=this._directDescendantItems.first._getHostElement().parentElement;for(;t;){if("menu"===t.getAttribute("role")){t.focus();break}t=t.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const e="mat-elevation-z"+Math.min(4+t,24),n=Object.keys(this._classList).find(t=>t.startsWith("mat-elevation-z"));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}setPositionClasses(t=this.xPosition,e=this.yPosition){const n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(_e(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.z),r.Nb(ad))},t.\u0275dir=r.Ib({type:t,contentQueries:function(t,e,n){var i;1&t&&(r.Gb(n,nd,!0),r.Gb(n,od,!0),r.Gb(n,od,!1)),2&t&&(r.jc(i=r.bc())&&(e.lazyContent=i.first),r.jc(i=r.bc())&&(e._allItems=i),r.jc(i=r.bc())&&(e.items=i))},viewQuery:function(t,e){var n;1&t&&r.xc(r.L,!0),2&t&&r.jc(n=r.bc())&&(e.templateRef=n.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),t})(),ld=(()=>{class t extends ud{}return t.\u0275fac=function(e){return hd(e||t)},t.\u0275dir=r.Ib({type:t,features:[r.zb]}),t})();const hd=r.Ub(ld),dd=new r.q("mat-menu-scroll-strategy"),fd={provide:dd,deps:[Sa],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},pd=No({passive:!0});let md=(()=>{class t{constructor(t,e,n,i,s,o,a,c){this._overlay=t,this._element=e,this._viewContainerRef=n,this._parentMenu=s,this._menuItemInstance=o,this._dir=a,this._focusMonitor=c,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=xe.a.EMPTY,this._hoverSubscription=xe.a.EMPTY,this._menuCloseSubscription=xe.a.EMPTY,this._handleTouchStart=()=>this._openedBy="touch",this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new r.n,this.onMenuOpen=this.menuOpened,this.menuClosed=new r.n,this.onMenuClose=this.menuClosed,e.nativeElement.addEventListener("touchstart",this._handleTouchStart,pd),o&&(o._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=i}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.asObservable().subscribe(t=>{this._destroyMenu(),"click"!==t&&"tab"!==t||!this._parentMenu||this._parentMenu.closed.emit(t)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,pd),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),e=t.getConfig();this._setPosition(e.positionStrategy),e.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof ld&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}_destroyMenu(){if(!this._overlayRef||!this.menuOpen)return;const t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this._restoreFocus(),t instanceof ld?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(zt(t=>"void"===t.toState),ce(1),_o(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t.lazyContent&&t.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}_setMenuElevation(){if(this.menu.setElevation){let t=0,e=this.menu.parentMenu;for(;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}_restoreFocus(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}_checkMenu(){this.menu||function(){throw Error('matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new aa({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(t=>{this.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[e,n]="before"===this.menu.xPosition?["end","start"]:["start","end"],[r,i]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[s,o]=[r,i],[a,c]=[e,n],u=0;this.triggersSubmenu()?(c=e="before"===this.menu.xPosition?"start":"end",n=a="end"===e?"start":"end",u="bottom"===r?8:-8):this.menu.overlapTrigger||(s="top"===r?"bottom":"top",o="top"===i?"bottom":"top"),t.withPositions([{originX:e,originY:s,overlayX:a,overlayY:r,offsetY:u},{originX:n,originY:s,overlayX:c,overlayY:r,offsetY:u},{originX:e,originY:o,overlayX:a,overlayY:i,offsetY:-u},{originX:n,originY:o,overlayX:c,overlayY:i,offsetY:-u}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),e=this._overlayRef.detachments(),n=this._parentMenu?this._parentMenu.closed:Object(wt.a)(),r=this._parentMenu?this._parentMenu._hovered().pipe(zt(t=>t!==this._menuItemInstance),zt(()=>this._menuOpen)):Object(wt.a)();return Object(ro.a)(t,n,r,e)}_handleMousedown(t){Ba(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const e=t.keyCode;this.triggersSubmenu()&&(39===e&&"ltr"===this.dir||37===e&&"rtl"===this.dir)&&this.openMenu()}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(zt(t=>t===this._menuItemInstance&&!t.disabled),Yh(0,uo.a)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof ld&&this.menu._isAnimating?this.menu._animationDone.pipe(ce(1),Yh(0,uo.a),_o(this._parentMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new $o(this.menu.templateRef,this._viewContainerRef)),this._portal}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Sa),r.Nb(r.l),r.Nb(r.P),r.Nb(dd),r.Nb(ld,8),r.Nb(od,10),r.Nb(Lo,8),r.Nb(Ha))},t.\u0275dir=r.Ib({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(t,e){1&t&&r.ac("mousedown",(function(t){return e._handleMousedown(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("click",(function(t){return e._handleClick(t)})),2&t&&r.Db("aria-expanded",e.menuOpen||null)("aria-controls",e.menuOpen?e.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),t})(),gd=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[fd],imports:[bl]}),t})(),yd=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[fd],imports:[[B,bl,Dl,xa,gd],Bo,bl,gd]}),t})();class bd{constructor(t,e){this.title=t,this.content=e,this.date=new Date,this.id=this.getId(),this.creationDate=new Date}getId(){return Math.floor(1e7*Math.random())}}let _d=(()=>{class t{constructor(t,e){this.http=t,this.auth=e,this.$notesChanged=new Ct.a,this.notes=[],this.baseUrl="https://notesapp-b2c5d-default-rtdb.firebaseio.com/users/",this.wereOrdered=!1}ngOnInit(){}onFetchPosts(){this.fetchPosts()}addNote(){const t=new bd("Type a title","Type content");this.http.post(this.baseUrl+this.uid+"/notes.json",t).subscribe(t=>{this.fetchPosts().subscribe(t=>{this.notes=t,this.$notesChanged.next(this.notes)})})}fetchPosts(){return this.updateUserId(),this.http.get(this.baseUrl+this.uid+"/notes.json").pipe(Object(Ft.a)(t=>{const e=[];for(let n in t)t.hasOwnProperty&&e.push(Object.assign(Object.assign({},t[n]),{id:n}));return this.notes=e.sort((t,e)=>{let n=new Date(t.creationDate);return new Date(e.creationDate).getTime()-n.getTime()}).sort((t,e)=>{let n=new Date(t.date);return new Date(e.date).getTime()-n.getTime()}),this.notes}))}updateNote(t,e,n){const r=this.baseUrl+this.uid+"/notes/"+t+".json",i=e.nativeElement.innerText,s=n.nativeElement.innerText,o=new Date;this.http.patch(r,{title:i,content:s,date:o}).subscribe(t=>{console.log(t),this.fetchPosts().subscribe(t=>{this.notes=t,this.$notesChanged.next(this.notes)})})}removeNote(t){return this.http.delete(this.baseUrl+this.uid+"/notes/"+t+".json").subscribe(t=>{this.fetchPosts().subscribe(t=>{this.notes=t,this.$notesChanged.next(this.notes)})})}updateUserId(){this.auth.user.subscribe(t=>{t&&(console.log("updating user"),this.uid=t.id)})}updateColor(t,e){const n=this.baseUrl+this.uid+"/notes/"+t+".json",r=new Date;this.http.patch(n,{color:e,date:r}).subscribe(t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(mh),r.Wb(Kh))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const vd=["underline"],wd=["connectionContainer"],Ed=["inputContainer"],Cd=["label"];function Sd(t,e){1&t&&(r.Qb(0),r.Sb(1,"div",14),r.Ob(2,"div",15),r.Ob(3,"div",16),r.Ob(4,"div",17),r.Rb(),r.Sb(5,"div",18),r.Ob(6,"div",15),r.Ob(7,"div",16),r.Ob(8,"div",17),r.Rb(),r.Pb())}function Od(t,e){1&t&&(r.Sb(0,"div",19),r.dc(1,1),r.Rb())}function xd(t,e){if(1&t&&(r.Qb(0),r.dc(1,2),r.Sb(2,"span"),r.tc(3),r.Rb(),r.Pb()),2&t){const t=r.cc(2);r.Cb(3),r.uc(t._control.placeholder)}}function Id(t,e){1&t&&r.dc(0,3,["*ngSwitchCase","true"])}function Td(t,e){1&t&&(r.Sb(0,"span",23),r.tc(1," *"),r.Rb())}function kd(t,e){if(1&t){const t=r.Tb();r.Sb(0,"label",20,21),r.ac("cdkObserveContent",(function(){return r.lc(t),r.cc().updateOutlineGap()})),r.rc(2,xd,4,1,"ng-container",12),r.rc(3,Id,1,0,void 0,12),r.rc(4,Td,2,0,"span",22),r.Rb()}if(2&t){const t=r.cc();r.Eb("mat-empty",t._control.empty&&!t._shouldAlwaysFloat)("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat)("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),r.fc("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),r.Db("for",t._control.id)("aria-owns",t._control.id),r.Cb(2),r.fc("ngSwitchCase",!1),r.Cb(1),r.fc("ngSwitchCase",!0),r.Cb(1),r.fc("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function Ad(t,e){1&t&&(r.Sb(0,"div",24),r.dc(1,4),r.Rb())}function Pd(t,e){if(1&t&&(r.Sb(0,"div",25,26),r.Ob(2,"span",27),r.Rb()),2&t){const t=r.cc();r.Cb(2),r.Eb("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function Dd(t,e){if(1&t&&(r.Sb(0,"div"),r.dc(1,5),r.Rb()),2&t){const t=r.cc();r.fc("@transitionMessages",t._subscriptAnimationState)}}function Rd(t,e){if(1&t&&(r.Sb(0,"div",31),r.tc(1),r.Rb()),2&t){const t=r.cc(2);r.fc("id",t._hintLabelId),r.Cb(1),r.uc(t.hintLabel)}}function Nd(t,e){if(1&t&&(r.Sb(0,"div",28),r.rc(1,Rd,2,2,"div",29),r.dc(2,6),r.Ob(3,"div",30),r.dc(4,7),r.Rb()),2&t){const t=r.cc();r.fc("@transitionMessages",t._subscriptAnimationState),r.Cb(1),r.fc("ngIf",t.hintLabel)}}const jd=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Md=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let Ld=0,Fd=(()=>{class t{constructor(){this.id="mat-error-"+Ld++}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&r.Db("id",e.id)},inputs:{id:"id"}}),t})();const Vd={transitionMessages:Qa("transitionMessages",[Xa("enter",Za({opacity:1,transform:"translateY(0%)"})),tc("void => enter",[Za({opacity:0,transform:"translateY(-100%)"}),Ya("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ud=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t}),t})();function Bd(t){return Error(`A hint was already declared for 'align="${t}"'.`)}let zd=0,qd=(()=>{class t{constructor(){this.align="start",this.id="mat-hint-"+zd++}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,e){2&t&&(r.Db("id",e.id)("align",null),r.Eb("mat-right","end"==e.align))},inputs:{align:"align",id:"id"}}),t})(),Hd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-label"]]}),t})(),Wd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-placeholder"]]}),t})(),$d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","matPrefix",""]]}),t})(),Gd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","matSuffix",""]]}),t})(),Kd=0;class Qd{constructor(t){this._elementRef=t}}const Yd=vl(Qd,"primary"),Jd=new r.q("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Zd=new r.q("MatFormField");let Xd=(()=>{class t extends Yd{constructor(t,e,n,r,i,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ct.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Kd++,this._labelId="mat-form-field-label-"+Kd++,this._labelOptions=n||{},this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Ys(t)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}get _labelChild(){return this._labelChildNonStatic||this._labelChildStatic}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+t.controlType),t.stateChanges.pipe(_e(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(_o(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(_o(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(ro.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(_e(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(_e(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(_o(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,no(this._label.nativeElement,"transitionend").pipe(ce(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let t,e;this._hintChildren.forEach(n=>{if("start"===n.align){if(t||this.hintLabel)throw Bd("start");t=n}else if("end"===n.align){if(e)throw Bd("end");e=n}})}}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if("hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=this._getStartEnd(t.children[0].getBoundingClientRect());let a=0;for(const e of t.children)a+=e.offsetWidth;e=Math.abs(o-s)-5,n=a>0?.75*a+10:0}for(let o=0;o<i.length;o++)i[o].style.width=e+"px";for(let o=0;o<s.length;o++)s[o].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.h),r.Nb(Rl,8),r.Nb(Lo,8),r.Nb(Jd,8),r.Nb(To),r.Nb(r.z),r.Nb(dl,8))},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var i;1&t&&(r.Gb(n,Ud,!0),r.oc(n,Ud,!0),r.Gb(n,Hd,!0),r.oc(n,Hd,!0),r.Gb(n,Wd,!0),r.Gb(n,Fd,!0),r.Gb(n,qd,!0),r.Gb(n,$d,!0),r.Gb(n,Gd,!0)),2&t&&(r.jc(i=r.bc())&&(e._controlNonStatic=i.first),r.jc(i=r.bc())&&(e._controlStatic=i.first),r.jc(i=r.bc())&&(e._labelChildNonStatic=i.first),r.jc(i=r.bc())&&(e._labelChildStatic=i.first),r.jc(i=r.bc())&&(e._placeholderChild=i.first),r.jc(i=r.bc())&&(e._errorChildren=i),r.jc(i=r.bc())&&(e._hintChildren=i),r.jc(i=r.bc())&&(e._prefixChildren=i),r.jc(i=r.bc())&&(e._suffixChildren=i))},viewQuery:function(t,e){var n;1&t&&(r.xc(vd,!0),r.pc(wd,!0),r.xc(Ed,!0),r.xc(Cd,!0)),2&t&&(r.jc(n=r.bc())&&(e.underlineRef=n.first),r.jc(n=r.bc())&&(e._connectionContainerRef=n.first),r.jc(n=r.bc())&&(e._inputContainerRef=n.first),r.jc(n=r.bc())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&r.Eb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat)("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r.Bb([{provide:Zd,useExisting:t}]),r.zb],ngContentSelectors:Md,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.ec(jd),r.Sb(0,"div",0),r.Sb(1,"div",1,2),r.ac("click",(function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)})),r.rc(3,Sd,9,0,"ng-container",3),r.rc(4,Od,2,0,"div",4),r.Sb(5,"div",5,6),r.dc(7),r.Sb(8,"span",7),r.rc(9,kd,5,16,"label",8),r.Rb(),r.Rb(),r.rc(10,Ad,2,0,"div",9),r.Rb(),r.rc(11,Pd,3,4,"div",10),r.Sb(12,"div",11),r.rc(13,Dd,2,1,"div",12),r.rc(14,Nd,5,2,"div",13),r.Rb(),r.Rb()),2&t&&(r.Cb(3),r.fc("ngIf","outline"==e.appearance),r.Cb(1),r.fc("ngIf",e._prefixChildren.length),r.Cb(5),r.fc("ngIf",e._hasFloatingLabel()),r.Cb(1),r.fc("ngIf",e._suffixChildren.length),r.Cb(1),r.fc("ngIf","outline"!=e.appearance),r.Cb(1),r.fc("ngSwitch",e._getDisplayedMessages()),r.Cb(1),r.fc("ngSwitchCase","error"),r.Cb(1),r.fc("ngSwitchCase","hint"))},directives:[N,F,V,Ra],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Vd.transitionMessages]},changeDetection:0}),t})(),tf=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[B,bl,Na],bl]}),t})();const ef=No({passive:!0});let nf=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Mt.a;const e=to(t),n=this._monitoredElements.get(e);if(n)return n.subject.asObservable();const r=new Ct.a,i="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,ef),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",s,ef)}}),r.asObservable()}stopMonitoring(t){const e=to(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(To),r.Wb(r.z))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(To),Object(r.Wb)(r.z))},token:t,providedIn:"root"}),t})(),rf=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[ko]]}),t})();const sf=new r.q("MAT_INPUT_VALUE_ACCESSOR"),of=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let af=0;class cf{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const uf=El(cf);let lf=(()=>{class t extends uf{constructor(t,e,n,r,i,s,o,a,c){super(s,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._uid="mat-input-"+af++,this.focused=!1,this.stateChanges=new Ct.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>Po().has(t));const u=this._elementRef.nativeElement,l=u.nodeName.toLowerCase();this._inputValueAccessor=o||u,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&c.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===l,this._isTextarea="textarea"===l,this._isNativeSelect&&(this.controlType=u.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Ys(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=Ys(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Po().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Ys(t)}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){if(of.indexOf(this._type)>-1)throw Error(`Input type "${this._type}" isn't supported by matInput.`)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(To),r.Nb(ki,10),r.Nb(xs,8),r.Nb(Fs,8),r.Nb(Cl),r.Nb(sf,10),r.Nb(nf),r.Nb(r.z))},t.\u0275dir=r.Ib({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:10,hostBindings:function(t,e){1&t&&r.ac("focus",(function(){return e._focusChanged(!0)}))("blur",(function(){return e._focusChanged(!1)}))("input",(function(){return e._onInput()})),2&t&&(r.Vb("disabled",e.disabled)("required",e.required),r.Db("id",e.id)("placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-describedby",e._ariaDescribedby||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),r.Eb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher"},exportAs:["matInput"],features:[r.Bb([{provide:Ud,useExisting:t}]),r.zb,r.Ab]}),t})(),hf=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[Cl],imports:[[rf,tf],rf,tf]}),t})();const df=["mat-button",""],ff=["*"],pf=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class mf{constructor(t){this._elementRef=t}}const gf=vl(_l(wl(mf)));let yf=(()=>{class t extends gf{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of pf)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this._focusMonitor.monitor(this._elementRef,!0),this.isRoundButton&&(this.color="accent")}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(Ha),r.Nb(dl,8))},t.\u0275cmp=r.Hb({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&r.xc(Pl,!0),2&t&&r.jc(n=r.bc())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:3,hostBindings:function(t,e){2&t&&(r.Db("disabled",e.disabled||null),r.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.zb],attrs:df,ngContentSelectors:ff,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.ec(),r.Sb(0,"span",0),r.dc(1),r.Rb(),r.Ob(2,"div",1),r.Ob(3,"div",2)),2&t&&(r.Cb(2),r.Eb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.fc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[Pl],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})(),bf=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[Dl,bl],bl]}),t})();function _f(t,e){if(1&t&&(r.Sb(0,"mat-error",11),r.tc(1),r.Rb()),2&t){const t=r.cc();r.Cb(1),r.uc(t.wrongMailMessage)}}function vf(t,e){if(1&t&&(r.Sb(0,"mat-error",11),r.tc(1),r.Rb()),2&t){const t=r.cc();r.Cb(1),r.uc(t.wrongPasswordMessage)}}let wf=(()=>{class t{constructor(t,e,n,r){this.dialogRef=t,this.auth=e,this.router=n,this.noteMaker=r,this.isLoginMode=!0,this.isLoading=!1,this.wrongMail=!1,this.wrongPassword=!1}ngOnInit(){this.signInForm=new Es({email:new ws(null),password:new ws(null)})}onSubmit(){this.wrongMail=!1,this.wrongPassword=!1,this.wrongMailMessage=null,this.wrongPasswordMessage=null,this.isLoading=!0;const{email:t,password:e}=this.signInForm.value;let n;n=this.isLoginMode?this.auth.signIn(t,e):this.auth.signUp(t,e),n.subscribe(t=>{this.isLoading=!1,console.log("redirecting"),this.dialogRef.close(),this.router.navigate(["/notes"])},t=>{const e=t.error.error.message;console.log(e),this.errorHandling(e),this.isLoading=!1})}onSwitchLogMode(){this.isLoginMode=!this.isLoginMode,console.log("switching")}errorHandling(t){switch(console.log("errorHandling"),t){case"EMAIL_NOT_FOUND":this.wrongMailMessage="E-mail not found!",this.wrongMail=!0;break;case"INVALID_PASSWORD":console.log("error invalid password"),this.wrongPasswordMessage="Invalid password!",this.wrongPassword=!0;break;case"INVALID_EMAIL":console.log("error invalid email"),this.wrongMailMessage="Invalid e-mail!",this.wrongMail=!0;break;case"MISSING_PASSWORD":this.wrongPasswordMessage="Missing password!",this.wrongPassword=!0;break;case"MISSING_EMAIL":this.wrongMailMessage="Missing e-mail!",this.wrongMail=!0;break;case"EMAIL_EXISTS":this.wrongMailMessage="E-mail already registered!",this.wrongMail=!0}}resetErrors(){this.wrongMail=!1,this.wrongPassword=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Ul),r.Nb(Kh),r.Nb($r),r.Nb(_d))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-log-form"]],decls:16,vars:5,consts:[["id","signInForm"],["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],[1,"form-group"],["matInput","","type","email","placeholder","Type your e-mail","formControlName","email",3,"click"],["class","error-message",4,"ngIf"],["matInput","","type","password","placeholder","Type your password","formControlName","password",3,"click"],["mat-dialog-actions",""],["mat-button","",3,"click"],[3,"click"],[1,"error-message"]],template:function(t,e){1&t&&(r.Sb(0,"section",0),r.Sb(1,"h3",1),r.tc(2),r.Rb(),r.Sb(3,"div",2),r.Sb(4,"form",3),r.Sb(5,"mat-form-field",4),r.Sb(6,"input",5),r.ac("click",(function(){return e.resetErrors()})),r.Rb(),r.Rb(),r.rc(7,_f,2,1,"mat-error",6),r.Sb(8,"mat-form-field",4),r.Sb(9,"input",7),r.ac("click",(function(){return e.resetErrors()})),r.Rb(),r.Rb(),r.rc(10,vf,2,1,"mat-error",6),r.Rb(),r.Rb(),r.Sb(11,"div",8),r.Sb(12,"button",9),r.ac("click",(function(){return e.onSubmit()})),r.tc(13,"Submit"),r.Rb(),r.Sb(14,"small",10),r.ac("click",(function(){return e.onSwitchLogMode()})),r.tc(15),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Cb(2),r.uc(e.isLoginMode?"Sign in":"Sign up"),r.Cb(2),r.fc("formGroup",e.signInForm),r.Cb(3),r.fc("ngIf",e.wrongMail),r.Cb(3),r.fc("ngIf",e.wrongPassword),r.Cb(5),r.uc(e.isLoginMode?"Wanna sign up?":"Wanna log in?"))},directives:[Gl,Kl,js,Di,Fs,Xd,lf,Si,Pi,Ws,N,Ql,yf,Fd],styles:["#signInForm[_ngcontent-%COMP%]{width:250px;height:auto;padding:20px 20px 25px}#signInForm[_ngcontent-%COMP%], #signInForm[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}#signInForm[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{width:200px}#signInForm[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column}#signInForm[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#00f;cursor:pointer}#signInForm[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]{margin-top:10px}#signInForm[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.8rem}"]}),t})(),Ef=(()=>{class t{constructor(){this.invokeNavbarLoginComponent=new Ct.a}onInvokeNavbarLoginComponent(){this.invokeNavbarLoginComponent.next()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Cf(t,e){if(1&t&&(r.Sb(0,"li",6),r.tc(1),r.Rb()),2&t){const t=r.cc();r.Cb(1),r.uc(t.userName)}}function Sf(t,e){if(1&t){const t=r.Tb();r.Sb(0,"li"),r.Sb(1,"a",7),r.ac("click",(function(){return r.lc(t),r.cc().openDialog()})),r.tc(2,"Log In"),r.Rb(),r.Rb()}}function Of(t,e){if(1&t){const t=r.Tb();r.Sb(0,"li"),r.Sb(1,"a",7),r.ac("click",(function(){return r.lc(t),r.cc().logout()})),r.tc(2,"Log out"),r.Rb(),r.Rb()}}let xf=(()=>{class t{constructor(t,e,n,r){this.dialog=t,this.auth=e,this.router=n,this.eventEmitter=r,this.isLoggedIn=!1,this.userName=null}ngOnInit(){this.userSub=this.auth.user.subscribe(t=>{this.isLoggedIn=!!t,t&&(this.userName=t.email.split("@")[0])}),this.eventEmitter.subsVar=this.eventEmitter.invokeNavbarLoginComponent.subscribe(()=>{this.openDialog()})}openDialog(){this.dialog.open(wf,{width:"300px",height:"330px"})}logout(){this.auth.logout(),this.router.navigate(["/home"])}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Wl),r.Nb(Kh),r.Nb($r),r.Nb(Ef))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-navbar"]],viewQuery:function(t,e){var n;1&t&&r.xc(md,!0),2&t&&r.jc(n=r.bc())&&(e.signIn=n.first)},decls:9,vars:3,consts:[["id","navbar"],[1,"title-container"],["href","#"],[1,"log-container"],["class","username",4,"ngIf"],[4,"ngIf"],[1,"username"],[3,"click"]],template:function(t,e){1&t&&(r.Sb(0,"nav",0),r.Sb(1,"div",1),r.Sb(2,"a",2),r.tc(3,"NotesAPP"),r.Rb(),r.Rb(),r.Sb(4,"div"),r.Sb(5,"ul",3),r.rc(6,Cf,2,1,"li",4),r.rc(7,Sf,3,0,"li",5),r.rc(8,Of,3,0,"li",5),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Cb(6),r.fc("ngIf",e.isLoggedIn),r.Cb(1),r.fc("ngIf",!e.isLoggedIn),r.Cb(1),r.fc("ngIf",e.isLoggedIn))},directives:[N],styles:["#navbar[_ngcontent-%COMP%]{background-color:#0d1f2d;color:#fff;display:flex;align-items:center;justify-content:space-between}#navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:inherit}#navbar[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}#navbar[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:20px;font-size:2rem}#navbar[_ngcontent-%COMP%]   .log-container[_ngcontent-%COMP%]{display:flex;font-size:1rem;padding:0 15px}#navbar[_ngcontent-%COMP%]   .log-container[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#0f0;margin-right:5px}"]}),t})(),If=(()=>{class t{constructor(t){this.auth=t,this.title="notesAppContentEditable"}ngOnInit(){this.auth.autologin()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Kh))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Ob(0,"app-navbar"),r.Ob(1,"router-outlet"))},directives:[xf,Jr],styles:["h1[_ngcontent-%COMP%]{text-align:center}"]}),t})();function Tf(t,e){if(1&t){const t=r.Tb();r.Sb(0,"button",6),r.ac("click",(function(){return r.lc(t),r.cc().searchNotes("")})),r.Sb(1,"mat-icon"),r.tc(2,"X"),r.Rb(),r.Rb()}}let kf=(()=>{class t{constructor(){this.searchValueEmitted=new r.n,this.toggleSearchBar=new r.n}ngOnInit(){}searchNotes(t){""===t&&(this.value=""),this.searchValueEmitted.emit(t)}clearField(){this.value="",console.log(this.value)}toggleSearch(){this.toggleSearchBar.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-search-bar"]],outputs:{searchValueEmitted:"searchValueEmitted",toggleSearchBar:"toggleSearchBar"},decls:11,vars:2,consts:[[1,"searchbar"],[1,"search-field"],["matInput","","type","text",3,"ngModel","keyup","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"search-icon"],["mat-icon-button","","color","basic",3,"click"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"mat-form-field"),r.Sb(3,"mat-label"),r.tc(4,"Search notes"),r.Rb(),r.Sb(5,"input",2),r.ac("keyup",(function(){return e.searchNotes(e.value)}))("ngModelChange",(function(t){return e.value=t})),r.Rb(),r.rc(6,Tf,3,0,"button",3),r.Rb(),r.Rb(),r.Sb(7,"div",4),r.Sb(8,"button",5),r.ac("click",(function(){return e.toggleSearch()})),r.Sb(9,"mat-icon"),r.tc(10,"search"),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Cb(5),r.fc("ngModel",e.value),r.Cb(1),r.fc("ngIf",e.value))},directives:[Xd,Hd,lf,Si,Pi,Ns,N,yf,Wh,Gd],styles:[".searchbar[_ngcontent-%COMP%]{border:1px solid hsla(0,0%,50.2%,.289);border-radius:50px;padding:10px 0 5px 70px;width:350px;display:flex;margin:30px 0;box-shadow:3px -2px 6px -2px rgba(0,0,0,.2)}.search-field[_ngcontent-%COMP%]{width:260px}.search-field[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.search-icon[_ngcontent-%COMP%]{position:relative;width:100px}.search-icon[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:6px;right:14px}.search-icon[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:scale(2.5);color:#0d1f2d}"]}),t})();function Af(t){const{subscriber:e,counter:n,period:r}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}function Pf(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Df(t,e){const n=e?"":"none";Pf(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function Rf(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function Nf(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function jf(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function Mf(t,e,n){const{top:r,bottom:i,left:s,right:o}=t;return n>=r&&n<=i&&e>=s&&e<=o}function Lf(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function Ff(t,e,n,r){const{top:i,right:s,bottom:o,left:a,width:c,height:u}=t,l=c*e,h=u*e;return r>i-h&&r<o+h&&n>a-l&&n<s+l}class Vf{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:jf(t)})})}handleScroll(t){const e=t.target,n=this.positions.get(e);if(!n)return null;const r=e===this._document?e.documentElement:e,i=n.scrollPosition;let s,o;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();s=t.top,o=t.left}else s=e.scrollTop,o=e.scrollLeft;const a=i.top-s,c=i.left-o;return this.positions.forEach((t,n)=>{t.clientRect&&e!==n&&r.contains(n)&&Lf(t.clientRect,a,c)}),i.top=s,i.left=o,{top:a,left:c}}}const Uf=No({passive:!0}),Bf=No({passive:!1});class zf{constructor(t,e,n,r,i,s){this._config=e,this._document=n,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new Ct.a,this._pointerMoveSubscription=xe.a.EMPTY,this._pointerUpSubscription=xe.a.EMPTY,this._scrollSubscription=xe.a.EMPTY,this._resizeSubscription=xe.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Ct.a,this.started=new Ct.a,this.released=new Ct.a,this.ended=new Ct.a,this.entered=new Ct.a,this.exited=new Ct.a,this.dropped=new Ct.a,this.moved=this._moveEvents.asObservable(),this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=t.target;return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{t.preventDefault();const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){if(!(Date.now()>=this._dragStartTime+this._getDragStartDelay(t)))return void this._endDragSequence(t);this._dropContainer&&this._dropContainer.isDragging()||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n);else{const t=this._activeTransform;t.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:t,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t),this._parentPositions=new Vf(n,i),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Ys(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){return this._handles=t.map(t=>to(t)),this._handles.forEach(t=>Df(t,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=to(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Bf),e.addEventListener("touchstart",this._pointerDown,Uf)}),this._initialTransform=void 0,this._rootElement=e),this}withBoundaryElement(t){return this._boundaryElement=t?to(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&$f(this._rootElement),$f(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}enableHandle(t){this._disabledHandles.delete(t)}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._pointerPositionAtLastDirectionChange;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t))}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&$f(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&$f(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){this.started.next({source:this}),Gf(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,r=t.parentNode,i=this._preview=this._createPreviewElement(),s=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment("");r.insertBefore(o,t),t.style.display="none",this._document.body.appendChild(r.replaceChild(s,t)),(n=this._document,n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body).appendChild(i),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this._initialContainer=this._initialIndex=void 0;var n;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){e.stopPropagation();const n=this.isDragging(),r=Gf(e),i=!r&&0!==e.button,s=this._rootElement,o=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),n||i||o)return;this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor,s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=jf(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const c=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){this._rootElement.style.display="",this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),i=this._getDragDistance(this._getPointerPositionOnPage(t)),s=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:i}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:i}),e.drop(this,n,this._initialContainer,s,i,this._initialIndex),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e}){let n=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!n&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(n=this._initialContainer),n&&n!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=n,this._dropContainer.enter(this,t,e,n===this._initialContainer&&n.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:n,currentIndex:n.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(t,e),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=qf(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let r;if(n&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,i=t.viewContainer.createEmbeddedView(n,t.context);i.detectChanges(),r=Kf(i,this._document),this._previewRef=i,t.matchSize?Qf(r,e):r.style.transform=qf(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;r=Hf(t),Qf(r,t.getBoundingClientRect())}return Pf(r.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),Df(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>r.classList.add(t)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=qf(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=Nf(e,"transition-property"),r=n.find(t=>"transform"===t||"all"===t);if(!r)return 0;const i=n.indexOf(r),s=Nf(e,"transition-duration"),o=Nf(e,"transition-delay");return Rf(s[i])+Rf(o[i])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",n),t(),clearTimeout(r))},r=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=Kf(this._placeholderRef,this._document)):n=Hf(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),r=t===this._rootElement?null:t,i=r?r.getBoundingClientRect():n,s=Gf(e)?e.targetTouches[0]:e,o=this._getViewportScrollPosition();return{x:i.left-n.left+(s.pageX-i.left-o.left),y:i.top-n.top+(s.pageY-i.top-o.top)}}_getPointerPositionOnPage(t){const e=Gf(t)?t.touches[0]||t.changedTouches[0]:t,n=this._getViewportScrollPosition();return{x:e.pageX-n.left,y:e.pageY-n.top}}_getConstrainedPointerPosition(t){const e=this.constrainPosition?this.constrainPosition(t,this):t,n=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===n?e.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==n||(e.x=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:n}=this._pickupPositionInElement,r=this._boundaryRect,i=this._previewRect,s=r.top+n,o=r.bottom-(i.height-n);e.x=Wf(e.x,r.left+t,r.right-(i.width-t)),e.y=Wf(e.y,s,o)}return e}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,r=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-i.x),o=Math.abs(n-i.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=e>i.x?1:-1,i.x=e),o>this._config.pointerDirectionChangeThreshold&&(r.y=n>i.y?1:-1,i.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Df(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,Bf),t.removeEventListener("touchstart",this._pointerDown,Uf)}_applyRootElementTransform(t,e){const n=qf(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===r.width&&0===r.height)return;const i=n.left-r.left,s=r.right-n.right,o=n.top-r.top,a=r.bottom-n.bottom;n.width>r.width?(i>0&&(t+=i),s>0&&(t-=s)):t=0,n.height>r.height?(o>0&&(e+=o),a>0&&(e-=a)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Gf(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);this._boundaryRect&&e&&Lf(this._boundaryRect,e.top,e.left)}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}}function qf(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function Hf(t){const e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),r=t.querySelectorAll("canvas");e.removeAttribute("id");for(let i=0;i<n.length;i++)n[i].removeAttribute("id");if(r.length){const t=e.querySelectorAll("canvas");for(let e=0;e<r.length;e++){const n=t[e].getContext("2d");n&&n.drawImage(r[e],0,0)}}return e}function Wf(t,e,n){return Math.max(e,Math.min(n,t))}function $f(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Gf(t){return"t"===t.type[0]}function Kf(t,e){const n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];const r=e.createElement("div");return n.forEach(t=>r.appendChild(t)),r}function Qf(t,e){t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.transform=qf(e.left,e.top)}function Yf(t,e){return Math.max(0,Math.min(e,t))}class Jf{constructor(t,e,n,r,i){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=i,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new Ct.a,this.entered=new Ct.a,this.exited=new Ct.a,this.dropped=new Ct.a,this.sorted=new Ct.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=xe.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Ct.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=fo.a){return(!Object(go.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=fo.a),new xt.a(n=>(n.add(e.schedule(Af,t,{subscriber:n,counter:0,period:t})),n))}(0,co).pipe(_o(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode;1===this._verticalScrollDirection?Xf(t,-2):2===this._verticalScrollDirection&&Xf(t,2),1===this._horizontalScrollDirection?tp(t,-2):2===this._horizontalScrollDirection&&tp(t,2)})},this.element=to(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new Vf(n,i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const t=to(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach(t=>t._startReceiving(this)),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}enter(t,e,n,r){let i;this.start(),null==r?(i=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===i&&(i=this._getItemIndexFromPointerPosition(t,e,n))):i=r;const s=this._activeDraggables,o=s.indexOf(t),a=t.getPlaceholderElement();let c=s[i];if(c===t&&(c=s[i+1]),o>-1&&s.splice(o,1),c&&!this._dragDropRegistry.isDragging(c)){const e=c.getRootElement();e.parentElement.insertBefore(a,e),s.splice(i,0,t)}else{const r=to(this.element);this._shouldEnterAsFirstChild(e,n)?(r.insertBefore(a,s[0].getRootElement()),s.unshift(t)):(r.appendChild(a),s.push(t))}a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,r,i,s){this._reset(),null==s&&(s=n.getItemIndex(t)),this.dropped.next({item:t,currentIndex:e,previousIndex:s,container:this,previousContainer:n,isPointerOverContainer:r,distance:i})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=to(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?Zf("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,r){if(this.sortingDisabled||!Ff(this._clientRect,.05,e,n))return;const i=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,e,n,r);if(-1===s&&i.length>0)return;const o="horizontal"===this._orientation,a=Zf(i,e=>e.drag===t),c=i[s],u=i[a].clientRect,l=c.clientRect,h=a>s?1:-1;this._previousSwap.drag=c.drag,this._previousSwap.delta=o?r.x:r.y;const d=this._getItemOffsetPx(u,l,h),f=this._getSiblingOffsetPx(a,i,h),p=i.slice();!function(t,e,n){const r=Yf(e,t.length-1),i=Yf(n,t.length-1);if(r===i)return;const s=t[r],o=i<r?-1:1;for(let a=r;a!==i;a+=o)t[a]=t[a+o];t[i]=s}(i,a,s),this.sorted.next({previousIndex:a,currentIndex:s,container:this,item:t}),i.forEach((e,n)=>{if(p[n]===e)return;const r=e.drag===t,i=r?d:f,s=r?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=i,o?(s.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,Lf(e.clientRect,0,i)):(s.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,Lf(e.clientRect,i,0))})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,r=0,i=0;if(this._parentPositions.positions.forEach((s,o)=>{o!==this._document&&s.clientRect&&!n&&Ff(s.clientRect,.05,t,e)&&([r,i]=function(t,e,n,r){const i=ep(e,r),s=np(e,n);let o=0,a=0;if(i){const e=t.scrollTop;1===i?e>0&&(o=1):t.scrollHeight-e>t.clientHeight&&(o=2)}if(s){const e=t.scrollLeft;1===s?e>0&&(a=1):t.scrollWidth-e>t.clientWidth&&(a=2)}return[o,a]}(o,s.clientRect,t,e),(r||i)&&(n=o))}),!r&&!i){const{width:s,height:o}=this._viewportRuler.getViewportSize(),a={width:s,height:o,top:0,right:s,bottom:o,left:0};r=ep(a,e),i=np(a,t),n=window}!n||r===this._verticalScrollDirection&&i===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=r,this._horizontalScrollDirection=i,this._scrollNode=n,(r||i)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheParentPositions(){const t=to(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,clientRect:jf(e)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const t=to(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,n){const r="horizontal"===this._orientation,i=e[t].clientRect,s=e[t+-1*n];let o=i[r?"width":"height"]*n;if(s){const t=r?"left":"top",e=r?"right":"bottom";-1===n?o-=s.clientRect[t]-i[e]:o+=i[t]-s.clientRect[e]}return o}_getItemOffsetPx(t,e,n){const r="horizontal"===this._orientation;let i=r?e.left-t.left:e.top-t.top;return-1===n&&(i+=r?e.width-t.width:e.height-t.height),i}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,r="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const i=n[n.length-1].clientRect;return r?t>=i.right:e>=i.bottom}{const i=n[0].clientRect;return r?t<=i.left:e<=i.top}}_getItemIndexFromPointerPosition(t,e,n,r){const i="horizontal"===this._orientation;return Zf(this._itemPositions,({drag:s,clientRect:o},a,c)=>{if(s===t)return c.length<2;if(r){const t=i?r.x:r.y;if(s===this._previousSwap.drag&&t===this._previousSwap.delta)return!1}return i?e>=Math.floor(o.left)&&e<Math.floor(o.right):n>=Math.floor(o.top)&&n<Math.floor(o.bottom)})}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return Mf(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(r=>r._canReceive(t,e,n))}_canReceive(t,e,n){if(!Mf(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,n);if(!r)return!1;const i=to(this.element);return r===i||i.contains(r)}_startReceiving(t){const e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{Lf(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=jo(to(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}function Zf(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function Xf(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function tp(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function ep(t,e){const{top:n,bottom:r,height:i}=t,s=.05*i;return e>=n-s&&e<=n+s?1:e>=r-s&&e<=r+s?2:0}function np(t,e){const{left:n,right:r,width:i}=t,s=.05*i;return e>=n-s&&e<=n+s?1:e>=r-s&&e<=r+s?2:0}const rp=No({passive:!1,capture:!0});let ip=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new Ct.a,this.pointerUp=new Ct.a,this.scroll=new Ct.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.size&&t.preventDefault()},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._preventDefaultWhileDragging,rp)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,rp)}startDragging(t,e){if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){const t=e.type.startsWith("touch"),n=t?"touchend":"mouseup";this._globalListeners.set(t?"touchmove":"mousemove",{handler:t=>this.pointerMove.next(t),options:rp}).set(n,{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:rp}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances.has(t)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.z),r.Wb(a))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(r.z),Object(r.Wb)(a))},token:t,providedIn:"root"}),t})();const sp={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let op=(()=>{class t{constructor(t,e,n,r){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=r}createDrag(t,e=sp){return new zf(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Jf(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a),r.Wb(r.z),r.Wb(Uo),r.Wb(ip))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(a),Object(r.Wb)(r.z),Object(r.Wb)(Uo),Object(r.Wb)(ip))},token:t,providedIn:"root"}),t})();const ap=new r.q("CDK_DRAG_PARENT");let cp=(()=>{class t{constructor(t,e){this.element=t,this._stateChanges=new Ct.a,this._disabled=!1,this._parentDrag=e,Df(t.nativeElement,!1)}get disabled(){return this._disabled}set disabled(t){this._disabled=Ys(t),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(ap,8))},t.\u0275dir=r.Ib({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]}}),t})(),up=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.L))},t.\u0275dir=r.Ib({type:t,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"}}),t})(),lp=(()=>{class t{constructor(t){this.templateRef=t,this._matchSize=!1}get matchSize(){return this._matchSize}set matchSize(t){this._matchSize=Ys(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.L))},t.\u0275dir=r.Ib({type:t,selectors:[["ng-template","cdkDragPreview",""]],inputs:{matchSize:"matchSize",data:"data"}}),t})();const hp=new r.q("CDK_DRAG_CONFIG"),dp=new r.q("CDK_DROP_LIST");let fp=(()=>{class t{constructor(t,e,n,i,s,o,a,c,u){this.element=t,this.dropContainer=e,this._document=n,this._ngZone=i,this._viewContainerRef=s,this._dir=a,this._changeDetectorRef=u,this._destroyed=new Ct.a,this.started=new r.n,this.released=new r.n,this.ended=new r.n,this.entered=new r.n,this.exited=new r.n,this.dropped=new r.n,this.moved=new xt.a(t=>{const e=this._dragRef.moved.pipe(Object(Ft.a)(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=c.createDrag(t,{dragStartThreshold:o&&null!=o.dragStartThreshold?o.dragStartThreshold:5,pointerDirectionChangeThreshold:o&&null!=o.pointerDirectionChangeThreshold?o.pointerDirectionChangeThreshold:5,zIndex:null==o?void 0:o.zIndex}),this._dragRef.data=this,o&&this._assignDefaults(o),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Ys(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.asObservable().pipe(ce(1),_o(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(_e(this._handles),Object(Oe.a)(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._dragRef.withHandles(e)}),me(t=>Object(ro.a)(...t.map(t=>t._stateChanges.pipe(_e(t))))),_o(this._destroyed)).subscribe(t=>{const e=this._dragRef,n=t.element.nativeElement;t.disabled?e.disableHandle(n):e.enableHandle(n)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(t){const e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?pp(t,this.rootElementSelector):t;if(e&&e.nodeType!==this._document.ELEMENT_NODE)throw Error(`cdkDrag must be attached to an element node. Currently attached to "${e.nodeName}".`);this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;if(!t)return null;if("string"==typeof t)return pp(this.element.nativeElement,t);const e=to(t);if(Object(r.W)()&&!e.contains(this.element.nativeElement))throw Error("Draggable element is not inside of the node passed into cdkDragBoundary.");return e}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const e=this._dir,n=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,i=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof n&&n?n:Js(n),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(i),e&&t.withDirection(e.value)}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:n,constrainPosition:r,previewClass:i,boundaryElement:s,draggingDisabled:o,rootElementSelector:a}=t;this.disabled=null!=o&&o,this.dragStartDelay=n||0,e&&(this.lockAxis=e),r&&(this.constrainPosition=r),i&&(this.previewClass=i),s&&(this.boundaryElement=s),a&&(this.rootElementSelector=a)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(dp,12),r.Nb(a),r.Nb(r.z),r.Nb(r.P),r.Nb(hp,8),r.Nb(Lo,8),r.Nb(op),r.Nb(r.h))},t.\u0275dir=r.Ib({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Gb(n,lp,!0),r.Gb(n,up,!0),r.Gb(n,cp,!0)),2&t&&(r.jc(i=r.bc())&&(e._previewTemplate=i.first),r.jc(i=r.bc())&&(e._placeholderTemplate=i.first),r.jc(i=r.bc())&&(e._handles=i))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&r.Eb("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[r.Bb([{provide:ap,useExisting:t}]),r.Ab]}),t})();function pp(t,e){let n=t.parentElement;for(;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}let mp=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[op],imports:[Bo]}),t})();const gp=["title"],yp=["content"],bp=["note"],_p=function(t){return{"background-color":t}};function vp(t,e){if(1&t){const t=r.Tb();r.Sb(0,"span",13),r.ac("click",(function(){r.lc(t);const n=e.$implicit;return r.cc().updateColor(n.color)})),r.Rb()}2&t&&r.fc("ngStyle",r.hc(1,_p,e.$implicit.backgroundColor))}const wp=function(t){return["note-buttons-container",t]},Ep=function(t,e){return{open:t,"":e}};let Cp=(()=>{class t{constructor(t){this.notemaker=t,this.state="closed",this.noteColors=[{color:"yellow",barColor:"#FDE84F",backgroundColor:"#FEF3A1"},{color:"blue",barColor:"#8DF0FE",backgroundColor:"#AFF4FE"},{color:"green",barColor:"#87fc89",backgroundColor:"#b4fda5"},{color:"pink",barColor:"#fdb2b3",backgroundColor:"#fec7c8"},{color:"violet",barColor:"#9cb7fc",backgroundColor:"#b7cbfd"},{color:"grey",barColor:"#dadada",backgroundColor:"#eeeeee"}]}ngOnInit(){this.setNoteColors(this.note.color),no(this.title.nativeElement,"keyup").pipe(Ia(4e3)).subscribe(t=>{this.updateNote(this.note.id,this.title,this.content)}),no(this.content.nativeElement,"keyup").pipe(Ia(4e3)).subscribe(t=>{this.updateNote(this.note.id,this.title,this.content)}),no(this.title.nativeElement,"click").subscribe(t=>{const e=t.target.innerText;console.log(e),"Type a title"==e&&(this.title.nativeElement.innerText="")}),no(this.content.nativeElement,"click").subscribe(t=>{const e=t.target.innerText;console.log(e),"Type content"==e&&(this.content.nativeElement.innerText="")})}updateNote(t,e,n){this.notemaker.updateNote(t,e,n)}removeNote(t){this.notemaker.removeNote(t)}dragEnd(t){console.log(t)}setNoteColors(t){switch(console.log(t),t){case"yellow":console.log("yellow picked"),this.buttonContainerColor="yellowButtonContainer",this.noteColor="yellowContainer";break;case"blue":console.log("blue picked"),this.buttonContainerColor="blueButtonContainer",this.noteColor="blueContainer";break;case"green":console.log("green picked"),this.buttonContainerColor="greenButtonContainer",this.noteColor="greenContainer";break;case"pink":console.log("pink picked"),this.buttonContainerColor="pinkButtonContainer",this.noteColor="pinkContainer";break;case"violet":console.log("violet picked"),this.buttonContainerColor="violetButtonContainer",this.noteColor="violetContainer";break;case"grey":console.log("grey picked"),this.buttonContainerColor="greyButtonContainer",this.noteColor="greyContainer";break;default:console.log("default picked"),this.buttonContainerColor="yellowButtonContainer",this.noteColor="yellowContainer"}}updateColor(t){this.setNoteColors(t),console.log(t),console.log(this.noteColor,this.buttonContainerColor),this.notemaker.updateColor(this.note.id,t)}getLocalTime(){const t=new Date(this.note.date);return`${t.toLocaleTimeString("sp-SP")} ${t.toLocaleDateString("sp-SP")}`}switchState(){this.state="closed"===this.state?"open":"closed",console.log(this.state)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(_d))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-note"]],viewQuery:function(t,e){var n;1&t&&(r.pc(gp,!0),r.pc(yp,!0),r.pc(bp,!0)),2&t&&(r.jc(n=r.bc())&&(e.title=n.first),r.jc(n=r.bc())&&(e.content=n.first),r.jc(n=r.bc())&&(e.noteContainer=n.first))},inputs:{note:"note"},decls:19,vars:14,consts:[["id","note","cdkDrag","",3,"ngClass"],[3,"ngClass"],["mat-mini-fab","",1,"colors-button",3,"click"],[1,"material-icons",3,"ngClass"],[1,"note-colors-container"],["class","note-color-button",3,"ngStyle","click",4,"ngFor","ngForOf"],["mat-mini-fab","","color","accent",1,"delete-button",3,"click"],[1,"material-icons"],[1,"note-text-container"],["contenteditable","true",3,"mousedown"],["title",""],["content",""],[1,"last-edited"],[1,"note-color-button",3,"ngStyle","click"]],template:function(t,e){1&t&&(r.Sb(0,"article",0),r.Sb(1,"div",1),r.Sb(2,"button",2),r.ac("click",(function(){return e.switchState()})),r.Sb(3,"span",3),r.tc(4),r.Rb(),r.Rb(),r.Sb(5,"div",4),r.rc(6,vp,1,3,"span",5),r.Rb(),r.Sb(7,"button",6),r.ac("click",(function(){return e.removeNote(e.note.id)})),r.Sb(8,"span",7),r.tc(9," delete "),r.Rb(),r.Rb(),r.Rb(),r.Sb(10,"div",8),r.Sb(11,"h3",9,10),r.ac("mousedown",(function(t){return t.stopPropagation()})),r.tc(13),r.Rb(),r.Sb(14,"p",9,11),r.ac("mousedown",(function(t){return t.stopPropagation()})),r.tc(16),r.Rb(),r.Rb(),r.Sb(17,"span",12),r.tc(18),r.Rb(),r.Rb()),2&t&&(r.fc("ngClass",e.noteColor),r.Cb(1),r.fc("ngClass",r.hc(9,wp,e.buttonContainerColor)),r.Cb(2),r.fc("ngClass",r.ic(11,Ep,"open"===e.state,"closed"===e.state)),r.Cb(1),r.uc("open"===e.state?"check_circle_outline":"palette"),r.Cb(1),r.fc("@divState",e.state),r.Cb(1),r.fc("ngForOf",e.noteColors),r.Cb(7),r.vc(" ",e.note.title," "),r.Cb(3),r.vc(" ",e.note.content," "),r.Cb(2),r.vc("last edited: ",e.getLocalTime(),""))},directives:[fp,A,yf,D,U],styles:['#note[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:200px;min-height:200px;word-wrap:break-word;margin:15px;box-shadow:3px -2px 6px -2px rgba(0,0,0,.2);position:relative}#note[_ngcontent-%COMP%]   .note-buttons-container[_ngcontent-%COMP%]{width:100%;position:relative;height:25px}#note[_ngcontent-%COMP%]   .note-buttons-container[_ngcontent-%COMP%]   .activate-colors[_ngcontent-%COMP%]{position:absolute;top:2px;left:4px}#note[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{outline:none}#note[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;font-size:.9rem}#note[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{right:-8px}#note[_ngcontent-%COMP%]   .colors-button[_ngcontent-%COMP%], #note[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{position:absolute;bottom:-8px;transform:scale(.45)}#note[_ngcontent-%COMP%]   .colors-button[_ngcontent-%COMP%]{left:-8px}#note[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]   .open[_ngcontent-%COMP%]{color:#000;background-color:#000}#note[_ngcontent-%COMP%]   .note-text-container[_ngcontent-%COMP%]{padding:0 10px 7px}#note[_ngcontent-%COMP%]   .note-text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}#note[_ngcontent-%COMP%]   .note-buttons-container[_ngcontent-%COMP%]   .note-color-button[_ngcontent-%COMP%]{content:"";width:5px;height:5px;padding:5px;border-radius:50%;cursor:pointer;border:.5px solid rgba(0,0,0,.131);margin:0 1px}#note[_ngcontent-%COMP%]   .note-buttons-container[_ngcontent-%COMP%]   .note-colors-container[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;padding-left:5px}.yellowContainer[_ngcontent-%COMP%]{background-color:#fef3a1}#note[_ngcontent-%COMP%]   .yellowButtonContainer[_ngcontent-%COMP%]{background-color:#fde84f}.blueContainer[_ngcontent-%COMP%]{background-color:#aff4fe}#note[_ngcontent-%COMP%]   .blueButtonContainer[_ngcontent-%COMP%]{background-color:#8df0fe}.greenContainer[_ngcontent-%COMP%]{background-color:#b4fda5}#note[_ngcontent-%COMP%]   .greenButtonContainer[_ngcontent-%COMP%]{background-color:#87fc89}.pinkContainer[_ngcontent-%COMP%]{background-color:#fec7c8}#note[_ngcontent-%COMP%]   .pinkButtonContainer[_ngcontent-%COMP%]{background-color:#fdb2b3}.violetContainer[_ngcontent-%COMP%]{background-color:#b7cbfd}#note[_ngcontent-%COMP%]   .violetButtonContainer[_ngcontent-%COMP%]{background-color:#9cb7fc}.greyContainer[_ngcontent-%COMP%]{background-color:#eee}#note[_ngcontent-%COMP%]   .greyButtonContainer[_ngcontent-%COMP%]{background-color:#dadada}#note[_ngcontent-%COMP%]   .last-edited[_ngcontent-%COMP%]{position:absolute;left:38px;bottom:0;font-size:.5rem;color:hsla(0,0%,50.2%,.461)}'],data:{animation:[Qa("divState",[Xa("open",Za({width:"50px",opacity:1,backgroundColor:"transparent",transform:"translate(20px,0)",visibility:"visible"})),Xa("closed",Za({width:"0px",opacity:0,left:"-100px",transform:"translate(120px, 0)",visibility:"hidden"})),tc("closed <=> open",Ya("300ms ease-out")),tc("open => closed",Ya("300ms ease-in"))])]}}),t})();function Sp(t,e){1&t&&r.Ob(0,"app-note",7),2&t&&r.fc("note",e.$implicit)}let Op=(()=>{class t{constructor(t,e,n){this.route=t,this.notemaker=e,this.auth=n,this.isLoading=!1,this.state="hidden"}ngOnInit(){this.notes=this.route.snapshot.data.notes,this.dataCopy=this.route.snapshot.data.notes,this.auth.user.subscribe(t=>{this.uid=t.id}),this.notemaker.$notesChanged.subscribe(t=>{this.notes=t,this.dataCopy=t})}addNote(){this.notemaker.addNote()}logSearchString(t){if(this.notes=this.dataCopy,!t)return this.notes=this.dataCopy;this.notes=this.notes.filter(e=>{const n=new RegExp(t,"i");return e.title.match(n)||e.content.match(n)})}onToggleSearchBar(){this.state="hidden"===this.state?"visible":"hidden"}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Fn),r.Nb(_d),r.Nb(Kh))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-notes"]],decls:8,vars:2,consts:[["id","notes"],[1,"button-container"],["mat-fab","","color","warn",3,"click"],[1,"material-icons"],[3,"searchValueEmitted","toggleSearchBar"],[1,"notes-container"],[3,"note",4,"ngFor","ngForOf"],[3,"note"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"button",2),r.ac("click",(function(){return e.addNote()})),r.Sb(3,"span",3),r.tc(4," note_add "),r.Rb(),r.Rb(),r.Rb(),r.Sb(5,"app-search-bar",4),r.ac("searchValueEmitted",(function(t){return e.logSearchString(t)}))("toggleSearchBar",(function(){return e.onToggleSearchBar()})),r.Rb(),r.Sb(6,"div",5),r.rc(7,Sp,1,1,"app-note",6),r.Rb(),r.Rb()),2&t&&(r.Cb(5),r.fc("@searchState",e.state),r.Cb(2),r.fc("ngForOf",e.notes))},directives:[yf,kf,D,Cp],styles:["#notes[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column;position:relative}#notes[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{text-align:center;padding-top:10px}#notes[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:20px;width:100%}#notes[_ngcontent-%COMP%]   .mat-fab[_ngcontent-%COMP%]{-webkit-animation:addButton 2s linear infinite alternate;animation:addButton 2s linear infinite alternate}@-webkit-keyframes addButton{0%{transform:scale(.8)}to{transform:scale(1)}}@keyframes addButton{0%{transform:scale(.8)}to{transform:scale(1)}}"],data:{animation:[Qa("searchState",[Xa("hidden",Za({transform:"translateX(-275px)"})),Xa("visible",Za({transform:"translateX(-25px)"})),tc("hidden <=> visible",Ya("300ms ease"))])]}}),t})();var xp=n("spgP"),Ip=n("Jgta"),Tp=n("mrSG"),kp=n("zIRd"),Ap=n("q/0M"),Pp=n("qOnz"),Dp=function(t,e){return(Dp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Rp(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Np,jp="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Mp=Mp||{},Lp=jp||self;function Fp(){}function Vp(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Up(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Bp="closure_uid_"+(1e9*Math.random()>>>0),zp=0;function qp(t,e,n){return t.call.apply(t.bind,arguments)}function Hp(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Wp(t,e,n){return(Wp=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qp:Hp).apply(null,arguments)}function $p(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Gp(){return Date.now()}function Kp(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Qp(){this.j=this.j,this.i=this.i}Qp.prototype.j=!1,Qp.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Bp)&&t[Bp]||(t[Bp]=++zp)}(this)},Qp.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Yp=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Jp=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function Zp(t){return Array.prototype.concat.apply([],arguments)}function Xp(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function tm(t){return/^[\s\xa0]*$/.test(t)}var em,nm=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function rm(t,e){return-1!=t.indexOf(e)}function im(t,e){return t<e?-1:t>e?1:0}t:{var sm=Lp.navigator;if(sm){var om=sm.userAgent;if(om){em=om;break t}}em=""}function am(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function cm(t){var e={};for(var n in t)e[n]=t[n];return e}var um="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lm(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<um.length;s++)n=um[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function hm(t){return hm[" "](t),t}hm[" "]=Fp;var dm,fm,pm=rm(em,"Opera"),mm=rm(em,"Trident")||rm(em,"MSIE"),gm=rm(em,"Edge"),ym=gm||mm,bm=rm(em,"Gecko")&&!(rm(em.toLowerCase(),"webkit")&&!rm(em,"Edge"))&&!(rm(em,"Trident")||rm(em,"MSIE"))&&!rm(em,"Edge"),_m=rm(em.toLowerCase(),"webkit")&&!rm(em,"Edge");function vm(){var t=Lp.document;return t?t.documentMode:void 0}t:{var wm="",Em=(fm=em,bm?/rv:([^\);]+)(\)|;)/.exec(fm):gm?/Edge\/([\d\.]+)/.exec(fm):mm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(fm):_m?/WebKit\/(\S+)/.exec(fm):pm?/(?:Version)[ \/]?(\S+)/.exec(fm):void 0);if(Em&&(wm=Em?Em[1]:""),mm){var Cm=vm();if(null!=Cm&&Cm>parseFloat(wm)){dm=String(Cm);break t}}dm=wm}var Sm={};function Om(t){return function(t,e){var n=Sm;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=nm(String(dm)).split("."),r=nm(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=im(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||im(0==o[2].length,0==a[2].length)||im(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}var xm=Lp.document&&mm&&(vm()||parseInt(dm,10))||void 0,Im=!mm||9<=Number(xm),Tm=mm&&!Om("9"),km=function(){if(!Lp.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Lp.addEventListener("test",Fp,e),Lp.removeEventListener("test",Fp,e)}catch(n){}return t}();function Am(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Pm(t,e){if(Am.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(bm){t:{try{hm(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Dm[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Am.prototype.b=function(){this.defaultPrevented=!0},Kp(Pm,Am);var Dm={2:"touch",3:"pen",4:"mouse"};Pm.prototype.b=function(){Pm.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Tm)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Rm="closure_listenable_"+(1e6*Math.random()|0),Nm=0;function jm(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Nm,this.Y=this.Z=!1}function Mm(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Lm(t){this.src=t,this.a={},this.b=0}function Fm(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Yp(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Mm(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Vm(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}Lm.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=Vm(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new jm(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var Um="closure_lm_"+(1e6*Math.random()|0),Bm={};function zm(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}return r=Ym(r),e&&e[Rm]?e.wa(n,r,Up(i)?!!i.capture:!!i,s):qm(e,n,r,!0,i,s)}(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)zm(t,e[s],n,r,i);return null}return n=Ym(n),t&&t[Rm]?t.va(e,n,Up(r)?!!r.capture:!!r,i):qm(t,e,n,!1,r,i)}function qm(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Up(i)?!!i.capture:!!i;if(o&&!Im)return null;var a=Km(t);if(a||(t[Um]=a=new Lm(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Gm,e=Im?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)km||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Wm(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Hm(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Rm])Fm(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Wm(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Km(e))?(Fm(n,t),0==n.b&&(n.src=null,e[Um]=null)):Mm(t)}}}function Wm(t){return t in Bm?Bm[t]:Bm[t]="on"+t}function $m(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Hm(t),n.call(r,e)}function Gm(t,e){if(t.Y)return!0;if(!Im){if(!e)t:{e=["window","event"];for(var n=Lp,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return $m(t,e=new Pm(e,this))}return $m(t,new Pm(e,this))}function Km(t){return(t=t[Um])instanceof Lm?t:null}var Qm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ym(t){return"function"==typeof t?t:(t[Qm]||(t[Qm]=function(e){return t.handleEvent(e)}),t[Qm])}function Jm(){Qp.call(this),this.c=new Lm(this),this.J=this,this.C=null}function Zm(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Am(e,t);else if(e instanceof Am)e.target=e.target||t;else{var i=e;lm(e=new Am(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=Xm(o,r,!0,e)&&i}if(i=Xm(o=e.a=t,r,!0,e)&&i,i=Xm(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Xm(o=e.a=n[s],r,!1,e)&&i}function Xm(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,c=o.ca||o.src;o.Z&&Fm(t.c,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Kp(Jm,Qp),Jm.prototype[Rm]=!0,(Np=Jm.prototype).addEventListener=function(t,e,n,r){zm(this,t,e,n,r)},Np.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=Up(i)?!!i.capture:!!i,r=Ym(r),e&&e[Rm]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Vm(o=e.a[n],r,i,s))&&(Mm(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=Km(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Vm(n,r,i,s)),(r=-1<e?n[e]:null)&&Hm(r))}(this,t,e,n,r)},Np.G=function(){if(Jm.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Mm(n[r]);delete e.a[t],e.b--}}this.C=null},Np.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Np.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var tg=Lp.JSON.stringify;function eg(){this.b=this.a=null}var ng,rg=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new sg}),(function(t){t.reset()}));function ig(){var t=ug,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function sg(){this.next=this.b=this.a=null}function og(t){Lp.setTimeout((function(){throw t}),0)}function ag(t,e){ng||function(){var t=Lp.Promise.resolve(void 0);ng=function(){t.then(lg)}}(),cg||(ng(),cg=!0),ug.add(t,e)}eg.prototype.add=function(t,e){var n=rg.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},sg.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},sg.prototype.reset=function(){this.next=this.b=this.a=null};var cg=!1,ug=new eg;function lg(){for(var t;t=ig();){try{t.a.call(t.b)}catch(n){og(n)}var e=rg;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}cg=!1}function hg(t,e){Jm.call(this),this.b=t||1,this.a=e||Lp,this.f=Wp(this.Za,this),this.g=Gp()}function dg(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function fg(t,e,n){if("function"==typeof t)n&&(t=Wp(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Wp(t.handleEvent,t)}return 2147483647<Number(e)?-1:Lp.setTimeout(t,e||0)}function pg(t){t.a=fg((function(){t.a=null,t.c&&(t.c=!1,pg(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Kp(hg,Jm),(Np=hg.prototype).aa=!1,Np.M=null,Np.Za=function(){if(this.aa){var t=Gp()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Zm(this,"tick"),this.aa&&(dg(this),this.start()))}},Np.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Gp())},Np.G=function(){hg.X.G.call(this),dg(this),delete this.a};var mg=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Dp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:pg(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Lp.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Qp);function gg(t){Qp.call(this),this.b=t,this.a={}}Kp(gg,Qp);var yg=[];function bg(t,e,n,r){Array.isArray(n)||(n&&(yg[0]=n.toString()),n=yg);for(var i=0;i<n.length;i++){var s=zm(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function _g(t){am(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Hm(t)}),t),t.a={}}function vg(){this.a=!0}function wg(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return tg(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}gg.prototype.G=function(){gg.X.G.call(this),_g(this)},gg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vg.prototype.info=function(){};var Eg={},Cg=null;function Sg(){return Cg=Cg||new Jm}function Og(t){Am.call(this,Eg.Fa,t)}function xg(t){var e=Sg();Zm(e,new Og(e,t))}function Ig(t,e){Am.call(this,Eg.STAT_EVENT,t),this.stat=e}function Tg(t){var e=Sg();Zm(e,new Ig(e,t))}function kg(t){Am.call(this,Eg.Ga,t)}function Ag(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Lp.setTimeout((function(){t()}),e)}Eg.Fa="serverreachability",Kp(Og,Am),Eg.STAT_EVENT="statevent",Kp(Ig,Am),Eg.Ga="timingevent",Kp(kg,Am);var Pg={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Dg={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Rg(){}function Ng(){}Rg.prototype.a=null;var jg,Mg={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Lg(){Am.call(this,"d")}function Fg(){Am.call(this,"c")}function Vg(){}function Ug(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new gg(this),this.P=Bg,this.R=new hg(t=ym?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Kp(Lg,Am),Kp(Fg,Am),Kp(Vg,Rg),jg=new Vg;var Bg=45e3,zg={},qg={};function Hg(t,e,n){t.H=1,t.i=dy(oy(e)),t.j=n,t.I=!0,Wg(t,null)}function Wg(t,e){t.u=Gp(),Kg(t),t.l=oy(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Oy(n.b,"t",r),t.D=0,t.a=_b(t.g,t.g.C?e:null),0<t.O&&(t.F=new mg(Wp(t.Ca,t,t.a),t.O)),bg(t.J,t.a,"readystatechange",t.Xa),e=t.B?cm(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),xg(1),function(t,e,n,r,i,s){t.info((function(){if(t.a)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function $g(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Gg(t,n);if(i==qg){4==e&&(t.h=4,Tg(14),r=!1),wg(t.c,t.f,null,"[Incomplete Response]");break}if(i==zg){t.h=4,Tg(15),wg(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}wg(t.c,t.f,i,null),Xg(t,i)}4==e&&0==n.length&&(t.h=1,Tg(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),hb(e),e.F=!0,Tg(11))):(wg(t.c,t.f,n,"[Invalid Chunked Response]"),Zg(t),Jg(t))}function Gg(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?qg:(n=Number(e.substring(n,r)),isNaN(n)?zg:(r+=1)+n>e.length?qg:(e=e.substr(r,n),t.D=r+n,e))}function Kg(t){t.T=Gp()+t.P,Qg(t,t.P)}function Qg(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ag(Wp(t.Va,t),e)}function Yg(t){t.o&&(Lp.clearTimeout(t.o),t.o=null)}function Jg(t){0==t.g.v||t.A||pb(t.g,t)}function Zg(t){Yg(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,dg(t.R),_g(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Xg(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Dy(n.b,t)))if(n.I=t.N,!t.C&&Dy(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(iT){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;fb(n),nb(n)}lb(n),Tg(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Ag(Wp(n.Sa,n),6e3));if(1>=Py(n.b)&&n.ea){try{n.ea()}catch(iT){}n.ea=void 0}}else gb(n,11)}else if((t.C||n.a==t)&&fb(n),!tm(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var u=t.a;if(u){var l=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=c.b;!h.a&&(rm(l,"spdy")||rm(l,"quic")||rm(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Ry(h,h.b),h.b=null))}if(c.A){var d=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(c.na=d,hy(c.B,c.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Gp()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((c=n).la=bb(c,c.C?c.ga:null,c.fa),f.C){Ny(c.b,f);var p=f,m=c.D;m&&p.setTimeout(m),p.o&&(Yg(p),Kg(p)),c.a=f}else ub(c);0<n.g.length&&sb(n)}else"stop"!=i[0]&&"close"!=i[0]||gb(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?gb(n,7):eb(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);xg(4)}catch(iT){}}function ty(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Vp(t)||"string"==typeof t)Jp(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Vp(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Vp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function ey(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ey)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ny(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ry(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ry(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ry(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Np=Ug.prototype).setTimeout=function(t){this.P=t},Np.Xa=function(t){t=t.target;var e=this.F;e&&3==Jy(t)?e.f():this.Ca(t)},Np.Ca=function(t){try{if(t==this.a)t:{var e=Jy(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!ym&&!this.a.$())){this.A||4!=e||7==n||xg(8==n||0>=r?3:2),Yg(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tm(o)){var c=o;break e}}c=null}if(!c){this.b=!1,this.h=3,Tg(12),Zg(this),Jg(this);break t}wg(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Xg(this,c)}this.I?($g(this,e,s),ym&&this.b&&3==e&&(bg(this.J,this.R,"tick",this.Wa),this.R.start())):(wg(this.c,this.f,s,null),Xg(this,s)),4==e&&Zg(this),this.b&&!this.A&&(4==e?pb(this.g,this):(this.b=!1,Kg(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Tg(12)):(this.h=0,Tg(13)),Zg(this),Jg(this)}}}catch(u){}},Np.Wa=function(){if(this.a){var t=Jy(this.a),e=this.a.$();this.D<e.length&&(Yg(this),$g(this,t,e),this.b&&4!=t&&Kg(this))}},Np.cancel=function(){this.A=!0,Zg(this)},Np.Va=function(){this.o=null;var t=Gp();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(xg(3),Tg(17)),Zg(this),this.h=2,Jg(this)):Qg(this,this.T-t)},(Np=ey.prototype).K=function(){ny(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Np.L=function(){return ny(this),this.a.concat()},Np.get=function(t,e){return ry(this.b,t)?this.b[t]:e},Np.set=function(t,e){ry(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Np.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var iy=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function sy(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof sy){this.a=void 0!==e?e:t.a,ay(this,t.f),this.j=t.j,cy(this,t.c),uy(this,t.h),this.g=t.g,e=t.b;var n=new wy;n.c=e.c,e.a&&(n.a=new ey(e.a),n.b=e.b),ly(this,n),this.i=t.i}else t&&(n=String(t).match(iy))?(this.a=!!e,ay(this,n[1]||"",!0),this.j=fy(n[2]||""),cy(this,n[3]||"",!0),uy(this,n[4]),this.g=fy(n[5]||"",!0),ly(this,n[6]||"",!0),this.i=fy(n[7]||"")):(this.a=!!e,this.b=new wy(null,this.a))}function oy(t){return new sy(t)}function ay(t,e,n){t.f=n?fy(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function cy(t,e,n){t.c=n?fy(e,!0):e}function uy(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ly(t,e,n){e instanceof wy?(t.b=e,function(t,e){e&&!t.f&&(Ey(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Cy(this,e),Oy(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=py(e,_y)),t.b=new wy(e,t.a))}function hy(t,e,n){t.b.set(e,n)}function dy(t){return hy(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Gp()).toString(36)),t}function fy(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function py(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,my),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function my(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}sy.prototype.toString=function(){var t=[],e=this.f;e&&t.push(py(e,gy,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(py(e,gy,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(py(n,"/"==n.charAt(0)?by:yy,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",py(n,vy)),t.join("")};var gy=/[#\/\?@]/g,yy=/[#\?:]/g,by=/[#\?]/g,_y=/[#\?@]/g,vy=/#/g;function wy(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ey(t){t.a||(t.a=new ey,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Cy(t,e){Ey(t),e=xy(t,e),ry(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ry((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ny(t)))}function Sy(t,e){return Ey(t),e=xy(t,e),ry(t.a.b,e)}function Oy(t,e,n){Cy(t,e),0<n.length&&(t.c=null,t.a.set(xy(t,e),Xp(n)),t.b+=n.length)}function xy(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Np=wy.prototype).add=function(t,e){Ey(this),this.c=null,t=xy(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Np.forEach=function(t,e){Ey(this),this.a.forEach((function(n,r){Jp(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Np.L=function(){Ey(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Np.K=function(t){Ey(this);var e=[];if("string"==typeof t)Sy(this,t)&&(e=Zp(e,this.a.get(xy(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Zp(e,t[n])}return e},Np.set=function(t,e){return Ey(this),this.c=null,Sy(this,t=xy(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Np.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Np.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var Iy=function(){return function(t,e){this.b=t,this.a=e}}();function Ty(t){this.g=t||ky,t=Lp.PerformanceNavigationTiming?0<(t=Lp.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Lp.ia&&Lp.ia.ya&&Lp.ia.ya()&&Lp.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var ky=10;function Ay(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Py(t){return t.b?1:t.a?t.a.size:0}function Dy(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Ry(t,e){t.a?t.a.add(e):t.b=e}function Ny(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function jy(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Rp(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Xp(t.c)}function My(){}function Ly(){this.a=new My}function Fy(t,e,n){var r=n||"";try{ty(t,(function(t,n){var i=t;Up(t)&&(i=tg(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Vy(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Ty.prototype.cancel=function(){var t,e;if(this.c=jy(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Rp(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},My.prototype.stringify=function(t){return Lp.JSON.stringify(t,void 0)},My.prototype.parse=function(t){return Lp.JSON.parse(t,void 0)};var Uy=Lp.JSON.parse;function By(t){Jm.call(this),this.headers=new ey,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=zy,this.D=this.F=!1}Kp(By,Jm);var zy="",qy=/^https?$/i,Hy=["POST","PUT"];function Wy(t){return"content-type"==t.toLowerCase()}function $y(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Gy(t),Qy(t)}function Gy(t){t.u||(t.u=!0,Zm(t,"complete"),Zm(t,"error"))}function Ky(t){if(t.b&&void 0!==Mp&&(!t.s[1]||4!=Jy(t)||2!=t.W()))if(t.l&&4==Jy(t))fg(t.za,0,t);else if(Zm(t,"readystatechange"),4==Jy(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(iy)[1]||null;if(!s&&Lp.self&&Lp.self.location){var o=Lp.self.location.protocol;s=o.substr(0,o.length-1)}i=!qy.test(s?s.toLowerCase():"")}e=i}if(e)Zm(t,"complete"),Zm(t,"success");else{t.h=6;try{var a=2<Jy(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Gy(t)}}finally{Qy(t)}}}function Qy(t,e){if(t.a){Yy(t);var n=t.a,r=t.s[0]?Fp:null;t.a=null,t.s=null,e||Zm(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function Yy(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Lp.clearTimeout(t.m),t.m=null)}function Jy(t){return t.a?t.a.readyState:0}function Zy(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return am(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):hy(t,e,n))}function Xy(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function tb(t){this.pa=0,this.g=[],this.c=new vg,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Xy("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Xy("baseRetryDelayMs",5e3,t),this.Ra=Xy("retryDelaySeedMs",1e4,t),this.Ma=Xy("forwardChannelMaxRetries",2,t),this.ma=Xy("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ty(t&&t.concurrentRequestLimit),this.ka=new Ly,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function eb(t){if(rb(t),3==t.v){var e=t.R++,n=oy(t.B);hy(n,"SID",t.J),hy(n,"RID",e),hy(n,"TYPE","terminate"),ab(t,n),(e=new Ug(t,t.c,e,void 0)).H=2,e.i=dy(oy(n)),n=!1,Lp.navigator&&Lp.navigator.sendBeacon&&(n=Lp.navigator.sendBeacon(e.i.toString(),"")),!n&&Lp.Image&&((new Image).src=e.i,n=!0),n||(e.a=_b(e.g,null),e.a.ba(e.i)),e.u=Gp(),Kg(e)}yb(t)}function nb(t){t.a&&(hb(t),t.a.cancel(),t.a=null)}function rb(t){nb(t),t.j&&(Lp.clearTimeout(t.j),t.j=null),fb(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Lp.clearTimeout(t.h),t.h=null)}function ib(t,e){t.g.push(new Iy(t.Oa++,e)),3==t.v&&sb(t)}function sb(t){Ay(t.b)||t.h||(t.h=!0,ag(t.Ba,t),t.u=0)}function ob(t,e){var n;n=e?e.f:t.R++;var r=oy(t.B);hy(r,"SID",t.J),hy(r,"RID",n),hy(r,"AID",t.P),ab(t,r),t.i&&t.l&&Zy(r,t.i,t.l),n=new Ug(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=cb(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Ry(t.b,n),Hg(n,r,e)}function ab(t,e){t.f&&ty({},(function(t,n){hy(e,n,t)}))}function cb(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Wp(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,c=0;c<n;c++){var u=i[c].b,l=i[c].a;if(0>(u-=s))s=Math.max(0,i[c].b-100),a=!1;else try{Fy(l,o,"req"+u+"_")}catch(h){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function ub(t){t.a||t.j||(t.T=1,ag(t.Aa,t),t.o=0)}function lb(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Ag(Wp(t.Aa,t),mb(t,t.o)),t.o++,0))}function hb(t){null!=t.s&&(Lp.clearTimeout(t.s),t.s=null)}function db(t){t.a=new Ug(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=oy(t.la);hy(e,"RID","rpc"),hy(e,"SID",t.J),hy(e,"CI",t.H?"0":"1"),hy(e,"AID",t.P),ab(t,e),hy(e,"TYPE","xmlhttp"),t.i&&t.l&&Zy(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=dy(oy(e)),n.j=null,n.I=!0,Wg(n,t)}function fb(t){null!=t.m&&(Lp.clearTimeout(t.m),t.m=null)}function pb(t,e){var n=null;if(t.a==e){fb(t),hb(t),t.a=null;var r=2}else{if(!Dy(t.b,e))return;n=e.s,Ny(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Gp()-e.u;var i=t.u;Zm(r=Sg(),new kg(r,n,e,i)),sb(t)}else ub(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Py(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Ag(Wp(t.Ba,t,e),mb(t,t.u)),t.u++,0)))}(t,e)||2==r&&lb(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:gb(t,5);break;case 4:gb(t,10);break;case 3:gb(t,6);break;default:gb(t,2)}}function mb(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function gb(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Wp(t.Ya,t);n||(n=new sy("//www.google.com/images/cleardot.gif"),Lp.location&&"http"==Lp.location.protocol||ay(n,"https"),dy(n)),function(t,e){var n=new vg;if(Lp.Image){var r=new Image;r.onload=$p(Vy,n,r,"TestLoadImage: loaded",!0,e),r.onerror=$p(Vy,n,r,"TestLoadImage: error",!1,e),r.onabort=$p(Vy,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=$p(Vy,n,r,"TestLoadImage: timeout",!1,e),Lp.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Tg(2);t.v=0,t.f&&t.f.ra(e),yb(t),rb(t)}function yb(t){t.v=0,t.I=-1,t.f&&(0==jy(t.b).length&&0==t.g.length||(t.b.c.length=0,Xp(t.g),t.g.length=0),t.f.qa())}function bb(t,e,n){var r=function(t){return t instanceof sy?oy(t):new sy(t,void 0)}(n);if(""!=r.c)e&&cy(r,e+"."+r.c),uy(r,r.h);else{var i=Lp.location;r=function(t,e,n,r){var i=new sy(null,void 0);return t&&ay(i,t),e&&cy(i,e),n&&uy(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&am(t.V,(function(t,e){hy(r,e,t)})),n=t.na,(e=t.A)&&n&&hy(r,e,n),hy(r,"VER",t.ha),ab(t,r),r}function _b(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new By(t.Na)).F=t.C,e}function vb(){}function wb(){if(mm&&!(10<=Number(xm)))throw Error("Environmental error: no available transport.")}function Eb(t,e){Jm.call(this),this.a=new tb(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!tm(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tm(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Ob(this)}function Cb(t){Lg.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Sb(){Fg.call(this),this.status=1}function Ob(t){this.a=t}(Np=By.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:jg),this.a.onreadystatechange=Wp(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void $y(this,s)}t=n||"";var i=new ey(this.headers);r&&ty(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Wy,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Lp.FormData&&t instanceof Lp.FormData,!(0<=Yp(Hy,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Yy(this),0<this.o&&((this.D=function(t){return mm&&Om(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Wp(this.xa,this)):this.m=fg(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){$y(this,s)}},Np.xa=function(){void 0!==Mp&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Zm(this,"timeout"),this.abort(8))},Np.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Zm(this,"complete"),Zm(this,"abort"),Qy(this))},Np.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Qy(this,!0)),By.X.G.call(this)},Np.za=function(){this.j||(this.A||this.l||this.g?Ky(this):this.Ua())},Np.Ua=function(){Ky(this)},Np.W=function(){try{return 2<Jy(this)?this.a.status:-1}catch(fm){return-1}},Np.$=function(){try{return this.a?this.a.responseText:""}catch(fm){return""}},Np.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Uy(e)}},Np.ua=function(){return this.h},Np.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Np=tb.prototype).ha=8,Np.v=1,Np.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Ug(this,this.c,t,void 0),r=this.l;if(this.O&&(r?lm(r=cm(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=cb(this,n,e),hy(i=oy(this.B),"RID",t),hy(i,"CVER",22),this.A&&hy(i,"X-HTTP-Session-Id",this.A),ab(this,i),this.i&&r&&Zy(i,this.i,r),Ry(this.b,n),this.Ia&&hy(i,"TYPE","init"),this.da?(hy(i,"$req",e),hy(i,"SID","null"),n.U=!0,Hg(n,i,null)):Hg(n,i,e),this.v=2}}else 3==this.v&&(t?ob(this,t):0==this.g.length||Ay(this.b)||ob(this))},Np.Aa=function(){if(this.j=null,db(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ag(Wp(this.Ta,this),t)}},Np.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Tg(10),nb(this),db(this))},Np.Sa=function(){null!=this.m&&(this.m=null,nb(this),lb(this),Tg(19))},Np.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Tg(2)):(this.c.info("Failed to ping google.com"),Tg(1))},(Np=vb.prototype).ta=function(){},Np.sa=function(){},Np.ra=function(){},Np.qa=function(){},Np.Ja=function(){},wb.prototype.a=function(t,e){return new Eb(t,e)},Kp(Eb,Jm),Eb.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Tg(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=bb(t,null,t.fa),sb(t)},Eb.prototype.close=function(){eb(this.a)},Eb.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,ib(this.a,e)}else this.l?((e={}).__data__=tg(t),ib(this.a,e)):ib(this.a,t)},Eb.prototype.G=function(){this.a.f=null,delete this.f,eb(this.a),delete this.a,Eb.X.G.call(this)},Kp(Cb,Lg),Kp(Sb,Fg),Kp(Ob,vb),Ob.prototype.ta=function(){Zm(this.a,"a")},Ob.prototype.sa=function(t){Zm(this.a,new Cb(t))},Ob.prototype.ra=function(t){Zm(this.a,new Sb(t))},Ob.prototype.qa=function(){Zm(this.a,"b")},wb.prototype.createWebChannel=wb.prototype.a,Eb.prototype.send=Eb.prototype.h,Eb.prototype.open=Eb.prototype.g,Eb.prototype.close=Eb.prototype.close,Pg.NO_ERROR=0,Pg.TIMEOUT=8,Pg.HTTP_ERROR=6,Dg.COMPLETE="complete",Ng.EventType=Mg,Mg.OPEN="a",Mg.CLOSE="b",Mg.ERROR="c",Mg.MESSAGE="d",Jm.prototype.listen=Jm.prototype.va,By.prototype.listenOnce=By.prototype.wa,By.prototype.getLastError=By.prototype.Qa,By.prototype.getLastErrorCode=By.prototype.ua,By.prototype.getStatus=By.prototype.W,By.prototype.getResponseJson=By.prototype.Pa,By.prototype.getResponseText=By.prototype.$,By.prototype.send=By.prototype.ba;var xb=Pg,Ib=Dg,Tb=Eg,kb=Ng,Ab=By,Pb=n("/6Yf"),Db=function(t,e,n,r,i,s){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},Rb=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Nb=function(){function t(t){this.uid=t}return t.prototype.u=function(){return null!=this.uid},t.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Nb.UNAUTHENTICATED=new Nb(null),Nb.l=new Nb("google-credentials-uid"),Nb._=new Nb("first-party-uid");var jb=new Ap.b("@firebase/firestore");function Mb(){return jb.logLevel}function Lb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(jb.logLevel<=Ap.a.DEBUG){var r=e.map(Ub);jb.debug.apply(jb,Object(Tp.g)(["Firestore (8.1.2): "+t],r))}}function Fb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(jb.logLevel<=Ap.a.ERROR){var r=e.map(Ub);jb.error.apply(jb,Object(Tp.g)(["Firestore (8.1.2): "+t],r))}}function Vb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(jb.logLevel<=Ap.a.WARN){var r=e.map(Ub);jb.warn.apply(jb,Object(Tp.g)(["Firestore (8.1.2): "+t],r))}}function Ub(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function Bb(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.1.2) INTERNAL ASSERTION FAILED: "+t;throw Fb(e),new Error(e)}function zb(t,e){t||Bb()}function qb(t,e){return t}var Hb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Wb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Tp.c)(e,t),e}(Error),$b=function(t,e){this.user=e,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+t},Gb=function(){function t(){this.I=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.m=function(){},t.prototype.A=function(t){this.I=t,t(Nb.UNAUTHENTICATED)},t.prototype.R=function(){this.I=null},t}(),Kb=function(){function t(t){var e=this;this.P=null,this.currentUser=Nb.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){e.V++,e.currentUser=e.p(),e.g=!0,e.I&&e.I(e.currentUser)},this.V=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),t.get().then((function(t){e.auth=t,e.P&&e.auth.addAuthTokenListener(e.P)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.V!==e?(Lb("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(zb("string"==typeof n.accessToken),new $b(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.m=function(){this.forceRefresh=!0},t.prototype.A=function(t){this.I=t,this.g&&t(this.currentUser)},t.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},t.prototype.p=function(){var t=this.auth&&this.auth.getUid();return zb(null===t||"string"==typeof t),new Nb(t)},t}(),Qb=function(){function t(t,e){this.v=t,this.S=e,this.type="FirstParty",this.user=Nb._}return Object.defineProperty(t.prototype,"T",{get:function(){var t={"X-Goog-AuthUser":this.S},e=this.v.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Yb=function(){function t(t,e){this.v=t,this.S=e}return t.prototype.getToken=function(){return Promise.resolve(new Qb(this.v,this.S))},t.prototype.A=function(t){t(Nb._)},t.prototype.R=function(){},t.prototype.m=function(){},t}();function Jb(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Zb=function(){function t(){}return t.D=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Jb(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Xb(t,e){return t<e?-1:t>e?1:0}function t_(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function e_(t){return t+"\0"}var n_=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Wb(Hb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Wb(Hb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Wb(Hb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Wb(Hb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.C=function(t){return this.seconds===t.seconds?Xb(this.nanoseconds,t.nanoseconds):Xb(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),r_=function(){function t(t){this.timestamp=t}return t.N=function(e){return new t(e)},t.min=function(){return new t(new n_(0,0))},t.prototype.F=function(t){return this.timestamp.C(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t}(),i_=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Bb(),void 0===n?n=t.length-e:n>t.length-e&&Bb(),this.segments=t,this.offset=e,this.k=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.$(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.L(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.B=function(t){return this.L(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},t.prototype.U=function(){return this.segments[this.offset]},t.prototype.K=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.W=function(){return 0===this.length},t.prototype.j=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.G=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},t.$=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),s_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Tp.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.H().join("/")},e.prototype.toString=function(){return this.J()},e.Y=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Wb(Hb.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.X=function(){return new e([])},e}(i_),o_=/^[_a-zA-Z][_a-zA-Z0-9]*$/,a_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Tp.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.Z=function(t){return o_.test(t)},e.prototype.J=function(){return this.H().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.Z(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},e.et=function(){return new e(["__name__"])},e.nt=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Wb(Hb.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Wb(Hb.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Wb(Hb.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Wb(Hb.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.X=function(){return new e([])},e}(i_),c_=function(){function t(t){this.path=t}return t.st=function(e){return new t(s_.Y(e))},t.it=function(e){return new t(s_.Y(e).B(5))},t.prototype.rt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===s_.$(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.$=function(t,e){return s_.$(t.path,e.path)},t.ot=function(t){return t.length%2==0},t.ct=function(e){return new t(new s_(e.slice()))},t}();function u_(t){return null==t}function l_(t){return 0===t&&1/t==-1/0}function h_(t){return"number"==typeof t&&Number.isInteger(t)&&!l_(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var d_=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ut=null};function f_(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new d_(t,e,n,r,i,s,o)}function p_(t){var e=qb(t);if(null===e.ut){var n=e.path.J();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.J()+t.op.toString()+cv(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.J()+t.dir}(t)})).join(","),u_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=cE(e.startAt)),e.endAt&&(n+="|ub:",n+=cE(e.endAt)),e.ut=n}return e.ut}function m_(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!fE(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!iv(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lE(t.startAt,e.startAt)&&lE(t.endAt,e.endAt)}function g_(t){return c_.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}var y_=function(){function t(t){this.at=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.at)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.at)},t.prototype.ht=function(){return 2*this.at.length},t.prototype.F=function(t){return Xb(this.at,t.at)},t.prototype.isEqual=function(t){return this.at===t.at},t}();y_.lt=new y_("");var b_,__,v_=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=r_.min()),void 0===s&&(s=r_.min()),void 0===o&&(o=y_.lt),this.target=t,this.targetId=e,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.dt=function(e){return new t(this.target,this.targetId,this._t,e,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.wt=function(e,n){return new t(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Et=function(e){return new t(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,e,this.resumeToken)},t}(),w_=function(t){this.count=t};function E_(t){switch(t){case Hb.OK:return Bb();case Hb.CANCELLED:case Hb.UNKNOWN:case Hb.DEADLINE_EXCEEDED:case Hb.RESOURCE_EXHAUSTED:case Hb.INTERNAL:case Hb.UNAVAILABLE:case Hb.UNAUTHENTICATED:return!1;case Hb.INVALID_ARGUMENT:case Hb.NOT_FOUND:case Hb.ALREADY_EXISTS:case Hb.PERMISSION_DENIED:case Hb.FAILED_PRECONDITION:case Hb.ABORTED:case Hb.OUT_OF_RANGE:case Hb.UNIMPLEMENTED:case Hb.DATA_LOSS:return!0;default:return Bb()}}function C_(t){if(void 0===t)return Fb("GRPC error has no .code"),Hb.UNKNOWN;switch(t){case b_.OK:return Hb.OK;case b_.CANCELLED:return Hb.CANCELLED;case b_.UNKNOWN:return Hb.UNKNOWN;case b_.DEADLINE_EXCEEDED:return Hb.DEADLINE_EXCEEDED;case b_.RESOURCE_EXHAUSTED:return Hb.RESOURCE_EXHAUSTED;case b_.INTERNAL:return Hb.INTERNAL;case b_.UNAVAILABLE:return Hb.UNAVAILABLE;case b_.UNAUTHENTICATED:return Hb.UNAUTHENTICATED;case b_.INVALID_ARGUMENT:return Hb.INVALID_ARGUMENT;case b_.NOT_FOUND:return Hb.NOT_FOUND;case b_.ALREADY_EXISTS:return Hb.ALREADY_EXISTS;case b_.PERMISSION_DENIED:return Hb.PERMISSION_DENIED;case b_.FAILED_PRECONDITION:return Hb.FAILED_PRECONDITION;case b_.ABORTED:return Hb.ABORTED;case b_.OUT_OF_RANGE:return Hb.OUT_OF_RANGE;case b_.UNIMPLEMENTED:return Hb.UNIMPLEMENTED;case b_.DATA_LOSS:return Hb.DATA_LOSS;default:return Bb()}}(__=b_||(b_={}))[__.OK=0]="OK",__[__.CANCELLED=1]="CANCELLED",__[__.UNKNOWN=2]="UNKNOWN",__[__.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",__[__.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",__[__.NOT_FOUND=5]="NOT_FOUND",__[__.ALREADY_EXISTS=6]="ALREADY_EXISTS",__[__.PERMISSION_DENIED=7]="PERMISSION_DENIED",__[__.UNAUTHENTICATED=16]="UNAUTHENTICATED",__[__.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",__[__.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",__[__.ABORTED=10]="ABORTED",__[__.OUT_OF_RANGE=11]="OUT_OF_RANGE",__[__.UNIMPLEMENTED=12]="UNIMPLEMENTED",__[__.INTERNAL=13]="INTERNAL",__[__.UNAVAILABLE=14]="UNAVAILABLE",__[__.DATA_LOSS=15]="DATA_LOSS";var S_=function(){function t(t,e){this.$=t,this.root=e||x_.EMPTY}return t.prototype.Tt=function(e,n){return new t(this.$,this.root.Tt(e,n,this.$).copy(null,null,x_.It,null,null))},t.prototype.remove=function(e){return new t(this.$,this.root.remove(e,this.$).copy(null,null,x_.It,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.W();){var n=this.$(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.W();){var r=this.$(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.W=function(){return this.root.W()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.At=function(){return this.root.At()},t.prototype.Rt=function(){return this.root.Rt()},t.prototype.Pt=function(t){return this.root.Pt(t)},t.prototype.forEach=function(t){this.Pt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Pt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.yt=function(){return new O_(this.root,null,this.$,!1)},t.prototype.Vt=function(t){return new O_(this.root,t,this.$,!1)},t.prototype.vt=function(){return new O_(this.root,null,this.$,!0)},t.prototype.bt=function(t){return new O_(this.root,t,this.$,!0)},t}(),O_=function(){function t(t,e,n,r){this.St=r,this.Dt=[];for(var i=1;!t.W();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.St?t.left:t.right;else{if(0===i){this.Dt.push(t);break}this.Dt.push(t),t=this.St?t.right:t.left}}return t.prototype.Ct=function(){var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.St)for(t=t.left;!t.W();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.W();)this.Dt.push(t),t=t.left;return e},t.prototype.Nt=function(){return this.Dt.length>0},t.prototype.xt=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),x_=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.W=function(){return!1},t.prototype.Pt=function(t){return this.left.Pt(t)||t(this.key,this.value)||this.right.Pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.W()?this:this.left.min()},t.prototype.At=function(){return this.min().key},t.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},t.prototype.Tt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Tt(t,e,n))).Ft()},t.prototype.Ot=function(){if(this.left.W())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.Ot(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(e,i.key)){if(i.right.W())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Bt()),t.left.Mt()&&t.left.left.Mt()&&(t=t.$t()),t.left.Mt()&&t.right.Mt()&&(t=t.qt()),t},t.prototype.kt=function(){var t=this.qt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.$t())).Bt()).qt()),t},t.prototype.Lt=function(){var t=this.qt();return t.left.left.Mt()&&(t=(t=t.$t()).qt()),t},t.prototype.Bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.$t=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.qt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.Qt();return Math.pow(2,t)<=this.size+1},t.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw Bb();if(this.right.Mt())throw Bb();var t=this.left.Qt();if(t!==this.right.Qt())throw Bb();return t+(this.Mt()?0:1)},t}();x_.EMPTY=null,x_.RED=!0,x_.It=!1,x_.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Bb()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Bb()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Bb()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Bb()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Bb()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Tt=function(t,e,n){return new x_(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.W=function(){return!0},t.prototype.Pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.At=function(){return null},t.prototype.Rt=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.Qt=function(){return 0},t}());var I_=function(){function t(t){this.$=t,this.data=new S_(this.$)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.At()},t.prototype.last=function(){return this.data.Rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pt((function(e,n){return t(e),!1}))},t.prototype.Kt=function(t,e){for(var n=this.data.Vt(t[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Wt=function(t,e){var n;for(n=void 0!==e?this.data.Vt(e):this.data.yt();n.Nt();)if(!t(n.Ct().key))return},t.prototype.jt=function(t){var e=this.data.Vt(t);return e.Nt()?e.Ct().key:null},t.prototype.yt=function(){return new T_(this.data.yt())},t.prototype.Vt=function(t){return new T_(this.data.Vt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Tt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.W=function(){return this.data.W()},t.prototype.Gt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),r=e.data.yt();n.Nt();){var i=n.Ct().key,s=r.Ct().key;if(0!==this.$(i,s))return!1}return!0},t.prototype.H=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.$);return n.data=e,n},t}(),T_=function(){function t(t){this.zt=t}return t.prototype.Ct=function(){return this.zt.Ct().key},t.prototype.Nt=function(){return this.zt.Nt()},t}(),k_=new S_(c_.$);function A_(){return k_}function P_(){return A_()}var D_=new S_(c_.$);function R_(){return D_}var N_=new S_(c_.$),j_=new I_(c_.$);function M_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=j_,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var L_=new I_(Xb);function F_(){return L_}var V_=function(){function t(t){this.$=t?function(e,n){return t(e,n)||c_.$(e.key,n.key)}:function(t,e){return c_.$(t.key,e.key)},this.Ht=R_(),this.Jt=new S_(this.$)}return t.Yt=function(e){return new t(e.$)},t.prototype.has=function(t){return null!=this.Ht.get(t)},t.prototype.get=function(t){return this.Ht.get(t)},t.prototype.first=function(){return this.Jt.At()},t.prototype.last=function(){return this.Jt.Rt()},t.prototype.W=function(){return this.Jt.W()},t.prototype.indexOf=function(t){var e=this.Ht.get(t);return e?this.Jt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Jt.Pt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ht.Tt(t.key,t),e.Jt.Tt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ht.remove(t),this.Jt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Jt.yt(),r=e.Jt.yt();n.Nt();){var i=n.Ct().key,s=r.Ct().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.$=this.$,r.Ht=e,r.Jt=n,r},t}(),U_=function(){function t(){this.Xt=new S_(c_.$)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Xt.get(e);n?0!==t.type&&3===n.type?this.Xt=this.Xt.Tt(e,t):3===t.type&&1!==n.type?this.Xt=this.Xt.Tt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Xt=this.Xt.Tt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Xt=this.Xt.remove(e):1===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):Bb():this.Xt=this.Xt.Tt(e,t)},t.prototype.Zt=function(){var t=[];return this.Xt.Pt((function(e,n){t.push(n)})),t},t}(),B_=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=s,this.ne=o,this.se=a}return t.ie=function(e,n,r,i){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,V_.Yt(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ne===t.ne&&this.ee.isEqual(t.ee)&&Gw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.te.isEqual(t.te)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),z_=function(){function t(t,e,n,r,i){this.ft=t,this.re=e,this.oe=n,this.ce=r,this.ue=i}return t.ae=function(e,n){var r=new Map;return r.set(e,q_.he(e,n)),new t(r_.min(),r,F_(),A_(),M_())},t}(),q_=function(){function t(t,e,n,r,i){this.resumeToken=t,this.le=e,this._e=n,this.fe=r,this.de=i}return t.he=function(e,n){return new t(y_.lt,n,M_(),M_(),M_())},t}(),H_=function(t,e,n,r){this.we=t,this.removedTargetIds=e,this.key=n,this.Ee=r},W_=function(t,e){this.targetId=t,this.Te=e},$_=function(t,e,n,r){void 0===n&&(n=y_.lt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},G_=function(){function t(){this.Ie=0,this.me=Y_(),this.Ae=y_.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(t.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),t.prototype.Ve=function(t){t.ht()>0&&(this.Pe=!0,this.Ae=t)},t.prototype.pe=function(){var t=M_(),e=M_(),n=M_();return this.me.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Bb()}})),new q_(this.Ae,this.Re,t,e,n)},t.prototype.ve=function(){this.Pe=!1,this.me=Y_()},t.prototype.be=function(t,e){this.Pe=!0,this.me=this.me.Tt(t,e)},t.prototype.Se=function(t){this.Pe=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.Ie+=1},t.prototype.Ce=function(){this.Ie-=1},t.prototype.Ne=function(){this.Pe=!0,this.Re=!0},t}(),K_=function(){function t(t){this.xe=t,this.Fe=new Map,this.Oe=A_(),this.Me=Q_(),this.ke=new I_(Xb)}return t.prototype.$e=function(t){for(var e=0,n=t.we;e<n.length;e++){var r=n[e];t.Ee instanceof Rw?this.Le(r,t.Ee):t.Ee instanceof Nw&&this.Be(r,t.key,t.Ee)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Be(s[i],t.key,t.Ee)},t.prototype.qe=function(t){var e=this;this.Ue(t,(function(n){var r=e.Qe(n);switch(t.state){case 0:e.Ke(n)&&r.Ve(t.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(t.resumeToken);break;case 2:r.Ce(),r.ge||e.removeTarget(n);break;case 3:e.Ke(n)&&(r.Ne(),r.Ve(t.resumeToken));break;case 4:e.Ke(n)&&(e.We(n),r.Ve(t.resumeToken));break;default:Bb()}}))},t.prototype.Ue=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fe.forEach((function(t,r){n.Ke(r)&&e(r)}))},t.prototype.je=function(t){var e=t.targetId,n=t.Te.count,r=this.Ge(e);if(r){var i=r.target;if(g_(i))if(0===n){var s=new c_(i.path);this.Be(e,s,new Nw(s,r_.min()))}else zb(1===n);else this.ze(e)!==n&&(this.We(e),this.ke=this.ke.add(e))}},t.prototype.He=function(t){var e=this,n=new Map;this.Fe.forEach((function(r,i){var s=e.Ge(i);if(s){if(r.le&&g_(s.target)){var o=new c_(s.target.path);null!==e.Oe.get(o)||e.Je(i,o)||e.Be(i,o,new Nw(o,t))}r.ye&&(n.set(i,r.pe()),r.ve())}}));var r=M_();this.Me.forEach((function(t,n){var i=!0;n.Wt((function(t){var n=e.Ge(t);return!n||2===n._t||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new z_(t,n,this.ke,this.Oe,r);return this.Oe=A_(),this.Me=Q_(),this.ke=new I_(Xb),i},t.prototype.Le=function(t,e){if(this.Ke(t)){var n=this.Je(t,e.key)?2:0;this.Qe(t).be(e.key,n),this.Oe=this.Oe.Tt(e.key,e),this.Me=this.Me.Tt(e.key,this.Ye(e.key).add(t))}},t.prototype.Be=function(t,e,n){if(this.Ke(t)){var r=this.Qe(t);this.Je(t,e)?r.be(e,1):r.Se(e),this.Me=this.Me.Tt(e,this.Ye(e).delete(t)),n&&(this.Oe=this.Oe.Tt(e,n))}},t.prototype.removeTarget=function(t){this.Fe.delete(t)},t.prototype.ze=function(t){var e=this.Qe(t).pe();return this.xe.Xe(t).size+e._e.size-e.de.size},t.prototype.De=function(t){this.Qe(t).De()},t.prototype.Qe=function(t){var e=this.Fe.get(t);return e||(e=new G_,this.Fe.set(t,e)),e},t.prototype.Ye=function(t){var e=this.Me.get(t);return e||(e=new I_(Xb),this.Me=this.Me.Tt(t,e)),e},t.prototype.Ke=function(t){var e=null!==this.Ge(t);return e||Lb("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.Fe.get(t);return e&&e.ge?null:this.xe.Ze(t)},t.prototype.We=function(t){var e=this;this.Fe.set(t,new G_),this.xe.Xe(t).forEach((function(n){e.Be(t,n,null)}))},t.prototype.Je=function(t,e){return this.xe.Xe(t).has(e)},t}();function Q_(){return new S_(c_.$)}function Y_(){return new S_(c_.$)}function J_(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Z_(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function X_(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function tv(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ev(t){var e=uv(t.mapValue.fields.__local_write_time__.timestampValue);return new n_(e.seconds,e.nanos)}var nv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rv(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tv(t)?4:10:Bb()}function iv(t,e){var n=rv(t);if(n!==rv(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ev(t).isEqual(ev(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=uv(t.timestampValue),r=uv(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return hv(t.bytesValue).isEqual(hv(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return lv(t.geoPointValue.latitude)===lv(e.geoPointValue.latitude)&&lv(t.geoPointValue.longitude)===lv(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return lv(t.integerValue)===lv(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=lv(t.doubleValue),r=lv(e.doubleValue);return n===r?l_(n)===l_(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return t_(t.arrayValue.values||[],e.arrayValue.values||[],iv);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(J_(n)!==J_(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!iv(n[i],r[i])))return!1;return!0}(t,e);default:return Bb()}}function sv(t,e){return void 0!==(t.values||[]).find((function(t){return iv(t,e)}))}function ov(t,e){var n=rv(t),r=rv(e);if(n!==r)return Xb(n,r);switch(n){case 0:return 0;case 1:return Xb(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=lv(t.integerValue||t.doubleValue),r=lv(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return av(t.timestampValue,e.timestampValue);case 4:return av(ev(t),ev(e));case 5:return Xb(t.stringValue,e.stringValue);case 6:return function(t,e){var n=hv(t),r=hv(e);return n.F(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Xb(n[i],r[i]);if(0!==s)return s}return Xb(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Xb(lv(t.latitude),lv(e.latitude));return 0!==n?n:Xb(lv(t.longitude),lv(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=ov(n[i],r[i]);if(s)return s}return Xb(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Xb(r[o],s[o]);if(0!==a)return a;var c=ov(n[r[o]],i[s[o]]);if(0!==c)return c}return Xb(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Bb()}}function av(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Xb(t,e);var n=uv(t),r=uv(e),i=Xb(n.seconds,r.seconds);return 0!==i?i:Xb(n.nanos,r.nanos)}function cv(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=uv(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?hv(e.bytesValue).toBase64():"referenceValue"in e?c_.it(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,s=e.values||[];i<s.length;i++)r?r=!1:n+=",",n+=t(s[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,s=Object.keys(e.fields||{}).sort();i<s.length;i++){var o=s[i];r?r=!1:n+=",",n+=o+":"+t(e.fields[o])}return n+"}"}(e.mapValue):Bb();var n}(t)}function uv(t){if(zb(!!t),"string"==typeof t){var e=0,n=nv.exec(t);if(zb(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:lv(t.seconds),nanos:lv(t.nanos)}}function lv(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function hv(t){return"string"==typeof t?y_.fromBase64String(t):y_.fromUint8Array(t)}function dv(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function fv(t){return!!t&&"integerValue"in t}function pv(t){return!!t&&"arrayValue"in t}function mv(t){return!!t&&"nullValue"in t}function gv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yv(t){return!!t&&"mapValue"in t}var bv={asc:"ASCENDING",desc:"DESCENDING"},_v={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vv=function(t,e){this.t=t,this.tn=e};function wv(t){return{integerValue:""+t}}function Ev(t,e){if(t.tn){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:l_(e)?"-0":e}}function Cv(t,e){return h_(e)?wv(e):Ev(t,e)}function Sv(t,e){return t.tn?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ov(t,e){return t.tn?e.toBase64():e.toUint8Array()}function xv(t,e){return Sv(t,e.M())}function Iv(t){return zb(!!t),r_.N(function(t){var e=uv(t);return new n_(e.seconds,e.nanos)}(t))}function Tv(t,e){return function(t){return new s_(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).J()}function kv(t){var e=s_.Y(t);return zb(Jv(e)),e}function Av(t,e){return Tv(t.t,e.path)}function Pv(t,e){var n=kv(e);if(n.get(1)!==t.t.projectId)throw new Wb(Hb.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Wb(Hb.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new c_(jv(n))}function Dv(t,e){return Tv(t.t,e)}function Rv(t){var e=kv(t);return 4===e.length?s_.X():jv(e)}function Nv(t){return new s_(["projects",t.t.projectId,"databases",t.t.database]).J()}function jv(t){return zb(t.length>4&&"documents"===t.get(4)),t.B(5)}function Mv(t,e,n){return{name:Av(t,e),fields:n.proto.mapValue.fields}}function Lv(t,e){var n;if(e instanceof ww)n={update:Mv(t,e.key,e.value)};else if(e instanceof Iw)n={delete:Av(t,e.key)};else if(e instanceof Ew)n={update:Mv(t,e.key,e.data),updateMask:Yv(e.en)};else if(e instanceof Sw)n={transform:{document:Av(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof nw)return{fieldPath:e.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof rw)return{fieldPath:e.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof sw)return{fieldPath:e.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof aw)return{fieldPath:e.field.J(),increment:n.nn};throw Bb()}(0,t)}))}};else{if(!(e instanceof Tw))return Bb();n={verify:Av(t,e.key)}}return e.rn.sn||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:xv(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Bb()}(t,e.rn)),n}function Fv(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?fw.updateTime(Iv(t.updateTime)):void 0!==t.exists?fw.exists(t.exists):fw.on()}(e.currentDocument):fw.on();if(e.update){var r=Pv(t,e.update.name),i=new kw({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new lw((t.fieldPaths||[]).map((function(t){return a_.nt(t)})))}(e.updateMask);return new Ew(r,i,s,n)}return new ww(r,i,n)}if(e.delete){var o=Pv(t,e.delete);return new Iw(o,n)}if(e.transform){var a=Pv(t,e.transform.document),c=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(zb("REQUEST_TIME"===e.setToServerValue),n=new nw):"appendMissingElements"in e?n=new rw(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new sw(e.removeAllFromArray.values||[]):"increment"in e?n=new aw(t,e.increment):Bb();var r=a_.nt(e.fieldPath);return new hw(r,n)}(t,e)}));return zb(!0===n.exists),new Sw(a,c)}if(e.verify){var u=Pv(t,e.verify);return new Tw(u,n)}return Bb()}function Vv(t,e){return{documents:[Dv(t,e.path)]}}function Uv(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Dv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Dv(t,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(gv(t.value))return{unaryFilter:{field:$v(t.field),op:"IS_NAN"}};if(mv(t.value))return{unaryFilter:{field:$v(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(gv(t.value))return{unaryFilter:{field:$v(t.field),op:"IS_NOT_NAN"}};if(mv(t.value))return{unaryFilter:{field:$v(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$v(t.field),op:Wv(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:$v(t.field),direction:Hv(t.dir)}}(t)}))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.tn||u_(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=zv(e.startAt)),e.endAt&&(n.structuredQuery.endAt=zv(e.endAt)),n}function Bv(t){var e=Rv(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){zb(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[Qv(e)]:void 0!==e.fieldFilter?[Kv(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Bb():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new hE(Gv(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var c=null;n.limit&&(c=function(t){var e;return u_(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=qv(n.startAt));var l=null;return n.endAt&&(l=qv(n.endAt)),Lw(e,i,a,o,c,"F",u,l)}function zv(t){return{before:t.before,values:t.position}}function qv(t){return new aE(t.values||[],!!t.before)}function Hv(t){return bv[t]}function Wv(t){return _v[t]}function $v(t){return{fieldPath:t.J()}}function Gv(t){return a_.nt(t.fieldPath)}function Kv(t){return Zw.create(Gv(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Bb()}}(t.fieldFilter.op),t.fieldFilter.value)}function Qv(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Gv(t.unaryFilter.field);return Zw.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Gv(t.unaryFilter.field);return Zw.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Gv(t.unaryFilter.field);return Zw.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Gv(t.unaryFilter.field);return Zw.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Bb()}}function Yv(t){var e=[];return t.fields.forEach((function(t){return e.push(t.J())})),{fieldPaths:e}}function Jv(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Zv=function(){this.cn=void 0};function Xv(t,e,n){return t instanceof nw?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof rw?iw(t,e):t instanceof sw?ow(t,e):function(t,e){var n=ew(t,e),r=cw(n)+cw(t.nn);return fv(n)&&fv(t.nn)?wv(r):Ev(t.serializer,r)}(t,e)}function tw(t,e,n){return t instanceof rw?iw(t,e):t instanceof sw?ow(t,e):n}function ew(t,e){return t instanceof aw?fv(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var nw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Tp.c)(e,t),e}(Zv),rw=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Tp.c)(e,t),e}(Zv);function iw(t,e){for(var n=uw(e),r=function(t){n.some((function(e){return iv(e,t)}))||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var sw=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Tp.c)(e,t),e}(Zv);function ow(t,e){for(var n=uw(e),r=function(t){n=n.filter((function(e){return!iv(e,t)}))},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var aw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.nn=n,r}return Object(Tp.c)(e,t),e}(Zv);function cw(t){return lv(t.integerValue||t.doubleValue)}function uw(t){return pv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var lw=function(){function t(t){this.fields=t,t.sort(a_.$)}return t.prototype.un=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].j(t))return!0;return!1},t.prototype.isEqual=function(t){return t_(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),hw=function(t,e){this.field=t,this.transform=e},dw=function(t,e){this.version=t,this.transformResults=e},fw=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.on=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function pw(t,e){return void 0!==t.updateTime?e instanceof Rw&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Rw}var mw=function(){};function gw(t,e,n){return t instanceof ww?function(t,e,n){return new Rw(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Ew?function(t,e,n){if(!pw(t.rn,e))return new jw(t.key,n.version);var r=Cw(t,e);return new Rw(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Sw?function(t,e,n){if(zb(null!=n.transformResults),!pw(t.rn,e))return new jw(t.key,n.version);var r=Ow(0,e),i=function(t,e,n){var r=[];zb(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof Rw&&(a=e.field(s.field)),r.push(tw(o,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),s=n.version,o=xw(t,r.data(),i);return new Rw(t.key,s,o,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Nw(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function yw(t,e,n,r){return t instanceof ww?function(t,e){if(!pw(t.rn,e))return e;var n=vw(e);return new Rw(t.key,n,t.value,{an:!0})}(t,e):t instanceof Ew?function(t,e){if(!pw(t.rn,e))return e;var n=vw(e),r=Cw(t,e);return new Rw(t.key,n,r,{an:!0})}(t,e):t instanceof Sw?function(t,e,n,r){if(!pw(t.rn,e))return e;var i=Ow(0,e),s=function(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],c=a.transform,u=null;n instanceof Rw&&(u=n.field(a.field)),null===u&&r instanceof Rw&&(u=r.field(a.field)),i.push(Xv(c,u,e))}return i}(t.fieldTransforms,n,e,r),o=xw(t,i.data(),s);return new Rw(t.key,i.version,o,{an:!0})}(t,e,r,n):function(t,e){return pw(t.rn,e)?new Nw(t.key,r_.min()):e}(t,e)}function bw(t,e){return t instanceof Sw?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e instanceof Rw?e.field(s.field):void 0,a=ew(s.transform,o||null);null!=a&&(n=null==n?(new Aw).set(s.field,a):n.set(s.field,a))}return n?n.hn():null}(t,e):null}function _w(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.rn.isEqual(e.rn)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.en.isEqual(e.en):2!==t.type||t_(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof rw&&e instanceof rw||t instanceof sw&&e instanceof sw?t_(t.elements,e.elements,iv):t instanceof aw&&e instanceof aw?iv(t.nn,e.nn):t instanceof nw&&e instanceof nw}(t.transform,e.transform)}(t,e)})))}function vw(t){return t instanceof Rw?t.version:r_.min()}var ww=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.rn=r,i.type=0,i}return Object(Tp.c)(e,t),e}(mw),Ew=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.en=r,s.rn=i,s.type=1,s}return Object(Tp.c)(e,t),e}(mw);function Cw(t,e){return function(t,e){var n=new Aw(e);return t.en.fields.forEach((function(e){if(!e.W()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.hn()}(t,e instanceof Rw?e.data():kw.empty())}var Sw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.rn=fw.exists(!0),r}return Object(Tp.c)(e,t),e}(mw);function Ow(t,e){return e}function xw(t,e,n){for(var r=new Aw(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.hn()}var Iw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=3,r}return Object(Tp.c)(e,t),e}(mw),Tw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=4,r}return Object(Tp.c)(e,t),e}(mw),kw=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.W())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!yv(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.K()])||null},t.prototype.isEqual=function(t){return iv(this.proto,t.proto)},t}(),Aw=function(){function t(t){void 0===t&&(t=kw.empty()),this.ln=t,this._n=new Map}return t.prototype.set=function(t,e){return this.fn(t,e),this},t.prototype.delete=function(t){return this.fn(t,null),this},t.prototype.fn=function(t,e){for(var n=this._n,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===rv(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.K(),e)},t.prototype.hn=function(){var t=this.dn(a_.X(),this._n);return null!=t?new kw(t):this.ln},t.prototype.dn=function(t,e){var n=this,r=!1,i=this.ln.field(t),s=yv(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var o=n.dn(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)})),r?{mapValue:{fields:s}}:null},t}();function Pw(t){var e=[];return Z_(t.fields||{},(function(t,n){var r=new a_([t]);if(yv(n)){var i=Pw(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)})),new lw(e)}var Dw=function(t,e){this.key=t,this.version=e},Rw=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).wn=r,s.an=!!i.an,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(Tp.c)(e,t),e.prototype.field=function(t){return this.wn.field(t)},e.prototype.data=function(){return this.wn},e.prototype.En=function(){return this.wn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.an===t.an&&this.hasCommittedMutations===t.hasCommittedMutations&&this.wn.isEqual(t.wn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Dw),Nw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Tp.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Dw),jw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Tp.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Dw),Mw=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Tn=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.In=null,this.mn=null};function Lw(t,e,n,r,i,s,o,a){return new Mw(t,e,n,r,i,s,o,a)}function Fw(t){return new Mw(t)}function Vw(t){return!u_(t.limit)&&"F"===t.limitType}function Uw(t){return!u_(t.limit)&&"L"===t.limitType}function Bw(t){return t.Tn.length>0?t.Tn[0].field:null}function zw(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.An())return r.field}return null}function qw(t){return null!==t.collectionGroup}function Hw(t){var e=qb(t);if(null===e.In){e.In=[];var n=zw(e),r=Bw(e);if(null!==n&&null===r)n.tt()||e.In.push(new hE(n)),e.In.push(new hE(a_.et(),"asc"));else{for(var i=!1,s=0,o=e.Tn;s<o.length;s++){var a=o[s];e.In.push(a),a.field.tt()&&(i=!0)}if(!i){var c=e.Tn.length>0?e.Tn[e.Tn.length-1].dir:"asc";e.In.push(new hE(a_.et(),c))}}}return e.In}function Ww(t){var e=qb(t);if(!e.mn)if("F"===e.limitType)e.mn=f_(e.path,e.collectionGroup,Hw(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Hw(e);r<i.length;r++){var s=i[r];n.push(new hE(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new aE(e.endAt.position,!e.endAt.before):null,a=e.startAt?new aE(e.startAt.position,!e.startAt.before):null;e.mn=f_(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.mn}function $w(t,e,n){return new Mw(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gw(t,e){return m_(Ww(t),Ww(e))&&t.limitType===e.limitType}function Kw(t){return p_(Ww(t))+"|lt:"+t.limitType}function Qw(t){return"Query(target="+function(t){var e=t.path.J();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.J()+" "+e.op+" "+cv(e.value);var e})).join(", ")+"]"),u_(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.J()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+cE(t.startAt)),t.endAt&&(e+=", endAt: "+cE(t.endAt)),"Target("+e+")"}(Ww(t))+"; limitType="+t.limitType+")"}function Yw(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.rt(t.collectionGroup)&&t.path.j(n):c_.ot(t.path)?t.path.isEqual(n):t.path.G(n)}(t,e)&&function(t,e){for(var n=0,r=t.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!uE(t.startAt,Hw(t),e)||t.endAt&&uE(t.endAt,Hw(t),e))}(t,e)}function Jw(t){return function(e,n){for(var r=!1,i=0,s=Hw(t);i<s.length;i++){var o=s[i],a=dE(o,e,n);if(0!==a)return a;r=r||o.field.tt()}return 0}}var Zw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Tp.c)(e,t),e.create=function(t,n,r){return t.tt()?"in"===n||"not-in"===n?this.Rn(t,n,r):new Xw(t,n,r):"array-contains"===n?new rE(t,r):"in"===n?new iE(t,r):"not-in"===n?new sE(t,r):"array-contains-any"===n?new oE(t,r):new e(t,n,r)},e.Rn=function(t,e,n){return"in"===e?new tE(t,n):new eE(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Pn(ov(e,this.value)):null!==e&&rv(this.value)===rv(e)&&this.Pn(ov(e,this.value))},e.prototype.Pn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Bb()}},e.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Xw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=c_.it(r.referenceValue),i}return Object(Tp.c)(e,t),e.prototype.matches=function(t){var e=c_.$(t.key,this.key);return this.Pn(e)},e}(Zw),tE=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=nE(0,n),r}return Object(Tp.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Zw),eE=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=nE(0,n),r}return Object(Tp.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Zw);function nE(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return c_.it(t.referenceValue)}))}var rE=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Tp.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return pv(e)&&sv(e.arrayValue,this.value)},e}(Zw),iE=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Tp.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&sv(this.value.arrayValue,e)},e}(Zw),sE=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Tp.c)(e,t),e.prototype.matches=function(t){if(sv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!sv(this.value.arrayValue,e)},e}(Zw),oE=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Tp.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!pv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return sv(e.value.arrayValue,t)}))},e}(Zw),aE=function(t,e){this.position=t,this.before=e};function cE(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return cv(t)})).join(",")}function uE(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.tt()?c_.$(c_.it(o.referenceValue),n.key):ov(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function lE(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!iv(t.position[n],e.position[n]))return!1;return!0}var hE=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function dE(t,e,n){var r=t.field.tt()?c_.$(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ov(r,i):Bb()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Bb()}}function fE(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var pE=function(){function t(t,e,n,r){this.batchId=t,this.gn=e,this.baseMutations=n,this.mutations=r}return t.prototype.yn=function(t,e,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=gw(s,e,r[i]))}return e},t.prototype.pn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=yw(i,e,e,this.gn))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var c=a[o];c.key.isEqual(t)&&(e=yw(c,e,s,this.gn))}return e},t.prototype.vn=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.pn(r.key,t.get(r.key));i&&(n=n.Tt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),M_())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&t_(this.mutations,t.mutations,(function(t,e){return _w(t,e)}))&&t_(this.baseMutations,t.baseMutations,(function(t,e){return _w(t,e)}))},t}(),mE=function(){function t(t,e,n,r){this.batch=t,this.bn=e,this.Vn=n,this.Sn=r}return t.from=function(e,n,r){zb(e.mutations.length===r.length);for(var i=N_,s=e.mutations,o=0;o<s.length;o++)i=i.Tt(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),gE=function(){function t(t,e){this.Dn=t,this.Cn=e,this.Nn={}}return t.prototype.get=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.Cn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Dn(t),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.Nn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],t))return 1===n.length?delete this.Nn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Z_(this.Nn,(function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}}))},t.prototype.W=function(){return X_(this.Nn)},t}(),yE=function(){function t(t){var e=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,t((function(t){e.On=!0,e.result=t,e.xn&&e.xn(t)}),(function(t){e.On=!0,e.error=t,e.Fn&&e.Fn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Mn&&Bb(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(e,this.result):new t((function(t,i){r.xn=function(n){r.$n(e,n).next(t,i)},r.Fn=function(e){r.kn(n,e).next(t,i)}}))},t.prototype.Ln=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.$n=function(e,n){return e?this.Bn((function(){return e(n)})):t.resolve(n)},t.prototype.kn=function(e,n){return e?this.Bn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.qn=function(e){return new t((function(t,n){var r=0,i=0,s=!1;e.forEach((function(e){++r,e.next((function(){++i,s&&i===r&&t()}),(function(t){return n(t)}))})),s=!0,i===r&&t()}))},t.Un=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.qn(r)},t}(),bE=function(){function t(){this.Qn=new gE((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Kn=!1}return t.prototype.Wn=function(t){var e=this.Qn.get(t);return e?e.readTime:r_.min()},t.prototype.jn=function(t,e){this.Gn(),this.Qn.set(t.key,{zn:t,readTime:e})},t.prototype.Hn=function(t,e){void 0===e&&(e=null),this.Gn(),this.Qn.set(t,{zn:null,readTime:e})},t.prototype.Jn=function(t,e){this.Gn();var n=this.Qn.get(e);return void 0!==n?yE.resolve(n.zn):this.Yn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.Gn(),this.Kn=!0,this.Zn(t)},t.prototype.Gn=function(){},t}(),_E=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function vE(t){return new vv(t,!0)}function wE(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var EE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",CE=function(){function t(){this.ts=[]}return t.prototype.es=function(t){this.ts.push(t)},t.prototype.ns=function(){this.ts.forEach((function(t){return t()}))},t}(),SE=function(){function t(t,e,n){this.ss=t,this.rs=e,this.os=n}return t.prototype.cs=function(t,e){var n=this;return this.rs.us(t,e).next((function(r){return n.hs(t,e,r)}))},t.prototype.hs=function(t,e,n){return this.ss.Jn(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].pn(e,t);return t}))},t.prototype.ls=function(t,e,n){var r=P_();return e.forEach((function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].pn(t,e);r=r.Tt(t,e)})),r},t.prototype._s=function(t,e){var n=this;return this.ss.getEntries(t,e).next((function(e){return n.fs(t,e)}))},t.prototype.fs=function(t,e){var n=this;return this.rs.ds(t,e).next((function(r){var i=n.ls(t,e,r),s=A_();return i.forEach((function(t,e){e||(e=new Nw(t,r_.min())),s=s.Tt(t,e)})),s}))},t.prototype.ws=function(t,e,n){return function(t){return c_.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Es(t,e.path):qw(e)?this.Ts(t,e,n):this.Is(t,e,n)},t.prototype.Es=function(t,e){return this.cs(t,new c_(e)).next((function(t){var e=R_();return t instanceof Rw&&(e=e.Tt(t.key,t)),e}))},t.prototype.Ts=function(t,e,n){var r=this,i=e.collectionGroup,s=R_();return this.os.As(t,i).next((function(o){return yE.forEach(o,(function(o){var a=function(t,e){return new Mw(e,null,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.Is(t,a,n).next((function(t){t.forEach((function(t,e){s=s.Tt(t,e)}))}))})).next((function(){return s}))}))},t.prototype.Is=function(t,e,n){var r,i,s=this;return this.ss.ws(t,e,n).next((function(n){return r=n,s.rs.Rs(t,e)})).next((function(e){return s.Ps(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var c=a[o],u=c.key,l=r.get(u),h=yw(c,l,l,s.gn);r=h instanceof Rw?r.Tt(u,h):r.remove(u)}}))})).next((function(){return r.forEach((function(t,n){Yw(e,n)||(r=r.remove(t))})),r}))},t.prototype.Ps=function(t,e,n){for(var r=M_(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var c=a[o];c instanceof Ew&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.ss.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Rw&&(u=u.Tt(t,e))})),u}))},t}(),OE=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.gs=n,this.ys=r}return t.Vs=function(e,n){for(var r=M_(),i=M_(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),xE=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ps=function(t){return n.vs(t)},this.bs=function(t){return e.Ss(t)})}return t.prototype.vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.bs&&this.bs(t),t},t}();xE.Ds=-1;var IE=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=t,this.Ns=e,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ms=0},t.prototype.Ls=function(){this.Ms=this.Os},t.prototype.Bs=function(t){var e=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&Lb("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ks=this.Cs.Us(this.Ns,i,(function(){return e.$s=Date.now(),t()})),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},t.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},t.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},t.prototype.qs=function(){return(Math.random()-.5)*this.Ms},t}(),TE=function(){function t(e,n,r){this.name=e,this.version=n,this.Ws=r,12.2===t.js(Object(Pp.g)())&&Fb("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Lb("SimpleDb","Removing database:",t),NE(window.indexedDB.deleteDatabase(t)).Ln()},t.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(t.zs())return!0;var e=Object(Pp.g)(),n=t.js(e),r=0<n&&n<10,i=t.Hs(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.zs=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Js)},t.Ys=function(t,e){return t.store(e)},t.js=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Hs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Xs=function(t){return Object(Tp.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Tp.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Lb("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new AE(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Wb(Hb.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new AE(t,n))},i.onupgradeneeded=function(t){Lb("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Ws.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Lb("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(t){return n.Zs(t)}),this.db)]}}))}))},t.prototype.ti=function(t){this.Zs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Tp.b)(this,void 0,void 0,(function(){var i,s,o,a,c;return Object(Tp.d)(this,(function(u){switch(u.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,c,u,l;return Object(Tp.d)(this,(function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Xs(t)];case 2:return a.db=h.sent(),e=DE.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch((function(t){return e.abort(t),yE.reject(t)})).Ln(),c={},o.catch((function(){})),[4,e.ei];case 3:return[2,(c.value=(h.sent(),o),c)];case 4:return Lb("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",l="FirebaseError"!==u.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}}))},a=this,u.label=1;case 1:return[5,o()];case 2:if("object"==typeof(c=u.sent()))return[2,c.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),kE=function(){function t(t){this.ni=t,this.si=!1,this.ii=null}return Object.defineProperty(t.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ni=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.si=!0},t.prototype.oi=function(t){this.ii=t},t.prototype.delete=function(){return NE(this.ni.delete())},t}(),AE=function(t){function e(e,n){var r=this;return(r=t.call(this,Hb.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Tp.c)(e,t),e}(Wb);function PE(t){return"IndexedDbTransactionError"===t.name}var DE=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ci=new _E,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){e.error?n.ci.reject(new AE(t,e.error)):n.ci.resolve()},this.transaction.onerror=function(e){var r=ME(e.target.error);n.ci.reject(new AE(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new AE(n,e)}},Object.defineProperty(t.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ci.reject(t),this.aborted||(Lb("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new RE(e)},t}(),RE=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Lb("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Lb("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),NE(n)},t.prototype.add=function(t){return Lb("SimpleDb","ADD",this.store.name,t,t),NE(this.store.add(t))},t.prototype.get=function(t){var e=this;return NE(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Lb("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Lb("SimpleDb","DELETE",this.store.name,t),NE(this.store.delete(t))},t.prototype.count=function(){return Lb("SimpleDb","COUNT",this.store.name),NE(this.store.count())},t.prototype.ui=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ai(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.hi=function(t,e){Lb("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.li=!1;var r=this.cursor(n);return this.ai(r,(function(t,e,n){return n.delete()}))},t.prototype._i=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ai(r,e)},t.prototype.fi=function(t){var e=this.cursor({});return new yE((function(n,r){e.onerror=function(t){var e=ME(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.ai=function(t,e){var n=[];return new yE((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new kE(i),o=e(i.primaryKey,i.value,s);if(o instanceof yE){var a=o.catch((function(t){return s.done(),yE.reject(t)}));n.push(a)}s.On?r():null===s.ri?i.continue():i.continue(s.ri)}else r()}})).next((function(){return yE.qn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.li?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function NE(t){return new yE((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=ME(t.target.error);n(e)}}))}var jE=!1;function ME(t){var e=TE.js(Object(Pp.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Wb("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return jE||(jE=!0,setTimeout((function(){throw r}),0)),r}}return t}function LE(){return"undefined"!=typeof window?window:null}function FE(){return"undefined"!=typeof document?document:null}var VE=function(){function t(t,e,n,r,i){this.di=t,this.Ns=e,this.wi=n,this.op=r,this.Ei=i,this.Ti=new _E,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch((function(t){}))}return t.Ii=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.mi=setTimeout((function(){return e.Ai()}),t)},t.prototype.Ks=function(){return this.Ai()},t.prototype.cancel=function(t){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new Wb(Hb.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Ai=function(){var t=this;this.di.Ri((function(){return null!==t.mi?(t.clearTimeout(),t.op().then((function(e){return t.Ti.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},t}(),UE=function(){function t(){var t=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new IE(this,"async_queue_retry"),this.Di=function(){var e=FE();e&&Lb("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Si.Qs()};var e=FE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(t.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t){this.enqueue(t)},t.prototype.Ni=function(t){this.xi(),this.Fi(t)},t.prototype.Oi=function(){if(!this.yi){this.yi=!0;var t=FE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Di)}},t.prototype.enqueue=function(t){return this.xi(),this.yi?new Promise((function(t){})):this.Fi(t)},t.prototype.Mi=function(t){var e=this;this.Ri((function(){return e.gi.push(t),e.ki()}))},t.prototype.ki=function(){return Object(Tp.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Tp.d)(this,(function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!PE(t=n.sent()))throw t;return Lb("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gi.length>0&&this.Si.Bs((function(){return e.ki()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Fi=function(t){var e=this,n=this.Pi.then((function(){return e.vi=!0,t().catch((function(t){throw e.pi=t,e.vi=!1,Fb("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.vi=!1,t}))}));return this.Pi=n,n},t.prototype.Us=function(t,e,n){var r=this;this.xi(),this.bi.indexOf(t)>-1&&(e=0);var i=VE.Ii(this,t,e,n,(function(t){return r.$i(t)}));return this.Vi.push(i),i},t.prototype.xi=function(){this.pi&&Bb()},t.prototype.Li=function(){},t.prototype.Bi=function(){return Object(Tp.b)(this,void 0,void 0,(function(){var t;return Object(Tp.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Pi];case 1:e.sent(),e.label=2;case 2:if(t!==this.Pi)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.qi=function(t){for(var e=0,n=this.Vi;e<n.length;e++)if(n[e].Ns===t)return!0;return!1},t.prototype.Ui=function(t){var e=this;return this.Bi().then((function(){e.Vi.sort((function(t,e){return t.wi-e.wi}));for(var n=0,r=e.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ns===t)break}return e.Bi()}))},t.prototype.Qi=function(t){this.bi.push(t)},t.prototype.$i=function(t){var e=this.Vi.indexOf(t);this.Vi.splice(e,1)},t}();function BE(t,e){if(Fb("AsyncQueue",e+": "+t),PE(t))return new Wb(Hb.UNAVAILABLE,e+": "+t);throw t}function zE(t,e){var n=t[1],r=e[1],i=Xb(t[0],e[0]);return 0===i?Xb(n,r):i}var qE=function(){function t(t){this.Ki=t,this.buffer=new I_(zE),this.Wi=0}return t.prototype.ji=function(){return++this.Wi},t.prototype.Gi=function(t){var e=[t,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();zE(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),HE={zi:!1,Hi:0,Ji:0,Yi:0},WE=function(){function t(t,e,n){this.Xi=t,this.Zi=e,this.tr=n}return t.er=function(e){return new t(e,t.nr,t.sr)},t}();WE.nr=10,WE.sr=1e3,WE.ir=new WE(41943040,WE.nr,WE.sr),WE.rr=new WE(-1,0,0);var $E=function(){function t(t,e){this.cr=t,this.di=e,this.ur=!1,this.ar=null}return t.prototype.start=function(t){-1!==this.cr.params.Xi&&this.hr(t)},t.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(t.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),t.prototype.hr=function(t){var e=this,n=this.ur?3e5:6e4;Lb("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,(function(){return Object(Tp.b)(e,void 0,void 0,(function(){var e;return Object(Tp.d)(this,(function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return PE(e=n.sent())?(Lb("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,vS(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),GE=function(){function t(t,e){this.dr=t,this.params=e}return t.prototype.wr=function(t,e){return this.dr.Er(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Tr=function(t,e){var n=this;if(0===e)return yE.resolve(xE.Ds);var r=new qE(e);return this.dr.Ue(t,(function(t){return r.Gi(t.sequenceNumber)})).next((function(){return n.dr.Ir(t,(function(t){return r.Gi(t)}))})).next((function(){return r.maxValue}))},t.prototype.mr=function(t,e,n){return this.dr.mr(t,e,n)},t.prototype.Ar=function(t,e){return this.dr.Ar(t,e)},t.prototype.Rr=function(t,e){var n=this;return-1===this.params.Xi?(Lb("LruGarbageCollector","Garbage collection skipped; disabled"),yE.resolve(HE)):this.Pr(t).next((function(r){return r<n.params.Xi?(Lb("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Xi),HE):n.gr(t,e)}))},t.prototype.Pr=function(t){return this.dr.Pr(t)},t.prototype.gr=function(t,e){var n,r,i,s,o,a,c,u=this,l=Date.now();return this.wr(t,this.params.Zi).next((function(e){return e>u.params.tr?(Lb("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.tr+" from "+e),r=u.params.tr):r=e,s=Date.now(),u.Tr(t,r)})).next((function(r){return n=r,o=Date.now(),u.mr(t,n,e)})).next((function(e){return i=e,a=Date.now(),u.Ar(t,n)})).next((function(t){return c=Date.now(),Mb()<=Ap.a.DEBUG&&Lb("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-l)+"ms"),yE.resolve({zi:!0,Hi:r,Ji:i,Yi:t})}))},t}(),KE=function(){function t(){}return t.prototype.yr=function(t){this.Vr=t},t.prototype.ws=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Tn.length||1===t.Tn.length&&t.Tn[0].field.tt())}(e)||n.isEqual(r_.min())?this.pr(t,e):this.Vr._s(t,r).next((function(s){var o=i.vr(e,s);return(Vw(e)||Uw(e))&&i.br(e.limitType,o,r,n)?i.pr(t,e):(Mb()<=Ap.a.DEBUG&&Lb("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Qw(e)),i.Vr.ws(t,e,n).next((function(t){return o.forEach((function(e){t=t.Tt(e.key,e)})),t})))}))},t.prototype.vr=function(t,e){var n=new I_(Jw(t));return e.forEach((function(e,r){r instanceof Rw&&Yw(t,r)&&(n=n.add(r))})),n},t.prototype.br=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},t.prototype.pr=function(t,e){return Mb()<=Ap.a.DEBUG&&Lb("QueryEngine","Using full collection scan to execute query:",Qw(e)),this.Vr.ws(t,e,r_.min())},t}();function QE(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=JE(e)),e=YE(t.get(n),e);return JE(e)}function YE(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function JE(t){return t+"\x01\x01"}function ZE(t){var e=t.length;if(zb(e>=2),2===e)return zb("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),s_.X();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Bb(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Bb()}s=o+2}return new s_(r)}var XE=function(t){this.Sr=t};function tC(t,e){if(e.document)return function(t,e,n){var r=Pv(t,e.name),i=Iv(e.updateTime),s=new kw({mapValue:{fields:e.fields}});return new Rw(r,i,s,{hasCommittedMutations:!!n})}(t.Sr,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=c_.ct(e.noDocument.path),r=sC(e.noDocument.readTime);return new Nw(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=c_.ct(e.unknownDocument.path),s=sC(e.unknownDocument.version);return new jw(i,s)}return Bb()}function eC(t,e,n){var r=nC(n),i=e.key.path.q().H();if(e instanceof Rw){var s=function(t,e){return{name:Av(t,e.key),fields:e.En().mapValue.fields,updateTime:Sv(t,e.version.M())}}(t.Sr,e);return new DC(null,null,s,e.hasCommittedMutations,r,i)}if(e instanceof Nw){var o=e.key.path.H(),a=iC(e.version),c=e.hasCommittedMutations;return new DC(null,new AC(o,a),null,c,r,i)}if(e instanceof jw){var u=e.key.path.H(),l=iC(e.version);return new DC(new PC(u,l),null,null,!0,r,i)}return Bb()}function nC(t){var e=t.M();return[e.seconds,e.nanoseconds]}function rC(t){var e=new n_(t[0],t[1]);return r_.N(e)}function iC(t){var e=t.M();return new OC(e.seconds,e.nanoseconds)}function sC(t){var e=new n_(t.seconds,t.nanoseconds);return r_.N(e)}function oC(t,e){var n=(e.baseMutations||[]).map((function(e){return Fv(t.Sr,e)})),r=e.mutations.map((function(e){return Fv(t.Sr,e)})),i=n_.fromMillis(e.localWriteTimeMs);return new pE(e.batchId,i,n,r)}function aC(t){var e,n,r=sC(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?sC(t.lastLimboFreeSnapshotVersion):r_.min();return void 0!==t.query.documents?(zb(1===(n=t.query).documents.length),e=Ww(Fw(Rv(n.documents[0])))):e=function(t){return Ww(Bv(t))}(t.query),new v_(e,t.targetId,0,t.lastListenSequenceNumber,r,i,y_.fromBase64String(t.resumeToken))}function cC(t,e){var n,r=iC(e.ft),i=iC(e.lastLimboFreeSnapshotVersion);n=g_(e.target)?Vv(t.Sr,e.target):Uv(t.Sr,e.target);var s=e.resumeToken.toBase64();return new NC(e.targetId,p_(e.target),r,s,e.sequenceNumber,i,n)}function uC(t){var e=Bv({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?$w(e,e.limit,"L"):e}var lC=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.os=n,this.Dr=r,this.Cr={}}return t.Nr=function(e,n,r,i){return zb(""!==e.uid),new t(e.u()?e.uid:"",n,r,i)},t.prototype.Fr=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fC(t)._i({index:TC.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Or=function(t,e,n,r){var i=this,s=pC(t),o=fC(t);return o.add({}).next((function(a){zb("number"==typeof a);for(var c=new pE(a,e,n,r),u=function(t,e,n){var r=n.baseMutations.map((function(e){return Lv(t.Sr,e)})),i=n.mutations.map((function(e){return Lv(t.Sr,e)}));return new TC(e,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,c),l=[],h=new I_((function(t,e){return Xb(t.J(),e.J())})),d=0,f=r;d<f.length;d++){var p=f[d],m=kC.key(i.userId,p.key.path,a);h=h.add(p.key.path.q()),l.push(o.put(u)),l.push(s.put(m,kC.PLACEHOLDER))}return h.forEach((function(e){l.push(i.os.Mr(t,e))})),t.es((function(){i.Cr[a]=c.keys()})),yE.qn(l).next((function(){return c}))}))},t.prototype.kr=function(t,e){var n=this;return fC(t).get(e).next((function(t){return t?(zb(t.userId===n.userId),oC(n.serializer,t)):null}))},t.prototype.$r=function(t,e){var n=this;return this.Cr[e]?yE.resolve(this.Cr[e]):this.kr(t,e).next((function(t){if(t){var r=t.keys();return n.Cr[e]=r,r}return null}))},t.prototype.Lr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return fC(t)._i({index:TC.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(zb(e.batchId>=r),s=oC(n.serializer,e)),i.done()})).next((function(){return s}))},t.prototype.Br=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return fC(t)._i({index:TC.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.qr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fC(t).ui(TC.userMutationsIndex,n).next((function(t){return t.map((function(t){return oC(e.serializer,t)}))}))},t.prototype.us=function(t,e){var n=this,r=kC.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return pC(t)._i({range:i},(function(r,i,o){var a=r[0],c=r[2],u=ZE(r[1]);if(a===n.userId&&e.path.isEqual(u))return fC(t).get(c).next((function(t){if(!t)throw Bb();zb(t.userId===n.userId),s.push(oC(n.serializer,t))}));o.done()})).next((function(){return s}))},t.prototype.ds=function(t,e){var n=this,r=new I_(Xb),i=[];return e.forEach((function(e){var s=kC.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=pC(t)._i({range:o},(function(t,i,s){var o=t[0],a=t[2],c=ZE(t[1]);o===n.userId&&e.path.isEqual(c)?r=r.add(a):s.done()}));i.push(a)})),yE.qn(i).next((function(){return n.Ur(t,r)}))},t.prototype.Rs=function(t,e){var n=this,r=e.path,i=r.length+1,s=kC.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new I_(Xb);return pC(t)._i({range:o},(function(t,e,s){var o=t[0],c=t[2],u=ZE(t[1]);o===n.userId&&r.j(u)?u.length===i&&(a=a.add(c)):s.done()})).next((function(){return n.Ur(t,a)}))},t.prototype.Ur=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(fC(t).get(e).next((function(t){if(null===t)throw Bb();zb(t.userId===n.userId),r.push(oC(n.serializer,t))})))})),yE.qn(i).next((function(){return r}))},t.prototype.Qr=function(t,e){var n=this;return dC(t.Kr,this.userId,e).next((function(r){return t.es((function(){n.Wr(e.batchId)})),yE.forEach(r,(function(e){return n.Dr.jr(t,e)}))}))},t.prototype.Wr=function(t){delete this.Cr[t]},t.prototype.Gr=function(t){var e=this;return this.Fr(t).next((function(n){if(!n)return yE.resolve();var r=IDBKeyRange.lowerBound(kC.prefixForUser(e.userId)),i=[];return pC(t)._i({range:r},(function(t,n,r){if(t[0]===e.userId){var s=ZE(t[1]);i.push(s)}else r.done()})).next((function(){zb(0===i.length)}))}))},t.prototype.zr=function(t,e){return hC(t,this.userId,e)},t.prototype.Hr=function(t){var e=this;return mC(t).get(this.userId).next((function(t){return t||new IC(e.userId,-1,"")}))},t}();function hC(t,e,n){var r=kC.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return pC(t)._i({range:s,li:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()})).next((function(){return o}))}function dC(t,e,n){var r=t.store(TC.store),i=t.store(kC.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=r._i({range:o},(function(t,e,n){return a++,n.delete()}));s.push(c.next((function(){zb(1===a)})));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=kC.key(e,d.key.path,n.batchId);s.push(i.delete(f)),u.push(d.key)}return yE.qn(s).next((function(){return u}))}function fC(t){return eS.Ys(t,TC.store)}function pC(t){return eS.Ys(t,kC.store)}function mC(t){return eS.Ys(t,IC.store)}var gC=function(){function t(t,e){this.serializer=t,this.os=e}return t.prototype.jn=function(t,e,n){return _C(t).put(vC(e),n)},t.prototype.Hn=function(t,e){var n=_C(t),r=vC(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Jr(t,r)}))},t.prototype.Jn=function(t,e){var n=this;return _C(t).get(vC(e)).next((function(t){return n.Yr(t)}))},t.prototype.Xr=function(t,e){var n=this;return _C(t).get(vC(e)).next((function(t){var e=n.Yr(t);return e?{zn:e,size:wC(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=P_();return this.Zr(t,e,(function(t,e){var i=n.Yr(e);r=r.Tt(t,i)})).next((function(){return r}))},t.prototype.eo=function(t,e){var n=this,r=P_(),i=new S_(c_.$);return this.Zr(t,e,(function(t,e){var s=n.Yr(e);s?(r=r.Tt(t,s),i=i.Tt(t,wC(e))):(r=r.Tt(t,null),i=i.Tt(t,0))})).next((function(){return{no:r,so:i}}))},t.prototype.Zr=function(t,e,n){if(e.W())return yE.resolve();var r=IDBKeyRange.bound(e.first().path.H(),e.last().path.H()),i=e.yt(),s=i.Ct();return _C(t)._i({range:r},(function(t,e,r){for(var o=c_.ct(t);s&&c_.$(s,o)<0;)n(s,null),s=i.Ct();s&&s.isEqual(o)&&(n(s,e),s=i.Nt()?i.Ct():null),s?r.oi(s.path.H()):r.done()})).next((function(){for(;s;)n(s,null),s=i.Nt()?i.Ct():null}))},t.prototype.ws=function(t,e,n){var r=this,i=R_(),s=e.path.length+1,o={};if(n.isEqual(r_.min())){var a=e.path.H();o.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.H(),u=nC(n);o.range=IDBKeyRange.lowerBound([c,u],!0),o.index=DC.collectionReadTimeIndex}return _C(t)._i(o,(function(t,n,o){if(t.length===s){var a=tC(r.serializer,n);e.path.j(a.key.path)?a instanceof Rw&&Yw(e,a)&&(i=i.Tt(a.key,a)):o.done()}})).next((function(){return i}))},t.prototype.io=function(t){return new yC(this,!!t&&t.ro)},t.prototype.oo=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return bC(t).get(RC.key).next((function(t){return zb(!!t),t}))},t.prototype.Jr=function(t,e){return bC(t).put(RC.key,e)},t.prototype.Yr=function(t){if(t){var e=tC(this.serializer,t);return e instanceof Nw&&e.version.isEqual(r_.min())?null:e}return null},t}(),yC=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).co=e,r.ro=n,r.uo=new gE((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(Tp.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[],r=0,i=new I_((function(t,e){return Xb(t.J(),e.J())}));return this.Qn.forEach((function(s,o){var a=e.uo.get(s);if(o.zn){var c=eC(e.co.serializer,o.zn,e.Wn(s));i=i.add(s.path.q());var u=wC(c);r+=u-a,n.push(e.co.jn(t,s,c))}else if(r-=a,e.ro){var l=eC(e.co.serializer,new Nw(s,r_.min()),e.Wn(s));n.push(e.co.jn(t,s,l))}else n.push(e.co.Hn(t,s))})),i.forEach((function(r){n.push(e.co.os.Mr(t,r))})),n.push(this.co.updateMetadata(t,r)),yE.qn(n)},e.prototype.Yn=function(t,e){var n=this;return this.co.Xr(t,e).next((function(t){return null===t?(n.uo.set(e,0),null):(n.uo.set(e,t.size),t.zn)}))},e.prototype.Xn=function(t,e){var n=this;return this.co.eo(t,e).next((function(t){var e=t.no;return t.so.forEach((function(t,e){n.uo.set(t,e)})),e}))},e}(bE);function bC(t){return eS.Ys(t,RC.store)}function _C(t){return eS.Ys(t,DC.store)}function vC(t){return t.path.H()}function wC(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Bb();e=t.noDocument}return JSON.stringify(e).length}var EC=function(){function t(){this.ao=new CC}return t.prototype.Mr=function(t,e){return this.ao.add(e),yE.resolve()},t.prototype.As=function(t,e){return yE.resolve(this.ao.getEntries(e))},t}(),CC=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.K(),n=t.q(),r=this.index[e]||new I_(s_.$),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.K(),n=t.q(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new I_(s_.$)).H()},t}(),SC=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;zb(n<r&&n>=0&&r<=11);var s=new DE("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(xC.store)}(t),function(t){t.createObjectStore(IC.store,{keyPath:IC.keyPath}),t.createObjectStore(TC.store,{keyPath:TC.keyPath,autoIncrement:!0}).createIndex(TC.userMutationsIndex,TC.userMutationsKeyPath,{unique:!0}),t.createObjectStore(kC.store)}(t),FC(t),function(t){t.createObjectStore(DC.store)}(t));var o=yE.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(jC.store),t.deleteObjectStore(NC.store),t.deleteObjectStore(MC.store)}(t),FC(t)),o=o.next((function(){return function(t){var e=t.store(MC.store),n=new MC(0,0,r_.min().M(),0);return e.put(MC.key,n)}(s)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(TC.store).ui().next((function(n){t.deleteObjectStore(TC.store),t.createObjectStore(TC.store,{keyPath:TC.keyPath,autoIncrement:!0}).createIndex(TC.userMutationsIndex,TC.userMutationsKeyPath,{unique:!0});var r=e.store(TC.store),i=n.map((function(t){return r.put(t)}));return yE.qn(i)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(VC.store,{keyPath:VC.keyPath})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.removeAcknowledgedMutations(s)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(RC.store)}(t),i.addDocumentGlobal(s)}))),n<7&&r>=7&&(o=o.next((function(){return i.ensureSequenceNumbers(s)}))),n<8&&r>=8&&(o=o.next((function(){return i.createCollectionParentIndex(t,s)}))),n<9&&r>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(DC.store);e.createIndex(DC.readTimeIndex,DC.readTimeIndexPath,{unique:!1}),e.createIndex(DC.collectionReadTimeIndex,DC.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.rewriteCanonicalIds(s)}))),n<11&&r>=11&&(o=o.next((function(){!function(t){t.createObjectStore(UC.store,{keyPath:UC.keyPath})}(t),function(t){t.createObjectStore(BC.store,{keyPath:BC.keyPath})}(t)}))),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(DC.store)._i((function(t,n){e+=wC(n)})).next((function(){var n=new RC(e);return t.store(RC.store).put(RC.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(IC.store),r=t.store(TC.store);return n.ui().next((function(n){return yE.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui(TC.userMutationsIndex,i).next((function(r){return yE.forEach(r,(function(r){zb(r.userId===n.userId);var i=oC(e.serializer,r);return dC(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(jC.store),n=t.store(DC.store);return t.store(MC.store).get(MC.key).next((function(t){var r=[];return n._i((function(n,i){var s=new s_(n),o=function(t){return[0,QE(t)]}(s);r.push(e.get(o).next((function(n){return n?yE.resolve():function(n){return e.put(new jC(0,QE(n),t.highestListenSequenceNumber))}(s)})))})).next((function(){return yE.qn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(LC.store,{keyPath:LC.keyPath});var n=e.store(LC.store),r=new CC,i=function(t){if(r.add(t)){var e=t.K(),i=t.q();return n.put({collectionId:e,parent:QE(i)})}};return e.store(DC.store)._i({li:!0},(function(t,e){var n=new s_(t);return i(n.q())})).next((function(){return e.store(kC.store)._i({li:!0},(function(t,e){var n=ZE(t[1]);return i(n.q())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(NC.store);return n._i((function(t,r){var i=aC(r),s=cC(e.serializer,i);return n.put(s)}))},t}(),OC=function(t,e){this.seconds=t,this.nanoseconds=e},xC=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};xC.store="owner",xC.key="owner";var IC=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};IC.store="mutationQueues",IC.keyPath="userId";var TC=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};TC.store="mutations",TC.keyPath="batchId",TC.userMutationsIndex="userMutationsIndex",TC.userMutationsKeyPath=["userId","batchId"];var kC=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,QE(e)]},t.key=function(t,e,n){return[t,QE(e),n]},t}();kC.store="documentMutations",kC.PLACEHOLDER=new kC;var AC=function(t,e){this.path=t,this.readTime=e},PC=function(t,e){this.path=t,this.version=e},DC=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};DC.store="remoteDocuments",DC.readTimeIndex="readTimeIndex",DC.readTimeIndexPath="readTime",DC.collectionReadTimeIndex="collectionReadTimeIndex",DC.collectionReadTimeIndexPath=["parentPath","readTime"];var RC=function(t){this.byteSize=t};RC.store="remoteDocumentGlobal",RC.key="remoteDocumentGlobalKey";var NC=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};NC.store="targets",NC.keyPath="targetId",NC.queryTargetsIndexName="queryTargetsIndex",NC.queryTargetsKeyPath=["canonicalId","targetId"];var jC=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};jC.store="targetDocuments",jC.keyPath=["targetId","path"],jC.documentTargetsIndex="documentTargetsIndex",jC.documentTargetsKeyPath=["path","targetId"];var MC=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};MC.key="targetGlobalKey",MC.store="targetGlobal";var LC=function(t,e){this.collectionId=t,this.parent=e};function FC(t){t.createObjectStore(jC.store,{keyPath:jC.keyPath}).createIndex(jC.documentTargetsIndex,jC.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(NC.store,{keyPath:NC.keyPath}).createIndex(NC.queryTargetsIndexName,NC.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(MC.store)}LC.store="collectionParents",LC.keyPath=["collectionId","parent"];var VC=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};VC.store="clientMetadata",VC.keyPath="clientId";var UC=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};UC.store="bundles",UC.keyPath="bundleId";var BC=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};BC.store="namedQueries",BC.keyPath="name";var zC=Object(Tp.g)(Object(Tp.g)(Object(Tp.g)(Object(Tp.g)([IC.store,TC.store,kC.store,DC.store,NC.store,xC.store,MC.store,jC.store],[VC.store]),[RC.store]),[LC.store]),[UC.store,BC.store]),qC=function(){function t(t){this.serializer=t}return t.prototype.ho=function(t,e){return HC(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:sC(e.createTime),version:e.version};var e}))},t.prototype.lo=function(t,e){return HC(t).put({bundleId:(n=e).id,createTime:iC(Iv(n.createTime)),version:n.version});var n},t.prototype._o=function(t,e){return WC(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:uC(e.bundledQuery),readTime:sC(e.readTime)};var e}))},t.prototype.fo=function(t,e){return WC(t).put(function(t){return{name:t.name,readTime:iC(Iv(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function HC(t){return eS.Ys(t,UC.store)}function WC(t){return eS.Ys(t,BC.store)}var $C=function(){function t(){this.wo=new CC}return t.prototype.Mr=function(t,e){var n=this;if(!this.wo.has(e)){var r=e.K(),i=e.q();t.es((function(){n.wo.add(e)}));var s={collectionId:r,parent:QE(i)};return GC(t).put(s)}return yE.resolve()},t.prototype.As=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[e_(e),""],!1,!0);return GC(t).ui(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(ZE(s.parent))}return n}))},t}();function GC(t){return eS.Ys(t,LC.store)}var KC=function(){function t(t){this.Eo=t}return t.prototype.next=function(){return this.Eo+=2,this.Eo},t.To=function(){return new t(0)},t.Io=function(){return new t(-1)},t}(),QC=function(){function t(t,e){this.Dr=t,this.serializer=e}return t.prototype.mo=function(t){var e=this;return this.Ao(t).next((function(n){var r=new KC(n.highestTargetId);return n.highestTargetId=r.next(),e.Ro(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Po=function(t){return this.Ao(t).next((function(t){return r_.N(new n_(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.yo=function(t){return this.Ao(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Vo=function(t,e,n){var r=this;return this.Ao(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ro(t,i)}))},t.prototype.po=function(t,e){var n=this;return this.vo(t,e).next((function(){return n.Ao(t).next((function(r){return r.targetCount+=1,n.bo(e,r),n.Ro(t,r)}))}))},t.prototype.So=function(t,e){return this.vo(t,e)},t.prototype.Do=function(t,e){var n=this;return this.Co(t,e.targetId).next((function(){return YC(t).delete(e.targetId)})).next((function(){return n.Ao(t)})).next((function(e){return zb(e.targetCount>0),e.targetCount-=1,n.Ro(t,e)}))},t.prototype.mr=function(t,e,n){var r=this,i=0,s=[];return YC(t)._i((function(o,a){var c=aC(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,s.push(r.Do(t,c)))})).next((function(){return yE.qn(s)})).next((function(){return i}))},t.prototype.Ue=function(t,e){return YC(t)._i((function(t,n){var r=aC(n);e(r)}))},t.prototype.Ao=function(t){return JC(t).get(MC.key).next((function(t){return zb(null!==t),t}))},t.prototype.Ro=function(t,e){return JC(t).put(MC.key,e)},t.prototype.vo=function(t,e){return YC(t).put(cC(this.serializer,e))},t.prototype.bo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.No=function(t){return this.Ao(t).next((function(t){return t.targetCount}))},t.prototype.xo=function(t,e){var n=p_(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return YC(t)._i({range:r,index:NC.queryTargetsIndexName},(function(t,n,r){var s=aC(n);m_(e,s.target)&&(i=s,r.done())})).next((function(){return i}))},t.prototype.Fo=function(t,e,n){var r=this,i=[],s=ZC(t);return e.forEach((function(e){var o=QE(e.path);i.push(s.put(new jC(n,o))),i.push(r.Dr.Oo(t,n,e))})),yE.qn(i)},t.prototype.Mo=function(t,e,n){var r=this,i=ZC(t);return yE.forEach(e,(function(e){var s=QE(e.path);return yE.qn([i.delete([n,s]),r.Dr.ko(t,n,e)])}))},t.prototype.Co=function(t,e){var n=ZC(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.$o=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ZC(t),i=M_();return r._i({range:n,li:!0},(function(t,e,n){var r=ZE(t[1]),s=new c_(r);i=i.add(s)})).next((function(){return i}))},t.prototype.zr=function(t,e){var n=QE(e.path),r=IDBKeyRange.bound([n],[e_(n)],!1,!0),i=0;return ZC(t)._i({index:jC.documentTargetsIndex,li:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ze=function(t,e){return YC(t).get(e).next((function(t){return t?aC(t):null}))},t}();function YC(t){return eS.Ys(t,NC.store)}function JC(t){return eS.Ys(t,MC.store)}function ZC(t){return eS.Ys(t,jC.store)}var XC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",tS=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kr=e,r.Lo=n,r}return Object(Tp.c)(e,t),e}(CE),eS=function(){function t(e,n,r,i,s,o,a,c,u,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Cs=s,this.window=o,this.document=a,this.Bo=u,this.qo=l,this.Uo=null,this.Qo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ko=null,this.inForeground=!1,this.Wo=null,this.jo=null,this.Go=Number.NEGATIVE_INFINITY,this.zo=function(t){return Promise.resolve()},!t.Gs())throw new Wb(Hb.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Dr=new iS(this,i),this.Ho=n+"main",this.serializer=new XE(c),this.Jo=new TE(this.Ho,11,new SC(this.serializer)),this.Yo=new QC(this.Dr,this.serializer),this.os=new $C,this.ss=function(t,e){return new gC(t,e)}(this.serializer,this.os),this.Xo=new qC(this.serializer),this.window&&this.window.localStorage?this.Zo=this.window.localStorage:(this.Zo=null,!1===l&&Fb("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ys=function(t,e){if(t instanceof tS)return TE.Ys(t.Kr,e);throw Bb()},t.prototype.start=function(){var t=this;return this.tc().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Wb(Hb.FAILED_PRECONDITION,XC);return t.ec(),t.nc(),t.sc(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Yo.yo(e)}))})).then((function(e){t.Uo=new xE(e,t.Bo)})).then((function(){t.Qo=!0})).catch((function(e){return t.Jo&&t.Jo.close(),Promise.reject(e)}))},t.prototype.ic=function(t){var e=this;return this.zo=function(n){return Object(Tp.b)(e,void 0,void 0,(function(){return Object(Tp.d)(this,(function(e){return this.lr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.rc=function(t){var e=this;this.Jo.ti((function(n){return Object(Tp.b)(e,void 0,void 0,(function(){return Object(Tp.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.oc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Cs.Ri((function(){return Object(Tp.b)(e,void 0,void 0,(function(){return Object(Tp.d)(this,(function(t){switch(t.label){case 0:return this.lr?[4,this.tc()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.tc=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return rS(e).put(new VC(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.cc(e).next((function(e){e||(t.isPrimary=!1,t.Cs.Mi((function(){return t.zo(!1)})))}))})).next((function(){return t.uc(e)})).next((function(n){return t.isPrimary&&!n?t.ac(e).next((function(){return!1})):!!n&&t.hc(e).next((function(){return!0}))}))})).catch((function(e){if(PE(e))return Lb("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Lb("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Cs.Mi((function(){return t.zo(e)})),t.isPrimary=e}))},t.prototype.cc=function(t){var e=this;return nS(t).get(xC.key).next((function(t){return yE.resolve(e.lc(t))}))},t.prototype._c=function(t){return rS(t).delete(this.clientId)},t.prototype.fc=function(){return Object(Tp.b)(this,void 0,void 0,(function(){var e,n,r,i=this;return Object(Tp.d)(this,(function(s){switch(s.label){case 0:return!this.isPrimary||this.dc(this.Go,18e5)?[3,2]:(this.Go=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Ys(e,VC.store);return n.ui().next((function(t){var e=i.wc(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return yE.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=s.sent(),this.Zo)for(n=0,r=e;n<r.length;n++)this.Zo.removeItem(this.Ec(r[n].clientId));s.label=2;case 2:return[2]}}))}))},t.prototype.sc=function(){var t=this;this.jo=this.Cs.Us("client_metadata_refresh",4e3,(function(){return t.tc().then((function(){return t.fc()})).then((function(){return t.sc()}))}))},t.prototype.lc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.uc=function(t){var e=this;return this.qo?yE.resolve(!0):nS(t).get(xC.key).next((function(n){if(null!==n&&e.dc(n.leaseTimestampMs,5e3)&&!e.Tc(n.ownerId)){if(e.lc(n)&&e.networkEnabled)return!0;if(!e.lc(n)){if(!n.allowTabSynchronization)throw new Wb(Hb.FAILED_PRECONDITION,XC);return!1}}return!(!e.networkEnabled||!e.inForeground)||rS(t).ui().next((function(t){return void 0===e.wc(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Lb("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Ic=function(){return Object(Tp.b)(this,void 0,void 0,(function(){var t=this;return Object(Tp.d)(this,(function(e){switch(e.label){case 0:return this.Qo=!1,this.mc(),this.jo&&(this.jo.cancel(),this.jo=null),this.Ac(),this.Rc(),[4,this.Jo.runTransaction("shutdown","readwrite",[xC.store,VC.store],(function(e){var n=new tS(e,xE.Ds);return t.ac(n).next((function(){return t._c(n)}))}))];case 1:return e.sent(),this.Jo.close(),this.Pc(),[2]}}))}))},t.prototype.wc=function(t,e){var n=this;return t.filter((function(t){return n.dc(t.updateTimeMs,e)&&!n.Tc(t.clientId)}))},t.prototype.gc=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return rS(e).ui().next((function(e){return t.wc(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"lr",{get:function(){return this.Qo},enumerable:!1,configurable:!0}),t.prototype.yc=function(t){return lC.Nr(t,this.serializer,this.os,this.Dr)},t.prototype.Vc=function(){return this.Yo},t.prototype.vc=function(){return this.ss},t.prototype.bc=function(){return this.os},t.prototype.Sc=function(){return this.Xo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Lb("IndexedDbPersistence","Starting transaction:",t),this.Jo.runTransaction(t,"readonly"===e?"readonly":"readwrite",zC,(function(s){return r=new tS(s,i.Uo?i.Uo.next():xE.Ds),"readwrite-primary"===e?i.cc(r).next((function(t){return!!t||i.uc(r)})).next((function(e){if(!e)throw Fb("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Cs.Mi((function(){return i.zo(!1)})),new Wb(Hb.FAILED_PRECONDITION,EE);return n(r)})).next((function(t){return i.hc(r).next((function(){return t}))})):i.Dc(r).next((function(){return n(r)}))})).then((function(t){return r.ns(),t}))},t.prototype.Dc=function(t){var e=this;return nS(t).get(xC.key).next((function(t){if(null!==t&&e.dc(t.leaseTimestampMs,5e3)&&!e.Tc(t.ownerId)&&!e.lc(t)&&!(e.qo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Wb(Hb.FAILED_PRECONDITION,XC)}))},t.prototype.hc=function(t){var e=new xC(this.clientId,this.allowTabSynchronization,Date.now());return nS(t).put(xC.key,e)},t.Gs=function(){return TE.Gs()},t.prototype.ac=function(t){var e=this,n=nS(t);return n.get(xC.key).next((function(t){return e.lc(t)?(Lb("IndexedDbPersistence","Releasing primary lease."),n.delete(xC.key)):yE.resolve()}))},t.prototype.dc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Fb("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.ec=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Wo=function(){t.Cs.Ri((function(){return t.inForeground="visible"===t.document.visibilityState,t.tc()}))},this.document.addEventListener("visibilitychange",this.Wo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Ac=function(){this.Wo&&(this.document.removeEventListener("visibilitychange",this.Wo),this.Wo=null)},t.prototype.nc=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ko=function(){e.mc(),e.Cs.Ri((function(){return e.Ic()}))},this.window.addEventListener("unload",this.Ko))},t.prototype.Rc=function(){this.Ko&&(this.window.removeEventListener("unload",this.Ko),this.Ko=null)},t.prototype.Tc=function(t){var e;try{var n=null!==(null===(e=this.Zo)||void 0===e?void 0:e.getItem(this.Ec(t)));return Lb("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Fb("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.mc=function(){if(this.Zo)try{this.Zo.setItem(this.Ec(this.clientId),String(Date.now()))}catch(t){Fb("Failed to set zombie client id.",t)}},t.prototype.Pc=function(){if(this.Zo)try{this.Zo.removeItem(this.Ec(this.clientId))}catch(t){}},t.prototype.Ec=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function nS(t){return eS.Ys(t,xC.store)}function rS(t){return eS.Ys(t,VC.store)}var iS=function(){function t(t,e){this.db=t,this.cr=new GE(this,e)}return t.prototype.Er=function(t){var e=this.Cc(t);return this.db.Vc().No(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Cc=function(t){var e=0;return this.Ir(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ue=function(t,e){return this.db.Vc().Ue(t,e)},t.prototype.Ir=function(t,e){return this.Nc(t,(function(t,n){return e(n)}))},t.prototype.Oo=function(t,e,n){return sS(t,n)},t.prototype.ko=function(t,e,n){return sS(t,n)},t.prototype.mr=function(t,e,n){return this.db.Vc().mr(t,e,n)},t.prototype.jr=function(t,e){return sS(t,e)},t.prototype.xc=function(t,e){return function(t,e){var n=!1;return mC(t).fi((function(r){return hC(t,r,e).next((function(t){return t&&(n=!0),yE.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Ar=function(t,e){var n=this,r=this.db.vc().io(),i=[],s=0;return this.Nc(t,(function(o,a){if(a<=e){var c=n.xc(t,o).next((function(e){if(!e)return s++,r.Jn(t,o).next((function(){return r.Hn(o),ZC(t).delete([0,QE(o.path)])}))}));i.push(c)}})).next((function(){return yE.qn(i)})).next((function(){return r.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.dt(t.Lo);return this.db.Vc().So(t,n)},t.prototype.Fc=function(t,e){return sS(t,e)},t.prototype.Nc=function(t,e){var n,r=ZC(t),i=xE.Ds;return r._i({index:jC.documentTargetsIndex},(function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==xE.Ds&&e(new c_(ZE(n)),i),i=o,n=s):i=xE.Ds})).next((function(){i!==xE.Ds&&e(new c_(ZE(n)),i)}))},t.prototype.Pr=function(t){return this.db.vc().oo(t)},t}();function sS(t,e){return ZC(t).put(function(t,e){return new jC(0,QE(t.path),e)}(e,t.Lo))}function oS(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var aS=function(){function t(t,e,n,r){this.persistence=t,this.Oc=e,this.serializer=r,this.Mc=new S_(Xb),this.kc=new gE((function(t){return p_(t)}),m_),this.$c=r_.min(),this.rs=t.yc(n),this.Lc=t.vc(),this.Yo=t.Vc(),this.Bc=new SE(this.Lc,this.rs,this.persistence.bc()),this.Xo=t.Sc(),this.Oc.yr(this.Bc)}return t.prototype._r=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Rr(n,e.Mc)}))},t}();function cS(t,e,n,r){return new aS(t,e,n,r)}function uS(t,e){return Object(Tp.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(Tp.d)(this,(function(o){switch(o.label){case 0:return n=qb(t),r=n.rs,i=n.Bc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var s;return n.rs.qr(t).next((function(o){return s=o,r=n.persistence.yc(e),i=new SE(n.Lc,r,n.persistence.bc()),r.qr(t)})).next((function(e){for(var n=[],r=[],o=M_(),a=0,c=s;a<c.length;a++){var u=c[a];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i._s(t,o).next((function(t){return{qc:t,Uc:n,Qc:r}}))}))}))];case 1:return s=o.sent(),[2,(n.rs=r,n.Bc=i,n.Oc.yr(n.Bc),s)]}}))}))}function lS(t,e){var n=qb(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Lc.io({ro:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=yE.resolve();return s.forEach((function(t){o=o.next((function(){return r.Jn(e,t)})).next((function(e){var s=e,o=n.Sn.get(t);zb(null!==o),(!s||s.version.F(o)<0)&&(s=i.yn(t,s,n))&&r.jn(s,n.bn)}))})),o.next((function(){return t.rs.Qr(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.rs.Gr(t)})).next((function(){return n.Bc._s(t,r)}))}))}function hS(t){var e=qb(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Yo.Po(t)}))}function dS(t,e){var n=qb(t),r=e.ft,i=n.Mc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var s=n.Lc.io({ro:!0});i=n.Mc;var o=[];e.re.forEach((function(e,s){var a=i.get(s);if(a){o.push(n.Yo.Mo(t,e.de,s).next((function(){return n.Yo.Fo(t,e._e,s)})));var c=e.resumeToken;if(c.ht()>0){var u=a.wt(c,r).dt(t.Lo);i=i.Tt(s,u),function(t,e,n){return zb(e.resumeToken.ht()>0),0===t.resumeToken.ht()||e.ft.O()-t.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(a,u,e)&&o.push(n.Yo.So(t,u))}}}));var a=A_();if(e.ce.forEach((function(r,i){e.ue.has(r)&&o.push(n.persistence.Dr.Fc(t,r))})),o.push(function(t,e,n,r,i){var s=M_();return n.forEach((function(t){return s=s.add(t)})),e.getEntries(t,s).next((function(t){var i=A_();return n.forEach((function(n,s){var o=t.get(n),a=r;s instanceof Nw&&s.version.isEqual(r_.min())?(e.Hn(n,a),i=i.Tt(n,s)):null==o||s.version.F(o.version)>0||0===s.version.F(o.version)&&o.hasPendingWrites?(e.jn(s,a),i=i.Tt(n,s)):Lb("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),i}))}(t,s,e.ce,r).next((function(t){a=t}))),!r.isEqual(r_.min())){var c=n.Yo.Po(t).next((function(e){return n.Yo.Vo(t,t.Lo,r)}));o.push(c)}return yE.qn(o).next((function(){return s.apply(t)})).next((function(){return n.Bc.fs(t,a)}))})).then((function(t){return n.Mc=i,t}))}function fS(t,e){var n=qb(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.rs.Lr(t,e)}))}function pS(t,e){var n=qb(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Yo.xo(t,e).next((function(i){return i?yE.resolve(r=i):n.Yo.mo(t).next((function(i){return r=new v_(e,i,0,t.Lo),n.Yo.po(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Mc.get(t.targetId);return(null===r||t.ft.F(r.ft)>0)&&(n.Mc=n.Mc.Tt(t.targetId,t),n.kc.set(e,t.targetId)),t}))}function mS(t,e,n){return Object(Tp.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(Tp.d)(this,(function(a){switch(a.label){case 0:r=qb(t),i=r.Mc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,(function(t){return r.persistence.Dr.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!PE(o=a.sent()))throw o;return Lb("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Mc=r.Mc.remove(e),r.kc.delete(i.target),[2]}}))}))}function gS(t,e,n){var r=qb(t),i=r_.min(),s=M_();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=qb(t),i=r.kc.get(n);return void 0!==i?yE.resolve(r.Mc.get(i)):r.Yo.xo(e,n)}(r,t,Ww(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Yo.$o(t,e.targetId).next((function(t){s=t}))})).next((function(){return r.Oc.ws(t,e,n?i:r_.min(),n?s:M_())})).next((function(t){return{documents:t,Kc:s}}))}))}function yS(t,e){var n=qb(t),r=qb(n.Yo),i=n.Mc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ze(t,e).next((function(t){return t?t.target:null}))}))}function bS(t){var e=qb(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=qb(t),i=A_(),s=nC(n),o=_C(e),a=IDBKeyRange.lowerBound(s,!0);return o._i({index:DC.readTimeIndex,range:a},(function(t,e){var n=tC(r.serializer,e);i=i.Tt(n.key,n),s=e.readTime})).next((function(){return{Wc:i,readTime:rC(s)}}))}(e.Lc,t,e.$c)})).then((function(t){var n=t.Wc;return e.$c=t.readTime,n}))}function _S(t){return Object(Tp.b)(this,void 0,void 0,(function(){var e;return Object(Tp.d)(this,(function(n){return[2,(e=qb(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=_C(t),n=r_.min();return e._i({index:DC.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=rC(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$c=t}))]}))}))}function vS(t){return Object(Tp.b)(this,void 0,void 0,(function(){return Object(Tp.d)(this,(function(e){if(t.code!==Hb.FAILED_PRECONDITION||t.message!==EE)throw t;return Lb("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var wS=function(){function t(t,e,n,r,i,s){this.Cs=t,this.jc=n,this.Gc=r,this.zc=i,this.listener=s,this.state=0,this.Hc=0,this.Jc=null,this.stream=null,this.Si=new IE(t,e)}return t.prototype.Yc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Xc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Zc()},t.prototype.stop=function(){return Object(Tp.b)(this,void 0,void 0,(function(){return Object(Tp.d)(this,(function(t){switch(t.label){case 0:return this.Yc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.tu=function(){this.state=0,this.Si.reset()},t.prototype.eu=function(){var t=this;this.Xc()&&null===this.Jc&&(this.Jc=this.Cs.Us(this.jc,6e4,(function(){return t.nu()})))},t.prototype.su=function(t){this.iu(),this.stream.send(t)},t.prototype.nu=function(){return Object(Tp.b)(this,void 0,void 0,(function(){return Object(Tp.d)(this,(function(t){return this.Xc()?[2,this.close(0)]:[2]}))}))},t.prototype.iu=function(){this.Jc&&(this.Jc.cancel(),this.Jc=null)},t.prototype.close=function(t,e){return Object(Tp.b)(this,void 0,void 0,(function(){return Object(Tp.d)(this,(function(n){switch(n.label){case 0:return this.iu(),this.Si.cancel(),this.Hc++,3!==t?this.Si.reset():e&&e.code===Hb.RESOURCE_EXHAUSTED?(Fb(e.toString()),Fb("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):e&&e.code===Hb.UNAUTHENTICATED&&this.zc.m(),null!==this.stream&&(this.ru(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ou(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ru=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.cu(this.Hc),n=this.Hc;this.zc.getToken().then((function(e){t.Hc===n&&t.uu(e)}),(function(n){e((function(){var e=new Wb(Hb.UNKNOWN,"Fetching auth token failed: "+n.message);return t.au(e)}))}))},t.prototype.uu=function(t){var e=this,n=this.cu(this.Hc);this.stream=this.hu(t),this.stream.lu((function(){n((function(){return e.state=2,e.listener.lu()}))})),this.stream.ou((function(t){n((function(){return e.au(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Zc=function(){var t=this;this.state=4,this.Si.Bs((function(){return Object(Tp.b)(t,void 0,void 0,(function(){return Object(Tp.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.au=function(t){return Lb("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.cu=function(t){var e=this;return function(n){e.Cs.Ri((function(){return e.Hc===t?n():(Lb("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),ES=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).serializer=i,o}return Object(Tp.c)(e,t),e.prototype.hu=function(t){return this.Gc._u("Listen",t)},e.prototype.onMessage=function(t){this.Si.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Bb()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.tn?(zb(void 0===e||"string"==typeof e),y_.fromBase64String(e||"")):(zb(void 0===e||e instanceof Uint8Array),y_.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){var e=void 0===t.code?Hb.UNKNOWN:C_(t.code);return new Wb(e,t.message||"")}(o);n=new $_(r,i,s,a||null)}else if("documentChange"in e){var c=e.documentChange,u=Pv(t,c.document.name),l=Iv(c.document.updateTime),h=new kw({mapValue:{fields:c.document.fields}}),d=new Rw(u,l,h,{});n=new H_(c.targetIds||[],c.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){var f=e.documentDelete,p=Pv(t,f.document),m=f.readTime?Iv(f.readTime):r_.min(),g=new Nw(p,m);n=new H_([],f.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){var y=e.documentRemove,b=Pv(t,y.document);n=new H_([],y.removedTargetIds||[],b,null)}else{if(!("filter"in e))return Bb();var _=e.filter,v=new w_(_.count||0);n=new W_(_.targetId,v)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return r_.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?r_.min():e.readTime?Iv(e.readTime):r_.min()}(t);return this.listener.fu(e,n)},e.prototype.du=function(t){var e={};e.database=Nv(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=g_(r)?{documents:Vv(t,r)}:{query:Uv(t,r)}).targetId=e.targetId,e.resumeToken.ht()>0?n.resumeToken=Ov(t,e.resumeToken):e.ft.F(r_.min())>0&&(n.readTime=Sv(t,e.ft.M())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Bb()}}(0,e._t);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.su(e)},e.prototype.wu=function(t){var e={};e.database=Nv(this.serializer),e.removeTarget=t,this.su(e)},e}(wS),CS=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).serializer=i,o.Eu=!1,o}return Object(Tp.c)(e,t),Object.defineProperty(e.prototype,"Tu",{get:function(){return this.Eu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Eu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ru=function(){this.Eu&&this.Iu([])},e.prototype.hu=function(t){return this.Gc._u("Write",t)},e.prototype.onMessage=function(t){if(zb(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Eu){this.Si.reset();var e=function(t,e){return t&&t.length>0?(zb(void 0!==e),t.map((function(t){return function(t,e){var n=Iv(t.updateTime?t.updateTime:e);n.isEqual(r_.min())&&(n=Iv(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new dw(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Iv(t.commitTime);return this.listener.mu(n,e)}return zb(!t.writeResults||0===t.writeResults.length),this.Eu=!0,this.listener.Au()},e.prototype.Ru=function(){var t={};t.database=Nv(this.serializer),this.su(t)},e.prototype.Iu=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Lv(e.serializer,t)}))};this.su(n)},e}(wS),SS=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Gc=n,i.serializer=r,i.Pu=!1,i}return Object(Tp.c)(e,t),e.prototype.gu=function(){if(this.Pu)throw new Wb(Hb.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.yu=function(t,e,n){var r=this;return this.gu(),this.credentials.getToken().then((function(i){return r.Gc.yu(t,e,n,i)})).catch((function(t){throw t.code===Hb.UNAUTHENTICATED&&r.credentials.m(),t}))},e.prototype.Vu=function(t,e,n){var r=this;return this.gu(),this.credentials.getToken().then((function(i){return r.Gc.Vu(t,e,n,i)})).catch((function(t){throw t.code===Hb.UNAUTHENTICATED&&r.credentials.m(),t}))},e.prototype.terminate=function(){this.Pu=!1},e}((function(){})),OS=function(){function t(t,e){this.di=t,this.pu=e,this.state="Unknown",this.vu=0,this.bu=null,this.Su=!0}return t.prototype.Du=function(){var t=this;0===this.vu&&(this.Cu("Unknown"),this.bu=this.di.Us("online_state_timeout",1e4,(function(){return t.bu=null,t.Nu("Backend didn't respond within 10 seconds."),t.Cu("Offline"),Promise.resolve()})))},t.prototype.xu=function(t){"Online"===this.state?this.Cu("Unknown"):(this.vu++,this.vu>=1&&(this.Fu(),this.Nu("Connection failed 1 times. Most recent error: "+t.toString()),this.Cu("Offline")))},t.prototype.set=function(t){this.Fu(),this.vu=0,"Online"===t&&(this.Su=!1),this.Cu(t)},t.prototype.Cu=function(t){t!==this.state&&(this.state=t,this.pu(t))},t.prototype.Nu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Su?(Fb(e),this.Su=!1):Lb("OnlineStateTracker",e)},t.prototype.Fu=function(){null!==this.bu&&(this.bu.cancel(),this.bu=null)},t}(),xS=function(t,e,n,r,i){var s=this;this.Ou=t,this.Mu=e,this.di=n,this.ku={},this.$u=[],this.Lu=new Map,this.Bu=new Set,this.qu=[],this.Uu=i,this.Uu.Qu((function(t){n.Ri((function(){return Object(Tp.b)(s,void 0,void 0,(function(){return Object(Tp.d)(this,(function(t){switch(t.label){case 0:return jS(this)?(Lb("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Tp.b)(this,void 0,void 0,(function(){var e;return Object(Tp.d)(this,(function(n){switch(n.label){case 0:return(e=qb(t)).Bu.add(4),[4,TS(e)];case 1:return n.sent(),e.Ku.set("Unknown"),e.Bu.delete(4),[4,IS(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Ku=new OS(n,r)};function IS(t){return Object(Tp.b)(this,void 0,void 0,(function(){var e,n;return Object(Tp.d)(this,(function(r){switch(r.label){case 0:if(!jS(t))return[3,4];e=0,n=t.qu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function TS(t){return Object(Tp.b)(this,void 0,void 0,(function(){var e,n;return Object(Tp.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.qu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function kS(t,e){var n=qb(t);n.Lu.has(e.targetId)||(n.Lu.set(e.targetId,e),NS(n)?RS(n):YS(n).Xc()&&PS(n,e))}function AS(t,e){var n=qb(t),r=YS(n);n.Lu.delete(e),r.Xc()&&DS(n,e),0===n.Lu.size&&(r.Xc()?r.eu():jS(n)&&n.Ku.set("Unknown"))}function PS(t,e){t.Wu.De(e.targetId),YS(t).du(e)}function DS(t,e){t.Wu.De(e),YS(t).wu(e)}function RS(t){t.Wu=new K_({Xe:function(e){return t.ku.Xe(e)},Ze:function(e){return t.Lu.get(e)||null}}),YS(t).start(),t.Ku.Du()}function NS(t){return jS(t)&&!YS(t).Yc()&&t.Lu.size>0}function jS(t){return 0===qb(t).Bu.size}function MS(t){t.Wu=void 0}function LS(t){return Object(Tp.b)(this,void 0,void 0,(function(){return Object(Tp.d)(this,(function(e){return t.Lu.forEach((function(e,n){PS(t,e)})),[2]}))}))}function FS(t,e){return Object(Tp.b)(this,void 0,void 0,(function(){return Object(Tp.d)(this,(function(n){return MS(t),NS(t)?(t.Ku.xu(e),RS(t)):t.Ku.set("Unknown"),[2]}))}))}function VS(t,e,n){return Object(Tp.b)(this,void 0,void 0,(function(){var r,i,s;return Object(Tp.d)(this,(function(o){switch(o.label){case 0:if(t.Ku.set("Online"),!(e instanceof $_&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Tp.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(Tp.d)(this,(function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Lu.has(s=i[r])?[4,t.ku.ju(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Lu.delete(s),t.Wu.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Lb("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,US(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof H_?t.Wu.$e(e):e instanceof W_?t.Wu.je(e):t.Wu.qe(e),n.isEqual(r_.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,hS(t.Ou)];case 8:return i=o.sent(),n.F(i)>=0?[4,function(t,e){var n=t.Wu.He(e);return n.re.forEach((function(n,r){if(n.resumeToken.ht()>0){var i=t.Lu.get(r);i&&t.Lu.set(r,i.wt(n.resumeToken,e))}})),n.oe.forEach((function(e){var n=t.Lu.get(e);if(n){t.Lu.set(e,n.wt(y_.lt,n.ft)),DS(t,e);var r=new v_(n.target,e,1,n.sequenceNumber);PS(t,r)}})),t.ku.Gu(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Lb("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,US(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))}function US(t,e,n){return Object(Tp.b)(this,void 0,void 0,(function(){var r=this;return Object(Tp.d)(this,(function(i){switch(i.label){case 0:if(!PE(e))throw e;return t.Bu.add(1),[4,TS(t)];case 1:return i.sent(),t.Ku.set("Offline"),n||(n=function(){return hS(t.Ou)}),t.di.Mi((function(){return Object(Tp.b)(r,void 0,void 0,(function(){return Object(Tp.d)(this,(function(e){switch(e.label){case 0:return Lb("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Bu.delete(1),[4,IS(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function BS(t,e){return e().catch((function(n){return US(t,n,e)}))}function zS(t){return Object(Tp.b)(this,void 0,void 0,(function(){var e,n,r,i,s;return Object(Tp.d)(this,(function(o){switch(o.label){case 0:e=qb(t),n=JS(e),r=e.$u.length>0?e.$u[e.$u.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return jS(t)&&t.$u.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,fS(e.Ou,r)];case 3:return null===(i=o.sent())?(0===e.$u.length&&n.eu(),[3,7]):(r=i.batchId,function(t,e){t.$u.push(e);var n=JS(t);n.Xc()&&n.Tu&&n.Iu(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,US(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return qS(e)&&HS(e),[2]}}))}))}function qS(t){return jS(t)&&!JS(t).Yc()&&t.$u.length>0}function HS(t){JS(t).start()}function WS(t){return Object(Tp.b)(this,void 0,void 0,(function(){return Object(Tp.d)(this,(function(e){return JS(t).Ru(),[2]}))}))}function $S(t){return Object(Tp.b)(this,void 0,void 0,(function(){var e,n,r;return Object(Tp.d)(this,(function(i){for(e=JS(t),n=0,r=t.$u;n<r.length;n++)e.Iu(r[n].mutations);return[2]}))}))}function GS(t,e,n){return Object(Tp.b)(this,void 0,void 0,(function(){var r,i;return Object(Tp.d)(this,(function(s){switch(s.label){case 0:return r=t.$u.shift(),i=mE.from(r,e,n),[4,BS(t,(function(){return t.ku.zu(i)}))];case 1:return s.sent(),[4,zS(t)];case 2:return s.sent(),[2]}}))}))}function KS(t,e){return Object(Tp.b)(this,void 0,void 0,(function(){return Object(Tp.d)(this,(function(n){switch(n.label){case 0:return e&&JS(t).Tu?[4,function(t,e){return Object(Tp.b)(this,void 0,void 0,(function(){var n,r;return Object(Tp.d)(this,(function(i){switch(i.label){case 0:return E_(r=e.code)&&r!==Hb.ABORTED?(n=t.$u.shift(),JS(t).tu(),[4,BS(t,(function(){return t.ku.Hu(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,zS(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return qS(t)&&HS(t),[2]}}))}))}function QS(t,e){return Object(Tp.b)(this,void 0,void 0,(function(){var n;return Object(Tp.d)(this,(function(r){switch(r.label){case 0:return n=qb(t),e?(n.Bu.delete(2),[4,IS(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Bu.add(2),[4,TS(n)]);case 3:r.sent(),n.Ku.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function YS(t){var e=this;return t.Ju||(t.Ju=function(t,e,n){var r=qb(t);return r.gu(),new ES(e,r.Gc,r.credentials,r.serializer,n)}(t.Mu,t.di,{lu:LS.bind(null,t),ou:FS.bind(null,t),fu:VS.bind(null,t)}),t.qu.push((function(n){return Object(Tp.b)(e,void 0,void 0,(function(){return Object(Tp.d)(this,(function(e){switch(e.label){case 0:return n?(t.Ju.tu(),NS(t)?RS(t):t.Ku.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ju.stop()];case 2:e.sent(),MS(t),e.label=3;case 3:return[2]}}))}))}))),t.Ju}function JS(t){var e=this;return t.Yu||(t.Yu=function(t,e,n){var r=qb(t);return r.gu(),new CS(e,r.Gc,r.credentials,r.serializer,n)}(t.Mu,t.di,{lu:WS.bind(null,t),ou:KS.bind(null,t),Au:$S.bind(null,t),mu:GS.bind(null,t)}),t.qu.push((function(n){return Object(Tp.b)(e,void 0,void 0,(function(){return Object(Tp.d)(this,(function(e){switch(e.label){case 0:return n?(t.Yu.tu(),[4,zS(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Yu.stop()];case 3:e.sent(),t.$u.length>0&&(Lb("RemoteStore","Stopping write stream with "+t.$u.length+" pending writes"),t.$u=[]),e.label=4;case 4:return[2]}}))}))}))),t.Yu}var ZS=function(){this.Xu=void 0,this.listeners=[]},XS=function(){this.queries=new gE((function(t){return Kw(t)}),Gw),this.onlineState="Unknown",this.Zu=new Set};function tO(t,e){return Object(Tp.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,c;return Object(Tp.d)(this,(function(u){switch(u.label){case 0:if(n=qb(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new ZS),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),o=s,[4,n.ta(r)];case 2:return o.Xu=u.sent(),[3,4];case 3:return a=u.sent(),c=BE(a,"Initialization of query '"+Qw(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.ea(n.onlineState),s.Xu&&e.na(s.Xu)&&iO(n),[2]}}))}))}function eO(t,e){return Object(Tp.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(Tp.d)(this,(function(a){return n=qb(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.sa(r))]:[2]}))}))}function nO(t,e){for(var n=qb(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var c=0,u=a.listeners;c<u.length;c++)u[c].na(o)&&(r=!0);a.Xu=o}}r&&iO(n)}function rO(t,e,n){var r=qb(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function iO(t){t.Zu.forEach((function(t){t.next()}))}var sO=function(){function t(t,e,n){this.query=t,this.ia=e,this.ra=!1,this.oa=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.na=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new B_(t.query,t.docs,t.te,e,t.ee,t.fromCache,t.ne,!0)}var s=!1;return this.ra?this.ca(t)&&(this.ia.next(t),s=!0):this.ua(t,this.onlineState)&&(this.aa(t),s=!0),this.oa=t,s},t.prototype.onError=function(t){this.ia.error(t)},t.prototype.ea=function(t){this.onlineState=t;var e=!1;return this.oa&&!this.ra&&this.ua(this.oa,t)&&(this.aa(this.oa),e=!0),e},t.prototype.ua=function(t,e){return!t.fromCache||!(this.options.ha&&"Offline"!==e||t.docs.W()&&"Offline"!==e)},t.prototype.ca=function(t){return t.docChanges.length>0||!!(t.ne||this.oa&&this.oa.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.aa=function(t){t=B_.ie(t.query,t.docs,t.ee,t.fromCache),this.ra=!0,this.ia.next(t)},t}(),oO=function(){function t(){this.la=new I_(aO._a),this.fa=new I_(aO.da)}return t.prototype.W=function(){return this.la.W()},t.prototype.Oo=function(t,e){var n=new aO(t,e);this.la=this.la.add(n),this.fa=this.fa.add(n)},t.prototype.wa=function(t,e){var n=this;t.forEach((function(t){return n.Oo(t,e)}))},t.prototype.ko=function(t,e){this.Ea(new aO(t,e))},t.prototype.Ta=function(t,e){var n=this;t.forEach((function(t){return n.ko(t,e)}))},t.prototype.Ia=function(t){var e=this,n=new c_(new s_([])),r=new aO(n,t),i=new aO(n,t+1),s=[];return this.fa.Kt([r,i],(function(t){e.Ea(t),s.push(t.key)})),s},t.prototype.ma=function(){var t=this;this.la.forEach((function(e){return t.Ea(e)}))},t.prototype.Ea=function(t){this.la=this.la.delete(t),this.fa=this.fa.delete(t)},t.prototype.Aa=function(t){var e=new c_(new s_([])),n=new aO(e,t),r=new aO(e,t+1),i=M_();return this.fa.Kt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.zr=function(t){var e=new aO(t,0),n=this.la.jt(e);return null!==n&&t.isEqual(n.key)},t}(),aO=function(){function t(t,e){this.key=t,this.Ra=e}return t._a=function(t,e){return c_.$(t.key,e.key)||Xb(t.Ra,e.Ra)},t.da=function(t,e){return Xb(t.Ra,e.Ra)||c_.$(t.key,e.key)},t}();function cO(t,e){return"firestore_clients_"+t+"_"+e}function uO(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.u()&&(r+="_"+e.uid),r}function lO(t,e){return"firestore_targets_"+t+"_"+e}var hO=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Pa=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new Wb(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(Fb("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ga=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),dO=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Pa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new Wb(r.error.code,r.error.message)),i?new t(e,r.state,s):(Fb("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ga=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),fO=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Pa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=F_(),o=0;i&&o<r.activeTargetIds.length;++o)i=h_(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Fb("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),pO=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Pa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Fb("SharedClientState","Failed to parse online state: "+e),null)},t}(),mO=function(){function t(){this.activeTargetIds=F_()}return t.prototype.ya=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Va=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ga=function(){var t={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),gO=function(){function t(t,e,n,r,i){this.window=t,this.Cs=e,this.persistenceKey=n,this.pa=r,this.va=null,this.pu=null,this.ps=null,this.ba=this.Sa.bind(this),this.Da=new S_(Xb),this.lr=!1,this.Ca=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Na=cO(this.persistenceKey,this.pa),this.xa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Da=this.Da.Tt(this.pa,new mO),this.Fa=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Oa=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Ma=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.ka=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.$a=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ba)}return t.Gs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Tp.b)(this,void 0,void 0,(function(){var t,e,n,r,i,s,o,a,c,u,l=this;return Object(Tp.d)(this,(function(h){switch(h.label){case 0:return[4,this.va.gc()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.pa&&(i=this.getItem(cO(this.persistenceKey,r)))&&(s=fO.Pa(r,i))&&(this.Da=this.Da.Tt(s.clientId,s));for(this.La(),(o=this.storage.getItem(this.ka))&&(a=this.Ba(o))&&this.qa(a),c=0,u=this.Ca;c<u.length;c++)this.Sa(u[c]);return this.Ca=[],this.window.addEventListener("unload",(function(){return l.Ic()})),this.lr=!0,[2]}}))}))},t.prototype.Ss=function(t){this.setItem(this.xa,JSON.stringify(t))},t.prototype.Ua=function(){return this.Qa(this.Da)},t.prototype.Ka=function(t){var e=!1;return this.Da.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Wa=function(t){this.ja(t,"pending")},t.prototype.Ga=function(t,e,n){this.ja(t,e,n),this.za(t)},t.prototype.Ha=function(t){var e="not-current";if(this.Ka(t)){var n=this.storage.getItem(lO(this.persistenceKey,t));if(n){var r=dO.Pa(t,n);r&&(e=r.state)}}return this.Ja.ya(t),this.La(),e},t.prototype.Ya=function(t){this.Ja.Va(t),this.La()},t.prototype.Xa=function(t){return this.Ja.activeTargetIds.has(t)},t.prototype.Za=function(t){this.removeItem(lO(this.persistenceKey,t))},t.prototype.th=function(t,e,n){this.eh(t,e,n)},t.prototype.nh=function(t,e,n){var r=this;e.forEach((function(t){r.za(t)})),this.currentUser=t,n.forEach((function(t){r.Wa(t)}))},t.prototype.sh=function(t){this.ih(t)},t.prototype.rh=function(){this.oh()},t.prototype.Ic=function(){this.lr&&(this.window.removeEventListener("storage",this.ba),this.removeItem(this.Na),this.lr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Lb("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Lb("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Lb("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Sa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Lb("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Na)return void Fb("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi((function(){return Object(Tp.b)(e,void 0,void 0,(function(){var t,e,r,i,s,o;return Object(Tp.d)(this,(function(a){if(this.lr){if(null!==n.key)if(this.Fa.test(n.key)){if(null==n.newValue)return t=this.uh(n.key),[2,this.ah(t,null)];if(e=this.hh(n.key,n.newValue))return[2,this.ah(e.clientId,e)]}else if(this.Oa.test(n.key)){if(null!==n.newValue&&(r=this.lh(n.key,n.newValue)))return[2,this._h(r)]}else if(this.Ma.test(n.key)){if(null!==n.newValue&&(i=this.fh(n.key,n.newValue)))return[2,this.dh(i)]}else if(n.key===this.ka){if(null!==n.newValue&&(s=this.Ba(n.newValue)))return[2,this.qa(s)]}else if(n.key===this.xa)(o=function(t){var e=xE.Ds;if(null!=t)try{var n=JSON.parse(t);zb("number"==typeof n),e=n}catch(t){Fb("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==xE.Ds&&this.ps(o);else if(n.key===this.$a)return[2,this.va.wh()]}else this.Ca.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ja",{get:function(){return this.Da.get(this.pa)},enumerable:!1,configurable:!0}),t.prototype.La=function(){this.setItem(this.Na,this.Ja.ga())},t.prototype.ja=function(t,e,n){var r=new hO(this.currentUser,t,e,n),i=uO(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ga())},t.prototype.za=function(t){var e=uO(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ih=function(t){this.storage.setItem(this.ka,JSON.stringify({clientId:this.pa,onlineState:t}))},t.prototype.eh=function(t,e,n){var r=lO(this.persistenceKey,t),i=new dO(t,e,n);this.setItem(r,i.ga())},t.prototype.oh=function(){this.setItem(this.$a,"value-not-used")},t.prototype.uh=function(t){var e=this.Fa.exec(t);return e?e[1]:null},t.prototype.hh=function(t,e){var n=this.uh(t);return fO.Pa(n,e)},t.prototype.lh=function(t,e){var n=this.Oa.exec(t),r=Number(n[1]);return hO.Pa(new Nb(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fh=function(t,e){var n=this.Ma.exec(t),r=Number(n[1]);return dO.Pa(r,e)},t.prototype.Ba=function(t){return pO.Pa(t)},t.prototype._h=function(t){return Object(Tp.b)(this,void 0,void 0,(function(){return Object(Tp.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.va.Eh(t.batchId,t.state,t.error)]:(Lb("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.dh=function(t){return this.va.Th(t.targetId,t.state,t.error)},t.prototype.ah=function(t,e){var n=this,r=e?this.Da.Tt(t,e):this.Da.remove(t),i=this.Qa(this.Da),s=this.Qa(r),o=[],a=[];return s.forEach((function(t){i.has(t)||o.push(t)})),i.forEach((function(t){s.has(t)||a.push(t)})),this.va.Ih(o,a).then((function(){n.Da=r}))},t.prototype.qa=function(t){this.Da.get(t.clientId)&&this.pu(t.onlineState)},t.prototype.Qa=function(t){var e=F_();return t.forEach((function(t,n){e=e.Gt(n.activeTargetIds)})),e},t}(),yO=function(){function t(){this.mh=new mO,this.Ah={},this.pu=null,this.ps=null}return t.prototype.Wa=function(t){},t.prototype.Ga=function(t,e,n){},t.prototype.Ha=function(t){return this.mh.ya(t),this.Ah[t]||"not-current"},t.prototype.th=function(t,e,n){this.Ah[t]=e},t.prototype.Ya=function(t){this.mh.Va(t)},t.prototype.Xa=function(t){return this.mh.activeTargetIds.has(t)},t.prototype.Za=function(t){delete this.Ah[t]},t.prototype.Ua=function(){return this.mh.activeTargetIds},t.prototype.Ka=function(t){return this.mh.activeTargetIds.has(t)},t.prototype.start=function(){return this.mh=new mO,Promise.resolve()},t.prototype.nh=function(t,e,n){},t.prototype.sh=function(t){},t.prototype.Ic=function(){},t.prototype.Ss=function(t){},t.prototype.rh=function(){},t}(),bO=function(t){this.key=t},_O=function(t){this.key=t},vO=function(){function t(t,e){this.query=t,this.Rh=e,this.Ph=null,this.le=!1,this.gh=M_(),this.ee=M_(),this.yh=Jw(t),this.Vh=new V_(this.yh)}return Object.defineProperty(t.prototype,"ph",{get:function(){return this.Rh},enumerable:!1,configurable:!0}),t.prototype.bh=function(t,e){var n=this,r=e?e.Sh:new U_,i=e?e.Vh:this.Vh,s=e?e.ee:this.ee,o=i,a=!1,c=Vw(this.query)&&i.size===this.query.limit?i.last():null,u=Uw(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pt((function(t,e){var l=i.get(t),h=e instanceof Rw?e:null;h&&(h=Yw(n.query,h)?h:null);var d=!!l&&n.ee.has(l.key),f=!!h&&(h.an||n.ee.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.Dh(l,h)||(r.track({type:2,doc:h}),p=!0,(c&&n.yh(h,c)>0||u&&n.yh(h,u)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(c||u)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),Vw(this.query)||Uw(this.query))for(;o.size>this.query.limit;){var l=Vw(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Vh:o,Sh:r,br:a,ee:s}},t.prototype.Dh=function(t,e){return t.an&&e.hasCommittedMutations&&!e.an},t.prototype.Zn=function(t,e,n){var r=this,i=this.Vh;this.Vh=t.Vh,this.ee=t.ee;var s=t.Sh.Zt();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bb()}};return n(t)-n(e)}(t.type,e.type)||r.yh(t.doc,e.doc)})),this.Ch(n);var o=e?this.Nh():[],a=0===this.gh.size&&this.le?1:0,c=a!==this.Ph;return this.Ph=a,0!==s.length||c?{snapshot:new B_(this.query,t.Vh,i,s,t.ee,0===a,c,!1),xh:o}:{xh:o}},t.prototype.ea=function(t){return this.le&&"Offline"===t?(this.le=!1,this.Zn({Vh:this.Vh,Sh:new U_,ee:this.ee,br:!1},!1)):{xh:[]}},t.prototype.Fh=function(t){return!this.Rh.has(t)&&!!this.Vh.has(t)&&!this.Vh.get(t).an},t.prototype.Ch=function(t){var e=this;t&&(t._e.forEach((function(t){return e.Rh=e.Rh.add(t)})),t.fe.forEach((function(t){})),t.de.forEach((function(t){return e.Rh=e.Rh.delete(t)})),this.le=t.le)},t.prototype.Nh=function(){var t=this;if(!this.le)return[];var e=this.gh;this.gh=M_(),this.Vh.forEach((function(e){t.Fh(e.key)&&(t.gh=t.gh.add(e.key))}));var n=[];return e.forEach((function(e){t.gh.has(e)||n.push(new _O(e))})),this.gh.forEach((function(t){e.has(t)||n.push(new bO(t))})),n},t.prototype.Oh=function(t){this.Rh=t.Kc,this.gh=M_();var e=this.bh(t.documents);return this.Zn(e,!0)},t.prototype.Mh=function(){return B_.ie(this.query,this.Vh,this.ee,0===this.Ph)},t}(),wO=function(t,e,n){this.query=t,this.targetId=e,this.view=n},EO=function(t){this.key=t,this.kh=!1},CO=function(){function t(t,e,n,r,i,s){this.Ou=t,this.$h=e,this.Lh=n,this.Bh=r,this.currentUser=i,this.qh=s,this.Uh={},this.Qh=new gE((function(t){return Kw(t)}),Gw),this.Kh=new Map,this.Wh=[],this.jh=new S_(c_.$),this.Gh=new Map,this.zh=new oO,this.Hh={},this.Jh=new Map,this.Yh=KC.Io(),this.onlineState="Unknown",this.Xh=void 0}return Object.defineProperty(t.prototype,"Zh",{get:function(){return!0===this.Xh},enumerable:!1,configurable:!0}),t}();function SO(t,e){return Object(Tp.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(Tp.d)(this,(function(a){switch(a.label){case 0:return n=XO(t),(i=n.Qh.get(e))?(n.Bh.Ha(i.targetId),r=i.view.Mh(),[3,4]):[3,1];case 1:return[4,pS(n.Ou,Ww(e))];case 2:return s=a.sent(),o=n.Bh.Ha(s.targetId),[4,OO(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.Zh&&kS(n.$h,s),a.label=4;case 4:return[2,r]}}))}))}function OO(t,e,n,r){return Object(Tp.b)(this,void 0,void 0,(function(){var i,s,o,a,c,u;return Object(Tp.d)(this,(function(l){switch(l.label){case 0:return t.tl=function(e,n,r){return function(t,e,n,r){return Object(Tp.b)(this,void 0,void 0,(function(){var i,s,o;return Object(Tp.d)(this,(function(a){switch(a.label){case 0:return(i=e.view.bh(n)).br?[4,gS(t.Ou,e.query,!1).then((function(t){return e.view.bh(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.re.get(e.targetId),o=e.view.Zn(i,t.Zh,s),[2,(FO(t,e.targetId,o.xh),o.snapshot)]}}))}))}(t,e,n,r)},[4,gS(t.Ou,e,!0)];case 1:return i=l.sent(),s=new vO(e,i.Kc),o=s.bh(i.documents),a=q_.he(n,r&&"Offline"!==t.onlineState),c=s.Zn(o,t.Zh,a),FO(t,n,c.xh),u=new wO(e,n,s),[2,(t.Qh.set(e,u),t.Kh.has(n)?t.Kh.get(n).push(e):t.Kh.set(n,[e]),c.snapshot)]}}))}))}function xO(t,e){return Object(Tp.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Tp.d)(this,(function(s){switch(s.label){case 0:return n=qb(t),r=n.Qh.get(e),(i=n.Kh.get(r.targetId)).length>1?[2,(n.Kh.set(r.targetId,i.filter((function(t){return!Gw(t,e)}))),void n.Qh.delete(e))]:n.Zh?(n.Bh.Ya(r.targetId),n.Bh.Ka(r.targetId)?[3,2]:[4,mS(n.Ou,r.targetId,!1).then((function(){n.Bh.Za(r.targetId),AS(n.$h,r.targetId),MO(n,r.targetId)})).catch(vS)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return MO(n,r.targetId),[4,mS(n.Ou,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}}))}))}function IO(t,e,n){return Object(Tp.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(Tp.d)(this,(function(a){switch(a.label){case 0:r=tx(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=qb(t),i=n_.now(),s=e.reduce((function(t,e){return t.add(e.key)}),M_());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Bc._s(t,s).next((function(s){n=s;for(var o=[],a=0,c=e;a<c.length;a++){var u=c[a],l=bw(u,n.get(u.key));null!=l&&o.push(new Ew(u.key,l,Pw(l.proto.mapValue),fw.exists(!0)))}return r.rs.Or(t,i,o,e)}))})).then((function(t){var e=t.vn(n);return{batchId:t.batchId,Qn:e}}))}(r.Ou,e)];case 2:return i=a.sent(),r.Bh.Wa(i.batchId),function(t,e,n){var r=t.Hh[t.currentUser.h()];r||(r=new S_(Xb)),r=r.Tt(e,n),t.Hh[t.currentUser.h()]=r}(r,i.batchId,n),[4,BO(r,i.Qn)];case 3:return a.sent(),[4,zS(r.$h)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=BE(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}}))}))}function TO(t,e){return Object(Tp.b)(this,void 0,void 0,(function(){var n,r;return Object(Tp.d)(this,(function(i){switch(i.label){case 0:n=qb(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,dS(n.Ou,e)];case 2:return r=i.sent(),e.re.forEach((function(t,e){var r=n.Gh.get(e);r&&(zb(t._e.size+t.fe.size+t.de.size<=1),t._e.size>0?r.kh=!0:t.fe.size>0?zb(r.kh):t.de.size>0&&(zb(r.kh),r.kh=!1))})),[4,BO(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,vS(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function kO(t,e,n){var r=qb(t);if(r.Zh&&0===n||!r.Zh&&1===n){var i=[];r.Qh.forEach((function(t,n){var r=n.view.ea(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=qb(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].ea(e)&&(r=!0)})),r&&iO(n)}(r.Lh,e),i.length&&r.Uh.fu(i),r.onlineState=e,r.Zh&&r.Bh.sh(e)}}function AO(t,e,n){return Object(Tp.b)(this,void 0,void 0,(function(){var r,i,s,o,a,c;return Object(Tp.d)(this,(function(u){switch(u.label){case 0:return(r=qb(t)).Bh.th(e,"rejected",n),i=r.Gh.get(e),(s=i&&i.key)?(o=(o=new S_(c_.$)).Tt(s,new Nw(s,r_.min())),a=M_().add(s),c=new z_(r_.min(),new Map,new I_(Xb),o,a),[4,TO(r,c)]):[3,2];case 1:return u.sent(),r.jh=r.jh.remove(s),r.Gh.delete(e),UO(r),[3,4];case 2:return[4,mS(r.Ou,e,!1).then((function(){return MO(r,e,n)})).catch(vS)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))}function PO(t,e){return Object(Tp.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Tp.d)(this,(function(s){switch(s.label){case 0:n=qb(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,lS(n.Ou,e)];case 2:return i=s.sent(),jO(n,r,null),NO(n,r),n.Bh.Ga(r,"acknowledged"),[4,BO(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,vS(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function DO(t,e,n){return Object(Tp.b)(this,void 0,void 0,(function(){var r,i;return Object(Tp.d)(this,(function(s){switch(s.label){case 0:r=qb(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=qb(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.rs.kr(t,e).next((function(e){return zb(null!==e),r=e.keys(),n.rs.Qr(t,e)})).next((function(){return n.rs.Gr(t)})).next((function(){return n.Bc._s(t,r)}))}))}(r.Ou,e)];case 2:return i=s.sent(),jO(r,e,n),NO(r,e),r.Bh.Ga(e,"rejected",n),[4,BO(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,vS(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function RO(t,e){return Object(Tp.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(Tp.d)(this,(function(a){switch(a.label){case 0:jS((n=qb(t)).$h)||Lb("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=qb(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.rs.Br(t)}))}(n.Ou)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Jh.get(r)||[]).push(e),n.Jh.set(r,i),[3,4]);case 3:return s=a.sent(),o=BE(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}}))}))}function NO(t,e){(t.Jh.get(e)||[]).forEach((function(t){t.resolve()})),t.Jh.delete(e)}function jO(t,e,n){var r=qb(t),i=r.Hh[r.currentUser.h()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Hh[r.currentUser.h()]=i}}function MO(t,e,n){void 0===n&&(n=null),t.Bh.Ya(e);for(var r=0,i=t.Kh.get(e);r<i.length;r++){var s=i[r];t.Qh.delete(s),n&&t.Uh.el(s,n)}t.Kh.delete(e),t.Zh&&t.zh.Ia(e).forEach((function(e){t.zh.zr(e)||LO(t,e)}))}function LO(t,e){var n=t.jh.get(e);null!==n&&(AS(t.$h,n),t.jh=t.jh.remove(e),t.Gh.delete(n),UO(t))}function FO(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof bO?(t.zh.Oo(s.key,e),VO(t,s)):s instanceof _O?(Lb("SyncEngine","Document no longer in limbo: "+s.key),t.zh.ko(s.key,e),t.zh.zr(s.key)||LO(t,s.key)):Bb()}}function VO(t,e){var n=e.key;t.jh.get(n)||(Lb("SyncEngine","New document in limbo: "+n),t.Wh.push(n),UO(t))}function UO(t){for(;t.Wh.length>0&&t.jh.size<t.qh;){var e=t.Wh.shift(),n=t.Yh.next();t.Gh.set(n,new EO(e)),t.jh=t.jh.Tt(e,n),kS(t.$h,new v_(Ww(Fw(e.path)),n,2,xE.Ds))}}function BO(t,e,n){return Object(Tp.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(Tp.d)(this,(function(a){switch(a.label){case 0:return r=qb(t),i=[],s=[],o=[],r.Qh.W()?[3,3]:(r.Qh.forEach((function(t,a){o.push(r.tl(a,e,n).then((function(t){if(t){r.Zh&&r.Bh.th(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=OE.Vs(a.targetId,t);s.push(e)}})))})),[4,Promise.all(o)]);case 1:return a.sent(),r.Uh.fu(i),[4,function(t,e){return Object(Tp.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,c,u;return Object(Tp.d)(this,(function(l){switch(l.label){case 0:n=qb(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return yE.forEach(e,(function(e){return yE.forEach(e.gs,(function(r){return n.persistence.Dr.Oo(t,e.targetId,r)})).next((function(){return yE.forEach(e.ys,(function(r){return n.persistence.Dr.ko(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!PE(r=l.sent()))throw r;return Lb("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(c=n.Mc.get(a),u=c.Et(c.ft),n.Mc=n.Mc.Tt(a,u));return[2]}}))}))}(r.Ou,s)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function zO(t,e){return Object(Tp.b)(this,void 0,void 0,(function(){var n,r;return Object(Tp.d)(this,(function(i){switch(i.label){case 0:return(n=qb(t)).currentUser.isEqual(e)?[3,3]:(Lb("SyncEngine","User change. New user:",e.h()),[4,uS(n.Ou,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Jh.forEach((function(t){t.forEach((function(t){t.reject(new Wb(Hb.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Jh.clear()}(n),n.Bh.nh(e,r.Uc,r.Qc),[4,BO(n,r.qc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function qO(t,e){var n=qb(t),r=n.Gh.get(e);if(r&&r.kh)return M_().add(r.key);var i=M_(),s=n.Kh.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var c=n.Qh.get(a[o]);i=i.Gt(c.view.ph)}return i}function HO(t,e){return Object(Tp.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Tp.d)(this,(function(s){switch(s.label){case 0:return[4,gS((n=qb(t)).Ou,e.query,!0)];case 1:return r=s.sent(),i=e.view.Oh(r),[2,(n.Zh&&FO(n,e.targetId,i.xh),i)]}}))}))}function WO(t){return Object(Tp.b)(this,void 0,void 0,(function(){var e;return Object(Tp.d)(this,(function(n){return[2,bS((e=qb(t)).Ou).then((function(t){return BO(e,t)}))]}))}))}function $O(t,e,n,r){return Object(Tp.b)(this,void 0,void 0,(function(){var i,s;return Object(Tp.d)(this,(function(o){switch(o.label){case 0:return[4,function(t,e){var n=qb(t),r=qb(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.$r(t,e).next((function(e){return e?n.Bc._s(t,e):yE.resolve(null)}))}))}((i=qb(t)).Ou,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,zS(i.$h)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(jO(i,e,r||null),NO(i,e),function(t,e){qb(qb(t).rs).Wr(e)}(i.Ou,e)):Bb(),o.label=4;case 4:return[4,BO(i,s)];case 5:return o.sent(),[3,7];case 6:Lb("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}}))}))}function GO(t,e){return Object(Tp.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,c;return Object(Tp.d)(this,(function(u){switch(u.label){case 0:return XO(n=qb(t)),tx(n),!0!==e||!0===n.Xh?[3,3]:(r=n.Bh.Ua(),[4,KO(n,r.H())]);case 1:return i=u.sent(),n.Xh=!0,[4,QS(n.$h,!0)];case 2:for(u.sent(),s=0,o=i;s<o.length;s++)kS(n.$h,o[s]);return[3,7];case 3:return!1!==e||!1===n.Xh?[3,7]:(a=[],c=Promise.resolve(),n.Kh.forEach((function(t,e){n.Bh.Xa(e)?a.push(e):c=c.then((function(){return MO(n,e),mS(n.Ou,e,!0)})),AS(n.$h,e)})),[4,c]);case 4:return u.sent(),[4,KO(n,a)];case 5:return u.sent(),function(t){var e=qb(t);e.Gh.forEach((function(t,n){AS(e.$h,n)})),e.zh.ma(),e.Gh=new Map,e.jh=new S_(c_.$)}(n),n.Xh=!1,[4,QS(n.$h,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}}))}))}function KO(t,e,n){return Object(Tp.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,c,u,l,h,d,f,p;return Object(Tp.d)(this,(function(m){switch(m.label){case 0:n=qb(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(c=void 0,(u=n.Kh.get(a=o[s]))&&0!==u.length?[4,pS(n.Ou,Ww(u[0]))]:[3,7]):[3,13];case 2:c=m.sent(),l=0,h=u,m.label=3;case 3:return l<h.length?(d=n.Qh.get(h[l]),[4,HO(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,yS(n.Ou,a)];case 8:return p=m.sent(),[4,pS(n.Ou,p)];case 9:return c=m.sent(),[4,OO(n,QO(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(c),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Uh.fu(i),r)]}}))}))}function QO(t){return Lw(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function YO(t){var e=qb(t);return qb(qb(e.Ou).persistence).gc()}function JO(t,e,n,r){return Object(Tp.b)(this,void 0,void 0,(function(){var i,s,o;return Object(Tp.d)(this,(function(a){switch(a.label){case 0:return(i=qb(t)).Xh?(Lb("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Kh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,bS(i.Ou)];case 3:return s=a.sent(),o=z_.ae(e,"current"===n),[4,BO(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,mS(i.Ou,e,!0)];case 6:return a.sent(),MO(i,e,r),[3,8];case 7:Bb(),a.label=8;case 8:return[2]}}))}))}function ZO(t,e,n){return Object(Tp.b)(this,void 0,void 0,(function(){var r,i,s,o,a,c,u,l,h;return Object(Tp.d)(this,(function(d){switch(d.label){case 0:if(!(r=XO(t)).Xh)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Kh.has(o=s[i])?(Lb("SyncEngine","Adding an already active target "+o),[3,5]):[4,yS(r.Ou,o)]:[3,6];case 2:return a=d.sent(),[4,pS(r.Ou,a)];case 3:return c=d.sent(),[4,OO(r,QO(a),c.targetId,!1)];case 4:d.sent(),kS(r.$h,c),d.label=5;case 5:return i++,[3,1];case 6:u=function(t){return Object(Tp.d)(this,(function(e){switch(e.label){case 0:return r.Kh.has(t)?[4,mS(r.Ou,t,!1).then((function(){AS(r.$h,t),MO(r,t)})).catch(vS)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function XO(t){var e=qb(t);return e.$h.ku.Gu=TO.bind(null,e),e.$h.ku.Xe=qO.bind(null,e),e.$h.ku.ju=AO.bind(null,e),e.Uh.fu=nO.bind(null,e.Lh),e.Uh.el=rO.bind(null,e.Lh),e}function tx(t){var e=qb(t);return e.$h.ku.zu=PO.bind(null,e),e.$h.ku.Hu=DO.bind(null,e),e}var ex=function(){function t(t,e){this.os=t,this.Dr=e,this.rs=[],this.nl=1,this.sl=new I_(aO._a)}return t.prototype.Fr=function(t){return yE.resolve(0===this.rs.length)},t.prototype.Or=function(t,e,n,r){var i=this.nl;this.nl++;var s=new pE(i,e,n,r);this.rs.push(s);for(var o=0,a=r;o<a.length;o++){var c=a[o];this.sl=this.sl.add(new aO(c.key,i)),this.os.Mr(t,c.key.path.q())}return yE.resolve(s)},t.prototype.kr=function(t,e){return yE.resolve(this.il(e))},t.prototype.Lr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return yE.resolve(this.rs.length>r?this.rs[r]:null)},t.prototype.Br=function(){return yE.resolve(0===this.rs.length?-1:this.nl-1)},t.prototype.qr=function(t){return yE.resolve(this.rs.slice())},t.prototype.us=function(t,e){var n=this,r=new aO(e,0),i=new aO(e,Number.POSITIVE_INFINITY),s=[];return this.sl.Kt([r,i],(function(t){var e=n.il(t.Ra);s.push(e)})),yE.resolve(s)},t.prototype.ds=function(t,e){var n=this,r=new I_(Xb);return e.forEach((function(t){var e=new aO(t,0),i=new aO(t,Number.POSITIVE_INFINITY);n.sl.Kt([e,i],(function(t){r=r.add(t.Ra)}))})),yE.resolve(this.ol(r))},t.prototype.Rs=function(t,e){var n=e.path,r=n.length+1,i=n;c_.ot(i)||(i=i.child(""));var s=new aO(new c_(i),0),o=new I_(Xb);return this.sl.Wt((function(t){var e=t.key.path;return!!n.j(e)&&(e.length===r&&(o=o.add(t.Ra)),!0)}),s),yE.resolve(this.ol(o))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.il(t);null!==r&&n.push(r)})),n},t.prototype.Qr=function(t,e){var n=this;zb(0===this.cl(e.batchId,"removed")),this.rs.shift();var r=this.sl;return yE.forEach(e.mutations,(function(i){var s=new aO(i.key,e.batchId);return r=r.delete(s),n.Dr.jr(t,i.key)})).next((function(){n.sl=r}))},t.prototype.Wr=function(t){},t.prototype.zr=function(t,e){var n=new aO(e,0),r=this.sl.jt(n);return yE.resolve(e.isEqual(r&&r.key))},t.prototype.Gr=function(t){return yE.resolve()},t.prototype.cl=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.rs.length?0:t-this.rs[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.rs.length?null:this.rs[e]},t}(),nx=function(){function t(t,e){this.os=t,this.ul=e,this.docs=new S_(c_.$),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ul(e);return this.docs=this.docs.Tt(r,{zn:e,size:o,readTime:n}),this.size+=o-s,this.os.Mr(t,r.path.q())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Jn=function(t,e){var n=this.docs.get(e);return yE.resolve(n?n.zn:null)},t.prototype.getEntries=function(t,e){var n=this,r=P_();return e.forEach((function(t){var e=n.docs.get(t);r=r.Tt(t,e?e.zn:null)})),yE.resolve(r)},t.prototype.ws=function(t,e,n){for(var r=R_(),i=new c_(e.path.child("")),s=this.docs.Vt(i);s.Nt();){var o=s.Ct(),a=o.value,c=a.zn,u=a.readTime;if(!e.path.j(o.key.path))break;u.F(n)<=0||c instanceof Rw&&Yw(e,c)&&(r=r.Tt(c.key,c))}return yE.resolve(r)},t.prototype.al=function(t,e){return yE.forEach(this.docs,(function(t){return e(t)}))},t.prototype.io=function(t){return new rx(this)},t.prototype.oo=function(t){return yE.resolve(this.size)},t}(),rx=function(t){function e(e){var n=this;return(n=t.call(this)||this).co=e,n}return Object(Tp.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[];return this.Qn.forEach((function(r,i){i&&i.zn?n.push(e.co.jn(t,i.zn,e.Wn(r))):e.co.Hn(r)})),yE.qn(n)},e.prototype.Yn=function(t,e){return this.co.Jn(t,e)},e.prototype.Xn=function(t,e){return this.co.getEntries(t,e)},e}(bE),ix=function(){function t(t){this.persistence=t,this.hl=new gE((function(t){return p_(t)}),m_),this.lastRemoteSnapshotVersion=r_.min(),this.highestTargetId=0,this.ll=0,this._l=new oO,this.targetCount=0,this.fl=KC.To()}return t.prototype.Ue=function(t,e){return this.hl.forEach((function(t,n){return e(n)})),yE.resolve()},t.prototype.Po=function(t){return yE.resolve(this.lastRemoteSnapshotVersion)},t.prototype.yo=function(t){return yE.resolve(this.ll)},t.prototype.mo=function(t){return this.highestTargetId=this.fl.next(),yE.resolve(this.highestTargetId)},t.prototype.Vo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),yE.resolve()},t.prototype.vo=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new KC(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.po=function(t,e){return this.vo(e),this.targetCount+=1,yE.resolve()},t.prototype.So=function(t,e){return this.vo(e),yE.resolve()},t.prototype.Do=function(t,e){return this.hl.delete(e.target),this._l.Ia(e.targetId),this.targetCount-=1,yE.resolve()},t.prototype.mr=function(t,e,n){var r=this,i=0,s=[];return this.hl.forEach((function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.hl.delete(o),s.push(r.Co(t,a.targetId)),i++)})),yE.qn(s).next((function(){return i}))},t.prototype.No=function(t){return yE.resolve(this.targetCount)},t.prototype.xo=function(t,e){var n=this.hl.get(e)||null;return yE.resolve(n)},t.prototype.Fo=function(t,e,n){return this._l.wa(e,n),yE.resolve()},t.prototype.Mo=function(t,e,n){this._l.Ta(e,n);var r=this.persistence.Dr,i=[];return r&&e.forEach((function(e){i.push(r.jr(t,e))})),yE.qn(i)},t.prototype.Co=function(t,e){return this._l.Ia(e),yE.resolve()},t.prototype.$o=function(t,e){var n=this._l.Aa(e);return yE.resolve(n)},t.prototype.zr=function(t,e){return yE.resolve(this._l.zr(e))},t}(),sx=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.ho=function(t,e){return yE.resolve(this.dl.get(e))},t.prototype.lo=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:Iv(n.createTime)}),yE.resolve()},t.prototype._o=function(t,e){return yE.resolve(this.wl.get(e))},t.prototype.fo=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:uC(n.bundledQuery),readTime:Iv(n.readTime)}),yE.resolve()},t}(),ox=function(){function t(t,e){var n=this;this.El={},this.Uo=new xE(0),this.Qo=!1,this.Qo=!0,this.Dr=t(this),this.Yo=new ix(this),this.os=new EC,this.ss=function(t,e){return new nx(t,(function(t){return n.Dr.Tl(t)}))}(this.os),this.serializer=new XE(e),this.Xo=new sx(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Ic=function(){return this.Qo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"lr",{get:function(){return this.Qo},enumerable:!1,configurable:!0}),t.prototype.rc=function(){},t.prototype.oc=function(){},t.prototype.bc=function(){return this.os},t.prototype.yc=function(t){var e=this.El[t.h()];return e||(e=new ex(this.os,this.Dr),this.El[t.h()]=e),e},t.prototype.Vc=function(){return this.Yo},t.prototype.vc=function(){return this.ss},t.prototype.Sc=function(){return this.Xo},t.prototype.runTransaction=function(t,e,n){var r=this;Lb("MemoryPersistence","Starting transaction:",t);var i=new ax(this.Uo.next());return this.Dr.Il(),n(i).next((function(t){return r.Dr.ml(i).next((function(){return t}))})).Ln().then((function(t){return i.ns(),t}))},t.prototype.Al=function(t,e){return yE.Un(Object.values(this.El).map((function(n){return function(){return n.zr(t,e)}})))},t}(),ax=function(t){function e(e){var n=this;return(n=t.call(this)||this).Lo=e,n}return Object(Tp.c)(e,t),e}(CE),cx=function(){function t(t){this.persistence=t,this.Rl=new oO,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw Bb()},enumerable:!1,configurable:!0}),t.prototype.Oo=function(t,e,n){return this.Rl.Oo(n,e),this.yl.delete(n.toString()),yE.resolve()},t.prototype.ko=function(t,e,n){return this.Rl.ko(n,e),this.yl.add(n.toString()),yE.resolve()},t.prototype.jr=function(t,e){return this.yl.add(e.toString()),yE.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.Ia(e.targetId).forEach((function(t){return n.yl.add(t.toString())}));var r=this.persistence.Vc();return r.$o(t,e.targetId).next((function(t){t.forEach((function(t){return n.yl.add(t.toString())}))})).next((function(){return r.Do(t,e)}))},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.vc().io();return yE.forEach(this.yl,(function(r){var i=c_.st(r);return e.Vl(t,i).next((function(t){t||n.Hn(i)}))})).next((function(){return e.Pl=null,n.apply(t)}))},t.prototype.Fc=function(t,e){var n=this;return this.Vl(t,e).next((function(t){t?n.yl.delete(e.toString()):n.yl.add(e.toString())}))},t.prototype.Tl=function(t){return 0},t.prototype.Vl=function(t,e){var n=this;return yE.Un([function(){return yE.resolve(n.Rl.zr(e))},function(){return n.persistence.Vc().zr(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),ux=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.lu=function(t){this.bl=t},t.prototype.ou=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),lx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},hx=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(Tp.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise((function(i,s){var o=new Ab;o.listenOnce(Ib.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case xb.NO_ERROR:var e=o.getResponseJson();Lb("Connection","XHR received:",JSON.stringify(e)),i(e);break;case xb.TIMEOUT:Lb("Connection",'RPC "'+t+'" timed out'),s(new Wb(Hb.DEADLINE_EXCEEDED,"Request time out"));break;case xb.HTTP_ERROR:var n=o.getStatus();if(Lb("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Hb).indexOf(e)>=0?e:Hb.UNKNOWN}(r.status);s(new Wb(a,r.message))}else s(new Wb(Hb.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Wb(Hb.UNAVAILABLE,"Connection failed."));break;default:Bb()}}finally{Lb("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);o.send(e,"POST",a,n,15)}))},e.prototype._u=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new wb,i=Sg(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(s.initMessageHeaders,e),Object(Pp.l)()||Object(Pp.n)()||Object(Pp.j)()||Object(Pp.k)()||Object(Pp.o)()||Object(Pp.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Lb("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),c=!1,u=!1,l=new ux({pl:function(t){u?Lb("Connection","Not sending because WebChannel is closed:",t):(c||(Lb("Connection","Opening WebChannel transport."),a.open(),c=!0),Lb("Connection","WebChannel sending:",t),a.send(t))},vl:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,kb.EventType.OPEN,(function(){u||Lb("Connection","WebChannel transport opened.")})),h(a,kb.EventType.CLOSE,(function(){u||(u=!0,Lb("Connection","WebChannel transport closed"),l.Nl())})),h(a,kb.EventType.ERROR,(function(t){u||(u=!0,Vb("Connection","WebChannel transport errored:",t),l.Nl(new Wb(Hb.UNAVAILABLE,"The operation could not be completed")))})),h(a,kb.EventType.MESSAGE,(function(t){var e;if(!u){var n=t.data[0];zb(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Lb("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=b_[t];if(void 0!==e)return C_(e)}(i),o=r.message;void 0===s&&(s=Hb.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),u=!0,l.Nl(new Wb(s,o)),a.close()}else Lb("Connection","WebChannel received:",n),l.xl(n)}})),h(i,Tb.STAT_EVENT,(function(t){10===t.stat?Lb("Connection","Detected buffering proxy"):11===t.stat&&Lb("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Cl()}),0),l},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.yu=function(t,e,n,r){var i=this.kl(t,e);Lb("RestConnection","Sending: ",i,n);var s={};return this.$l(s,r),this.Ll(t,i,s,n).then((function(t){return Lb("RestConnection","Received: ",t),t}),(function(e){throw Vb("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Vu=function(t,e,n,r){return this.yu(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.1.2",t["Content-Type"]="text/plain",e)for(var n in e.T)e.T.hasOwnProperty(n)&&(t[n]=e.T[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+lx[t]},t}()),dx=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Qu=function(t){this.Kl.push(t)},t.prototype.Ic=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){Lb("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){Lb("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),fx=function(){function t(){}return t.prototype.Qu=function(t){},t.prototype.Ic=function(){},t}(),px=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Tp.b)(this,void 0,void 0,(function(){return Object(Tp.d)(this,(function(e){switch(e.label){case 0:return this.serializer=vE(t.Fl.t),this.Bh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Ou=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return cS(this.persistence,new KE,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new ox(cx.gl,this.serializer)},t.prototype.jl=function(t){return new yO},t.prototype.terminate=function(){return Object(Tp.b)(this,void 0,void 0,(function(){return Object(Tp.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.Bh.Ic()];case 1:return t.sent(),[4,this.persistence.Ic()];case 2:return t.sent(),[2]}}))}))},t}(),mx=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Tp.c)(e,t),e.prototype.initialize=function(e){return Object(Tp.b)(this,void 0,void 0,(function(){return Object(Tp.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,_S(this.Ou)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,tx(this.Xl.va)];case 4:return n.sent(),[4,zS(this.Xl.$h)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return cS(this.persistence,new KE,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new $E(this.persistence.Dr.cr,t.di)},e.prototype.Gl=function(t){var e=oS(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?WE.er(this.cacheSizeBytes):WE.ir;return new eS(this.synchronizeTabs,e,t.clientId,n,t.di,LE(),FE(),this.serializer,this.Bh,!!this.forceOwnership)},e.prototype.jl=function(t){return new yO},e}(px),gx=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Tp.c)(e,t),e.prototype.initialize=function(e){return Object(Tp.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Tp.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.va,this.Bh instanceof gO?(this.Bh.va={Eh:$O.bind(null,n),Th:JO.bind(null,n),Ih:ZO.bind(null,n),gc:YO.bind(null,n),wh:WO.bind(null,n)},[4,this.Bh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.ic((function(t){return Object(Tp.b)(r,void 0,void 0,(function(){return Object(Tp.d)(this,(function(e){switch(e.label){case 0:return[4,GO(this.Xl.va,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.lr?this.zl.start(this.Ou):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=LE();if(!gO.Gs(e))throw new Wb(Hb.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=oS(t.Fl.t,t.Fl.persistenceKey);return new gO(e,t.di,n,t.clientId,t.Yl)},e}(mx),yx=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Tp.b)(this,void 0,void 0,(function(){var n=this;return Object(Tp.d)(this,(function(r){switch(r.label){case 0:return this.Ou?[3,2]:(this.Ou=t.Ou,this.Bh=t.Bh,this.Mu=this.Zl(e),this.$h=this.t_(e),this.Lh=this.e_(e),this.va=this.n_(e,!t.synchronizeTabs),this.Bh.pu=function(t){return kO(n.va,t,1)},this.$h.ku.s_=zO.bind(null,this.va),[4,QS(this.$h,this.va.Zh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new XS},t.prototype.Zl=function(t){var e=vE(t.Fl.t),n=new hx(t.Fl);return function(t,e,n){return new SS(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Ou,n=this.Mu,r=t.di,i=function(t){return kO(o.va,t,0)},s=dx.Gs()?new dx:new fx,new xS(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var a=new CO(t,e,n,r,i,s);return o&&(a.Xh=!0),a}(this.Ou,this.$h,this.Lh,this.Bh,t.Yl,t.qh,e)},t.prototype.terminate=function(){return function(t){return Object(Tp.b)(this,void 0,void 0,(function(){var e;return Object(Tp.d)(this,(function(n){switch(n.label){case 0:return e=qb(t),Lb("RemoteStore","RemoteStore shutting down."),e.Bu.add(5),[4,TS(e)];case 1:return n.sent(),e.Uu.Ic(),e.Ku.set("Unknown"),[2]}}))}))}(this.$h)},t}(),bx=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function _x(t,e,n){if(!n)throw new Wb(Hb.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function vx(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Wb(Hb.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function wx(t,e,n,r){if(!0===e&&!0===r)throw new Wb(Hb.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Ex(t){if(!c_.ot(t))throw new Wb(Hb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Cx(t){if(c_.ot(t))throw new Wb(Hb.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Sx(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Bb()}function Ox(t,e){if("_delegate"in t&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Wb(Hb.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Sx(t);throw new Wb(Hb.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function xx(t,e){if(e<=0)throw new Wb(Hb.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Ix=function(t){this._methodName=t},Tx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Tp.c)(e,t),e.prototype.c_=function(t){if(2!==t.u_)throw t.a_(1===t.u_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.en.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Ix);function kx(t,e,n){return new RI({u_:3,h_:e.settings.h_,methodName:t._methodName,l_:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var Ax=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Tp.c)(e,t),e.prototype.c_=function(t){return new hw(t.path,new nw)},e.prototype.isEqual=function(t){return t instanceof e},e}(Ix),Px=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).__=n,r}return Object(Tp.c)(e,t),e.prototype.c_=function(t){var e=kx(this,t,!0),n=this.__.map((function(t){return VI(t,e)})),r=new rw(n);return new hw(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ix),Dx=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).__=n,r}return Object(Tp.c)(e,t),e.prototype.c_=function(t){var e=kx(this,t,!0),n=this.__.map((function(t){return VI(t,e)})),r=new sw(n);return new hw(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ix),Rx=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(Tp.c)(e,t),e.prototype.c_=function(t){var e=new aw(t.serializer,Cv(t.serializer,this.f_));return new hw(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Ix),Nx=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Wb(Hb.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Wb(Hb.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.d_=t,this.w_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.d_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.d_===t.d_&&this.w_===t.w_},t.prototype.toJSON=function(){return{latitude:this.d_,longitude:this.w_}},t.prototype.C=function(t){return Xb(this.d_,t.d_)||Xb(this.w_,t.w_)},t}(),jx=function(){function t(t){this.E_=t}return t.fromBase64String=function(e){try{return new t(y_.fromBase64String(e))}catch(e){throw new Wb(Hb.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(y_.fromUint8Array(e))},t.prototype.toBase64=function(){return this.E_.toBase64()},t.prototype.toUint8Array=function(){return this.E_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.E_.isEqual(t.E_)},t}(),Mx=function(t){this.o_=t},Lx=new Map,Fx=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Wb(Hb.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Wb(Hb.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,wx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Vx=function(){function t(t,e){this.T_="(lite)",this.I_=new Fx({}),this.m_=!1,t instanceof Rb?(this.A_=t,this.R_=new Gb):(this.P_=t,this.A_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Wb(Hb.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rb(t.options.projectId)}(t),this.R_=new Kb(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.P_)throw new Wb(Hb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.P_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"g_",{get:function(){return this.m_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y_",{get:function(){return void 0!==this.V_},enumerable:!1,configurable:!0}),t.prototype.p_=function(t){if(this.m_)throw new Wb(Hb.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.I_=new Fx(t),void 0!==t.credentials&&(this.R_=function(t){if(!t)return new Gb;switch(t.type){case"gapi":var e=t.client;return zb(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Yb(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Wb(Hb.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.v_=function(){return this.I_},t.prototype.b_=function(){return this.m_=!0,this.I_},t.prototype._delete=function(){return this.V_||(this.V_=this.S_()),this.V_},t.prototype.S_=function(){return function(t){var e=Lx.get(t);e&&(Lb("ComponentProvider","Removing Datastore"),Lx.delete(t),e.terminate())}(this),Promise.resolve()},t}();function Ux(){if("undefined"==typeof Uint8Array)throw new Wb(Hb.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Bx(){if("undefined"==typeof atob)throw new Wb(Hb.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var zx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Tp.c)(e,t),e.fromBase64String=function(t){return Bx(),new e(jx.fromBase64String(t))},e.fromUint8Array=function(t){return Ux(),new e(jx.fromUint8Array(t))},e.prototype.toBase64=function(){return Bx(),this.o_.toBase64()},e.prototype.toUint8Array=function(){return Ux(),this.o_.toUint8Array()},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Mx),qx=function(){function t(){}return t.prototype.D_=function(t,e){switch(void 0===e&&(e="none"),rv(t)){case 0:return null;case 1:return t.booleanValue;case 2:return lv(t.integerValue||t.doubleValue);case 3:return this.C_(t.timestampValue);case 4:return this.N_(t,e);case 5:return t.stringValue;case 6:return this.x_(hv(t.bytesValue));case 7:return this.F_(t.referenceValue);case 8:return this.O_(t.geoPointValue);case 9:return this.M_(t.arrayValue,e);case 10:return this.k_(t.mapValue,e);default:throw Bb()}},t.prototype.k_=function(t,e){var n=this,r={};return Z_(t.fields||{},(function(t,i){r[t]=n.D_(i,e)})),r},t.prototype.O_=function(t){return new Nx(lv(t.latitude),lv(t.longitude))},t.prototype.M_=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.D_(t,e)}))},t.prototype.N_=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return tv(n)?t(n):n}(t);return null==n?null:this.D_(n,e);case"estimate":return this.C_(ev(t));default:return null}},t.prototype.C_=function(t){var e=uv(t);return new n_(e.seconds,e.nanos)},t.prototype.L_=function(t,e){var n=s_.Y(t);zb(Jv(n));var r=new Rb(n.get(1),n.get(3)),i=new c_(n.B(5));return r.isEqual(e)||Fb("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Hx=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Tp.c)(e,t),e.prototype.x_=function(t){return new zx(new jx(t))},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return yT.B_(e,this.firestore,null)},e}(qx),Wx=function(){function t(t,e,n,r,i){this.q_=t,this.U_=e,this.Q_=n,this.K_=r,this.W_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.Q_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new cI(this.q_,this.W_,this.Q_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.K_},t.prototype.data=function(){if(this.K_){if(this.W_){var t=new $x(this.q_,this.U_,this.Q_,this.K_,null);return this.W_.fromFirestore(t)}return this.U_.D_(this.K_.En())}},t.prototype.get=function(t){if(this.K_){var e=this.K_.data().field(Gx("DocumentSnapshot.get",t));if(null!==e)return this.U_.D_(e)}},t}(),$x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Tp.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Wx);function Gx(t,e){return"string"==typeof e?WI(t,e):e instanceof Mx?e.o_.j_:e.j_}var Kx=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Wb(Hb.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.j_=new a_(t)}return t.prototype.isEqual=function(t){return this.j_.isEqual(t.j_)},t}(),Qx=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).G_=new UE,r.T_="name"in e?e.name:"[DEFAULT]",r}return Object(Tp.c)(e,t),e.prototype.S_=function(){return this.z_||pT(this),this.z_.terminate()},e}(Vx);function Yx(t,e,n){var r=this,i=new _E;return t.di.enqueue((function(){return Object(Tp.b)(r,void 0,void 0,(function(){var r;return Object(Tp.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,JI(t,n)];case 1:return s.sent(),[4,ZI(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Hb.FAILED_PRECONDITION||t.code===Hb.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Jx(t){if(t.g_||t.y_)throw new Wb(Hb.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Zx=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).q_=e,a.H_=e,a.metadata=s,a}return Object(Tp.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.K_){if(this.W_){var e=new Xx(this.q_,this.U_,this.Q_,this.K_,this.metadata,null);return this.W_.fromFirestore(e,t)}return this.U_.D_(this.K_.En(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.K_){var n=this.K_.data().field(Gx("DocumentSnapshot.get",t));if(null!==n)return this.U_.D_(n,e.serverTimestamps)}},e}(Wx),Xx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Tp.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Zx),tI=function(){function t(t,e,n,r){this.q_=t,this.U_=e,this.J_=r,this.metadata=new wT(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.J_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.J_.docs.forEach((function(r){t.call(e,new Xx(n.q_,n.U_,r.key,r,new wT(n.J_.ee.has(r.key),n.J_.fromCache),n.query.W_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.J_.se)throw new Wb(Hb.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Y_&&this.X_===e||(this.Y_=function(t,e){if(t.J_.te.W()){var n=0;return t.J_.docChanges.map((function(e){return{type:"added",doc:new Xx(t.q_,t.U_,e.doc.key,e.doc,new wT(t.J_.ee.has(e.doc.key),t.J_.fromCache),t.query.W_),oldIndex:-1,newIndex:n++}}))}var r=t.J_.te;return t.J_.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Xx(t.q_,t.U_,e.doc.key,e.doc,new wT(t.J_.ee.has(e.doc.key),t.J_.fromCache),t.query.W_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:eI(e.type),doc:n,oldIndex:i,newIndex:s}}))}(this,e),this.X_=e),this.Y_},t}();function eI(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bb()}}function nI(t,e){return t instanceof Zx&&e instanceof Zx?t.q_===e.q_&&t.Q_.isEqual(e.Q_)&&(null===t.K_?null===e.K_:t.K_.isEqual(e.K_))&&t.W_===e.W_:t instanceof tI&&e instanceof tI&&t.q_===e.q_&&II(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.J_.isEqual(e.J_)}var rI=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Tp.c)(e,t),e.prototype.x_=function(t){return new jx(t)},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return new cI(this.firestore,null,e)},e}(qx);function iI(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Ox(t,cI);var s=Ox(t.firestore,Qx),o=TI(s);return e instanceof Mx&&(e=e.o_),oI(s,("string"==typeof e||e instanceof Kx?LI(o,"updateDoc",t.Q_,e,n,r):MI(o,"updateDoc",t.Q_,e)).tf(t.Q_,fw.exists(!0)))}function sI(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof Mx&&(t=t.o_);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||wE(i[a])||(o=i[a],a++);var c,u,l,h={includeMetadataChanges:o.includeMetadataChanges};if(wE(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof cI)u=Ox(t.firestore,Qx),l=Fw(t.Q_.path),c={next:function(e){i[a]&&i[a](aI(u,t,e))},error:i[a+1],complete:i[a+2]};else{var f=Ox(t,uI);u=Ox(f.firestore,Qx),l=f.Z_;var p=new rI(u);c={next:function(t){i[a]&&i[a](new tI(u,p,f,t))},error:i[a+1],complete:i[a+2]},wI(t.Z_)}return function(t,e,n,r){var i=this,s=new bx(r),o=new sO(e,s,n);return t.di.Ri((function(){return Object(Tp.b)(i,void 0,void 0,(function(){var e;return Object(Tp.d)(this,(function(n){switch(n.label){case 0:return e=tO,[4,sT(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))})),function(){s.r_(),t.di.Ri((function(){return Object(Tp.b)(i,void 0,void 0,(function(){var e;return Object(Tp.d)(this,(function(n){switch(n.label){case 0:return e=eO,[4,sT(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))}))}}(fT(u),l,h,c)}function oI(t,e){return function(t,e){var n=this,r=new _E;return t.di.Ri((function(){return Object(Tp.b)(n,void 0,void 0,(function(){var n;return Object(Tp.d)(this,(function(i){switch(i.label){case 0:return n=IO,[4,iT(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(fT(t),e)}function aI(t,e,n){var r=n.docs.get(e.Q_),i=new rI(t);return new Zx(t,i,e.Q_,r,new wT(n.hasPendingWrites,n.fromCache),e.W_)}var cI=function(){function t(t,e,n){this.W_=e,this.Q_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"ef",{get:function(){return this.Q_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.Q_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Q_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new EI(this.firestore,this.W_,this.Q_.path.q())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.Q_)},t}(),uI=function(){function t(t,e,n){this.W_=e,this.Z_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.Z_)},t}(),lI=function(){};function hI(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.nf(t)}return t}var dI=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).sf=e,i.rf=n,i.cf=r,i.type="where",i}return Object(Tp.c)(e,t),e.prototype.nf=function(t){var e=TI(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.tt()){if("array-contains"===s||"array-contains-any"===s)throw new Wb(Hb.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){_I(o,s);for(var c=[],u=0,l=o;u<l.length;u++)c.push(bI(r,t,l[u]));a={arrayValue:{values:c}}}else a=bI(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||_I(o,s),a=FI(n,"where",o,"in"===s||"not-in"===s);var h=Zw.create(i,s,a);return function(t,e){if(e.An()){var n=zw(t);if(null!==n&&!n.isEqual(e.field))throw new Wb(Hb.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Bw(t);null!==r&&vI(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Wb(Hb.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.Z_,0,e,t.firestore.A_,this.sf,this.rf,this.cf);return new uI(t.firestore,t.W_,function(t,e){var n=t.filters.concat([e]);return new Mw(t.path,t.collectionGroup,t.Tn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.Z_,n))},e}(lI),fI=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).sf=e,r.uf=n,r.type="orderBy",r}return Object(Tp.c)(e,t),e.prototype.nf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Wb(Hb.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Wb(Hb.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new hE(e,n);return function(t,e){if(null===Bw(t)){var n=zw(t);null!==n&&vI(0,n,e.field)}}(t,r),r}(t.Z_,this.sf,this.uf);return new uI(t.firestore,t.W_,function(t,e){var n=t.Tn.concat([e]);return new Mw(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.Z_,e))},e}(lI),pI=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.af=n,i.hf=r,i}return Object(Tp.c)(e,t),e.prototype.nf=function(t){return new uI(t.firestore,t.W_,$w(t.Z_,this.af,this.hf))},e}(lI),mI=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.lf=n,i._f=r,i}return Object(Tp.c)(e,t),e.prototype.nf=function(t){var e=yI(t,this.type,this.lf,this._f);return new uI(t.firestore,t.W_,function(t,e){return new Mw(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.Z_,e))},e}(lI),gI=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.lf=n,i._f=r,i}return Object(Tp.c)(e,t),e.prototype.nf=function(t){var e=yI(t,this.type,this.lf,this._f);return new uI(t.firestore,t.W_,function(t,e){return new Mw(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.Z_,e))},e}(lI);function yI(t,e,n,r){if(n[0]instanceof Mx&&(n[0]=n[0].o_),n[0]instanceof Wx)return function(t,e,n,r,i){if(!r)throw new Wb(Hb.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Hw(t);o<a.length;o++){var c=a[o];if(c.field.tt())s.push(dv(e,r.key));else{var u=r.field(c.field);if(tv(u))throw new Wb(Hb.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var l=c.field.J();throw new Wb(Hb.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(u)}}return new aE(s,i)}(t.Z_,t.firestore.A_,e,n[0].K_,r);var i=TI(t.firestore);return function(t,e,n,r,i,s){var o=t.Tn;if(i.length>o.length)throw new Wb(Hb.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var u=i[c];if(o[c].field.tt()){if("string"!=typeof u)throw new Wb(Hb.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!qw(t)&&-1!==u.indexOf("/"))throw new Wb(Hb.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var l=t.path.child(s_.Y(u));if(!c_.ot(l))throw new Wb(Hb.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new c_(l);a.push(dv(e,h))}else{var d=FI(n,r,u);a.push(d)}}return new aE(a,s)}(t.Z_,t.firestore.A_,i,e,n,r)}function bI(t,e,n){if(n instanceof Mx&&(n=n.o_),"string"==typeof n){if(""===n)throw new Wb(Hb.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!qw(e)&&-1!==n.indexOf("/"))throw new Wb(Hb.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(s_.Y(n));if(!c_.ot(r))throw new Wb(Hb.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return dv(t,new c_(r))}if(n instanceof cI)return dv(t,n.Q_);throw new Wb(Hb.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Sx(n)+".")}function _I(t,e){if(!Array.isArray(t)||0===t.length)throw new Wb(Hb.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Wb(Hb.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function vI(t,e,n){if(!n.isEqual(e))throw new Wb(Hb.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function wI(t){if(Uw(t)&&0===t.Tn.length)throw new Wb(Hb.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var EI=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Fw(r))||this).firestore=e,i.ef=r,i.type="collection",i}return Object(Tp.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Z_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Z_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.ef.q();return t.W()?null:new cI(this.firestore,null,new c_(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.ef)},e}(uI);function CI(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t instanceof Mx&&(t=t.o_),_x("collection","path",e),t instanceof Vx){var i=s_.Y.apply(s_,Object(Tp.g)([e],n));return Cx(i),new EI(t,null,i)}if(!(t instanceof cI||t instanceof EI))throw new Wb(Hb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=s_.Y.apply(s_,Object(Tp.g)([t.path],n)).child(s_.Y(e));return Cx(s),new EI(t.firestore,null,s)}function SI(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t instanceof Mx&&(t=t.o_),1===arguments.length&&(e=Zb.D()),_x("doc","path",e),t instanceof Vx){var i=s_.Y.apply(s_,Object(Tp.g)([e],n));return Ex(i),new cI(t,null,new c_(i))}if(!(t instanceof cI||t instanceof EI))throw new Wb(Hb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=t.ef.child(s_.Y.apply(s_,Object(Tp.g)([e],n)));return Ex(s),new cI(t.firestore,t instanceof EI?t.W_:null,new c_(s))}var OI=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Tp.c)(e,t),e.prototype.x_=function(t){return new jx(t)},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return new cI(this.firestore,null,e)},e}(qx);function xI(t,e){return t instanceof Mx&&(t=t.o_),e instanceof Mx&&(e=e.o_),(t instanceof cI||t instanceof EI)&&(e instanceof cI||e instanceof EI)&&t.firestore===e.firestore&&t.path===e.path&&t.W_===e.W_}function II(t,e){return t instanceof Mx&&(t=t.o_),e instanceof Mx&&(e=e.o_),t instanceof uI&&e instanceof uI&&t.firestore===e.firestore&&Gw(t.Z_,e.Z_)&&t.W_===e.W_}function TI(t){var e=t.b_(),n=vE(t.A_);return new NI(t.A_,!!e.ignoreUndefinedProperties,n)}var kI=/^__.*__$/,AI=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.tf=function(t,e){var n=[];return n.push(null!==this.en?new Ew(t,this.data,this.en,e):new ww(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Sw(t,this.fieldTransforms)),n},t}(),PI=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.tf=function(t,e){var n=[new Ew(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new Sw(t,this.fieldTransforms)),n},t}();function DI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bb()}}var RI=function(){function t(t,e,n,r,i,s){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ff(),this.fieldTransforms=i||[],this.en=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u_",{get:function(){return this.settings.u_},enumerable:!1,configurable:!0}),t.prototype.df=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},t.prototype.wf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.df({path:n,l_:!1});return r.Ef(t),r},t.prototype.Tf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.df({path:n,l_:!1});return r.ff(),r},t.prototype.If=function(t){return this.df({path:void 0,l_:!0})},t.prototype.a_=function(t){return $I(t,this.settings.methodName,this.settings.mf||!1,this.path,this.settings.h_)},t.prototype.contains=function(t){return void 0!==this.en.find((function(e){return t.j(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.j(e.field)}))},t.prototype.ff=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Ef(this.path.get(t))},t.prototype.Ef=function(t){if(0===t.length)throw this.a_("Document fields must not be empty");if(DI(this.u_)&&kI.test(t))throw this.a_('Document fields cannot begin and end with "__"')},t}(),NI=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||vE(t)}return t.prototype.Af=function(t,e,n,r){return void 0===r&&(r=!1),new RI({u_:t,methodName:e,h_:n,path:a_.X(),l_:!1,mf:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function jI(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Af(s.merge||s.mergeFields?2:0,e,n,i);zI("Data must be an object, but it was:",o,r);var a,c,u=UI(r,o);if(s.merge)a=new lw(o.en),c=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=qI(e,d[h],n);if(!o.contains(f))throw new Wb(Hb.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");GI(l,f)||l.push(f)}a=new lw(l),c=o.fieldTransforms.filter((function(t){return a.un(t.field)}))}else a=null,c=o.fieldTransforms;return new AI(new kw(u),a,c)}function MI(t,e,n,r){var i=t.Af(1,e,n);zI("Data must be an object, but it was:",i,r);var s=[],o=new Aw;Z_(r,(function(t,r){var a=WI(e,t,n);r instanceof Mx&&(r=r.o_);var c=i.Tf(a);if(r instanceof Tx)s.push(a);else{var u=VI(r,c);null!=u&&(s.push(a),o.set(a,u))}}));var a=new lw(s);return new PI(o.hn(),a,i.fieldTransforms)}function LI(t,e,n,r,i,s){var o=t.Af(1,e,n),a=[qI(e,r,n)],c=[i];if(s.length%2!=0)throw new Wb(Hb.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<s.length;u+=2)a.push(qI(e,s[u])),c.push(s[u+1]);for(var l=[],h=new Aw,d=a.length-1;d>=0;--d)if(!GI(l,a[d])){var f=a[d],p=c[d];p instanceof Mx&&(p=p.o_);var m=o.Tf(f);if(p instanceof Tx)l.push(f);else{var g=VI(p,m);null!=g&&(l.push(f),h.set(f,g))}}var y=new lw(l);return new PI(h.hn(),y,o.fieldTransforms)}function FI(t,e,n,r){return void 0===r&&(r=!1),VI(n,t.Af(r?4:3,e))}function VI(t,e){if(t instanceof Mx&&(t=t.o_),BI(t))return zI("Unsupported field value:",e,t),UI(t,e);if(t instanceof Ix)return function(t,e){if(!DI(e.u_))throw e.a_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.a_(t._methodName+"() is not currently supported inside arrays");var n=t.c_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.settings.l_&&4!==e.u_)throw e.a_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=VI(s[i],e.If(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Mx&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Cv(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=n_.fromDate(t);return{timestampValue:Sv(e.serializer,n)}}if(t instanceof n_){var r=new n_(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Sv(e.serializer,r)}}if(t instanceof Nx)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof jx)return{bytesValue:Ov(e.serializer,t.E_)};if(t instanceof cI){var i=e.t,s=t.firestore.A_;if(!s.isEqual(i))throw e.a_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Tv(t.firestore.A_||e.t,t.Q_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.a_("Unsupported field value: "+Sx(t))}(t,e)}function UI(t,e){var n={};return X_(t)?e.path&&e.path.length>0&&e.en.push(e.path):Z_(t,(function(t,r){var i=VI(r,e.wf(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function BI(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof n_||t instanceof Nx||t instanceof jx||t instanceof cI||t instanceof Ix)}function zI(t,e,n){if(!BI(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Sx(n);throw e.a_("an object"===r?t+" a custom object":t+" "+r)}}function qI(t,e,n){if(e instanceof Mx&&(e=e.o_),e instanceof Kx)return e.j_;if("string"==typeof e)return WI(t,e);throw $I("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var HI=new RegExp("[~\\*/\\[\\]]");function WI(t,e,n){if(e.search(HI)>=0)throw $I("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Kx.bind.apply(Kx,Object(Tp.g)([void 0],e.split("."))))).j_}catch(r){throw $I("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function $I(t,e,n,r,i){var s=r&&!r.W(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(s||o)&&(c+=" (found",s&&(c+=" in field "+r),o&&(c+=" in document "+i),c+=")"),new Wb(Hb.INVALID_ARGUMENT,(a+=". ")+t+c)}function GI(t,e){return t.some((function(t){return t.isEqual(e)}))}var KI=function(){function t(t){this.Mu=t,this.Rf=new Map,this.mutations=[],this.Pf=!1,this.gf=null,this.yf=new Set}return t.prototype.Vf=function(t){return Object(Tp.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Tp.d)(this,(function(r){switch(r.label){case 0:if(this.pf(),this.mutations.length>0)throw new Wb(Hb.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Tp.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a;return Object(Tp.d)(this,(function(c){switch(c.label){case 0:return n=qb(t),r=Nv(n.serializer)+"/documents",i={documents:e.map((function(t){return Av(n.serializer,t)}))},[4,n.Vu("BatchGetDocuments",r,i)];case 1:return s=c.sent(),o=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){zb(!!e.found);var n=Pv(t,e.found.name),r=Iv(e.found.updateTime),i=new kw({mapValue:{fields:e.found.fields}});return new Rw(n,r,i,{})}(t,e):"missing"in e?function(t,e){zb(!!e.missing),zb(!!e.readTime);var n=Pv(t,e.missing),r=Iv(e.readTime);return new Nw(n,r)}(t,e):Bb()}(n.serializer,t);o.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=o.get(t.toString());zb(!!e),a.push(e)})),a)]}}))}))}(this.Mu,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Nw||t instanceof Rw?n.vf(t):Bb()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.tf(t,this.rn(t))),this.yf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.tf(t,this.bf(t)))}catch(t){this.gf=t}this.yf.add(t.toString())},t.prototype.delete=function(t){this.write([new Iw(t,this.rn(t))]),this.yf.add(t.toString())},t.prototype.commit=function(){return Object(Tp.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Tp.d)(this,(function(n){switch(n.label){case 0:if(this.pf(),this.gf)throw this.gf;return t=this.Rf,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=c_.st(n);e.mutations.push(new Tw(r,e.rn(r)))})),[4,function(t,e){return Object(Tp.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Tp.d)(this,(function(s){switch(s.label){case 0:return n=qb(t),r=Nv(n.serializer)+"/documents",i={writes:e.map((function(t){return Lv(n.serializer,t)}))},[4,n.yu("Commit",r,i)];case 1:return s.sent(),[2]}}))}))}(this.Mu,this.mutations)];case 1:return n.sent(),this.Pf=!0,[2]}}))}))},t.prototype.vf=function(t){var e;if(t instanceof Rw)e=t.version;else{if(!(t instanceof Nw))throw Bb();e=r_.min()}var n=this.Rf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Wb(Hb.ABORTED,"Document version changed between two reads.")}else this.Rf.set(t.key.toString(),e)},t.prototype.rn=function(t){var e=this.Rf.get(t.toString());return!this.yf.has(t.toString())&&e?fw.updateTime(e):fw.on()},t.prototype.bf=function(t){var e=this.Rf.get(t.toString());if(!this.yf.has(t.toString())&&e){if(e.isEqual(r_.min()))throw new Wb(Hb.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fw.updateTime(e)}return fw.exists(!0)},t.prototype.write=function(t){this.pf(),this.mutations=this.mutations.concat(t)},t.prototype.pf=function(){},t}(),QI=function(){function t(t,e,n,r){this.di=t,this.Mu=e,this.updateFunction=n,this.Ti=r,this.Sf=5,this.Si=new IE(this.di,"transaction_retry")}return t.prototype.run=function(){this.Df()},t.prototype.Df=function(){var t=this;this.Si.Bs((function(){return Object(Tp.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(Tp.d)(this,(function(r){return t=new KI(this.Mu),(e=this.Cf(t))&&e.then((function(e){n.di.Ri((function(){return t.commit().then((function(){n.Ti.resolve(e)})).catch((function(t){n.Nf(t)}))}))})).catch((function(t){n.Nf(t)})),[2]}))}))}))},t.prototype.Cf=function(t){try{var e=this.updateFunction(t);return!u_(e)&&e.catch&&e.then?e:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ti.reject(t),null}},t.prototype.Nf=function(t){var e=this;this.Sf>0&&this.xf(t)?(this.Sf-=1,this.di.Ri((function(){return e.Df(),Promise.resolve()}))):this.Ti.reject(t)},t.prototype.xf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!E_(e)}return!1},t}(),YI=function(){function t(t,e,n){var r=this;this.credentials=t,this.di=e,this.Fl=n,this.user=Nb.UNAUTHENTICATED,this.clientId=Zb.D(),this.Ff=function(){},this.g=new _E,this.credentials.A((function(t){Lb("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.Ff(t)),r.g.resolve()}))}return t.prototype.getConfiguration=function(){return Object(Tp.b)(this,void 0,void 0,(function(){return Object(Tp.d)(this,(function(t){switch(t.label){case 0:return[4,this.g.promise];case 1:return[2,(t.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,qh:100})]}}))}))},t.prototype.Of=function(t){var e=this;this.Ff=t,this.g.promise.then((function(){return e.Ff(e.user)}))},t.prototype.Mf=function(){if(this.di.Ci)throw new Wb(Hb.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.di.Oi();var e=new _E;return this.di.Ni((function(){return Object(Tp.b)(t,void 0,void 0,(function(){var t,n;return Object(Tp.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.kf?[4,this.kf.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.$f?[4,this.$f.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),e.resolve(),[3,6];case 5:return t=r.sent(),n=BE(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function JI(t,e){return Object(Tp.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Tp.d)(this,(function(i){switch(i.label){case 0:return t.di.Li(),Lb("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.Of((function(n){return t.di.Mi((function(){return Object(Tp.b)(r,void 0,void 0,(function(){return Object(Tp.d)(this,(function(t){switch(t.label){case 0:return[4,uS(e.Ou,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.rc((function(){return t.terminate()})),t.$f=e,[2]}}))}))}function ZI(t,e){return Object(Tp.b)(this,void 0,void 0,(function(){var n,r;return Object(Tp.d)(this,(function(i){switch(i.label){case 0:return t.di.Li(),[4,XI(t)];case 1:return n=i.sent(),Lb("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.Of((function(n){return t.di.Mi((function(){return function(t,e){return Object(Tp.b)(this,void 0,void 0,(function(){var n,r;return Object(Tp.d)(this,(function(i){switch(i.label){case 0:return(n=qb(t)).di.Li(),Lb("RemoteStore","RemoteStore received new credentials"),r=jS(n),n.Bu.add(3),[4,TS(n)];case 1:return i.sent(),r&&n.Ku.set("Unknown"),[4,n.ku.s_(e)];case 2:return i.sent(),n.Bu.delete(3),[4,IS(n)];case 3:return i.sent(),[2]}}))}))}(e.$h,n)}))})),t.kf=e,[2]}}))}))}function XI(t){return Object(Tp.b)(this,void 0,void 0,(function(){return Object(Tp.d)(this,(function(e){switch(e.label){case 0:return t.$f?[3,2]:(Lb("FirestoreClient","Using default OfflineComponentProvider"),[4,JI(t,new px)]);case 1:e.sent(),e.label=2;case 2:return[2,t.$f]}}))}))}function tT(t){return Object(Tp.b)(this,void 0,void 0,(function(){return Object(Tp.d)(this,(function(e){switch(e.label){case 0:return t.kf?[3,2]:(Lb("FirestoreClient","Using default OnlineComponentProvider"),[4,ZI(t,new yx)]);case 1:e.sent(),e.label=2;case 2:return[2,t.kf]}}))}))}function eT(t){return XI(t).then((function(t){return t.persistence}))}function nT(t){return XI(t).then((function(t){return t.Ou}))}function rT(t){return tT(t).then((function(t){return t.$h}))}function iT(t){return tT(t).then((function(t){return t.va}))}function sT(t){return Object(Tp.b)(this,void 0,void 0,(function(){var e,n;return Object(Tp.d)(this,(function(r){switch(r.label){case 0:return[4,tT(t)];case 1:return e=r.sent(),[2,((n=e.Lh).ta=SO.bind(null,e.va),n.sa=xO.bind(null,e.va),n)]}}))}))}function oT(t,e,n){var r=this;void 0===n&&(n={});var i=new _E;return t.di.Ri((function(){return Object(Tp.b)(r,void 0,void 0,(function(){var r;return Object(Tp.d)(this,(function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new bx({next:function(s){e.Ri((function(){return eO(t,o)}));var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Wb(Hb.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Wb(Hb.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new sO(Fw(n.path),s,{includeMetadataChanges:!0,ha:!0});return tO(t,o)},[4,sT(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.di,e,n,i])]}}))}))})),i.promise}function aT(t,e,n){var r=this;void 0===n&&(n={});var i=new _E;return t.di.Ri((function(){return Object(Tp.b)(r,void 0,void 0,(function(){var r;return Object(Tp.d)(this,(function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new bx({next:function(n){e.Ri((function(){return eO(t,o)})),n.fromCache&&"server"===r.source?i.reject(new Wb(Hb.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new sO(n,s,{includeMetadataChanges:!0,ha:!0});return tO(t,o)},[4,sT(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.di,e,n,i])]}}))}))})),i.promise}var cT=function(){function t(t,e){this.q_=t,this.Lf=e,this.Bf=[],this.qf=!1,this.Uf=TI(t)}return t.prototype.set=function(t,e,n){this.Qf();var r=uT(t,this.q_),i=kT(r.W_,e,n),s=jI(this.Uf,"WriteBatch.set",r.Q_,i,null!==r.W_,n);return this.Bf=this.Bf.concat(s.tf(r.Q_,fw.on())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Qf();var s,o=uT(t,this.q_);return e instanceof Mx&&(e=e.o_),s="string"==typeof e||e instanceof Kx?LI(this.Uf,"WriteBatch.update",o.Q_,e,n,r):MI(this.Uf,"WriteBatch.update",o.Q_,e),this.Bf=this.Bf.concat(s.tf(o.Q_,fw.exists(!0))),this},t.prototype.delete=function(t){this.Qf();var e=uT(t,this.q_);return this.Bf=this.Bf.concat(new Iw(e.Q_,fw.on())),this},t.prototype.commit=function(){return this.Qf(),this.qf=!0,this.Bf.length>0?this.Lf(this.Bf):Promise.resolve()},t.prototype.Qf=function(){if(this.qf)throw new Wb(Hb.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function uT(t,e){if(t instanceof Mx&&(t=t.o_),t.firestore!==e)throw new Wb(Hb.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var lT=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).q_=e,r}return Object(Tp.c)(e,t),e.prototype.get=function(e){var n=this,r=uT(e,this.q_),i=new rI(this.q_);return t.prototype.get.call(this,e).then((function(t){return new Zx(n.q_,i,r.Q_,t.K_,new wT(!1,!1),r.W_)}))},e}(function(){function t(t,e){this.q_=t,this.Kf=e,this.Uf=TI(t)}return t.prototype.get=function(t){var e=this,n=uT(t,this.q_),r=new OI(this.q_);return this.Kf.Vf([n.Q_]).then((function(t){if(!t||1!==t.length)return Bb();var i=t[0];if(i instanceof Nw)return new Wx(e.q_,r,n.Q_,null,n.W_);if(i instanceof Rw)return new Wx(e.q_,r,i.key,i,n.W_);throw Bb()}))},t.prototype.set=function(t,e,n){var r=uT(t,this.q_),i=kT(r.W_,e,n),s=jI(this.Uf,"Transaction.set",r.Q_,i,null!==r.W_,n);return this.Kf.set(r.Q_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=uT(t,this.q_);return e instanceof Mx&&(e=e.o_),s="string"==typeof e||e instanceof Kx?LI(this.Uf,"Transaction.update",o.Q_,e,n,r):MI(this.Uf,"Transaction.update",o.Q_,e),this.Kf.update(o.Q_,s),this},t.prototype.delete=function(t){var e=uT(t,this.q_);return this.Kf.delete(e.Q_),this},t}()),hT=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Jx(t=Ox(t,Qx));var n=fT(t),r=t.b_(),i=new yx;return Yx(n,i,new mx(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Jx(t=Ox(t,Qx));var e=fT(t),n=t.b_(),r=new yx;return Yx(e,r,new gx(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.g_&&!t.y_)throw new Wb(Hb.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new _E;return t.G_.Ni((function(){return Object(Tp.b)(e,void 0,void 0,(function(){var e;return Object(Tp.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Tp.b)(this,void 0,void 0,(function(){return Object(Tp.d)(this,(function(e){switch(e.label){case 0:return TE.Gs()?[4,TE.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(oS(t.A_,t.T_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.o_)},t}(),dT=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Wf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Rb||(i.jf=e),i}return Object(Tp.c)(e,t),Object.defineProperty(e.prototype,"A_",{get:function(){return this.o_.A_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.v_()),t)).merge,this.o_.p_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.v_().host&&Vb("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.di.enqueue((function(){return Object(Tp.b)(e,void 0,void 0,(function(){var e,n;return Object(Tp.d)(this,(function(r){switch(r.label){case 0:return[4,eT(t)];case 1:return e=r.sent(),[4,rT(t)];case 2:return n=r.sent(),[2,(e.oc(!0),function(t){var e=qb(t);return e.Bu.delete(0),IS(e)}(n))]}}))}))}))}(fT(Ox(this.o_,Qx)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.di.enqueue((function(){return Object(Tp.b)(e,void 0,void 0,(function(){var e,n;return Object(Tp.d)(this,(function(r){switch(r.label){case 0:return[4,eT(t)];case 1:return e=r.sent(),[4,rT(t)];case 2:return n=r.sent(),[2,(e.oc(!1),function(t){return Object(Tp.b)(this,void 0,void 0,(function(){var e;return Object(Tp.d)(this,(function(n){switch(n.label){case 0:return(e=qb(t)).Bu.add(0),[4,TS(e)];case 1:return n.sent(),e.Ku.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(fT(Ox(this.o_,Qx)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&wx("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Wf.enableMultiTabIndexedDbPersistence(this):this.Wf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Wf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new _E;return t.di.Ri((function(){return Object(Tp.b)(e,void 0,void 0,(function(){var e;return Object(Tp.d)(this,(function(r){switch(r.label){case 0:return e=RO,[4,iT(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(fT(Ox(this.o_,Qx)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new bx(e);return t.di.Ri((function(){return Object(Tp.b)(n,void 0,void 0,(function(){var e;return Object(Tp.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){qb(t).Zu.add(e),e.next()},[4,sT(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.di.Ri((function(){return Object(Tp.b)(n,void 0,void 0,(function(){var e;return Object(Tp.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){qb(t).Zu.delete(e)},[4,sT(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(fT(t=Ox(t,Qx)),wE(e)?e:{next:e})}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.jf)throw new Wb(Hb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.jf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new IT(this,CI(this.o_,t))}catch(t){throw bT(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new yT(this,SI(this.o_,t))}catch(t){throw bT(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new ST(this,function(t,e){if(t=Ox(t,Vx),_x("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Wb(Hb.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new uI(t,null,function(t){return new Mw(s_.X(),t)}(e))}(this.o_,t))}catch(t){throw bT(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new _E;return t.di.Ri((function(){return Object(Tp.b)(n,void 0,void 0,(function(){var n;return Object(Tp.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return tT(t).then((function(t){return t.Mu}))}(t)];case 1:return n=i.sent(),new QI(t.di,n,e,r).run(),[2]}}))}))})),r.promise}(fT(t),(function(n){return e(new lT(t,n))}))}(this.o_,(function(n){return t(new mT(e,n))}))},e.prototype.batch=function(){var t=this;return fT(this.o_),new gT(new cT(this.o_,(function(e){return oI(t.o_,e)})))},e}(Mx);function fT(t){return t.z_||pT(t),t.z_.Mf(),t.z_}function pT(t){var e=t.b_(),n=function(t,e,n){return new Db(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.A_,t.T_,e);t.z_=new YI(t.R_,t.G_,n)}var mT=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(Tp.c)(e,t),e.prototype.get=function(t){var e=this,n=TT(t);return this.o_.get(n).then((function(t){return new ET(e.q_,t)}))},e.prototype.set=function(t,e,n){var r=TT(t);return n?(vx("Transaction.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=TT(t);return 2===arguments.length?this.o_.update(o,e):(r=this.o_).update.apply(r,Object(Tp.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=TT(t);return this.o_.delete(e),this},e}(Mx),gT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Tp.c)(e,t),e.prototype.set=function(t,e,n){var r=TT(t);return n?(vx("WriteBatch.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=TT(t);return 2===arguments.length?this.o_.update(o,e):(r=this.o_).update.apply(r,Object(Tp.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=TT(t);return this.o_.delete(e),this},e.prototype.commit=function(){return this.o_.commit()},e}(Mx),yT=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.U_=new Hx(e),r}return Object(Tp.c)(e,t),e.Gf=function(t,n,r){if(t.length%2!=0)throw new Wb(Hb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.J()+" has "+t.length);return new e(n,new cI(n.o_,r,new c_(t)))},e.B_=function(t,n,r){return new e(n,new cI(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new IT(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new IT(this.firestore,CI(this.o_,t))}catch(t){throw bT(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Mx&&(t=t.o_),t instanceof cI&&xI(this.o_,t)},e.prototype.set=function(t,e){e=vx("DocumentReference.set",e);try{return function(t,e,n){t=Ox(t,cI);var r=Ox(t.firestore,Qx),i=kT(t.W_,e,n);return oI(r,jI(TI(r),"setDoc",t.Q_,i,null!==t.W_,n).tf(t.Q_,fw.on()))}(this.o_,t,e)}catch(t){throw bT(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?iI(this.o_,t):iI.apply(void 0,Object(Tp.g)([this.o_,t,e],n))}catch(t){throw bT(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return oI(Ox((t=this.o_).firestore,Qx),[new Iw(t.Q_,fw.on())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=_T(e),i=vT(e,(function(e){return new ET(t.firestore,new Zx(t.firestore.o_,t.U_,e.Q_,e.K_,e.metadata,t.o_.W_))}));return sI(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ox(t,cI);var e=Ox(t.firestore,Qx),n=fT(e),r=new rI(e);return function(t,e){var n=this,r=new _E;return t.di.Ri((function(){return Object(Tp.b)(n,void 0,void 0,(function(){var n;return Object(Tp.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Tp.b)(this,void 0,void 0,(function(){var r,i,s;return Object(Tp.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=qb(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Bc.cs(t,e)}))}(t,e)];case 1:return(r=o.sent())instanceof Rw?n.resolve(r):r instanceof Nw?n.resolve(null):n.reject(new Wb(Hb.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=o.sent(),s=BE(i,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,nT(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.Q_).then((function(n){return new Zx(e,r,t.Q_,n,new wT(n instanceof Rw&&n.an,!0),t.W_)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){t=Ox(t,cI);var e=Ox(t.firestore,Qx);return oT(fT(e),t.Q_,{source:"server"}).then((function(n){return aI(e,t,n)}))}(this.o_):function(t){t=Ox(t,cI);var e=Ox(t.firestore,Qx);return oT(fT(e),t.Q_).then((function(n){return aI(e,t,n)}))}(this.o_)).then((function(t){return new ET(e.firestore,new Zx(e.firestore.o_,e.U_,t.Q_,t.K_,t.metadata,e.o_.W_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(Mx);function bT(t,e,n){return t.message=t.message.replace(e,n),t}function _T(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!wE(r))return r}return{}}function vT(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=wE(t[0])?t[0]:wE(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var wT=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),ET=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(Tp.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new yT(this.q_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return nI(this.o_,t.o_)},e}(Mx),CT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Tp.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(ET),ST=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.U_=new Hx(e),r}return Object(Tp.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,hI(this.o_,function(t,e,n){var r=e,i=Gx("where",t);return new dI(i,r,n)}(t,n,r)))}catch(t){throw bT(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,hI(this.o_,function(t,e){void 0===e&&(e="asc");var n=e,r=Gx("orderBy",t);return new fI(r,n)}(t,n)))}catch(t){throw bT(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,hI(this.o_,function(t){return xx("limit",t),new pI("limit",t,"F")}(t)))}catch(t){throw bT(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,hI(this.o_,function(t){return xx("limitToLast",t),new pI("limitToLast",t,"L")}(t)))}catch(t){throw bT(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,hI(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mI("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw bT(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,hI(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mI("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw bT(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,hI(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gI("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw bT(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,hI(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gI("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw bT(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return II(this.o_,t.o_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ox(t,uI);var e=Ox(t.firestore,Qx),n=fT(e),r=new rI(e);return function(t,e){var n=this,r=new _E;return t.di.Ri((function(){return Object(Tp.b)(n,void 0,void 0,(function(){var n;return Object(Tp.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Tp.b)(this,void 0,void 0,(function(){var r,i,s,o,a,c;return Object(Tp.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,gS(t,e,!0)];case 1:return r=u.sent(),i=new vO(e,r.Kc),s=i.bh(r.documents),o=i.Zn(s,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),c=BE(a,"Failed to execute query '"+e+" against cache"),n.reject(c),[3,3];case 3:return[2]}}))}))},[4,nT(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.Z_).then((function(n){return new tI(e,r,t,n)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){t=Ox(t,uI);var e=Ox(t.firestore,Qx),n=fT(e),r=new rI(e);return aT(n,t.Z_,{source:"server"}).then((function(n){return new tI(e,r,t,n)}))}(this.o_):function(t){t=Ox(t,uI);var e=Ox(t.firestore,Qx),n=fT(e),r=new rI(e);return wI(t.Z_),aT(n,t.Z_).then((function(n){return new tI(e,r,t,n)}))}(this.o_)).then((function(t){return new xT(e.firestore,new tI(e.firestore.o_,e.U_,e.o_,t.J_))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=_T(e),i=vT(e,(function(e){return new xT(t.firestore,new tI(t.firestore.o_,t.U_,t.o_,e.J_))}));return sI(this.o_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(Mx),OT=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(Tp.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new CT(this.q_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),e}(Mx),xT=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(Tp.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new ST(this.q_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map((function(e){return new CT(t.q_,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map((function(t){return new OT(e.q_,t)}))},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach((function(r){t.call(e,new CT(n.q_,r))}))},e.prototype.isEqual=function(t){return nI(this.o_,t.o_)},e}(Mx),IT=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.o_=n,r}return Object(Tp.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.o_.parent;return t?new yT(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new yT(this.firestore,void 0===t?SI(this.o_):SI(this.o_,t))}catch(t){throw bT(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Ox(t.firestore,Qx),r=SI(t),i=kT(t.W_,e);return oI(n,jI(TI(t.firestore),"addDoc",r.Q_,i,null!==t.W_,{}).tf(r.Q_,fw.exists(!1))).then((function(){return r}))}(this.o_,t).then((function(t){return new yT(e.firestore,t)}))},e.prototype.isEqual=function(t){return xI(this.o_,t.o_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(ST);function TT(t){return t instanceof Mx&&(t=t.o_),Ox(t,cI)}function kT(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var AT,PT=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Kx.bind.apply(Kx,Object(Tp.g)([void 0],e))))||this}return Object(Tp.c)(e,t),e.documentId=function(){return new e(a_.et().J())},e.prototype.isEqual=function(t){return t instanceof Mx&&(t=t.o_),t instanceof Kx&&this.o_.j_.isEqual(t.j_)},e}(Mx),DT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Tp.c)(e,t),e.serverTimestamp=function(){var t=new Ax("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Tx("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Px("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Dx("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Rx("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(Mx),RT={Firestore:dT,GeoPoint:Nx,Timestamp:n_,Blob:zx,Transaction:mT,WriteBatch:gT,DocumentReference:yT,DocumentSnapshot:ET,Query:ST,QueryDocumentSnapshot:CT,QuerySnapshot:xT,CollectionReference:IT,FieldPath:PT,FieldValue:DT,setLogLevel:function(t){jb.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Pb.a("firestore",(function(t){return function(t,e){return new dT(t,new Qx(t,e),new hT)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},RT)))})(AT=kp.a),AT.registerVersion("@firebase/firestore","2.0.5"),n("tf+s");const NT=new r.q("angularfire2.auth.use-emulator");function jT(t,e){return function(t,e=fo.a){return new xt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function MT(t,e){return jT(t,e).pipe(Object(Ft.a)(t=>({payload:t,type:"query"})))}function LT(t,e){return MT(t,e).pipe(_e(void 0),Eo(),Object(Ft.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function FT(t,e,n){return LT(t,n).pipe(ve((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return VT(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return VT(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return VT(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new lo(void 0,void 0)),Object(Ft.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function VT(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function UT(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class BT{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=LT(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Ft.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(_e(void 0),Eo(),zt(([t,e])=>e.length>0||!t),Object(Ft.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ve((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=UT(t);return FT(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return MT(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ft.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Et.a)(this.query.get(t)).pipe(Object(Oo.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new zT(this.ref.doc(t),this.afs)}}class zT{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=KT(n,e);return new BT(r,i,this.afs)}snapshotChanges(){return jT(this.ref,this.afs.schedulers.outsideAngular).pipe(_e(void 0),Eo(),Object(Ft.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Ft.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Et.a)(this.ref.get(t)).pipe(Object(Oo.b)(this.afs.schedulers.insideAngular))}}class qT{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?LT(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ft.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),zt(t=>t.length>0),this.afs.keepUnstableUntilFirst):LT(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ve((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=UT(t);return FT(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return MT(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ft.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Et.a)(this.query.get(t)).pipe(Object(Oo.b)(this.afs.schedulers.insideAngular))}}const HT=new r.q("angularfire2.enableFirestorePersistence"),WT=new r.q("angularfire2.firestore.persistenceSettings"),$T=new r.q("angularfire2.firestore.settings"),GT=new r.q("angularfire2.firestore.use-emulator");function KT(t,e=(t=>t)){return{query:e(t),ref:t}}let QT=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){this.schedulers=new xp.d(s),this.keepUnstableUntilFirst=Object(xp.h)(this.schedulers);const u=Object(xp.g)(t,s,e);!Ip.a.auth&&c&&Object(xp.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(xp.f)(u.name+".firestore","AngularFirestore",u,()=>{const t=s.runOutsideAngular(()=>u.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!function(t){return"server"===t}(i)){const e=()=>{try{return Object(Et.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(wt.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(wt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=KT(n,e),s=this.schedulers.ngZone.run(()=>r);return new BT(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new qT(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new zT(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(xp.c),r.Wb(xp.b,8),r.Wb(HT,8),r.Wb($T,8),r.Wb(r.B),r.Wb(r.z),r.Wb(WT,8),r.Wb(GT,8),r.Wb(NT,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(xp.c),Object(r.Wb)(xp.b,8),Object(r.Wb)(HT,8),Object(r.Wb)($T,8),Object(r.Wb)(r.B),Object(r.Wb)(r.z),Object(r.Wb)(WT,8),Object(r.Wb)(GT,8),Object(r.Wb)(NT,8))},token:t,providedIn:"any"}),t})(),YT=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:HT,useValue:!0},{provide:WT,useValue:e}]}}}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[QT]}),t})(),JT=(()=>{class t{constructor(t){this.noteMaker=t}resolve(){return this.noteMaker.fetchPosts()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(_d))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const ZT=function(){return["/notes"]};function XT(t,e){1&t&&(r.Sb(0,"div"),r.Sb(1,"h3"),r.tc(2,"Please, "),r.Sb(3,"a",3),r.tc(4,"start adding your notes"),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Cb(3),r.fc("routerLink",r.gc(1,ZT)))}function tk(t,e){if(1&t){const t=r.Tb();r.Sb(0,"h3"),r.tc(1," Please, "),r.Sb(2,"a",4),r.ac("click",(function(){return r.lc(t),r.cc().openDialog()})),r.tc(3,"sign in"),r.Rb(),r.tc(4," to start adding your notes "),r.Rb()}}let ek=(()=>{class t{constructor(t,e){this.eventEmitter=t,this.router=e}ngOnInit(){}openDialog(){this.eventEmitter.onInvokeNavbarLoginComponent()}checkRedirection(){this.redirection=!!localStorage.getItem("userData")}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Ef),r.Nb($r))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-home"]],decls:6,vars:2,consts:[[1,"text-container"],[4,"ngIf","ngIfElse"],["elseBlock",""],[3,"routerLink"],[3,"click"]],template:function(t,e){if(1&t&&(r.Sb(0,"div",0),r.Sb(1,"h1"),r.tc(2,"Welcome to NotesApp"),r.Rb(),r.rc(3,XT,5,2,"div",1),r.rc(4,tk,5,0,"ng-template",null,2,r.sc),r.Rb()),2&t){const t=r.kc(5);r.Cb(3),r.fc("ngIf",e.redirection)("ngIfElse",t)}},directives:[N,Gr],styles:[".text-container[_ngcontent-%COMP%]{text-align:center;padding-top:50px}.text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;color:#00f}"]}),t})();class nk{constructor(t){this.project=t}call(t,e){return e.subscribe(new rk(t,this.project))}}class rk extends At.a{constructor(t,e){super(t),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new ie.a(this,e,n),i=this.destination;i.add(r);const s=Object(Pt.a)(this,t,void 0,void 0,r);s!==r&&i.add(s)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t){this.destination.error(t)}notifyComplete(t){this.destination.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}let ik=(()=>{class t{constructor(t){this.auth=t}intercept(t,e){return this.auth.user.pipe(ce(1),function t(e,n){return n?r=>r.pipe(t((t,r)=>Object(Et.a)(e(t,r)).pipe(Object(Ft.a)((e,i)=>n(t,e,r,i))))):t=>t.lift(new nk(e))}(n=>{if(!n)return e.handle(t);const r=t.clone({params:(new ih).set("auth",n.token)});return e.handle(r)}))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Kh))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const sk=[{path:"",pathMatch:"full",redirectTo:"/home"},{path:"home",component:ek},{path:"notes",component:Op,resolve:{notes:JT}}];let ok=(()=>{class t{}return t.\u0275mod=r.Lb({type:t,bootstrap:[If]}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[JT,{provide:zl,useValue:{hasBackdrop:!0}},{provide:Ul,useValue:{}},{provide:yh,useClass:ik,multi:!0}],imports:[[B,vt,pl,bf,mp,xp.a.initializeApp(i),YT,Ah,ai.forRoot(sk),Qs,Ks,tf,hf,yd,Yl,$h]]}),t})();bt().bootstrapModule(ok).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);
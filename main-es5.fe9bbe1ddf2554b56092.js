function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toArray(t){return _arrayWithHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableRest()}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){throw t})),f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){s=!0,o=t})),f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _construct(t,e,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=_superPropBase(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}));var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService(u);s.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"schedule",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(n("quSY").a))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),a=n("lJxs"),s=n("Cfvw");function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(u((function(n,r){return Object(s.a)(t(n,r)).pipe(Object(a.a)((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new c(t,n))})}var c=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}]),t}(),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var i=new o.a(this,e,n),a=this.destination;a.add(i);var s=Object(r.a)(this,t,void 0,void 0,i);s!==i&&a.add(s)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(i.a)},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a)},"7Hc7":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=1,i=Promise.resolve(),o={};function a(t){return t in o&&(delete o[t],!0)}var s=function(t){var e=r++;return o[e]=!0,i.then((function(){return a(e)&&t()})),e},u=function(t){a(t)},c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=s(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(u(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),l=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(c)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),u=n("NJ4a"),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,o){var a;switch(_classCallCheck(this,n),(a=e.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!t){a.destination=i.a;break}if("object"==typeof t){t instanceof n?(a.syncErrorThrowable=t.syncErrorThrowable,a.destination=t,t.add(_assertThisInitialized(a))):(a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),t));break}default:a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),t,r,o)}return a}return _createClass(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,a,s){var u,c;_classCallCheck(this,n),(u=e.call(this))._parentSubscriber=t;var l=_assertThisInitialized(u);return Object(r.a)(o)?c=o:o&&(c=o.next,a=o.error,s=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=a,u._complete=s,u}return _createClass(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(c)},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),a=n("kJWO"),s=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a((function(n){var r=new o.a;return r.add(e.schedule((function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a((function(n){var r=new o.a;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Object(l.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,i=new o.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[u.a](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a"),i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC"),i=new r.a((function(t){return t.complete()}));function o(t){return t?function(t){return new r.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r,i=n("7o/Q"),o=n("2QA8"),a=n("gRHU"),s=n("kJWO"),u=n("mCNh"),c=n("2fFW"),l=((r=function(){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,s=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(a.a)}(t,e,n);if(s.add(r?r.call(s,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof i.a?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=h(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:Object(u.b)(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=h(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))}}]),t}()).create=function(t){return new r(t)},r);function h(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),i=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return _classCallCheck(this,n),(i=e.call(this,t,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():o()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.1.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[e.length-1];return Object(r.a)(a)?(e.pop(),Object(o.a)(e,a)):Object(i.a)(e)}},Lhse:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout((function(){throw t}),0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),u=n("c2HN"),c=n("XoHu"),l=function(t){if(t&&"function"==typeof t[a.a])return l=t,function(t){var e=l[a.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(s.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,l,h=Object(c.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,c=e[e.length-1];return Object(i.a)(c)?(u=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(s=e.pop())):"number"==typeof c&&(s=e.pop()),null===u&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(s)(Object(a.a)(e,u))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r,i=n("EY2u"),o=n("LRne"),a=n("HDdC"),s=((r=function(){function t(e,n,r){_classCallCheck(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new a.a((function(e){return e.error(t)}));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r)},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),u=n("2QA8"),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).destination=t,r}return n}(i.a),l=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _createClass(n,[{key:u.a,value:function(){return new c(this)}},{key:"lift",value:function(t){var e=new h(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new a.a;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new s.a(this,t))}},{key:"asObservable",value:function(){var t=new r.a;return t.source=this,t}}]),n}(r.a);return t.create=function(t,e){return new h(t,e)},t}(),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).destination=t,i.source=r,i}return _createClass(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),n}(l)},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function a(t,e,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(t,n,a);if(!s.closed)return e instanceof o.a?e.subscribe(s):Object(i.a)(e)(s)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return Eo})),n.d(e,"b",(function(){return fu})),n.d(e,"c",(function(){return su})),n.d(e,"d",(function(){return ou})),n.d(e,"e",(function(){return au})),n.d(e,"f",(function(){return ic})),n.d(e,"g",(function(){return Qu})),n.d(e,"h",(function(){return ao})),n.d(e,"i",(function(){return Cu})),n.d(e,"j",(function(){return Ba})),n.d(e,"k",(function(){return vu})),n.d(e,"l",(function(){return za})),n.d(e,"m",(function(){return kn})),n.d(e,"n",(function(){return Ls})),n.d(e,"o",(function(){return et})),n.d(e,"p",(function(){return g})),n.d(e,"q",(function(){return tt})),n.d(e,"r",(function(){return Co})),n.d(e,"s",(function(){return ss})),n.d(e,"t",(function(){return us})),n.d(e,"u",(function(){return pu})),n.d(e,"v",(function(){return vt})),n.d(e,"w",(function(){return Zu})),n.d(e,"x",(function(){return pt})),n.d(e,"y",(function(){return zu})),n.d(e,"z",(function(){return Tu})),n.d(e,"A",(function(){return _})),n.d(e,"B",(function(){return hu})),n.d(e,"C",(function(){return lu})),n.d(e,"D",(function(){return Fs})),n.d(e,"E",(function(){return Ga})),n.d(e,"F",(function(){return Ha})),n.d(e,"G",(function(){return Wa})),n.d(e,"H",(function(){return Qa})),n.d(e,"I",(function(){return cr})),n.d(e,"J",(function(){return w})),n.d(e,"K",(function(){return $u})),n.d(e,"L",(function(){return fs})),n.d(e,"M",(function(){return ju})),n.d(e,"N",(function(){return Za})),n.d(e,"O",(function(){return Ya})),n.d(e,"P",(function(){return ps})),n.d(e,"Q",(function(){return Ct})),n.d(e,"R",(function(){return Do})),n.d(e,"S",(function(){return qu})),n.d(e,"T",(function(){return Un})),n.d(e,"U",(function(){return F})),n.d(e,"V",(function(){return lt})),n.d(e,"W",(function(){return Vn})),n.d(e,"X",(function(){return nc})),n.d(e,"Y",(function(){return Mu})),n.d(e,"Z",(function(){return du})),n.d(e,"ab",(function(){return uo})),n.d(e,"bb",(function(){return As})),n.d(e,"cb",(function(){return sr})),n.d(e,"db",(function(){return fr})),n.d(e,"eb",(function(){return Hn})),n.d(e,"fb",(function(){return An})),n.d(e,"gb",(function(){return Dn})),n.d(e,"hb",(function(){return Ln})),n.d(e,"ib",(function(){return Nn})),n.d(e,"jb",(function(){return Rn})),n.d(e,"kb",(function(){return jn})),n.d(e,"lb",(function(){return Os})),n.d(e,"mb",(function(){return ec})),n.d(e,"nb",(function(){return Ts})),n.d(e,"ob",(function(){return Is})),n.d(e,"pb",(function(){return Pn})),n.d(e,"qb",(function(){return G})),n.d(e,"rb",(function(){return Ro})),n.d(e,"sb",(function(){return Zo})),n.d(e,"tb",(function(){return Yo})),n.d(e,"ub",(function(){return Po})),n.d(e,"vb",(function(){return Ss})),n.d(e,"wb",(function(){return Kt})),n.d(e,"xb",(function(){return j})),n.d(e,"yb",(function(){return xn})),n.d(e,"zb",(function(){return ka})),n.d(e,"Ab",(function(){return Ia})),n.d(e,"Bb",(function(){return Fa})),n.d(e,"Cb",(function(){return Rr})),n.d(e,"Db",(function(){return Lo})),n.d(e,"Eb",(function(){return la})),n.d(e,"Fb",(function(){return Xo})),n.d(e,"Gb",(function(){return Js})),n.d(e,"Hb",(function(){return Tt})),n.d(e,"Ib",(function(){return Nt})),n.d(e,"Jb",(function(){return S})),n.d(e,"Kb",(function(){return O})),n.d(e,"Lb",(function(){return Pt})),n.d(e,"Mb",(function(){return jt})),n.d(e,"Nb",(function(){return Fo})),n.d(e,"Ob",(function(){return Wo})),n.d(e,"Pb",(function(){return Ko})),n.d(e,"Qb",(function(){return Go})),n.d(e,"Rb",(function(){return Ho})),n.d(e,"Sb",(function(){return qo})),n.d(e,"Tb",(function(){return Qo})),n.d(e,"Ub",(function(){return gn})),n.d(e,"Vb",(function(){return _a})),n.d(e,"Wb",(function(){return ct})),n.d(e,"Xb",(function(){return Vo})),n.d(e,"Yb",(function(){return iu})),n.d(e,"Zb",(function(){return Uo})),n.d(e,"ac",(function(){return Jo})),n.d(e,"bc",(function(){return tu})),n.d(e,"cc",(function(){return na})),n.d(e,"dc",(function(){return oa})),n.d(e,"ec",(function(){return ia})),n.d(e,"fc",(function(){return Bo})),n.d(e,"gc",(function(){return js})),n.d(e,"hc",(function(){return Ks})),n.d(e,"ic",(function(){return he})),n.d(e,"jc",(function(){return dr})),n.d(e,"kc",(function(){return Dt})),n.d(e,"lc",(function(){return Xs})),n.d(e,"mc",(function(){return Qs})),n.d(e,"nc",(function(){return ca})),n.d(e,"oc",(function(){return Mo})),n.d(e,"pc",(function(){return ya})),n.d(e,"qc",(function(){return ma})),n.d(e,"rc",(function(){return ga})),n.d(e,"sc",(function(){return ba})),n.d(e,"tc",(function(){return Ys}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),a=n("VRyK"),s=n("7o/Q");function u(){return function(t){return t.lift(new l(t))}}var c,l=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new h(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(s.a),f=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new i.a).add(this.source.subscribe(new p(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}},{key:"refCount",value:function(){return u()(this)}}]),n}(o.a),d={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(c=f.prototype)._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}},p=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(r.b);function v(){return new r.a}function y(t){return{toString:t}.toString()}function m(t,e,n){return y((function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=_construct(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}))}var g=m("Inject",(function(t){return{token:t}})),_=m("Optional"),b=m("Self"),w=m("SkipSelf"),k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function C(t){for(var e in t)if(t[e]===C)return e;throw Error("Could not find renamed property on target object.")}function E(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function O(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function T(t){return I(t,t[A])||I(t,t[R])}function I(t,e){return e&&e.token===t?e:null}function x(t){return t&&(t.hasOwnProperty(P)||t.hasOwnProperty(N))?t[P]:null}var A=C({"\u0275prov":C}),P=C({"\u0275inj":C}),D=C({"\u0275provFallback":C}),R=C({ngInjectableDef:C}),N=C({ngInjectorDef:C});function j(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(j).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function L(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var M=C({__forward_ref__:C});function F(t){return t.__forward_ref__=F,t.toString=function(){return j(this())},t}function V(t){return U(t)?t():t}function U(t){return"function"==typeof t&&t.hasOwnProperty(M)&&t.__forward_ref__===F}var B,z="undefined"!=typeof globalThis&&globalThis,q="undefined"!=typeof window&&window,H="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,W="undefined"!=typeof global&&global,G=z||W||q||H,K=C({"\u0275cmp":C}),Q=C({"\u0275dir":C}),Y=C({"\u0275pipe":C}),Z=C({"\u0275mod":C}),J=C({"\u0275loc":C}),X=C({"\u0275fac":C}),$=C({__NG_ELEMENT_ID__:C}),tt=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=S({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),t}(),et=new tt("INJECTOR",-1),nt={},rt=/\n/gm,it=C({provide:String,useValue:C}),ot=void 0;function at(t){var e=ot;return ot=t,e}function st(t){var e=B;return B=t,e}function ut(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default;if(void 0===ot)throw new Error("inject() must be called from an injection context");return null===ot?ht(t,void 0,e):ot.get(t,e&k.Optional?null:void 0,e)}function ct(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default;return(B||ut)(V(t),e)}var lt=ct;function ht(t,e,n){var r=T(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&k.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(j(t),"]"))}function ft(t){for(var e=[],n=0;n<t.length;n++){var r=V(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=k.Default,a=0;a<r.length;a++){var s=r[a];s instanceof _||"Optional"===s.ngMetadataName||s===_?o|=k.Optional:s instanceof w||"SkipSelf"===s.ngMetadataName||s===w?o|=k.SkipSelf:s instanceof b||"Self"===s.ngMetadataName||s===b?o|=k.Self:i=s instanceof g||s===g?s.token:s}e.push(ct(i,o))}else e.push(ct(r))}return e}var dt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt;if(e===nt){var n=new Error("NullInjectorError: No provider for ".concat(j(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),pt=function t(){_classCallCheck(this,t)},vt=function t(){_classCallCheck(this,t)};function yt(t,e){t.forEach((function(t){return Array.isArray(t)?yt(t,e):e(t)}))}function mt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function _t(t,e){for(var n=[],r=0;r<t;r++)n.push(e);return n}function bt(t,e){var n=wt(t,e);if(n>=0)return t[1|n]}function wt(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var kt=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),Ct=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Et={},St=[],Ot=0;function Tt(t){return y((function(){var e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===kt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||St,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ct.Emulated,id:"c",styles:t.styles||St,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,a=t.features,s=t.pipes;return i.id+=Ot++,i.inputs=Rt(t.inputs,r),i.outputs=Rt(t.outputs),a&&a.forEach((function(t){return t(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(It)}:null,i.pipeDefs=s?function(){return("function"==typeof s?s():s).map(xt)}:null,i}))}function It(t){return Lt(t)||function(t){return t[Q]||null}(t)}function xt(t){return function(t){return t[Y]||null}(t)}var At={};function Pt(t){var e={type:t.type,bootstrap:t.bootstrap||St,declarations:t.declarations||St,imports:t.imports||St,exports:t.exports||St,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&y((function(){At[t.id]=t.type})),e}function Dt(t,e){return y((function(){var n=Ft(t,!0);n.declarations=e.declarations||St,n.imports=e.imports||St,n.exports=e.exports||St}))}function Rt(t,e){if(null==t)return Et;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var Nt=Tt;function jt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Lt(t){return t[K]||null}function Mt(t,e){return t.hasOwnProperty(X)?t[X]:null}function Ft(t,e){var n=t[Z]||null;if(!n&&!0===e)throw new Error("Type ".concat(j(t)," does not have '\u0275mod' property."));return n}function Vt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ut(t){return Array.isArray(t)&&!0===t[1]}function Bt(t){return 0!=(8&t.flags)}function zt(t){return 2==(2&t.flags)}function qt(t){return 1==(1&t.flags)}function Ht(t){return null!==t.template}function Wt(t){return 0!=(512&t[2])}var Gt=void 0;function Kt(t){Gt=t}function Qt(t){return!!t.listen}var Yt={createRenderer:function(t,e){return void 0!==Gt?Gt:"undefined"!=typeof document?document:void 0}};function Zt(t){for(;Array.isArray(t);)t=t[0];return t}function Jt(t,e){return Zt(e[t+20])}function Xt(t,e){return Zt(e[t.index])}function $t(t,e){return t.data[e+20]}function te(t,e){var n=e[t];return Vt(n)?n:n[0]}function ee(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ne(t){return 4==(4&t[2])}function re(t){return 128==(128&t[2])}function ie(t,e){return null===t||null==e?null:t[e]}function oe(t){t[18]=0}function ae(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var se={lFrame:Te(null),bindingsEnabled:!0,checkNoChangesMode:!1};function ue(){return se.bindingsEnabled}function ce(){return se.lFrame.lView}function le(){return se.lFrame.tView}function he(t){se.lFrame.contextLView=t}function fe(){return se.lFrame.previousOrParentTNode}function de(t,e){se.lFrame.previousOrParentTNode=t,se.lFrame.isParent=e}function pe(){return se.lFrame.isParent}function ve(){se.lFrame.isParent=!1}function ye(){return se.checkNoChangesMode}function me(t){se.checkNoChangesMode=t}function ge(){return se.lFrame.bindingIndex++}function _e(t,e){var n=se.lFrame;n.bindingIndex=n.bindingRootIndex=t,be(e)}function be(t){se.lFrame.currentDirectiveIndex=t}function we(t){var e=se.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function ke(){return se.lFrame.currentQueryIndex}function Ce(t){se.lFrame.currentQueryIndex=t}function Ee(t,e){var n=Oe();se.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Se(t,e){var n=Oe(),r=t[1];se.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Oe(){var t=se.lFrame,e=null===t?null:t.child;return null===e?Te(t):e}function Te(t){var e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Ie(){var t=se.lFrame;return se.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}var xe=Ie;function Ae(){var t=Ie();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Pe(){return se.lFrame.selectedIndex}function De(t){se.lFrame.selectedIndex=t}function Re(){var t=se.lFrame;return $t(t.tView,t.selectedIndex)}function Ne(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n];i.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,i.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,i.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,i.onDestroy)}}function je(t,e,n){Fe(t,e,3,n)}function Le(t,e,n,r){(3&t[2])===n&&Fe(t,e,n,r)}function Me(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Fe(t,e,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&t[18]:0;a<e.length;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Ve(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ve(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}var Ue=function t(e,n,r){_classCallCheck(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Be(t,e,n){for(var r=Qt(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];qe(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function ze(t){return 3===t||4===t||6===t}function qe(t){return 64===t.charCodeAt(0)}function He(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||We(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function We(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ge(t){return-1!==t}function Ke(t){return 32767&t}function Qe(t){return t>>16}function Ye(t,e){for(var n=Qe(t),r=e;n>0;)r=r[15],n--;return r}function Ze(t){return"string"==typeof t?t:null==t?"":""+t}function Je(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ze(t)}var Xe=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(G);function $e(t){return t instanceof Function?t():t}var tn=!0;function en(t){var e=tn;return tn=t,e}var nn=0;function rn(t,e){var n=an(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,on(r.data,t),on(e,null),on(r.blueprint,null));var i=sn(t,e),o=t.injectorIndex;if(Ge(i))for(var a=Ke(i),s=Ye(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function on(t,e){t.push(0,0,0,0,0,0,0,0,e)}function an(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function sn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[6],r=1;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function un(t,e,n){!function(t,e,n){var r="string"!=typeof n?n[$]:n.charCodeAt(0)||0;null==r&&(r=n[$]=nn++);var i=255&r,o=1<<i,a=64&i,s=32&i,u=e.data;128&i?a?s?u[t+7]|=o:u[t+6]|=o:s?u[t+5]|=o:u[t+4]|=o:a?s?u[t+3]|=o:u[t+2]|=o:s?u[t+1]|=o:u[t]|=o}(t,e,n)}function cn(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t[$];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof o){Ee(e,t);try{var a=o();if(null!=a||r&k.Optional)return a;throw new Error("No provider for ".concat(Je(n),"!"))}finally{xe()}}else if("number"==typeof o){if(-1===o)return new yn(t,e);var s=null,u=an(t,e),c=-1,l=r&k.Host?e[16][6]:null;for((-1===u||r&k.SkipSelf)&&(c=-1===u?sn(t,e):e[u+8],vn(r,!1)?(s=e[1],u=Ke(c),e=Ye(c,e)):u=-1);-1!==u;){c=e[u+8];var h=e[1];if(pn(o,u,h.data)){var f=hn(u,e,n,s,r,l);if(f!==ln)return f}vn(r,e[1].data[u+8]===l)&&pn(o,u,e)?(s=h,u=Ke(c),e=Ye(c,e)):u=-1}}}if(r&k.Optional&&void 0===i&&(i=null),0==(r&(k.Self|k.Host))){var d=e[9],p=st(void 0);try{return d?d.get(n,i,r&k.Optional):ht(n,i,r&k.Optional)}finally{st(p)}}if(r&k.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(Je(n),"]"))}var ln={};function hn(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=fn(s,a,n,null==r?zt(s)&&tn:r!=a&&3===s.type,i&k.Host&&o===s);return null!==u?dn(e,a,u,s):ln}function fn(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=65535&o,u=t.directiveStart,c=o>>16,l=i?s+c:t.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&Ht(d)&&d.type===n)return u}return null}function dn(t,e,n,r){var i=t[n],o=e.data;if(i instanceof Ue){var a=i;if(a.resolving)throw new Error("Circular dep for "+Je(o[n]));var s,u=en(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(s=st(a.injectImpl)),Ee(t,r);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.onChanges,i=e.onInit,o=e.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{a.injectImpl&&st(s),en(u),a.resolving=!1,xe()}}return i}function pn(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function vn(t,e){return!(t&k.Self||t&k.Host&&e)}var yn=function(){function t(e,n){_classCallCheck(this,t),this._tNode=e,this._lView=n}return _createClass(t,[{key:"get",value:function(t,e){return cn(this._tNode,this._lView,t,void 0,e)}}]),t}();function mn(t){var e=t;if(U(t))return function(){var t=mn(V(e));return t?t():null};var n=Mt(e);if(null===n){var r=x(e);n=r&&r.factory}return n||null}function gn(t){return y((function(){for(var e=t.prototype.constructor,n=e[X]||mn(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[X]||mn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}}))}function _n(t){return t.ngDebugContext}function bn(t){return t.ngOriginalError}function wn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var kn=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||wn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?_n(t)?_n(t):this._findContext(bn(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=bn(t);e&&bn(e);)e=bn(e);return e}}]),t}(),Cn=function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),t}(),En=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Cn),Sn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Cn),On=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Cn),Tn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Cn),In=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Cn);function xn(t){return t instanceof Cn?t.changingThisBreaksApplicationSecurity:t}function An(t,e){var n=Pn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===e}function Pn(t){return t instanceof Cn&&t.getTypeName()||null}function Dn(t){return new En(t)}function Rn(t){return new Sn(t)}function Nn(t){return new On(t)}function jn(t){return new Tn(t)}function Ln(t){return new In(t)}var Mn=!0,Fn=!1;function Vn(){return Fn=!0,Mn}function Un(){if(Fn)throw new Error("Cannot enable prod mode after platform setup.");Mn=!1}var Bn=function(){function t(e){_classCallCheck(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r),n=this.inertDocument.createElement("body"),r.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(t,[{key:"getInertBodyElement_XHR",value:function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;var n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),zn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,qn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Hn(t){return(t=String(t)).match(zn)||t.match(qn)?t:(Vn()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function Wn(t){var e,n={},r=_createForOfIteratorHelper(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Gn(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var Kn,Qn=Wn("area,br,col,hr,img,wbr"),Yn=Wn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zn=Wn("rp,rt"),Jn=Gn(Zn,Yn),Xn=Gn(Qn,Gn(Yn,Wn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gn(Zn,Wn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jn),$n=Wn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tr=Wn("srcset"),er=Gn($n,tr,Wn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nr=Wn("script,style,template"),rr=function(){function t(){_classCallCheck(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!Xn.hasOwnProperty(e))return this.sanitizedSomething=!0,!nr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(er.hasOwnProperty(s)){var u=o.value;$n[s]&&(u=Hn(u)),tr[s]&&(n=u,u=(n=String(n)).split(",").map((function(t){return Hn(t.trim())})).join(", ")),this.buf.push(" ",a,'="',ar(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();Xn.hasOwnProperty(e)&&!Qn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(ar(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}]),t}(),ir=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,or=/([^\#-~ |!])/g;function ar(t){return t.replace(/&/g,"&amp;").replace(ir,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(or,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function sr(t,e){var n=null;try{Kn=Kn||new Bn(t);var r=e?String(e):"";n=Kn.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Kn.getInertBodyElement(r)}while(r!==o);var a=new rr,s=a.sanitizeChildren(ur(n)||n);return Vn()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=ur(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function ur(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var cr=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),lr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),hr=/^url\(([^)]+)\)$/;function fr(t){if(!(t=String(t).trim()))return"";var e=t.match(hr);return e&&Hn(e[1])===e[1]||t.match(lr)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Vn()&&console.warn("WARNING: sanitizing unsafe style value ".concat(t," (see http://g.co/ng/security#xss).")),"unsafe")}function dr(t){var e,n=(e=ce())&&e[12];return n?n.sanitize(cr.URL,t)||"":An(t,"URL")?xn(t):Hn(Ze(t))}function pr(t,e){t.__ngContext__=e}function vr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function yr(){throw new Error("Cannot mix multi providers and regular providers")}function mr(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function gr(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==mr((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function _r(t){return 0===t.type&&"ng-template"!==t.tagName}function br(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function wr(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(ze(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!br(t,u,n)||""===u&&1===e.length){if(kr(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!gr(t.attrs,c,n)){if(kr(r))return!1;a=!0}continue}var l=Cr(8&r?"class":u,i,_r(t),n);if(-1===l){if(kr(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==mr(f,c,0)||2&r&&c!==h){if(kr(r))return!1;a=!0}}}}else{if(!a&&!kr(r)&&!kr(u))return!1;if(a&&kr(u))continue;a=!1,r=u|1&r}}return kr(r)||a}function kr(t){return 0==(1&t)}function Cr(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Er(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(wr(t,e[r],n))return!0;return!1}function Sr(t,e){t:for(var n=0;n<e.length;n++){var r=e[n];if(t.length===r.length){for(var i=0;i<t.length;i++)if(t[i]!==r[i])continue t;return!0}}return!1}function Or(t,e){return t?":not("+e.trim()+")":e}function Tr(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||kr(a)||(e+=Or(o,i),i=""),r=a,o=o||!kr(r);n++}return""!==i&&(e+=Or(o,i)),e}var Ir={};function xr(t){var e=t[3];return Ut(e)?e[3]:e}function Ar(t){return Dr(t[13])}function Pr(t){return Dr(t[4])}function Dr(t){for(;null!==t&&!Ut(t);)t=t[4];return t}function Rr(t){Nr(le(),ce(),Pe()+t,ye())}function Nr(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&je(e,i,n)}else{var o=t.preOrderHooks;null!==o&&Le(e,o,0,n)}De(n)}function jr(t,e){return t<<17|e<<2}function Lr(t){return t>>17&32767}function Mr(t){return 2|t}function Fr(t){return(131068&t)>>2}function Vr(t,e){return-131069&t|e<<2}function Ur(t){return 1|t}function Br(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=t.data[o];Ce(i),a.contentQueries(2,e[o],o)}}}function zr(t,e,n){return Qt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function qr(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,oe(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Hr(t,e,n,r,i,o){var a=n+20,s=t.data[a]||function(t,e,n,r,i,o){var a=fe(),s=pe(),u=s?a:a&&a.parent,c=t.data[n]=ti(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),a&&(!s||null!=a.child||null===c.parent&&2!==a.type?s||(a.next=c):a.child=c),c}(t,e,a,r,i,o);return de(s,!0),s}function Wr(t,e,n){Se(e,e[6]);try{var r=t.viewQuery;null!==r&&ki(1,r,n);var i=t.template;null!==i&&Qr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Br(t,e),t.staticViewQueries&&ki(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)mi(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,Ae()}}function Gr(t,e,n,r){var i=e[2];if(256!=(256&i)){Se(e,e[6]);var o=ye();try{oe(e),se.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Qr(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&je(e,s,null)}else{var u=t.preOrderHooks;null!==u&&Le(e,u,0,null),Me(e,0)}if(function(t){for(var e=Ar(t);null!==e;e=Pr(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&ae(o,1),i[2]|=1024}}(e),function(t){for(var e=Ar(t);null!==e;e=Pr(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];re(r)&&Gr(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Br(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&je(e,c)}else{var l=t.contentHooks;null!==l&&Le(e,l,1),Me(e,1)}!function(t,e){try{var n=t.expandoInstructions;if(null!==n)for(var r=t.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(De(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(_e(r,i),a(2,e[i])),i++)}}finally{De(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)yi(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&ki(2,f,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&je(e,d)}else{var p=t.viewHooks;null!==p&&Le(e,p,2),Me(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ae(e[3],-1))}finally{Ae()}}}function Kr(t,e,n,r){var i=e[10],o=!ye(),a=ne(e);try{o&&!a&&i.begin&&i.begin(),a&&Wr(t,e,r),Gr(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function Qr(t,e,n,r,i){var o=Pe();try{De(-1),2&r&&e.length>20&&Nr(t,e,0,ye()),n(r,i)}finally{De(o)}}function Yr(t,e,n){if(Bt(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Zr(t,e,n){ue()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||rn(n,e),pr(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=Ht(u);c&&fi(e,n,u);var l=dn(e,t,s,n);pr(l,e),null!==a&&di(0,s-i,l,u,0,a),c&&(te(n.index,e)[8]=l)}}(t,e,n,Xt(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,a=t.firstCreatePass,s=n.index-20,u=se.lFrame.currentDirectiveIndex;try{De(s);for(var c=r;c<i;c++){var l=t.data[c],h=e[c];be(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?ai(l,h):a&&o.push(null)}}finally{De(-1),be(u)}}(t,e,n))}function Jr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xt,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function Xr(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=$r(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function $r(t,e,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:Ir);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:s,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function ti(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ei(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ni(t,e,n,r,i,o,a,s){var u,c=Xt(e,n),l=e.inputs;!s&&null!=l&&(u=l[r])?(Ii(t,n,u,r,i),zt(e)&&function(t,e){var n=te(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=a?a(i,e.tagName||"",r):i,Qt(o)?o.setProperty(c,r,i):qe(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function ri(t,e,n,r){var i=!1;if(ue()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Er(n,a.selectors,!1)&&(i||(i=[]),un(rn(n,e),t,a.type),Ht(a)?(2&n.flags&&vr(n),ui(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,li(n,t.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}si(t,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=He(n.mergedAttrs,d.hostAttrs),hi(t,e,d),ci(t.data.length-1,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!l&&(d.onChanges||d.onInit||d.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),l=!0),h||!d.onChanges&&!d.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),h=!0),ii(t,d),s+=d.hostVars}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||_r(e)?null:pi(l,i);o.push(h),a=ei(l,u,a),s=ei(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n),oi(t,e,s)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=He(n.mergedAttrs,n.attrs),i}function ii(t,e){var n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function oi(t,e,n){for(var r=0;r<n;r++)e.push(Ir),t.blueprint.push(Ir),t.data.push(null)}function ai(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function si(t,e,n){var r=20-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function ui(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ci(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ht(e)&&(n[""]=t)}}function li(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function hi(t,e,n){t.data.push(n);var r=n.factory||(n.factory=Mt(n.type)),i=new Ue(r,Ht(n),null);t.blueprint.push(i),e.push(i)}function fi(t,e,n){var r=Xt(e,t),i=Xr(n),o=t[10],a=gi(t,qr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=a}function di(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function pi(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function vi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function yi(t,e){var n=te(e,t);if(re(n)){var r=n[1];80&n[2]?Gr(r,n,r.template,n[8]):n[5]>0&&function t(e){for(var n=Ar(e);null!==n;n=Pr(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];Gr(o,i,o.template,i[8])}else i[5]>0&&t(i)}var a=e[1].components;if(null!==a)for(var s=0;s<a.length;s++){var u=te(a[s],e);re(u)&&u[5]>0&&t(u)}}(n)}}function mi(t,e){var n=te(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Wr(r,n,n[8])}function gi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function _i(t){for(;t;){t[2]|=64;var e=xr(t);if(Wt(t)&&!e)return t;t=e}return null}function bi(t,e,n){var r=e[10];r.begin&&r.begin();try{Gr(t,e,t.template,n)}catch(i){throw Ti(e,i),i}finally{r.end&&r.end()}}function wi(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=ee(n),i=r[1];Kr(i,r,i.template,n)}}(t[8])}function ki(t,e,n){Ce(0),e(t,n)}var Ci=Promise.resolve(null);function Ei(t){return t[7]||(t[7]=[])}function Si(t){return t.cleanup||(t.cleanup=[])}function Oi(t,e,n){return(null===t||Ht(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Ti(t,e){var n=t[9],r=n?n.get(kn,null):null;r&&r.handleError(e)}function Ii(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function xi(t,e){var n=e[3];return-1===t.index?Ut(n)?n:null:n}function Ai(t,e){var n=xi(t,e);return n?zi(e[11],n[7]):null}function Pi(t,e,n,r,i){if(null!=r){var o,a=!1;Ut(r)?o=r:Vt(r)&&(a=!0,r=r[0]);var s=Zt(r);0===t&&null!==n?null==i?Ui(e,n,s):Vi(e,n,s,i||null):1===t&&null!==n?Vi(e,n,s,i||null):2===t?function(t,e,n){var r=zi(t,e);r&&function(t,e,n,r){Qt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Zt(n)&&Pi(e,t,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];Ki(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function Di(t,e,n,r){var i=Ai(t.node,e);i&&Ki(t,e,e[11],n?1:2,i,r)}function Ri(t,e){var n=t[9],r=n.indexOf(e);1024&e[2]&&ae(e[3],-1),n.splice(r,1)}function Ni(t,e){if(!(t.length<=10)){var n=10+e,r=t[n];if(r){var i=r[17];null!==i&&i!==t&&Ri(i,r),e>0&&(t[n-1][4]=r[4]);var o=gt(t,10+e);Di(r[1],r,!1,null);var a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function ji(t,e){if(!(256&e[2])){var n=e[11];Qt(n)&&n.destroyNode&&Ki(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Mi(t[1],t);for(;e;){var n=null;if(Vt(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Vt(e)&&Mi(e[1],e),e=Li(e,t);null===e&&(e=t),Vt(e)&&Mi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Li(t,e){var n;return Vt(t)&&(n=t[6])&&2===n.type?xi(n,t):t[3]===e?null:t[3]}function Mi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof Ue)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup;if(null!==n){for(var r=e[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(e):Zt(e[o]),s=r[n[i+2]],u=n[i+3];"boolean"==typeof u?a.removeEventListener(n[i],s,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);e[7]=null}}(t,e);var n=e[6];n&&3===n.type&&Qt(e[11])&&e[11].destroy();var r=e[17];if(null!==r&&Ut(e[3])){r!==e[3]&&Ri(r,e);var i=e[19];null!==i&&i.detachView(t)}}}function Fi(t,e,n){for(var r=e.parent;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){var i=n[6];return 2===i.type?Ai(i,n):n[0]}if(e&&5===e.type&&4&e.flags)return Xt(e,n).parentNode;if(2&r.flags){var o=t.data,a=o[o[r.index].directiveStart].encapsulation;if(a!==Ct.ShadowDom&&a!==Ct.Native)return null}return Xt(r,n)}function Vi(t,e,n,r){Qt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Ui(t,e,n){Qt(t)?t.appendChild(e,n):e.appendChild(n)}function Bi(t,e,n,r){null!==r?Vi(t,e,n,r):Ui(t,e,n)}function zi(t,e){return Qt(t)?t.parentNode(e):e.parentNode}function qi(t,e){if(2===t.type){var n=xi(t,e);return null===n?null:Wi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Xt(t,e):null}function Hi(t,e,n,r){var i=Fi(t,r,e);if(null!=i){var o=e[11],a=qi(r.parent||e[6],e);if(Array.isArray(n))for(var s=0;s<n.length;s++)Bi(o,i,n[s],a);else Bi(o,i,n,a)}}function Wi(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return function t(e,n){if(null!==n){var r=n.type;if(3===r)return Xt(n,e);if(0===r)return Wi(-1,e[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return t(e,i);var o=e[n.index];return Ut(o)?Wi(-1,o):Zt(o)}var a=e[16],s=a[6],u=xr(a),c=s.projection[n.projection];return null!=c?t(u,c):t(e,n.next)}return null}(r,i)}return e[7]}function Gi(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;a&&0===e&&(s&&pr(Zt(s),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Gi(t,e,n.child,r,i,o,!1),Pi(e,t,i,s,o)):1===u?Qi(t,e,r,n,i,o):Pi(e,t,i,s,o)),n=a?n.projectionNext:n.next}}function Ki(t,e,n,r,i,o){Gi(n,r,t.node.child,e,i,o,!1)}function Qi(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Pi(e,t,i,s[u],o);else Gi(t,e,s,a[3],i,o,!0)}function Yi(t,e,n){Qt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Zi(t,e,n){Qt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}var Ji,Xi,$i,to=function(){function t(e,n){_classCallCheck(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(t,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}ji(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){var e,n,r;e=this._lView[1],r=t,Ei(n=this._lView).push(r),e.firstCreatePass&&Si(e).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){_i(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){bi(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){me(!0);try{bi(t,e,n)}finally{me(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,Ki(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"rootNodes",get:function(){var t=this._lView;return null==t[0]?function t(e,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=n[r.index];if(null!==a&&i.push(Zt(a)),Ut(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&t(u[1],u,c,i)}var l=r.type;if(4===l||5===l)t(e,n,r.child,i);else if(1===l){var h=n[16],f=h[6].projection[r.projection];if(Array.isArray(f))i.push.apply(i,_toConsumableArray(f));else{var d=xr(h);t(d[1],d,f,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),t}(),eo=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t))._view=t,r}return _createClass(n,[{key:"detectChanges",value:function(){wi(this._view)}},{key:"checkNoChanges",value:function(){!function(t){me(!0);try{wi(t)}finally{me(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(to);function no(t,e,n){return Ji||(Ji=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(t)),new Ji(Xt(e,n))}function ro(t,e,n,r){return Xi||(Xi=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._declarationView=t,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=qr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Wr(e,n,t),new to(n)}}]),n}(t)),0===n.type?new Xi(r,n,no(e,n,r)):null}function io(t,e,n,r){var i;$i||($i=function(t){_inherits(r,t);var n=_createSuper(r);function r(t,e,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=t,o._hostTNode=e,o._hostView=i,o}return _createClass(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(pt,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ut(n[3])){var i=this.indexOf(t);if(-1!==i)this.detach(i);else{var o=n[3],a=new $i(o,o[6],o[3]);a.detach(a.indexOf(t))}}var s=this._adjustIndex(e);return function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],mt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(r,n,this._lContainer,s),Di(r,n,!0,Wi(s,this._lContainer)),t.attachToViewContainerRef(this),mt(this._lContainer[8],s,t),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=this._lContainer[8];return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1);!function(t,e){var n=Ni(t,e);n&&ji(n[1],n)}(this._lContainer,e),gt(this._lContainer[8],e)}},{key:"detach",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=Ni(this._lContainer,e);return n&&null!=gt(this._lContainer[8],e)?new to(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return no(e,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new yn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var t=sn(this._hostTNode,this._hostView),e=Ye(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=Qe(t),a=e,s=e[6];o>1;)s=(a=a[15])[6],o--;return s}(t,this._hostView,this._hostTNode);return Ge(t)&&null!=n?new yn(n,e):new yn(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),r}(t));var o=r[n.index];if(Ut(o))i=o;else{var a;if(4===n.type)a=Zt(o);else if(a=r[11].createComment(""),Wt(r)){var s=r[11],u=Xt(n,r);Vi(s,zi(s,u),a,function(t,e){return Qt(t)?t.nextSibling(e):e.nextSibling}(s,u))}else Hi(r[1],r,a,n);r[n.index]=i=vi(o,r,a,n),gi(r,i)}return new $i(i,n,r)}function oo(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&zt(t)){var r=te(t.index,e);return new to(r,r)}return 3===t.type||0===t.type||4===t.type||5===t.type?new to(e[16],e):null}(fe(),ce(),t)}var ao=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return so()},t}(),so=oo,uo=new tt("Set Injector scope."),co={},lo={},ho=[],fo=void 0;function po(){return void 0===fo&&(fo=new dt),fo}function vo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new yo(t,n,e||po(),r)}var yo=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&yt(n,(function(t){return i.processProvider(t,e,n)})),yt([e],(function(t){return i.processInjectorType(t,[],a)})),this.records.set(et,_o(void 0,this));var s=this.records.get(uo);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:j(e))}return _createClass(t,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Default;this.assertNotDestroyed();var r,i=at(this);try{if(!(n&k.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof tt)&&T(t);o=a&&this.injectableDefInScope(a)?_o(mo(t),co):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&k.Self?po():this.parent).get(t,e=n&k.Optional&&e===nt?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(j(t)),i)throw s;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=j(e);if(Array.isArray(e))i=e.map(j).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):j(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(rt,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{at(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach((function(e){return t.get(e)}))}},{key:"toString",value:function(){var t=[];return this.records.forEach((function(e,n){return t.push(j(n))})),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=V(t)))return!1;var i=x(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=x(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{yt(i.imports,(function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))}))}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;yt(i,(function(t){return r.processProvider(t,n,i||ho)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a),this.records.set(a,_o(i.factory,co));var h=i.providers;if(null!=h&&!s){var f=t;yt(h,(function(t){return r.processProvider(t,f,h)}))}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=wo(t=V(t))?t:V(t&&t.provide),i=function(t,e,n){return bo(t)?_o(void 0,t.useValue):_o(go(t,e,n),co)}(t,e,n);if(wo(t)||!0!==t.multi){var o=this.records.get(r);o&&void 0!==o.multi&&yr()}else{var a=this.records.get(r);a?void 0===a.multi&&yr():((a=_o(void 0,co,!0)).factory=function(){return ft(a.multi)},this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===lo?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(j(t)):e.value===co&&(e.value=lo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function mo(t){var e=T(t),n=null!==e?e.factory:Mt(t);if(null!==n)return n;var r=x(t);if(null!==r)return r.factory;if(t instanceof tt)throw new Error("Token ".concat(j(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=_t(e,"?");throw new Error("Can't resolve all parameters for ".concat(j(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[A]||t[R]||t[D]&&t[D]());if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function go(t,e,n){var r,i=void 0;if(wo(t)){var o=V(t);return Mt(o)||mo(o)}if(bo(t))i=function(){return V(t.useValue)};else if((r=t)&&r.useFactory)i=function(){return t.useFactory.apply(t,_toConsumableArray(ft(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))i=function(){return ct(V(t.useExisting))};else{var a=V(t&&(t.useClass||t.provide));if(a||function(t,e,n){var r="";throw t&&e&&(r=" - only instances of Provider and Type are allowed, got: [".concat(e.map((function(t){return t==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(j(t),"'")+r)}(e,n,t),!function(t){return!!t.deps}(t))return Mt(a)||mo(a);i=function(){return _construct(a,_toConsumableArray(ft(t.deps)))}}return i}function _o(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function bo(t){return null!==t&&"object"==typeof t&&it in t}function wo(t){return"function"==typeof t}var ko=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=vo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},Co=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?ko(t,e,""):ko(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=nt,t.NULL=new dt,t.\u0275prov=S({token:t,providedIn:"any",factory:function(){return ct(et)}}),t.__NG_ELEMENT_ID__=-1,t}(),Eo=new tt("AnalyzeForEntryComponents"),So=new Map,Oo=new Set;function To(t){return"string"==typeof t?t:t.text()}function Io(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=L(i,s):2==o&&(r=L(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var xo=null;function Ao(){if(!xo){var t=G.Symbol;if(t&&t.iterator)xo=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(xo=r)}}return xo}function Po(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}var Do=function(){function t(e){_classCallCheck(this,t),this.wrapped=e}return _createClass(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Ro(t){return!!No(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ao()in t)}function No(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function jo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Lo(t,e,n,r){var i=ce();return jo(i,ge(),e)&&(le(),function(t,e,n,r,i,o){var a=Xt(t,e),s=e[11];if(null==r)Qt(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{var u=null==i?Ze(r):i(r,t.tagName||"",n);Qt(s)?s.setAttribute(a,n,u,o):o?a.setAttributeNS(o,n,u):a.setAttribute(n,u)}}(Re(),i,t,e,n,r)),Lo}function Mo(t,e,n,r,i,o,a,s){var u=ce(),c=le(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=Hr(e,n[6],t,0,a||null,ie(c,s));ri(e,n,l,ie(c,u)),Ne(e,l);var h=l.tViews=$r(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=ti(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,a):c.data[l];de(h,!1);var f=u[11].createComment("");Hi(c,u,f,h),pr(f,u),gi(u,u[l]=vi(f,u,f,h)),qt(h)&&Zr(c,u,h),null!=a&&Jr(u,h,s)}function Fo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default,n=ce();return null==n?ct(t,e):cn(fe(),n,V(t),e)}function Vo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(ze(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(fe(),t)}function Uo(){throw new Error("invalid")}function Bo(t,e,n){var r=ce();return jo(r,ge(),e)&&ni(le(),Re(),r,t,e,r[11],n,!1),Bo}function zo(t,e,n,r,i){var o=i?"class":"style";Ii(t,n,e.inputs[o],o,r)}function qo(t,e,n,r){var i=ce(),o=le(),a=20+t,s=i[11],u=i[a]=zr(e,s,se.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=ie(s,o),c=Hr(e,n[6],t,3,i,u);return ri(e,n,c,ie(s,a)),null!==c.attrs&&Io(c,c.attrs,!1),null!==c.mergedAttrs&&Io(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[a];de(c,!0);var l=c.mergedAttrs;null!==l&&Be(s,u,l);var h=c.classes;null!==h&&Zi(s,u,h);var f=c.styles;null!==f&&Yi(s,u,f),Hi(o,i,u,c),0===se.lFrame.elementDepthCount&&pr(u,i),se.lFrame.elementDepthCount++,qt(c)&&(Zr(o,i,c),Yr(o,c,i)),null!==r&&Jr(i,c)}function Ho(){var t=fe();pe()?ve():de(t=t.parent,!1);var e=t;se.lFrame.elementDepthCount--;var n=le();n.firstCreatePass&&(Ne(n,t),Bt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&zo(n,e,ce(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&zo(n,e,ce(),e.stylesWithoutHost,!1)}function Wo(t,e,n,r){qo(t,e,n,r),Ho()}function Go(t,e,n){var r=ce(),i=le(),o=t+20,a=i.firstCreatePass?function(t,e,n,r,i){var o=e.consts,a=ie(o,r),s=Hr(e,n[6],t,4,"ng-container",a);return null!==a&&Io(s,a,!0),ri(e,n,s,ie(o,i)),null!==e.queries&&e.queries.elementStart(e,s),s}(t,i,r,e,n):i.data[o];de(a,!0);var s=r[o]=r[11].createComment("");Hi(i,r,s,a),pr(s,r),qt(a)&&(Zr(i,r,a),Yr(i,a,r)),null!=n&&Jr(r,a)}function Ko(){var t=fe(),e=le();pe()?ve():de(t=t.parent,!1),e.firstCreatePass&&(Ne(e,t),Bt(t)&&e.queries.elementEnd(t))}function Qo(){return ce()}function Yo(t){return!!t&&"function"==typeof t.then}function Zo(t){return!!t&&"function"==typeof t.subscribe}function Jo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=ce(),o=le(),a=fe();return $o(o,i,i[11],a,t,e,n,r),Jo}function Xo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=fe(),o=ce(),a=le();return $o(a,o,Oi(we(a.data),i,o),i,t,e,n,r),Xo}function $o(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=qt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Ei(e),h=!0;if(3===r.type){var f=Xt(r,e),d=s?s(f):Et,p=d.target||f,v=l.length,y=s?function(t){return s(Zt(t[r.index])).target}:r.index;if(Qt(n)){var m=null;if(!s&&u&&(m=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==m)(m.__ngLastListenerFn__||m).__ngNextListenerFn__=o,m.__ngLastListenerFn__=o,h=!1;else{o=ea(r,e,o,!1);var g=n.listen(d.name||p,i,o);l.push(o,g),c&&c.push(i,y,v,v+1)}}else o=ea(r,e,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,y,v,a)}var _,b=r.outputs;if(h&&null!==b&&(_=b[i])){var w=_.length;if(w)for(var k=0;k<w;k+=2){var C=e[_[k]][_[k+1]].subscribe(o),E=l.length;l.push(o,C),c&&c.push(i,r.index,E,-(E+1))}}}function ta(t,e,n){try{return!1!==e(n)}catch(r){return Ti(t,r),!1}}function ea(t,e,n,r){return function i(o){if(o===Function)return n;var a=2&t.flags?te(t.index,e):e;0==(32&e[2])&&_i(a);for(var s=ta(e,n,o),u=i.__ngNextListenerFn__;u;)s=ta(e,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function na(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(se.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,se.lFrame.contextLView))[8]}(t)}function ra(t,e){for(var n=null,r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++){var o=e[i];if("*"!==o){if(null===r?Er(t,o,!0):Sr(r,o))return i}else n=i}return n}function ia(t){var e=ce()[16][6];if(!e.projection)for(var n=e.projection=_t(t?t.length:1,null),r=n.slice(),i=e.child;null!==i;){var o=t?ra(i,t):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function oa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=ce(),i=le(),o=Hr(i,r[6],t,1,null,n||null);null===o.projection&&(o.projection=e),ve(),function(t,e,n){Qi(e[11],0,e,n,Fi(t,n,e),qi(n.parent||e[6],e))}(i,r,o)}var aa=[];function sa(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?Lr(o):Fr(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];ua(t[s],e)&&(u=!0,t[s+1]=r?Ur(c):Mr(c)),s=r?Lr(c):Fr(c)}u&&(t[n+1]=r?Mr(o):Ur(o))}function ua(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&wt(t,e)>=0}function ca(t,e,n){return ha(t,e,n,!1),ca}function la(t,e){return ha(t,e,null,!0),la}function ha(t,e,n,r){var i,o,a,s=ce(),u=le(),c=(i=se.lFrame,o=i.bindingIndex,i.bindingIndex=i.bindingIndex+2,o);(u.firstUpdatePass&&function(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[Pe()+20],a=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(o,r)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=we(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=da(n=fa(null,t,e,n,r),e.attrs,r),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=fa(i,t,e,n,r),null===o){var s=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==Fr(r))return t[Lr(r)]}(t,e,r);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[Lr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,s=da(s=fa(null,t,e,s[1],r),e.attrs,r))}else o=function(t,e,n){for(var r=void 0,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=da(r,t[o].hostAttrs,n);return da(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var a=o?e.classBindings:e.styleBindings,s=Lr(a),u=Fr(a);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||wt(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=Lr(t[s+1]);t[r+1]=jr(f,s),0!==f&&(t[f+1]=Vr(t[f+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=jr(s,0),0!==s&&(t[s+1]=Vr(t[s+1],r)),s=r;else t[r+1]=jr(u,0),0===s?s=r:t[u+1]=Vr(t[u+1],r),u=r;l&&(t[r+1]=Mr(t[r+1])),sa(t,c,r,!0),sa(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&wt(o,e)>=0&&(n[r+1]=Ur(n[r+1]))}(e,c,t,r,o),a=jr(s,u),o?e.classBindings=a:e.styleBindings=a}(i,o,e,n,a,r)}}(u,t,c,r),e!==Ir&&jo(s,c,e))&&(null==n&&(a=function(){var t=se.lFrame;return null===t?null:t.currentSanitizer}())&&(n=a),function(t,e,n,r,i,o,a,s){if(3===e.type){var u=t.data,c=u[s+1];va(1==(1&c)?pa(u,e,n,i,Fr(c),a):void 0)||(va(o)||2==(2&c)&&(o=pa(u,null,n,i,s,a)),function(t,e,n,r,i){var o=Qt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var a=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,a):n.style.removeProperty(r):o?t.setStyle(n,r,i,a):n.style.setProperty(r,i)}}(r,a,Jt(Pe(),n),i,o))}}(u,u.data[Pe()+20],s,s[11],t,s[c+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=j(xn(t)))),t}(e,n),r,c))}function fa(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=da(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function da(t,e,n){var r,i,o,a,s=n?1:2,u=-1;if(null!==e)for(var c=0;c<e.length;c++){var l=e[c];"number"==typeof l?u=l:u===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),r=t,i=l,o=!!n||e[++c],a=void 0,(a=wt(r,i))>=0?r[1|a]=o:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(r,a=~a,i,o))}return void 0===t?null:t}function pa(t,e,n,r,i,o){for(var a=null===e,s=void 0;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===Ir&&(f=h?aa:void 0);var d=h?bt(f,r):l===r?f:void 0;if(c&&!va(d)&&(d=bt(u,r)),va(d)&&(s=d,a))return s;var p=t[i+1];i=a?Lr(p):Fr(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(s=bt(v,r))}return s}function va(t){return void 0!==t}function ya(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=ce(),r=le(),i=t+20,o=r.firstCreatePass?Hr(r,n[6],t,3,null,null):r.data[i],a=n[i]=function(t,e){return Qt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Hi(r,n,a,o),de(o,!1)}function ma(t){return ga("",t,""),ma}function ga(t,e,n){var r=ce(),i=function(t,e,n,r){return jo(t,ge(),n)?e+Ze(n)+r:Ir}(r,t,e,n);return i!==Ir&&function(t,e,n){var r=Jt(e,t),i=t[11];Qt(i)?i.setValue(r,n):r.textContent=n}(r,Pe(),i),ga}function _a(t,e,n){var r=ce();return jo(r,ge(),e)&&ni(le(),Re(),r,t,e,r[11],n,!0),_a}function ba(t,e,n){var r=ce();if(jo(r,ge(),e)){var i=le(),o=Re();ni(i,o,r,t,e,Oi(we(i.data),o,r),n,!0)}return ba}function wa(t,e){var n=ee(t)[1],r=n.data.length-1;Ne(n,{directiveStart:r,directiveEnd:r+1})}function ka(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(Ht(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=Ca(t.inputs),o.declaredInputs=Ca(t.declaredInputs),o.outputs=Ca(t.outputs);var a=i.hostBindings;a&&Oa(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&Ea(t,s),u&&Sa(t,u),E(t.inputs,i.inputs),E(t.declaredInputs,i.declaredInputs),E(t.outputs,i.outputs),Ht(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=t.afterContentInit||i.afterContentInit,o.afterViewChecked=t.afterViewChecked||i.afterViewChecked,o.afterViewInit=t.afterViewInit||i.afterViewInit,o.doCheck=t.doCheck||i.doCheck,o.onDestroy=t.onDestroy||i.onDestroy,o.onInit=t.onInit||i.onInit}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===ka&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=He(i.hostAttrs,n=He(n,i.hostAttrs))}}(r)}function Ca(t){return t===Et?{}:t===St?[]:t}function Ea(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function Sa(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function Oa(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var Ta=function(){function t(e,n,r){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Ia(t){t.type.prototype.ngOnChanges&&(t.setInput=xa,t.onChanges=function(){var t=Aa(this),e=t&&t.current;if(e){var n=t.previous;if(n===Et)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}})}function xa(t,e,n,r){var i=Aa(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Et,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Ta(u&&u.currentValue,e,a===Et),t[r]=e}function Aa(t){return t.__ngSimpleChanges__||null}function Pa(t,e,n,r,i){if(t=V(t),Array.isArray(t))for(var o=0;o<t.length;o++)Pa(t[o],e,n,r,i);else{var a=le(),s=ce(),u=wo(t)?t:V(t.provide),c=go(t),l=fe(),h=65535&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>16;if(wo(t)||!t.multi){var p=new Ue(c,i,Fo),v=Na(u,e,i?h:h+d,f);-1===v?(un(rn(l,s),a,u),Da(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var y=Na(u,e,h+d,f),m=Na(u,e,h,h+d),g=y>=0&&n[y],_=m>=0&&n[m];if(i&&!_||!i&&!g){un(rn(l,s),a,u);var b=function(t,e,n,r,i){var o=new Ue(t,n,Fo);return o.multi=[],o.index=e,o.componentProviders=0,Ra(o,i,r&&!n),o}(i?La:ja,n.length,i,r,c);!i&&_&&(n[m].providerFactory=b),Da(a,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(b),s.push(b)}else Da(a,t,y>-1?y:m,Ra(n[i?m:y],c,!i&&r));!i&&r&&_&&n[m].componentProviders++}}}function Da(t,e,n,r){var i=wo(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function Ra(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Na(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function ja(t,e,n,r){return Ma(this.multi,[])}function La(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=dn(n,n[1],this.providerFactory.index,r);Ma(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else Ma(o,i=[]);return i}function Ma(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function Fa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=le();if(r.firstCreatePass){var i=Ht(t);Pa(n,r.data,r.blueprint,i,!0),Pa(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}Ia.ngInherit=!0;var Va=function t(){_classCallCheck(this,t)},Ua=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(j(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),Ba=function(){var t=function t(){_classCallCheck(this,t)};return t.NULL=new Ua,t}(),za=function(){var t=function t(e){_classCallCheck(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return qa(t)},t}(),qa=function(t){return no(t,fe(),ce())},Ha=function t(){_classCallCheck(this,t)},Wa=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),Ga=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Ka()},t}(),Ka=function(){var t=ce(),e=te(fe().index,t);return function(t){var e=t[11];if(Qt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Vt(e)?e:t)},Qa=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275prov=S({token:t,providedIn:"root",factory:function(){return null}}),t}(),Ya=function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Za=new Ya("9.1.12"),Ja=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return Ro(t)}},{key:"create",value:function(t){return new $a(t)}}]),t}(),Xa=function(t,e){return e},$a=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Xa}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<rs(n,r,i)?e:n,a=rs(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Ro(t))throw new Error("Error trying to diff '".concat(j(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&Po(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Po(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[Ao()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&Po(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Po(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Po(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Po(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ts(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ns),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ns),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),ts=function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},es=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Po(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),ns=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new es,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function rs(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var is=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||No(t)}},{key:"create",value:function(){return new os}}]),t}(),os=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||No(t)))throw new Error("Error trying to diff '".concat(j(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new as(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Po(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),as=function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},ss=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new _]]}}}]),t}();return t.\u0275prov=S({token:t,providedIn:"root",factory:function(){return new t([new Ja])}}),t}(),us=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new _]]}}}]),t}();return t.\u0275prov=S({token:t,providedIn:"root",factory:function(){return new t([new is])}}),t}(),cs=[new is],ls=new ss([new Ja]),hs=new us(cs),fs=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return ds(t,za)},t}(),ds=function(t,e){return ro(t,e,fe(),ce())},ps=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return vs(t,za)},t}(),vs=function(t,e){return io(t,e,fe(),ce())},ys={},ms=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).ngModule=t,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(t){var e=Lt(t);return new bs(e,this.ngModule)}}]),n}(Ba);function gs(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var _s=new tt("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Xe}}),bs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(Tr).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,ys,i);return o!==ys||r===ys?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(Ha,Yt),u=a.get(Qa,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Qt(t))return t.selectRootElement(e,n===Ct.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):zr(l,s.createRenderer(null,this.componentDef),function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:Xe,clean:Ci,playerHandler:null,flags:0},v=$r(0,-1,null,1,0,null,null,null,null,null),y=qr(null,v,p,f,null,null,s,c,u,a);Se(y,null);try{var m=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=Hr(a,null,0,3,null,null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(Io(s,u,!0),null!==t&&(Be(i,t,u),null!==s.classes&&Zi(i,t,s.classes),null!==s.styles&&Yi(i,t,s.styles)));var c=r.createRenderer(t,e),l=qr(n,Xr(e),null,e.onPush?64:16,n[20],s,r,c,void 0);return a.firstCreatePass&&(un(rn(s,n),a,e.type),ui(a,s),li(s,n.length,1)),gi(n,l),n[20]=l}(h,this.componentDef,y,s,c);if(h)if(n)Be(c,h,["ng-version",Za.full]);else{var g=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!kr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),_=g.attrs,b=g.classes;_&&Be(c,h,_),b&&b.length>0&&Zi(c,h,b.join(" "))}if(o=$t(v,0),void 0!==e)for(var w=o.projection=[],k=0;k<this.ngContentSelectors.length;k++){var C=e[k];w.push(null!=C?Array.from(C):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=fe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),si(t,r,1),hi(t,e,n));var i=dn(e,t,e.length-1,r);pr(i,e);var o=Xt(r,e);return o&&pr(o,e),i}(o,n,e);r.components.push(a),t[8]=a,i&&i.forEach((function(t){return t(a,e)})),e.contentQueries&&e.contentQueries(1,a,n.length-1);var s=fe();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){De(s.index-20);var u=n[1];ii(u,e),oi(u,n,e.hostVars),ai(e,a)}return a}(m,this.componentDef,y,p,[wa]),Wr(v,y,null)}finally{Ae()}var E=new ws(this.componentType,i,no(za,o,y),y,o);return n&&!d||(v.node.child=o),E}},{key:"inputs",get:function(){return gs(this.componentDef.inputs)}},{key:"outputs",get:function(){return gs(this.componentDef.outputs)}}]),n}(Va),ws=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s,u,c,l;return _classCallCheck(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.destroyCbs=[],s.instance=r,s.hostView=s.changeDetectorRef=new eo(o),u=o[1],c=o,null==(l=u.node)&&(u.node=l=ti(0,null,2,-1,null,null)),c[6]=l,s.componentType=t,s}return _createClass(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(t){this.destroyCbs&&this.destroyCbs.push(t)}},{key:"injector",get:function(){return new yn(this._tNode,this._rootLView)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),ks=void 0,Cs=["en",[["a","p"],["AM","PM"],ks],[["AM","PM"],ks,ks],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ks,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ks,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ks,"{1} 'at' {0}",ks],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Es={};function Ss(t,e,n){"string"!=typeof e&&(n=e,e=t[As.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Es[e]=t,n&&(Es[e][As.ExtraData]=n)}function Os(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=xs(e);if(n)return n;var r=e.split("-")[0];if(n=xs(r))return n;if("en"===r)return Cs;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function Ts(t){return Os(t)[As.CurrencyCode]||null}function Is(t){return Os(t)[As.PluralCase]}function xs(t){return t in Es||(Es[t]=G.ng&&G.ng.common&&G.ng.common.locales&&G.ng.common.locales[t]),Es[t]}var As=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();function Ps(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var Ds=new Map,Rs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;_classCallCheck(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new ms(_assertThisInitialized(i));var o=Ft(t),a=t[J]||null;return a&&Ps(a),i._bootstrapComponents=$e(o.bootstrap),i._r3Injector=vo(t,r,[{provide:pt,useValue:_assertThisInitialized(i)},{provide:Ba,useValue:i.componentFactoryResolver}],j(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return _createClass(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Co.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Default;return t===Co||t===pt||t===et?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(pt),Ns=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).moduleType=t,null!==Ft(t)&&function t(e){if(null!==e.\u0275mod.id){var n=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(j(e)," vs ").concat(j(e.name)))})(n,Ds.get(n),e),Ds.set(n,e)}var r=e.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(e){return t(e)}))}(t),r}return _createClass(n,[{key:"create",value:function(t){return new Rs(this.moduleType,t)}}]),n}(vt);function js(t,e,n,r){return function(t,e,n,r,i,o){var a=e+n;return jo(t,a,i)?function(t,e,n){return t[e]=n}(t,a+1,o?r.call(o,i):r(i)):function(t,e){var n=t[e];return n===Ir?void 0:n}(t,a+1)}(ce(),(i=se.lFrame,-1===(o=i.bindingRootIndex)&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o),t,e,n,r);var i,o}var Ls=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(t=e.call(this)).__isAsync=r,t}return _createClass(n,[{key:"emit",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var o,a=function(t){return null},s=function(){return null};t&&"object"==typeof t?(o=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(a=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(o=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},e&&(a=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var u=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,o,a,s);return t instanceof i.a&&t.add(u),u}}]),n}(r.a);function Ms(){return this._results[Ao()]()}var Fs=function(){function t(){_classCallCheck(this,t),this.dirty=!0,this._results=[],this.changes=new Ls,this.length=0;var e=Ao(),n=t.prototype;n[e]||(n[e]=Ms)}return _createClass(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),Vs=function(){function t(e){_classCallCheck(this,t),this.queryList=e,this.matches=null}return _createClass(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),Us=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==ru(t,e).matches&&this.queries[e].setDirty()}}]),t}(),Bs=function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.predicate=e,this.descendants=n,this.isStatic=r,this.read=i},zs=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"track",value:function(t){this.queries.push(t)}},{key:"length",get:function(){return this.queries.length}}]),t}(),qs=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,Hs(e,n[r]));else{var i=this.metadata.predicate;i===fs?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,fn(e,t,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===za||r===ps||r===fs&&0===e.type)this.addMatch(e.index,-2);else{var i=fn(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function Hs(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ws(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?no(za,t,e):0===t.type?ro(fs,za,t,e):null}(e,t):-2===n?function(t,e,n){return n===za?no(za,e,t):n===fs?ro(fs,za,e,t):n===ps?io(ps,za,e,t):void 0}(t,e,r):dn(t,t[1],n,e)}function Gs(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:Ws(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function Ks(t){var e=ce(),n=le(),r=ke();Ce(r+1);var i=ru(n,r);if(t.dirty&&ne(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?function t(e,n,r,i){var o=e.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=Gs(e,n,o,r),u=0;u<a.length;u+=2){var c=a[u];if(c>0)i.push(s[u/2]);else{for(var l=a[u+1],h=n[-c],f=10;f<h.length;f++){var d=h[f];d[17]===d[3]&&t(d[1],d,l,i)}if(null!==h[9])for(var p=h[9],v=0;v<p.length;v++){var y=p[v];t(y[1],y,l,i)}}}return i}(n,e,r,[]):Gs(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Qs(t,e,n){Zs(le(),ce(),t,e,n,!0)}function Ys(t,e,n){Zs(le(),ce(),t,e,n,!1)}function Zs(t,e,n,r,i,o){t.firstCreatePass&&(nu(t,new Bs(n,r,o,i),-1),o&&(t.staticViewQueries=!0)),eu(t,e)}function Js(t,e,n,r){$s(le(),ce(),e,n,r,!1,fe(),t)}function Xs(t,e,n,r){$s(le(),ce(),e,n,r,!0,fe(),t)}function $s(t,e,n,r,i,o,a,s){t.firstCreatePass&&(nu(t,new Bs(n,r,o,i),a.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,s),o&&(t.staticContentQueries=!0)),eu(t,e)}function tu(){return t=ce(),e=ke(),t[19].queries[e].queryList;var t,e}function eu(t,e){var n=new Fs;!function(t,e,n,r){var i=Ei(e);i.push(n),t.firstCreatePass&&Si(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[19]&&(e[19]=new Us),e[19].queries.push(new Vs(n))}function nu(t,e,n){null===t.queries&&(t.queries=new zs),t.queries.track(new qs(e,n))}function ru(t,e){return t.queries.getByIndex(e)}function iu(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.Default,e=oo(!0);if(null!=e||t&k.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}var ou=new tt("Application Initializer"),au=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Yo(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(ou,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}(),su=new tt("AppId"),uu={provide:su,useFactory:function(){return"".concat(cu()).concat(cu()).concat(cu())},deps:[]};function cu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var lu=new tt("Platform Initializer"),hu=new tt("Platform ID"),fu=new tt("appBootstrapListener"),du=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}(),pu=new tt("LocaleId"),vu=new tt("DefaultCurrencyCode"),yu=function t(e,n){_classCallCheck(this,t),this.ngModuleFactory=e,this.componentFactories=n},mu=function(t){return new Ns(t)},gu=mu,_u=function(t){return Promise.resolve(mu(t))},bu=function(t){var e=mu(t),n=$e(Ft(t).declarations).reduce((function(t,e){var n=Lt(e);return n&&t.push(new bs(n)),t}),[]);return new yu(e,n)},wu=bu,ku=function(t){return Promise.resolve(bu(t))},Cu=function(){var t=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=gu,this.compileModuleAsync=_u,this.compileModuleAndAllComponentsSync=wu,this.compileModuleAndAllComponentsAsync=ku}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}(),Eu=new tt("compilerOptions"),Su=Promise.resolve(0);function Ou(t){"undefined"==typeof Zone?Su.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Tu=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ls(!1),this.onMicrotaskEmpty=new Ls(!1),this.onStable=new Ls(!1),this.onError=new Ls(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=G.requestAnimationFrame,e=G.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(G,(function(){t.lastRequestAnimationFrameId=-1,Pu(t),Au(t)})),Pu(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(t,e,i,o,a,s){try{return Du(n),t.invokeTask(i,o,a,s)}finally{r&&"eventTask"===o.type&&r(),Ru(n)}},onInvoke:function(t,e,r,i,o,a,s){try{return Du(n),t.invoke(r,i,o,a,s)}finally{Ru(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Pu(n),Au(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,xu,Iu,Iu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function Iu(){}var xu={};function Au(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function Pu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Du(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ru(t){t._nesting--,Au(t)}var Nu=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ls,this.onMicrotaskEmpty=new Ls,this.onStable=new Ls,this.onError=new Ls}return _createClass(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),ju=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){Tu.assertNotInAngularZone(),Ou((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Ou((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(Tu))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}(),Lu=function(){var t=function(){function t(){_classCallCheck(this,t),this._applications=new Map,Vu.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Vu.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}();function Mu(t){Vu=t}var Fu,Vu=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),Uu=function(t,e,n){var r=t.get(Eu,[]).concat(e),i=new Ns(n);if(0===So.size)return Promise.resolve(i);var o,a,s=(o=r.map((function(t){return t.providers})),a=[],o.forEach((function(t){return t&&a.push.apply(a,_toConsumableArray(t))})),a);if(0===s.length)return Promise.resolve(i);var u=function(){var t=G.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),c=Co.create({providers:s}).get(u.ResourceLoader);return function(t){var e=[],n=new Map;function r(t){var e=n.get(t);if(!e){var r=function(t){return Promise.resolve(c.get(t))}(t);n.set(t,e=r.then(To))}return e}return So.forEach((function(t,n){var i=[];t.templateUrl&&i.push(r(t.templateUrl).then((function(e){t.template=e})));var o=t.styleUrls,a=t.styles||(t.styles=[]),s=t.styles.length;o&&o.forEach((function(e,n){a.push(""),i.push(r(e).then((function(r){a[s+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(t){Oo.delete(t)}(n)}));e.push(u)})),So=new Map,Promise.all(e).then((function(){}))}().then((function(){return i}))},Bu=new tt("AllowMultipleToken"),zu=function t(e,n){_classCallCheck(this,t),this.name=e,this.token=n};function qu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+e,i=new tt(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Hu();if(!o||o.injector.get(Bu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:uo,useValue:"platform"});!function(t){if(Fu&&!Fu.destroyed&&!Fu.injector.get(Bu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Fu=t.get(Wu);var e=t.get(lu,null);e&&e.forEach((function(t){return t()}))}(Co.create({providers:a,name:r}))}return function(t){var e=Hu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Hu(){return Fu&&!Fu.destroyed?Fu:null}var Wu=function(){var t=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new Nu:("zone.js"===n?void 0:n)||new Tu({enableLongStackTrace:Vn(),shouldCoalesceEventChangeDetection:r})),a=[{provide:Tu,useValue:o}];return o.run((function(){var e=Co.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(kn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Yu(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(t){r.handleError(t)}})})),function(t,e,r){try{var o=((a=n.injector.get(au)).runInitializers(),a.donePromise.then((function(){return Ps(n.injector.get(pu,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return Yo(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(s){throw e.runOutsideAngular((function(){return t.handleError(s)})),s}var a}(r,o)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Gu({},n);return Uu(this.injector,r,t).then((function(t){return e.bootstrapModuleFactory(t,r)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Qu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(j(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(Co))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}();function Gu(t,e){return Array.isArray(e)?e.reduce(Gu,t):Object.assign(Object.assign({},t),e)}var Ku,Qu=((Ku=function(){function t(e,n,r,i,s,c){var l=this;_classCallCheck(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Vn(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run((function(){l.tick()}))}});var h=new o.a((function(t){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular((function(){t.next(l._stable),t.complete()}))})),f=new o.a((function(t){var e;l._zone.runOutsideAngular((function(){e=l._zone.onStable.subscribe((function(){Tu.assertNotInAngularZone(),Ou((function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,t.next(!0))}))}))}));var n=l._zone.onUnstable.subscribe((function(){Tu.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(a.a)(h,f.pipe((function(t){return u()((e=v,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,d);return r.source=t,r.subjectFactory=n,r})(t));var e})))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Va?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(pt),o=n.create(Co.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(ju,null);return a&&o.injector.get(Lu).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Vn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(o){i.e(o)}finally{i.f()}}}catch(a){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Yu(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(fu,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),Yu(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||Ku)(ct(Tu),ct(du),ct(Co),ct(kn),ct(Ba),ct(au))},Ku.\u0275prov=S({token:Ku,factory:Ku.\u0275fac}),Ku);function Yu(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Zu=function t(){_classCallCheck(this,t)},Ju=function t(){_classCallCheck(this,t)},Xu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},$u=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._compiler=e,this._config=n||Xu}return _createClass(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,r=_slicedToArray(t.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(t){return t[o]})).then((function(t){return tc(t,i,o)})).then((function(t){return e._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var e=_slicedToArray(t.split("#"),2),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(t){return t[i+o]})).then((function(t){return tc(t,r,i)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(Cu),ct(Ju,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t}();function tc(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var ec=function(t){return null},nc=qu(null,"core",[{provide:hu,useValue:"unknown"},{provide:Wu,deps:[Co]},{provide:Lu,deps:[]},{provide:du,deps:[]}]),rc=[{provide:Qu,useClass:Qu,deps:[Tu,du,Co,kn,Ba,au]},{provide:_s,deps:[Tu],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:au,useClass:au,deps:[[new _,ou]]},{provide:Cu,useClass:Cu,deps:[]},uu,{provide:ss,useFactory:function(){return ls},deps:[]},{provide:us,useFactory:function(){return hs},deps:[]},{provide:pu,useFactory:function(t){return Ps(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new g(pu),new _,new w]]},{provide:vu,useValue:"USD"}],ic=function(){var t=function t(e){_classCallCheck(this,t)};return t.\u0275mod=Pt({type:t}),t.\u0275inj=O({factory:function(e){return new(e||t)(ct(Qu))},providers:rc}),t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a((function(n){var r=new i.a,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))}}]),t}(),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(r.a)},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("SpAZ");function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o(e)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return s}));var r=n("7o/Q"),i=n("WMd4");function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new a(t,e))}}var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.scheduler,this.delay))}}]),t}(),s=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new u(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(i.a.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(r.a),u=function t(e,n){_classCallCheck(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return s})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return u})),n.d(e,"m",(function(){return c})),n.d(e,"n",(function(){return f})),n.d(e,"o",(function(){return v}));var r=n("mrSG");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function s(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(s())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return s().indexOf("Electron/")>=0}function p(){var t=s();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return s().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,m.prototype.create),o}return Object(r.c)(e,t),e}(Error),m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?g(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new y(i,s,r);return u},t}();function g(t,e){return t.replace(_,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var _=/\{\$([^}]+)}/g;function b(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new k(t,e);return n.subscribe.bind(n)}var k=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function C(){}},qgXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n("3N8a").a),i=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(r)},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r,i,o=n("DH7j"),a=n("XoHu"),s=n("n6bG"),u=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),c=((i=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var c=0;c<n.length;++c)n[c].remove(this);if(Object(s.a)(r))try{r.call(this)}catch(p){e=p instanceof u?l(p.errors):[p]}if(Object(o.a)(i))for(var h=-1,f=i.length;++h<f;){var d=i[h];if(Object(a.a)(d))try{d.unsubscribe()}catch(p){e=e||[],p instanceof u?e=e.concat(l(p.errors)):e.push(p)}}if(e)throw new u(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((r=new i).closed=!0,r),i);function l(t){return t.reduce((function(t,e){return t.concat(e instanceof u?e.errors:e)}),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return g})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return E})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return y})),n.d(e,"j",(function(){return k}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),a=n("tf+s"),s=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}var h=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;_classCallCheck(this,t),this.zone=e,this.delegate=n}return _createClass(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule((function(e){var n=this;r.runGuarded((function(){t.apply(n,[e])}))}),e,n)}}]),t}(),f=function(){function t(e){_classCallCheck(this,t),this.zone=e,this.task=null}return _createClass(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)})),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout((function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)}),10)}}]),t}(),d=function t(e){_classCallCheck(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular((function(){return new h(Zone.current)})),this.insideAngular=e.run((function(){return new h(Zone.current,i.a)}))};function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(a.a)(t.outsideAngular),Object(s.b)(t.insideAngular))}}var v=["ngOnDestroy"],y=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(i,o){return n.runOutsideAngular((function(){var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(v.indexOf(o)>-1)return function(){};var a=e.toPromise().then((function(t){var e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then((function(t){return n.run((function(){return t}))})):n.run((function(){return e}))}));return new Proxy((function(){}),{get:function(t,e){return a[e]},apply:function(t,e,n){return a.then((function(t){var e,i=t&&t.apply(void 0,_toConsumableArray(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i}))}})}))}})},m=function(t,e){e.forEach((function(e){Object.getOwnPropertyNames(e.prototype||e).forEach((function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))}))}))},g=new u.q("angularfire2.app.options"),_=new u.q("angularfire2.app.nameOrConfig"),b=new u.O("6.1.4");function w(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=c.a.apps.filter((function(t){return t&&t.name===i.name}))[0]||n.runOutsideAngular((function(){return c.a.initializeApp(e,i)}));try{JSON.stringify(e)!==JSON.stringify(o.options)&&C("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var k=function(){C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(u.W)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,r)};function E(e,n,r,i,o){var a=_toArray(globalThis.\u0275AngularfireInstanceCache.get(e)||[]),s=a[0],u=a.slice(1);if(s){try{o.some((function(t,e){var n=u[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n}))&&C("error","".concat(n," was already initialized on the ").concat(r.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(l){}return s}var c=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[c].concat(_toConsumableArray(o))),c}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var S={provide:function t(){_classCallCheck(this,t)},useFactory:w,deps:[g,u.z,[new u.A,_]]},O=function(){var t=function(){function t(e){_classCallCheck(this,t),c.a.registerVersion("angularfire",b.full,e.toString()),c.a.registerVersion("angular",u.N.full)}return _createClass(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:g,useValue:e},{provide:_,useValue:n}]}}}]),t}();return t.\u0275mod=u.Lb({type:t}),t.\u0275inj=u.Kb({factory:function(e){return new(e||t)(u.Wb(u.B))},providers:[S]}),t}()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("7Hc7"),o=n("Y7HM"),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a;return _classCallCheck(this,n),(r=e.call(this)).source=t,r.delayTime=a,r.scheduler=s,(!Object(o.a)(a)||a<0)&&(r.delayTime=0),s&&"function"==typeof s.schedule||(r.scheduler=i.a),r}return _createClass(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(r.a);function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new u(t,e))}}var u=function(){function t(e,n){_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return new a(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("7o/Q");function i(){}var o=n("n6bG");function a(t,e,n){return function(r){return r.lift(new s(t,e,n))}}var s=function(){function t(e,n,r){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),u=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,a,s){var u;return _classCallCheck(this,n),(u=e.call(this,t))._tapNext=i,u._tapError=i,u._tapComplete=i,u._tapError=a||i,u._tapComplete=s||i,Object(o.a)(r)?(u._context=_assertThisInitialized(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i,u._tapError=r.error||i,u._tapComplete=r.complete||i),u}return _createClass(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(r.a)},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),a=n("qOnz"),s=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.e)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",(function(){return u}),"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.c)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new s.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(a.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(s){var u,c,h=s.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==s.serviceProps&&Object(a.f)(d,s.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,s.multipleInstances?t:[])}}try{for(var p=Object(o.h)(Object.keys(e)),v=p.next();!v.done;v=p.next())e[v.value]._addComponent(s)}catch(y){u={error:y}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.f)(e,t)},createSubscribe:a.d,ErrorFactory:a.b,deepExtend:a.f}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(a.h)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.m)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,t)};var g=p;!function(t,e){t.INTERNAL.registerComponent(new s.a("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(g),e.a=g},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL"),i={apiKey:"AIzaSyD1O6sO7uFrwlns1gR1PGfAibtNu_uyHoA",authDomain:"notesapp-b2c5d.firebaseapp.com",projectId:"notesapp-b2c5d",storageBucket:"notesapp-b2c5d.appspot.com",messagingSenderId:"1013442246465",appId:"1:1013442246465:web:470dfefece2912fea653c0"},o=null;function a(){return o}var s,u=new r.q("DocumentToken"),c=((s=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||s)},s.\u0275prov=Object(r.Jb)({factory:l,token:s,providedIn:"platform"}),s);function l(){return Object(r.Wb)(d)}var h,f=new r.q("Location Initialized"),d=((h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=a().getLocation(),this._history=a().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return a().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){p()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){p()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(c)).\u0275fac=function(t){return new(t||h)(r.Wb(u))},h.\u0275prov=Object(r.Jb)({factory:v,token:h,providedIn:"platform"}),h);function p(){return!!window.history.pushState}function v(){return new d(Object(r.Wb)(u))}function y(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}var _,b=((_=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||_)},_.\u0275prov=Object(r.Jb)({factory:w,token:_,providedIn:"root"}),_);function w(t){var e=Object(r.Wb)(u).location;return new O(Object(r.Wb)(c),e&&e.origin||"")}var k,C,E,S=new r.q("appBaseHref"),O=((E=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;if(_classCallCheck(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return y(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(b)).\u0275fac=function(t){return new(t||E)(r.Wb(c),r.Wb(S,8))},E.\u0275prov=r.Jb({token:E,factory:E.\u0275fac}),E),T=((C=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=y(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(b)).\u0275fac=function(t){return new(t||C)(r.Wb(c),r.Wb(S,8))},C.\u0275prov=r.Jb({token:C,factory:C.\u0275fac}),C),I=((k=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=e;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=m(A(o)),this._platformStrategy.onPopState((function(t){i._subject.emit({url:i.path(!0),pop:!0,state:t.state,type:t.type})}))}return _createClass(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+g(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,A(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||k)(r.Wb(b),r.Wb(c))},k.normalizeQueryParams=g,k.joinWithSlash=y,k.stripTrailingSlash=m,k.\u0275prov=Object(r.Jb)({factory:x,token:k,providedIn:"root"}),k);function x(){return new I(Object(r.Wb)(b),Object(r.Wb)(c))}function A(t){return t.replace(/\/index.html$/,"")}var P,D=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),R=r.ob,N=function t(){_classCallCheck(this,t)},j=((P=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).locale=t,r}return _createClass(n,[{key:"getPluralCategory",value:function(t,e){switch(R(e||this.locale)(t)){case D.Zero:return"zero";case D.One:return"one";case D.Two:return"two";case D.Few:return"few";case D.Many:return"many";default:return"other"}}}]),n}(N)).\u0275fac=function(t){return new(t||P)(r.Wb(r.u))},P.\u0275prov=r.Jb({token:P,factory:P.\u0275fac}),P);function L(t,e){e=encodeURIComponent(e);var n,r=_createForOfIteratorHelper(t.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],u=a[1];if(s.trim()===e)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}var M,F,V,U=((M=function(){function t(e,n,r,i){_classCallCheck(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachRemovedItem((function(t){t.previousValue&&e._toggleClass(t.key,!1)}))}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.xb)(t.item));e._toggleClass(t.item,!0)})),t.forEachRemovedItem((function(t){return e._toggleClass(t.item,!1)}))}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!0)})):Object.keys(t).forEach((function(n){return e._toggleClass(n,!!t[n])})))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!1)})):Object.keys(t).forEach((function(t){return e._toggleClass(t,!1)})))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach((function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)}))}},{key:"klass",set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.rb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),t}()).\u0275fac=function(t){return new(t||M)(r.Nb(r.s),r.Nb(r.t),r.Nb(r.l),r.Nb(r.E))},M.\u0275dir=r.Ib({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),M),B=function(){function t(e,n,r,i){_classCallCheck(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return _createClass(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),z=((F=function(){function t(e,n,r){_classCallCheck(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(ix){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new B(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new q(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=e._viewContainer.get(r);e._viewContainer.move(s,i);var u=new q(t,s);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}},{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(t){Object(r.W)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=t},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||F)(r.Nb(r.P),r.Nb(r.L),r.Nb(r.s))},F.\u0275dir=r.Ib({type:F,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),F),q=function t(e,n){_classCallCheck(this,t),this.record=e,this.view=n},H=((V=function(){function t(e,n){_classCallCheck(this,t),this._viewContainer=e,this._context=new W,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){G("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){G("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||V)(r.Nb(r.P),r.Nb(r.L))},V.\u0275dir=r.Ib({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),V),W=function t(){_classCallCheck(this,t),this.$implicit=null,this.ngIf=null};function G(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Object(r.xb)(e),"'."))}var K,Q,Y,Z,J,X,$,tt,et,nt=function(){function t(e,n){_classCallCheck(this,t),this._viewContainerRef=e,this._templateRef=n,this._created=!1}return _createClass(t,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}]),t}(),rt=((J=function(){function t(){_classCallCheck(this,t),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return _createClass(t,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}},{key:"_matchCase",value:function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}},{key:"_updateDefaultCases",value:function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}},{key:"ngSwitch",set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}}]),t}()).\u0275fac=function(t){return new(t||J)},J.\u0275dir=r.Ib({type:J,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),J),it=((Z=function(){function t(e,n,r){_classCallCheck(this,t),this.ngSwitch=r,r._addCase(),this._view=new nt(e,n)}return _createClass(t,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),t}()).\u0275fac=function(t){return new(t||Z)(r.Nb(r.P),r.Nb(r.L),r.Nb(rt,1))},Z.\u0275dir=r.Ib({type:Z,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),Z),ot=((Y=function(){function t(e,n,r){_classCallCheck(this,t),this._ngEl=e,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}},{key:"_setStyle",value:function(t,e){var n=_slicedToArray(t.split("."),2),r=n[0],i=n[1];null!=(e=null!=e&&i?"".concat(e).concat(i):e)?this._renderer.setStyle(this._ngEl.nativeElement,r,e):this._renderer.removeStyle(this._ngEl.nativeElement,r)}},{key:"_applyChanges",value:function(t){var e=this;t.forEachRemovedItem((function(t){return e._setStyle(t.key,null)})),t.forEachAddedItem((function(t){return e._setStyle(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._setStyle(t.key,t.currentValue)}))}},{key:"ngStyle",set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}}]),t}()).\u0275fac=function(t){return new(t||Y)(r.Nb(r.l),r.Nb(r.t),r.Nb(r.E))},Y.\u0275dir=r.Ib({type:Y,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),Y),at=((Q=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:Q}),Q.\u0275inj=r.Kb({factory:function(t){return new(t||Q)},providers:[{provide:N,useClass:j}]}),Q),st=((K=function t(){_classCallCheck(this,t)}).\u0275prov=Object(r.Jb)({token:K,providedIn:"root",factory:function(){return new ut(Object(r.Wb)(u),window,Object(r.Wb)(r.m))}}),K),ut=function(){function t(e,n,r){_classCallCheck(this,t),this.document=e,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='".concat(t,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(ix){return!1}}}]),t}(),ct=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=lt||(lt=document.querySelector("base"))?lt.getAttribute("href"):null;return null==n?null:(e=n,X||(X=document.createElement("a")),X.setAttribute("href",e),"/"===X.pathname.charAt(0)?X.pathname:"/"+X.pathname)}},{key:"resetBaseElement",value:function(){lt=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return L(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,o||(o=t)}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){_classCallCheck(this,t)}}())),lt=null,ht=new r.q("TRANSITION_ID"),ft=[{provide:r.d,useFactory:function(t,e,n){return function(){n.get(r.e).donePromise.then((function(){var n=a();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[ht,u,r.r],multi:!0}],dt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){r.qb.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},r.qb.getAllAngularRootElements=function(){return t.getAllRootElements()},r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push((function(t){var e=r.qb.getAllAngularTestabilities(),n=e.length,i=!1,o=function(e){i=i||e,0==--n&&t(i)};e.forEach((function(t){t.whenStable(o)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?a().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(r.Y)(new t)}}]),t}(),pt=new r.q("EventManagerPlugins"),vt=(($=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=r})),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)}}]),t}()).\u0275fac=function(t){return new(t||$)(r.Wb(pt),r.Wb(r.z))},$.\u0275prov=r.Jb({token:$,factory:$.\u0275fac}),$),yt=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=a().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),mt=((et=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||et)},et.\u0275prov=r.Jb({token:et,factory:et.\u0275fac}),et),gt=((tt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return a().remove(t)}))}}]),n}(mt)).\u0275fac=function(t){return new(t||tt)(r.Wb(u))},tt.\u0275prov=r.Jb({token:tt,factory:tt.\u0275fac}),tt),_t={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},bt=/%COMP%/g;function wt(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?wt(t,i,n):(i=i.replace(bt,t),n.push(i))}return n}function kt(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Ct,Et,St,Ot,Tt=((Ct=function(){function t(e,n,r){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new It(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new xt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case r.Q.Native:case r.Q.ShadowDom:return new At(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=wt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Ct)(r.Wb(vt),r.Wb(gt),r.Wb(r.c))},Ct.\u0275prov=r.Jb({token:Ct,factory:Ct.\u0275fac}),Ct),It=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(_t[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=_t[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=_t[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,i){i&r.G.DashCase?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,kt(n)):this.eventManager.addEventListener(t,e,kt(n))}}]),t}(),xt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;_classCallCheck(this,n),(a=e.call(this,t)).component=i;var s,u=wt(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr="_ngcontent-%COMP%".replace(bt,o+"-"+i.id),a.hostAttr=(s=o+"-"+i.id,"_nghost-%COMP%".replace(bt,s)),a}return _createClass(n,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,t,e);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(It),At=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a){var s;_classCallCheck(this,n),(s=e.call(this,t)).sharedStylesHost=i,s.hostEl=o,s.component=a,s.shadowRoot=a.encapsulation===r.Q.ShadowDom?o.attachShadow({mode:"open"}):o.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var u=wt(a.id,a.styles,[]),c=0;c<u.length;c++){var l=document.createElement("style");l.textContent=u[c],s.shadowRoot.appendChild(l)}return s}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(It),Pt=((Et=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(yt)).\u0275fac=function(t){return new(t||Et)(r.Wb(u))},Et.\u0275prov=r.Jb({token:Et,factory:Et.\u0275fac}),Et),Dt=["alt","control","meta","shift"],Rt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},jt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Lt=((St=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return a().onAndCancel(t,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(Dt.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")})),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Nt.hasOwnProperty(e)&&(e=Nt[e]))}return Rt[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Dt.forEach((function(r){r!=n&&(0,jt[r])(t)&&(e+=r+".")})),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded((function(){return e(i)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(yt)).\u0275fac=function(t){return new(t||St)(r.Wb(u))},St.\u0275prov=r.Jb({token:St,factory:St.\u0275fac}),St),Mt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){ct.makeCurrent(),dt.init()},multi:!0},{provide:u,useFactory:function(){return Object(r.wb)(document),document},deps:[]}],Ft=Object(r.S)(r.X,"browser",Mt),Vt=[[],{provide:r.ab,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:pt,useClass:Pt,multi:!0,deps:[u,r.z,r.B]},{provide:pt,useClass:Lt,multi:!0,deps:[u]},[],{provide:Tt,useClass:Tt,deps:[vt,gt,r.c]},{provide:r.F,useExisting:Tt},{provide:mt,useExisting:gt},{provide:gt,useClass:gt,deps:[u]},{provide:r.M,useClass:r.M,deps:[r.z]},{provide:vt,useClass:vt,deps:[pt,r.z]},[]],Ut=((Ot=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:ht,useExisting:r.c},ft]}}}]),t}()).\u0275mod=r.Lb({type:Ot}),Ot.\u0275inj=r.Kb({factory:function(t){return new(t||Ot)(r.Wb(Ot,12))},providers:Vt,imports:[at,r.f]}),Ot);"undefined"!=typeof window&&window;var Bt=n("LRne"),zt=n("Cfvw"),qt=n("XNiG"),Ht=n("9ppp"),Wt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._value=t,r}return _createClass(n,[{key:"_subscribe",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ht.a;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),n}(qt.a),Gt=n("HDdC"),Kt=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Qt=n("z+Ro"),Yt=n("DH7j"),Zt=n("l7GE"),Jt=n("ZUHj"),Xt=n("yCtX"),$t={},te=function(){function t(e){_classCallCheck(this,t),this.resultSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ee(t,this.resultSelector))}}]),t}(),ee=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(t){this.values.push($t),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(Jt.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===$t?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Zt.a),ne=n("EY2u");function re(t){return new Gt.a((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(zt.a)(n):Object(ne.b)()).subscribe(e)}))}var ie=n("lJxs"),oe=n("bHdf");function ae(){return Object(oe.a)(1)}var se=n("7o/Q");function ue(t,e){return function(n){return n.lift(new ce(t,e))}}var ce=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new le(t,this.predicate,this.thisArg))}}]),t}(),le=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(se.a),he=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function fe(t){return function(e){return 0===t?Object(ne.b)():e.lift(new de(t))}}var de=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new he}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new pe(t,this.total))}}]),t}(),pe=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(se.a);function ve(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge;return function(e){return e.lift(new ye(t))}}var ye=function(){function t(e){_classCallCheck(this,t),this.errorFactory=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new me(t,this.errorFactory))}}]),t}(),me=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),n}(se.a);function ge(){return new Kt}function _e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new be(t))}}var be=function(){function t(e){_classCallCheck(this,t),this.defaultValue=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new we(t,this.defaultValue))}}]),t}(),we=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(se.a),ke=n("SpAZ");function Ce(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?ue((function(e,n){return t(e,n,r)})):ke.a,fe(1),n?_e(e):ve((function(){return new Kt})))}}var Ee=n("51Dv");function Se(t){return function(e){var n=new Oe(t),r=e.lift(n);return n.caught=r}}var Oe=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Te(t,this.selector,this.caught))}}]),t}(),Te=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new Ee.a(this,void 0,void 0);this.add(r);var i=Object(Jt.a)(this,e,void 0,void 0,r);i!==r&&this.add(i)}}}]),n}(Zt.a);function Ie(t){return function(e){return 0===t?Object(ne.b)():e.lift(new xe(t))}}var xe=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new he}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ae(t,this.total))}}]),t}(),Ae=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(se.a);function Pe(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?ue((function(e,n){return t(e,n,r)})):ke.a,Ie(1),n?_e(e):ve((function(){return new Kt})))}}var De=n("5+tZ"),Re=function(){function t(e,n,r){_classCallCheck(this,t),this.predicate=e,this.thisArg=n,this.source=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ne(t,this.predicate,this.thisArg,this.source))}}]),t}(),Ne=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t)).predicate=r,a.thisArg=i,a.source=o,a.index=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(t){this.destination.next(t),this.destination.complete()}},{key:"_next",value:function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(se.a);function je(t,e){return"function"==typeof e?function(n){return n.pipe(je((function(n,r){return Object(zt.a)(t(n,r)).pipe(Object(ie.a)((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new Le(t))}}var Le=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Me(t,this.project))}}]),t}(),Me=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new Ee.a(this,e,n),o=this.destination;o.add(i),this.innerSubscription=Object(Jt.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}}]),n}(Zt.a);function Fe(){return ae()(Object(Bt.a).apply(void 0,arguments))}function Ve(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Object(Qt.a)(r)?(e.pop(),function(t){return Fe(e,t,r)}):function(t){return Fe(e,t)}}function Ue(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Be(t,e,n))}}var Be=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ze(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),ze=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),n}(se.a);function qe(t,e){return Object(De.a)(t,e,1)}var He,We=n("mCNh"),Ge=n("vkgz"),Ke=n("quSY"),Qe=function(){function t(e){_classCallCheck(this,t),this.callback=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ye(t,this.callback))}}]),t}(),Ye=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).add(new Ke.a(r)),i}return n}(se.a),Ze=function t(e,n){_classCallCheck(this,t),this.id=e,this.url=n},Je=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Ze),Xe=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Ze),$e=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Ze),tn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Ze),en=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ze),nn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ze),rn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s;return _classCallCheck(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Ze),on=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ze),an=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ze),sn=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),un=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),cn=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),ln=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),hn=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),fn=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),dn=function(){function t(e,n,r){_classCallCheck(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return _createClass(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),pn=((He=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||He)},He.\u0275cmp=r.Hb({type:He,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Ob(0,"router-outlet")},directives:function(){return[gi]},encapsulation:2}),He),vn=function(){function t(e){_classCallCheck(this,t),this.params=e||{}}return _createClass(t,[{key:"has",value:function(t){return this.params.hasOwnProperty(t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function yn(t){return new vn(t)}function mn(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function gn(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var _n=function t(e,n){_classCallCheck(this,t),this.routes=e,this.module=n};function bn(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];wn(r,kn(e,r))}}function wn(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&bn(t.children,e)}function kn(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function Cn(t){var e=t.children&&t.children.map(Cn),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=pn),n}function En(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!Sn(t[n=r[o]],e[n]))return!1;return!0}function Sn(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every((function(t){return e.indexOf(t)>-1})):t===e}function On(t){return Array.prototype.concat.apply([],t)}function Tn(t){return t.length>0?t[t.length-1]:null}function In(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function xn(t){return Object(r.sb)(t)?t:Object(r.tb)(t)?Object(zt.a)(Promise.resolve(t)):Object(Bt.a)(t)}function An(t,e,n){return n?function(t,e){return En(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Nn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return Sn(t[n],e[n])}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Nn(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Nn(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Nn(n.segments,a)&&!!n.children.primary&&e(n.children.primary,r,s)}(e,n,n.segments)}(t.root,e.root)}var Pn=function(){function t(e,n,r){_classCallCheck(this,t),this.root=e,this.queryParams=n,this.fragment=r}return _createClass(t,[{key:"toString",value:function(){return Fn.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=yn(this.queryParams)),this._queryParamMap}}]),t}(),Dn=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.segments=e,this.children=n,this.parent=null,In(n,(function(t,e){return t.parent=r}))}return _createClass(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Vn(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),Rn=function(){function t(e,n){_classCallCheck(this,t),this.path=e,this.parameters=n}return _createClass(t,[{key:"toString",value:function(){return Wn(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=yn(this.parameters)),this._parameterMap}}]),t}();function Nn(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function jn(t,e){var n=[];return In(t.children,(function(t,r){"primary"===r&&(n=n.concat(e(t,r)))})),In(t.children,(function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))})),n}var Ln=function t(){_classCallCheck(this,t)},Mn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"parse",value:function(t){var e=new Zn(t);return new Pn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){return"".concat("/"+function t(e,n){if(!e.hasChildren())return Vn(e);if(n){var r=e.children.primary?t(e.children.primary,!1):"",i=[];return In(e.children,(function(e,n){"primary"!==n&&i.push("".concat(n,":").concat(t(e,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=jn(e,(function(n,r){return"primary"===r?[t(e.children.primary,!1)]:["".concat(r,":").concat(t(n,!1))]}));return"".concat(Vn(e),"/(").concat(o.join("//"),")")}(t.root,!0)).concat((e=t.queryParams,n=Object.keys(e).map((function(t){var n=e[t];return Array.isArray(n)?n.map((function(e){return"".concat(Bn(t),"=").concat(Bn(e))})).join("&"):"".concat(Bn(t),"=").concat(Bn(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"");var e,n}}]),t}(),Fn=new Mn;function Vn(t){return t.segments.map((function(t){return Wn(t)})).join("/")}function Un(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bn(t){return Un(t).replace(/%3B/gi,";")}function zn(t){return Un(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qn(t){return decodeURIComponent(t)}function Hn(t){return qn(t.replace(/\+/g,"%20"))}function Wn(t){return"".concat(zn(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(zn(t),"=").concat(zn(e[t]))})).join("")));var e}var Gn=/^[^\/()?;=#]+/;function Kn(t){var e=t.match(Gn);return e?e[0]:""}var Qn=/^[^=?&#]+/,Yn=/^[^?&#]+/,Zn=function(){function t(e){_classCallCheck(this,t),this.url=e,this.remaining=e}return _createClass(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dn([],{}):new Dn([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Dn(t,e)),n}},{key:"parseSegment",value:function(){var t=Kn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new Rn(qn(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Kn(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Kn(this.remaining);r&&(n=r,this.capture(n))}t[qn(e)]=qn(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Qn);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(Yn);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Hn(e),o=Hn(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Kn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Dn([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Jn=function(){function t(e){_classCallCheck(this,t),this._root=e}return _createClass(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Xn(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=Xn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=$n(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return $n(t,this._root).map((function(t){return t.value}))}},{key:"root",get:function(){return this._root.value}}]),t}();function Xn(t,e){if(t===e.value)return e;var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=Xn(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function $n(t,e){if(t===e.value)return[e];var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=$n(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var tr=function(){function t(e,n){_classCallCheck(this,t),this.value=e,this.children=n}return _createClass(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function er(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var nr=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).snapshot=r,ur(_assertThisInitialized(i),t),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Jn);function rr(t,e){var n=function(t,e){var n=new ar([],{},{},"",{},"primary",e,null,t.root,-1,{});return new sr("",new tr(n,[]))}(t,e),r=new Wt([new Rn("",{})]),i=new Wt({}),o=new Wt({}),a=new Wt({}),s=new Wt(""),u=new ir(r,i,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new nr(new tr(u,[]),n)}var ir=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return _createClass(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(ie.a)((function(t){return yn(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(ie.a)((function(t){return yn(t)})))),this._queryParamMap}}]),t}();function or(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var ar=function(){function t(e,n,r,i,o,a,s,u,c,l,h){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=yn(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=yn(this.queryParams)),this._queryParamMap}}]),t}(),sr=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,r)).url=t,ur(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return cr(this._root)}}]),n}(Jn);function ur(t,e){e.value._routerState=t,e.children.forEach((function(e){return ur(t,e)}))}function cr(t){var e=t.children.length>0?" { ".concat(t.children.map(cr).join(", ")," } "):"";return"".concat(t.value).concat(e)}function lr(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,En(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),En(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!En(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),En(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function hr(t,e){return En(t.params,e.params)&&function(t,e){return Nn(t,e)&&t.every((function(t,n){return En(t.parameters,e[n].parameters)}))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||hr(t.parent,e.parent))}function fr(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function dr(t,e,n,r,i){var o={};return r&&In(r,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return""+t})):""+t})),new Pn(n.root===t?e:function t(e,n,r){var i={};return In(e.children,(function(e,o){i[o]=e===n?r:t(e,n,r)})),new Dn(e.segments,i)}(n.root,t,e),o,i)}var pr=function(){function t(e,n,r){if(_classCallCheck(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&fr(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(i&&i!==Tn(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),vr=function t(e,n,r){_classCallCheck(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function yr(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function mr(t,e,n){if(t||(t=new Dn([],{})),0===t.segments.length&&t.hasChildren())return gr(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=yr(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!kr(s,u,a))return o;r+=2}else{if(!kr(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Dn(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new Dn(t.segments.slice(r.pathIndex),t.children),gr(o,0,i)}return r.match&&0===i.length?new Dn(t.segments,{}):r.match&&!t.hasChildren()?_r(t,e,n):r.match?gr(t,0,i):_r(t,e,n)}function gr(t,e,n){if(0===n.length)return new Dn(t.segments,{});var r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return In(r,(function(n,r){null!==n&&(i[r]=mr(t.children[r],e,n))})),In(t.children,(function(t,e){void 0===r[e]&&(i[e]=t)})),new Dn(t.segments,i)}function _r(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=br(n[i].outlets);return new Dn(r,o)}if(0===i&&fr(n[0]))r.push(new Rn(t.segments[e].path,n[0])),i++;else{var a=yr(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&fr(s)?(r.push(new Rn(a,wr(s))),i+=2):(r.push(new Rn(a,{})),i++)}}return new Dn(r,{})}function br(t){var e={};return In(t,(function(t,n){null!==t&&(e[n]=_r(new Dn([],{}),0,t))})),e}function wr(t){var e={};return In(t,(function(t,n){return e[n]=""+t})),e}function kr(t,e,n){return t==n.path&&En(e,n.parameters)}var Cr=function(){function t(e,n,r,i){_classCallCheck(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),lr(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=er(e);t.children.forEach((function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]})),In(i,(function(t,e){r.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=er(t),o=t.value.component?r.children:e;In(i,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=er(e);t.children.forEach((function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new fn(t.value.snapshot))})),t.children.length&&this.forwardEvent(new ln(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(lr(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Er(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function Er(t){lr(t.value),t.children.forEach(Er)}function Sr(t){return"function"==typeof t}function Or(t){return t instanceof Pn}var Tr=function t(e){_classCallCheck(this,t),this.segmentGroup=e||null},Ir=function t(e){_classCallCheck(this,t),this.urlTree=e};function xr(t){return new Gt.a((function(e){return e.error(new Tr(t))}))}function Ar(t){return new Gt.a((function(e){return e.error(new Ir(t))}))}function Pr(t){return new Gt.a((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var Dr=function(){function t(e,n,i,o,a){_classCallCheck(this,t),this.configLoader=n,this.urlSerializer=i,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(r.x)}return _createClass(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(ie.a)((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(Se((function(e){if(e instanceof Ir)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Tr)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(ie.a)((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(Se((function(t){if(t instanceof Tr)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new Dn([],{primary:t}):t;return new Pn(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(ie.a)((function(t){return new Dn([],t)}))):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(Bt.a)({});var o=[],a=[],s={};return In(n,(function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(t,e,c,u)).pipe(Object(ie.a)((function(t){return s[i]=t})));"primary"===i?o.push(l):a.push(l)})),Bt.a.apply(null,o.concat(a)).pipe(ae(),Ce(),Object(ie.a)((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this;return Object(Bt.a).apply(void 0,_toConsumableArray(n)).pipe(Object(ie.a)((function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Se((function(t){if(t instanceof Tr)return Object(Bt.a)(null);throw t})))})),ae(),Pe((function(t){return!!t})),Se((function(t,n){if(t instanceof Kt||"EmptyError"===t.name){if(a.noLeftoversInUrl(e,r,i))return Object(Bt.a)(new Dn([],{}));throw new Tr(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return Lr(r)!==o?xr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):xr(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ar(o):this.lineralizeSegments(n,o).pipe(Object(De.a)((function(n){var o=new Dn(n,{});return i.expandSegment(t,o,e,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=Rr(e,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return xr(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?Ar(f):this.lineralizeSegments(r,f).pipe(Object(De.a)((function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(ie.a)((function(t){return n._loadedConfig=t,new Dn(r,{})}))):Object(Bt.a)(new Dn(r,{}));var o=Rr(e,n,r),a=o.matched,s=o.consumedSegments,u=o.lastChild;if(!a)return xr(e);var c=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object(De.a)((function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some((function(n){return jr(t,e,n)&&"primary"!==Lr(n)}))}(t,n,r)?{segmentGroup:Nr(new Dn(e,function(t,e){var n={};n.primary=e;var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==Lr(o)&&(n[Lr(o)]=new Dn([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new Dn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return jr(t,e,n)}))}(t,n,r)?{segmentGroup:Nr(new Dn(t.segments,function(t,e,n,r){var i,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;jr(t,e,s)&&!r[Lr(s)]&&(o[Lr(s)]=new Dn([],{}))}}catch(u){a.e(u)}finally{a.f()}return Object.assign(Object.assign({},r),o)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,c,r),a=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(Object(ie.a)((function(t){return new Dn(s,t)}))):0===r.length&&0===u.length?Object(Bt.a)(new Dn(s,{})):i.expandSegment(n,a,r,u,"primary",!0).pipe(Object(ie.a)((function(t){return new Dn(s.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Object(Bt.a)(new _n(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Bt.a)(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?Object(zt.a)(i).pipe(Object(ie.a)((function(r){var i,o=t.get(r);if(function(t){return t&&Sr(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!Sr(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return xn(i)}))).pipe(ae(),(r=function(t){return!0===t},function(t){return t.lift(new Re(r,void 0,t))})):Object(Bt.a)(!0)}(t.injector,e,n).pipe(Object(De.a)((function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(ie.a)((function(t){return e._loadedConfig=t,t}))):function(t){return new Gt.a((function(e){return e.error(mn("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):Object(Bt.a)(new _n([],t))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Bt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Pr(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new Pn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return In(t,(function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return In(e.children,(function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)})),new Dn(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map((function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return t}}]),t}();function Rr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||gn)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Nr(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new Dn(t.segments.concat(e.segments),e.children)}return t}function jr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Lr(t){return t.outlet||"primary"}var Mr=function t(e){_classCallCheck(this,t),this.path=e,this.route=this.path[this.path.length-1]},Fr=function t(e,n){_classCallCheck(this,t),this.component=e,this.route=n};function Vr(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ur(t,e,n){var r=er(t),i=t.value;In(r,(function(t,r){Ur(t,i.component?e?e.children.getContext(r):null:e,n)})),n.canDeactivateChecks.push(new Fr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var Br=Symbol("INITIAL_VALUE");function zr(){return je((function(t){return(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=null,i=null;return Object(Qt.a)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(Yt.a)(e[0])&&(e=e[0]),Object(Xt.a)(e,i).lift(new te(r))}).apply(void 0,_toConsumableArray(t.map((function(t){return t.pipe(Ie(1),Ve(Br))})))).pipe(Ue((function(t,e){var n=!1;return e.reduce((function(t,r,i){if(t!==Br)return t;if(r===Br&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Or(r))return r}return t}),t)}),Br),ue((function(t){return t!==Br})),Object(ie.a)((function(t){return Or(t)?t:!0===t})),Ie(1))}))}function qr(t,e){return null!==t&&e&&e(new hn(t)),Object(Bt.a)(!0)}function Hr(t,e){return null!==t&&e&&e(new cn(t)),Object(Bt.a)(!0)}function Wr(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Bt.a)(!0);var i=r.map((function(r){return re((function(){var i,o=Vr(r,e,n);if(function(t){return t&&Sr(t.canActivate)}(o))i=xn(o.canActivate(e,t));else{if(!Sr(o))throw new Error("Invalid CanActivate guard");i=xn(o(e,t))}return i.pipe(Pe())}))}));return Object(Bt.a)(i).pipe(zr())}function Gr(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return re((function(){var i=e.guards.map((function(i){var o,a=Vr(i,e.node,n);if(function(t){return t&&Sr(t.canActivateChild)}(a))o=xn(a.canActivateChild(r,t));else{if(!Sr(a))throw new Error("Invalid CanActivateChild guard");o=xn(a(r,t))}return o.pipe(Pe())}));return Object(Bt.a)(i).pipe(zr())}))}));return Object(Bt.a)(i).pipe(zr())}var Kr=function t(){_classCallCheck(this,t)},Qr=function(){function t(e,n,r,i,o,a){_classCallCheck(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(t,[{key:"recognize",value:function(){try{var t=Jr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new ar([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new tr(n,e),i=new sr(this.url,r);return this.inheritParamsAndData(i._root),Object(Bt.a)(i)}catch(o){return new Gt.a((function(t){return t.error(o)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=or(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,r=this,i=jn(e,(function(e,n){return r.processSegmentGroup(t,e,n)}));return n={},i.forEach((function(t){var e=n[t.value.outlet];if(e){var r=e.url.map((function(t){return t.toString()})).join("/"),i=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[t.value.outlet]=t.value})),i.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),i}},{key:"processSegment",value:function(t,e,n,r){var i,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,e,n,r)}catch(s){if(!(s instanceof Kr))throw s}}}catch(u){o.e(u)}finally{o.f()}if(this.noLeftoversInUrl(e,n,r))return[];throw new Kr}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo)throw new Kr;if((t.outlet||"primary")!==r)throw new Kr;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?Tn(n).parameters:{};i=new ar(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ti(t),r,t.component,t,Yr(e),Zr(e)+n.length,ei(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Kr;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||gn)(n,t,e);if(!r)throw new Kr;var i={};In(r.posParams,(function(t,e){i[e]=t.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new ar(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ti(t),r,t.component,t,Yr(e),Zr(e)+o.length,ei(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=Jr(e,o,a,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new tr(i,d)]}if(0===c.length&&0===f.length)return[new tr(i,[])];var p=this.processSegment(c,h,f,"primary");return[new tr(i,p)]}}]),t}();function Yr(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Zr(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Jr(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some((function(n){return Xr(t,e,n)&&"primary"!==$r(n)}))}(t,n,r)){var o=new Dn(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==$r(s)){var u=new Dn([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[$r(s)]=u}}}catch(c){a.e(c)}finally{a.f()}return i}(t,e,r,new Dn(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return Xr(t,e,n)}))}(t,n,r)){var a=new Dn(t.segments,function(t,e,n,r,i,o){var a,s={},u=_createForOfIteratorHelper(r);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(Xr(t,n,c)&&!i[$r(c)]){var l=new Dn([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[$r(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new Dn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Xr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function $r(t){return t.outlet||"primary"}function ti(t){return t.data||{}}function ei(t){return t.resolve||{}}function ni(t,e,n,r){var i=Vr(t,e,r);return xn(i.resolve?i.resolve(e,n):i(e,n))}function ri(t){return function(e){return e.pipe(je((function(e){var n=t(e);return n?Object(zt.a)(n).pipe(Object(ie.a)((function(){return e}))):Object(zt.a)([e])})))}}var ii=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}(),oi=new r.q("ROUTES"),ai=function(){function t(e,n,r,i){_classCallCheck(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(ie.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new _n(On(i.injector.get(oi)).map(Cn),i)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(zt.a)(this.loader.load(t)):xn(t()).pipe(Object(De.a)((function(t){return t instanceof r.v?Object(Bt.a)(t):Object(zt.a)(e.compiler.compileModuleAsync(t))})))}}]),t}(),si=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function ui(t){throw t}function ci(t,e,n){return e.parse("/")}function li(t,e){return Object(Bt.a)(null)}var hi,fi,di,pi,vi=((hi=function(){function t(e,n,i,o,a,s,u,c){var l=this;_classCallCheck(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=i,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new qt.a,this.errorHandler=ui,this.malformedUriErrorHandler=ci,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:li,afterPreactivation:li},this.urlHandlingStrategy=new si,this.routeReuseStrategy=new ii,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=a.get(r.x),this.console=a.get(r.Z);var h=a.get(r.z);this.isNgZoneEnabled=h instanceof r.z,this.resetConfig(c),this.currentUrlTree=new Pn(new Dn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ai(s,u,(function(t){return l.triggerEvent(new sn(t))}),(function(t){return l.triggerEvent(new un(t))})),this.routerState=rr(this.currentUrlTree,this.rootComponentType),this.transitions=new Wt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(ue((function(t){return 0!==t.id})),Object(ie.a)((function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),je((function(t){var r,i,o,a,s=!1,u=!1;return Object(Bt.a)(t).pipe(Object(Ge.a)((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}})),je((function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Bt.a)(t).pipe(je((function(t){var r=e.transitions.getValue();return n.next(new Je(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?ne.a:[t]})),je((function(t){return Promise.resolve(t)})),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,function(t){return t.pipe(je((function(t){return function(t,e,n,r,i){return new Dr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(Object(ie.a)((function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})})))})))}),Object(Ge.a)((function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})})),function(t,n,r,i,o){return function(r){return r.pipe(Object(De.a)((function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Qr(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(Object(ie.a)((function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})})));var a})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(Ge.a)((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),Object(Ge.a)((function(t){var r=new en(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)})));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,c=t.extractedUrl,l=t.source,h=t.restoredState,f=t.extras,d=new Je(u,e.serializeUrl(c),l,h);n.next(d);var p=rr(c,e.rootComponentType).snapshot;return Object(Bt.a)(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),ne.a})),ri((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(Ge.a)((function(t){var n=new nn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),Object(ie.a)((function(t){return Object.assign(Object.assign({},t),{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=er(n);return e.children.forEach((function(e){!function(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=e.value,s=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Nn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Nn(t.url,e.url)||!En(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hr(t,e)||!En(t.queryParams,e.queryParams);case"paramsChange":default:return!hr(t,e)}}(s,a,a.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Mr(i)):(a.data=s.data,a._resolvedData=s._resolvedData),t(e,n,a.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new Fr(u&&u.outlet&&u.outlet.component||null,s))}else s&&Ur(n,u,o),o.canActivateChecks.push(new Mr(i)),t(e,null,a.component?u?u.children:null:r,i,o)}(e,a[e.value.outlet],r,i.concat([e.value]),o),delete a[e.value.outlet]})),In(a,(function(t,e){return Ur(t,r.getContext(e),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(t,e){return function(n){return n.pipe(Object(De.a)((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(Bt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(zt.a)(t).pipe(Object(De.a)((function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Bt.a)(!0);var a=o.map((function(o){var a,s=Vr(o,e,i);if(function(t){return t&&Sr(t.canDeactivate)}(s))a=xn(s.canDeactivate(t,e,n,r));else{if(!Sr(s))throw new Error("Invalid CanDeactivate guard");a=xn(s(t,e,n,r))}return a.pipe(Pe())}));return Object(Bt.a)(a).pipe(zr())}(t.component,t.route,n,e,r)})),Pe((function(t){return!0!==t}),!0))}(s,r,i,t).pipe(Object(De.a)((function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(zt.a)(e).pipe(qe((function(e){return Object(zt.a)([Hr(e.route.parent,r),qr(e.route,r),Gr(t,e.path,n),Wr(t,e.route,n)]).pipe(ae(),Pe((function(t){return!0!==t}),!0))})),Pe((function(t){return!0!==t}),!0))}(r,a,t,e):Object(Bt.a)(n)})),Object(ie.a)((function(t){return Object.assign(Object.assign({},n),{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),Object(Ge.a)((function(t){if(Or(t.guardsResult)){var n=mn('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),Object(Ge.a)((function(t){var n=new rn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),ue((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new $e(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0})),ri((function(t){if(t.guards.canActivateChecks.length)return Object(Bt.a)(t).pipe(Object(Ge.a)((function(t){var n=new on(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),(n=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(Object(De.a)((function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;return i.length?Object(zt.a)(i).pipe(qe((function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(Bt.a)({});if(1===i.length){var o=i[0];return ni(t[o],e,n,r).pipe(Object(ie.a)((function(t){return _defineProperty({},o,t)})))}var a={};return Object(zt.a)(i).pipe(Object(De.a)((function(i){return ni(t[i],e,n,r).pipe(Object(ie.a)((function(t){return a[i]=t,t})))}))).pipe(Ce(),Object(ie.a)((function(){return a})))}(t._resolve,t,e,r).pipe(Object(ie.a)((function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),or(t,n).resolve),null})))}(t.route,e,n,r)})),function(t,e){return arguments.length>=2?function(n){return Object(We.a)(Ue(t,e),fe(1),_e(e))(n)}:function(e){return Object(We.a)(Ue((function(e,n,r){return t(e,n,r+1)})),fe(1))(e)}}((function(t,e){return t})),Object(ie.a)((function(e){return t}))):Object(Bt.a)(t)})))}),Object(Ge.a)((function(t){var n=new an(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})));var n,r})),ri((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(ie.a)((function(t){var n=function(t,e,n){var r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(e,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(e.shouldReuseRoute(a.value.snapshot,n.value))return t(e,n,a)}}catch(s){o.e(s)}finally{o.f()}return t(e,n)}))}(e,n,r);return new tr(i,o)}var a=e.retrieve(n.value);if(a){var s=a.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,s),s}var u,c=new ir(new Wt((u=n.value).url),new Wt(u.params),new Wt(u.queryParams),new Wt(u.fragment),new Wt(u.data),u.outlet,u.component,u),l=n.children.map((function(n){return t(e,n)}));return new tr(c,l)}(t,e._root,n?n._root:void 0);return new nr(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})})),Object(Ge.a)((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(i=e.rootContexts,o=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},Object(ie.a)((function(t){return new Cr(o,t.targetRouterState,t.currentRouterState,a).activate(i),t}))),Object(Ge.a)({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){e.resetUrlToCurrentUrlTree();var r=new $e(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Qe(r))}),Se((function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=Or(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new $e(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);return e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})}),0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new tn(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(c){t.reject(c)}}var s;return ne.a})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){bn(t),this.config=t.map(Cn),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,i=e.queryParams,o=e.fragment,a=e.preserveQueryParams,s=e.queryParamsHandling,u=e.preserveFragment;Object(r.W)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o,h=null;if(s)switch(s){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=a?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return dr(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new pr(!0,0,t);var e=0,n=!1,r=t.reduce((function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return In(r.outlets,(function(t,e){o[e]="string"==typeof t?t.split("/"):t})),[].concat(_toConsumableArray(t),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(t),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(t),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))})),t):[].concat(_toConsumableArray(t),[r])}),[]);return new pr(n,e,r)}(n);if(o.toRoot())return dr(e.root,new Dn([],{}),e,r,i);var a=function(t,e,n){if(t.isAbsolute)return new vr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new vr(n.snapshot._urlSegment,!0,0);var r=fr(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new vr(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?gr(a.segmentGroup,a.index,o.commands):mr(a.segmentGroup,a.index,o.commands);return dr(a.segmentGroup,s,e,r,i)}(c,this.currentUrlTree,t,h,l)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(r.W)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Or(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(Or(t))return An(this.currentUrlTree,t,e);var n=this.parseUrl(t);return An(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r&&(e[n]=r),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Xe(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,r,i){var o,a,s,u=this.getTransition();if(u&&"imperative"!==e&&"imperative"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"hashchange"==e&&"popstate"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"popstate"==e&&"hashchange"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise((function(t,e){o=t,a=e}));var c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}()).\u0275fac=function(t){r.Zb()},hi.\u0275dir=r.Ib({type:hi}),hi),yi=function t(){_classCallCheck(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new mi,this.attachRef=null},mi=function(){function t(){_classCallCheck(this,t),this.contexts=new Map}return _createClass(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new yi,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),gi=((fi=function(){function t(e,n,i,o,a){_classCallCheck(this,t),this.parentContexts=e,this.location=n,this.resolver=i,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=o||"primary",e.onChildOutletCreated(this.name,this)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new _i(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}()).\u0275fac=function(t){return new(t||fi)(r.Nb(mi),r.Nb(r.P),r.Nb(r.j),r.Xb("name"),r.Nb(r.h))},fi.\u0275dir=r.Ib({type:fi,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),fi),_i=function(){function t(e,n,r){_classCallCheck(this,t),this.route=e,this.childContexts=n,this.parent=r}return _createClass(t,[{key:"get",value:function(t,e){return t===ir?this.route:t===mi?this.childContexts:this.parent.get(t,e)}}]),t}(),bi=function t(){_classCallCheck(this,t)},wi=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return Object(Bt.a)(null)}}]),t}(),ki=((pi=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new ai(n,r,(function(t){return e.triggerEvent(new sn(t))}),(function(t){return e.triggerEvent(new un(t))}))}return _createClass(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(ue((function(t){return t instanceof Xe})),qe((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(s){i.e(s)}finally{i.f()}return Object(zt.a)(r).pipe(Object(oe.a)(),Object(ie.a)((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(Object(De.a)((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}()).\u0275fac=function(t){return new(t||pi)(r.Wb(vi),r.Wb(r.w),r.Wb(r.i),r.Wb(r.r),r.Wb(bi))},pi.\u0275prov=r.Jb({token:pi,factory:pi.\u0275fac}),pi),Ci=((di=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Je?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Xe&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof dn&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new dn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){r.Zb()},di.\u0275dir=r.Ib({type:di}),di),Ei=new r.q("ROUTER_CONFIGURATION"),Si=new r.q("ROUTER_FORROOT_GUARD"),Oi=[I,{provide:Ln,useClass:Mn},{provide:vi,useFactory:function(t,e,n,r,i,o,s){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,h=new vi(null,t,e,n,r,i,o,On(s));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=a();h.events.subscribe((function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()}))}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[Ln,mi,I,r.r,r.w,r.i,oi,Ei,[function(){return function t(){_classCallCheck(this,t)}}(),new r.A],[function(){return function t(){_classCallCheck(this,t)}}(),new r.A]]},mi,{provide:ir,useFactory:function(t){return t.routerState.root},deps:[vi]},{provide:r.w,useClass:r.K},ki,wi,function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return e().pipe(Se((function(){return Object(Bt.a)(null)})))}}]),t}(),{provide:Ei,useValue:{enableTracing:!1}}];function Ti(){return new r.y("Router",vi)}var Ii,xi=((Ii=function(){function t(e,n){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[Oi,Ri(e),{provide:Si,useFactory:Di,deps:[[vi,new r.A,new r.J]]},{provide:Ei,useValue:n||{}},{provide:b,useFactory:Pi,deps:[c,[new r.p(S),new r.A],Ei]},{provide:Ci,useFactory:Ai,deps:[vi,st,Ei]},{provide:bi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:wi},{provide:r.y,multi:!0,useFactory:Ti},[ji,{provide:r.d,multi:!0,useFactory:Li,deps:[ji]},{provide:Fi,useFactory:Mi,deps:[ji]},{provide:r.b,multi:!0,useExisting:Fi}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[Ri(e)]}}}]),t}()).\u0275mod=r.Lb({type:Ii}),Ii.\u0275inj=r.Kb({factory:function(t){return new(t||Ii)(r.Wb(Si,8),r.Wb(vi,8))}}),Ii);function Ai(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ci(t,e,n)}function Pi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new T(t,e):new O(t,e)}function Di(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ri(t){return[{provide:r.a,multi:!0,useValue:t},{provide:oi,multi:!0,useValue:t}]}var Ni,ji=((Ni=function(){function t(e){_classCallCheck(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new qt.a}return _createClass(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(f,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),r=t.injector.get(vi),i=t.injector.get(Ei);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return t.initNavigation?Object(Bt.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(Ei),n=this.injector.get(ki),i=this.injector.get(Ci),o=this.injector.get(vi),a=this.injector.get(r.g);t===a.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}()).\u0275fac=function(t){return new(t||Ni)(r.Wb(r.r))},Ni.\u0275prov=r.Jb({token:Ni,factory:Ni.\u0275fac}),Ni);function Li(t){return t.appInitializer.bind(t)}function Mi(t){return t.bootstrapListener.bind(t)}var Fi=new r.q("Router Initializer"),Vi=n("XoHu");function Ui(t,e){return new Gt.a((function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=Object(zt.a)(t[s]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,a++),i[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(a===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=i[n],t}),{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()}))}var Bi,zi,qi,Hi,Wi=new r.q("NgValueAccessor"),Gi={provide:Wi,useExisting:Object(r.U)((function(){return Ki})),multi:!0},Ki=((Bi=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Bi)(r.Nb(r.E),r.Nb(r.l))},Bi.\u0275dir=r.Ib({type:Bi,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.Bb([Gi])]}),Bi),Qi={provide:Wi,useExisting:Object(r.U)((function(){return Zi})),multi:!0},Yi=new r.q("CompositionEventMode"),Zi=((Hi=function(){function t(e,n,r){var i;_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=a()?a().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||Hi)(r.Nb(r.E),r.Nb(r.l),r.Nb(Yi,8))},Hi.\u0275dir=r.Ib({type:Hi,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.ac("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.Bb([Qi])]}),Hi),Ji=((qi=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}()).\u0275fac=function(t){return new(t||qi)},qi.\u0275dir=r.Ib({type:qi}),qi),Xi=((zi=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Ji)).\u0275fac=function(t){return $i(t||zi)},zi.\u0275dir=r.Ib({type:zi,features:[r.zb]}),zi),$i=r.Ub(Xi);function to(){throw new Error("unimplemented")}var eo,no,ro=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return _createClass(n,[{key:"validator",get:function(){return to()}},{key:"asyncValidator",get:function(){return to()}}]),n}(Ji),io=function(){function t(e){_classCallCheck(this,t),this._cd=e}return _createClass(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}(),oo=((no=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(io)).\u0275fac=function(t){return new(t||no)(r.Nb(ro,2))},no.\u0275dir=r.Ib({type:no,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.zb]}),no),ao=((eo=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(io)).\u0275fac=function(t){return new(t||eo)(r.Nb(Xi,2))},eo.\u0275dir=r.Ib({type:eo,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.zb]}),eo);function so(t){return null==t||0===t.length}var uo=new r.q("NgValidators"),co=new r.q("NgAsyncValidators"),lo=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ho=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"min",value:function(t){return function(e){if(so(e.value)||so(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(so(e.value)||so(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return so(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return so(t.value)||lo.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){if(so(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}},{key:"maxLength",value:function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(so(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(fo);return 0==e.length?null:function(t){return vo(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(fo);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var r=e[0];if(Object(Yt.a)(r))return Ui(r,null);if(Object(Vi.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return Ui(i.map((function(t){return r[t]})),i)}}if("function"==typeof e[e.length-1]){var o=e.pop();return Ui(e=1===e.length&&Object(Yt.a)(e[0])?e[0]:e,null).pipe(Object(ie.a)((function(t){return o.apply(void 0,_toConsumableArray(t))})))}return Ui(e,null)}(function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(po)).pipe(Object(ie.a)(vo))}}}]),t}();function fo(t){return null!=t}function po(t){var e=Object(r.tb)(t)?Object(zt.a)(t):t;if(!Object(r.sb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function vo(t){var e={};return t.forEach((function(t){e=null!=t?Object.assign(Object.assign({},e),t):e})),0===Object.keys(e).length?null:e}function yo(t){return t.validate?function(e){return t.validate(e)}:t}function mo(t){return t.validate?function(e){return t.validate(e)}:t}var go,_o,bo,wo,ko,Co,Eo={provide:Wi,useExisting:Object(r.U)((function(){return So})),multi:!0},So=((go=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||go)(r.Nb(r.E),r.Nb(r.l))},go.\u0275dir=r.Ib({type:go,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Bb([Eo])]}),go),Oo={provide:Wi,useExisting:Object(r.U)((function(){return Io})),multi:!0},To=((bo=function(){function t(){_classCallCheck(this,t),this._accessors=[]}return _createClass(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||bo)},bo.\u0275prov=r.Jb({token:bo,factory:bo.\u0275fac}),bo),Io=((_o=function(){function t(e,n,r,i){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(ro),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),t}()).\u0275fac=function(t){return new(t||_o)(r.Nb(r.E),r.Nb(r.l),r.Nb(To),r.Nb(r.r))},_o.\u0275dir=r.Ib({type:_o,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Bb([Oo])]}),_o),xo={provide:Wi,useExisting:Object(r.U)((function(){return Ao})),multi:!0},Ao=((wo=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||wo)(r.Nb(r.E),r.Nb(r.l))},wo.\u0275dir=r.Ib({type:wo,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Bb([xo])]}),wo),Po='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Do='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Ro=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Po)}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(Do,'\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        \n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>'))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+Po)}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Do)}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(t){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(t,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===t?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),t}(),No={provide:Wi,useExisting:Object(r.U)((function(){return jo})),multi:!0},jo=((ko=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r.ub}return _createClass(t,[{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||ko)(r.Nb(r.E),r.Nb(r.l))},ko.\u0275dir=r.Ib({type:ko,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Bb([No])]}),ko),Lo={provide:Wi,useExisting:Object(r.U)((function(){return Mo})),multi:!0},Mo=((Co=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r.ub}return _createClass(t,[{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=e._getOptionValue(l.value);r.push(h)}}e.value=r,t(r)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||Co)(r.Nb(r.E),r.Nb(r.l))},Co.\u0275dir=r.Ib({type:Co,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Bb([Lo])]}),Co);function Fo(t,e){return[].concat(_toConsumableArray(e.path),[t])}function Vo(t,e){t||qo(e,"Cannot find control with"),e.valueAccessor||qo(e,"No value accessor for form control with"),t.validator=ho.compose([t.validator,e.validator]),t.asyncValidator=ho.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Uo(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Uo(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function Uo(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Bo(t,e){null==t&&qo(e,"Cannot find control with"),t.validator=ho.compose([t.validator,e.validator]),t.asyncValidator=ho.composeAsync([t.asyncValidator,e.asyncValidator])}function zo(t){return qo(t,"There is no FormControl instance attached to form control element with")}function qo(t,e){var n;throw n=t.path.length>1?"path: '".concat(t.path.join(" -> "),"'"):t.path[0]?"name: '".concat(t.path,"'"):"unspecified name attribute",new Error("".concat(e," ").concat(n))}function Ho(t){return null!=t?ho.compose(t.map(yo)):null}function Wo(t){return null!=t?ho.composeAsync(t.map(mo)):null}var Go=[Ki,Ao,So,jo,Mo,Io];function Ko(t,e){t._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}))}function Qo(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function Yo(t){var e=Jo(t)?t.validators:t;return Array.isArray(e)?Ho(e):e||null}function Zo(t,e){var n=Jo(e)?e.asyncValidators:t;return Array.isArray(n)?Wo(n):n||null}function Jo(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var Xo,$o,ta,ea,na,ra,ia=function(){function t(e,n){_classCallCheck(this,t),this.validator=e,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(t,[{key:"setValidators",value:function(t){this.validator=Yo(t)}},{key:"setAsyncValidators",value:function(t){this.asyncValidator=Zo(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=po(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach((function(t){r=r instanceof aa?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof sa&&r.at(t)||null})),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new r.n,this.statusChanges=new r.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){Jo(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),oa=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this,Yo(i),Zo(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return _createClass(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(ia),aa=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,Yo(r),Zo(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof oa?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){var e=this,n=!1;return this._forEachChild((function(r,i){n=n||e.contains(i)&&t(r)})),n}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,r){n=e(n,t,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(ia),sa=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,Yo(r),Zo(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof oa?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t,e=_createForOfIteratorHelper(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(ia),ua={provide:Xi,useExisting:Object(r.U)((function(){return la}))},ca=Promise.resolve(null),la=(($o=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this)).submitted=!1,o._directives=[],o.ngSubmit=new r.n,o.form=new aa({},Ho(t),Wo(i)),o}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(t){var e=this;ca.then((function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),Vo(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)}))}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;ca.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),Qo(e._directives,t)}))}},{key:"addFormGroup",value:function(t){var e=this;ca.then((function(){var n=e._findContainer(t.path),r=new aa({});Bo(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(t){var e=this;ca.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)}))}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;ca.then((function(){n.form.get(t.path).setValue(e)}))}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,Ko(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(Xi)).\u0275fac=function(t){return new(t||$o)(r.Nb(uo,10),r.Nb(co,10))},$o.\u0275dir=r.Ib({type:$o,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.ac("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Bb([ua]),r.zb]}),$o),ha=((Xo=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return Fo(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Ho(this._validators)}},{key:"asyncValidator",get:function(){return Wo(this._asyncValidators)}}]),n}(Xi)).\u0275fac=function(t){return fa(t||Xo)},Xo.\u0275dir=r.Ib({type:Xo,features:[r.zb]}),Xo),fa=r.Ub(ha),da=((ta=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||ta)},ta.\u0275dir=r.Ib({type:ta,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),ta),pa=new r.q("NgModelWithFormControlWarning"),va={provide:Xi,useExisting:Object(r.U)((function(){return ya}))},ya=((ea=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this))._validators=t,o._asyncValidators=i,o.submitted=!1,o.directives=[],o.form=null,o.ngSubmit=new r.n,o}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return Vo(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){Qo(this.directives,t)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);Bo(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);Bo(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,Ko(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange((function(){return zo(e)})),e.valueAccessor.registerOnTouched((function(){return zo(e)})),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),n&&Vo(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var t=Ho(this._validators);this.form.validator=ho.compose([this.form.validator,t]);var e=Wo(this._asyncValidators);this.form.asyncValidator=ho.composeAsync([this.form.asyncValidator,e])}},{key:"_checkFormPresent",value:function(){this.form||Ro.missingFormException()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(Xi)).\u0275fac=function(t){return new(t||ea)(r.Nb(uo,10),r.Nb(co,10))},ea.\u0275dir=r.Ib({type:ea,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.ac("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Bb([va]),r.zb,r.Ab]}),ea),ma={provide:Xi,useExisting:Object(r.U)((function(){return ga}))},ga=((na=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._parent=t,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){wa(this._parent)&&Ro.groupParentException()}}]),n}(ha)).\u0275fac=function(t){return new(t||na)(r.Nb(Xi,13),r.Nb(uo,10),r.Nb(co,10))},na.\u0275dir=r.Ib({type:na,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r.Bb([ma]),r.zb]}),na),_a={provide:Xi,useExisting:Object(r.U)((function(){return ba}))},ba=((ra=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._parent=t,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"_checkParentType",value:function(){wa(this._parent)&&Ro.arrayParentException()}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return Fo(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return Ho(this._validators)}},{key:"asyncValidator",get:function(){return Wo(this._asyncValidators)}}]),n}(Xi)).\u0275fac=function(t){return new(t||ra)(r.Nb(Xi,13),r.Nb(uo,10),r.Nb(co,10))},ra.\u0275dir=r.Ib({type:ra,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r.Bb([_a]),r.zb]}),ra);function wa(t){return!(t instanceof ga||t instanceof ya||t instanceof ba)}var ka,Ca,Ea,Sa,Oa={provide:ro,useExisting:Object(r.U)((function(){return Ta}))},Ta=((Sa=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a,s){var u;return _classCallCheck(this,n),(u=e.call(this))._ngModelWarningConfig=s,u._added=!1,u.update=new r.n,u._ngModelWarningSent=!1,u._parent=t,u._rawValidators=i||[],u._rawAsyncValidators=o||[],u.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||qo(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach((function(e){var o;e.constructor===Zi?n=e:(o=e,Go.some((function(t){return o.constructor===t}))?(r&&qo(t,"More than one built-in value accessor matches form control with"),r=e):(i&&qo(t,"More than one custom value accessor matches form control with"),i=e))})),i||r||n||(qo(t,"No valid value accessor for form control with"),null)}(_assertThisInitialized(u),a),u}return _createClass(n,[{key:"ngOnChanges",value:function(t){var e,i;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(r.ub)(e,n.currentValue)}(t,this.viewModel)&&(e=n,i=this._ngModelWarningConfig,Object(r.W)()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(Ro.ngModelWarning("formControlName"),e._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_checkParentType",value:function(){!(this._parent instanceof ga)&&this._parent instanceof ha?Ro.ngModelGroupException():this._parent instanceof ga||this._parent instanceof ya||this._parent instanceof ba||Ro.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(t){Ro.disabledAttrWarning()}},{key:"path",get:function(){return Fo(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Ho(this._rawValidators)}},{key:"asyncValidator",get:function(){return Wo(this._rawAsyncValidators)}}]),n}(ro)).\u0275fac=function(t){return new(t||Sa)(r.Nb(Xi,13),r.Nb(uo,10),r.Nb(co,10),r.Nb(Wi,10),r.Nb(pa,8))},Sa.\u0275dir=r.Ib({type:Sa,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Bb([Oa]),r.zb,r.Ab]}),Sa._ngModelWarningSentOnce=!1,Sa),Ia=((Ea=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:Ea}),Ea.\u0275inj=r.Kb({factory:function(t){return new(t||Ea)}}),Ea),xa=((Ca=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new aa(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(t,e,n){return new oa(t,e,n)}},{key:"array",value:function(t,e,n){var r=this,i=t.map((function(t){return r._createControl(t)}));return new sa(i,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(r){n[r]=e._createControl(t[r])})),n}},{key:"_createControl",value:function(t){return t instanceof oa||t instanceof aa||t instanceof sa?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}()).\u0275fac=function(t){return new(t||Ca)},Ca.\u0275prov=r.Jb({token:Ca,factory:Ca.\u0275fac}),Ca),Aa=((ka=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:pa,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}()).\u0275mod=r.Lb({type:ka}),ka.\u0275inj=r.Kb({factory:function(t){return new(t||ka)},providers:[xa,To],imports:[Ia]}),ka);function Pa(t){return null!=t&&""+t!="false"}function Da(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Ra(t){return Array.isArray(t)?t:[t]}function Na(t){return null==t?"":"string"==typeof t?t:t+"px"}function ja(t){return t instanceof r.l?t.nativeElement:t}var La=n("n6bG");function Ma(t,e,n,r){return Object(La.a)(n)&&(r=n,n=void 0),r?Ma(t,e,n).pipe(Object(ie.a)((function(t){return Object(Yt.a)(t)?r.apply(void 0,_toConsumableArray(t)):r(t)}))):new Gt.a((function(r){!function t(e,n,r,i,o){var a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var s=e;e.addEventListener(n,r,o),a=function(){return s.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var u=e;e.on(n,r),a=function(){return u.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var c=e;e.addListener(n,r),a=function(){return c.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,h=e.length;l<h;l++)t(e[l],n,r,i,o)}i.add(a)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)}))}var Fa=n("VRyK"),Va=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),Ua=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(Va),Ba=n("7Hc7"),za=function(){function t(e,n){_classCallCheck(this,t),this.compare=e,this.keySelector=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new qa(t,this.compare,this.keySelector))}}]),t}(),qa=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return _createClass(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(se.a),Ha=n("D0XW"),Wa=function(){function t(e){_classCallCheck(this,t),this.durationSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ga(t,this.durationSelector))}}]),t}(),Ga=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).durationSelector=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e;try{e=(0,this.durationSelector)(t)}catch(r){return this.destination.error(r)}var n=Object(Jt.a)(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}},{key:"notifyNext",value:function(t,e,n,r){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(Zt.a),Ka=n("Y7HM");function Qa(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Ya(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ha.a;return e=function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return Object(Ka.a)(e)?r=Number(e)<1?1:Number(e):Object(Qt.a)(e)&&(n=e),Object(Qt.a)(n)||(n=Ha.a),new Gt.a((function(e){var i=Object(Ka.a)(t)?t:+t-n.now();return n.schedule(Qa,i,{index:0,period:r,subscriber:e})}))}(t,n)},function(t){return t.lift(new Wa(e))}}function Za(t){return function(e){return e.lift(new Ja(t))}}var Ja=function(){function t(e){_classCallCheck(this,t),this.notifier=e}return _createClass(t,[{key:"call",value:function(t,e){var n=new Xa(t),r=Object(Jt.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}]),t}(),Xa=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).seenValue=!1,r}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(Zt.a);function $a(){return function(t){return t.lift(new ts)}}var ts=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new es(t))}}]),t}(),es=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).hasPrev=!1,r}return _createClass(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(se.a);n("qgXg");var ns,rs=n("pxpQ");n("Ylt2");try{ns="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(ix){ns=!1}var is,os,as,ss,us,cs=((as=function t(e){_classCallCheck(this,t),this._platformId=e,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ns)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}).\u0275fac=function(t){return new(t||as)(r.Wb(r.B,8))},as.\u0275prov=Object(r.Jb)({factory:function(){return new as(Object(r.Wb)(r.B,8))},token:as,providedIn:"root"}),as),ls=((os=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:os}),os.\u0275inj=r.Kb({factory:function(t){return new(t||os)}}),os),hs=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function fs(){if(is)return is;if("object"!=typeof document||!document)return is=new Set(hs);var t=document.createElement("input");return is=new Set(hs.filter((function(e){return t.setAttribute("type",e),t.type===e})))}function ds(t){return function(){if(null==ss&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return ss=!0}}))}finally{ss=ss||!1}return ss}()?t:!!t.capture}function ps(t){if(function(){if(null==us){var t="undefined"!=typeof document?document.head:null;us=!(!t||!t.createShadowRoot&&!t.attachShadow)}return us}()){var e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}var vs,ys,ms,gs,_s,bs,ws=new r.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.V)(u)}}),ks=((bs=function(){function t(e){if(_classCallCheck(this,t),this.value="ltr",this.change=new r.n,e){var n=e.documentElement?e.documentElement.dir:null,i=(e.body?e.body.dir:null)||n;this.value="ltr"===i||"rtl"===i?i:"ltr"}}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),t}()).\u0275fac=function(t){return new(t||bs)(r.Wb(ws,8))},bs.\u0275prov=Object(r.Jb)({factory:function(){return new bs(Object(r.Wb)(ws,8))},token:bs,providedIn:"root"}),bs),Cs=((_s=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:_s}),_s.\u0275inj=r.Kb({factory:function(t){return new(t||_s)}}),_s),Es=((gs=function(){function t(e,n,r){_classCallCheck(this,t),this._ngZone=e,this._platform=n,this._scrolled=new qt.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}return _createClass(t,[{key:"register",value:function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe((function(){return e._scrolled.next(t)})))}},{key:"deregister",value:function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}},{key:"scrolled",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new Gt.a((function(n){t._globalSubscription||t._addGlobalListener();var r=e>0?t._scrolled.pipe(Ya(e)).subscribe(n):t._scrolled.subscribe(n);return t._scrolledCount++,function(){r.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}})):Object(Bt.a)()}},{key:"ngOnDestroy",value:function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach((function(e,n){return t.deregister(n)})),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(t,e){var n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(ue((function(t){return!t||n.indexOf(t)>-1})))}},{key:"getAncestorScrollContainers",value:function(t){var e=this,n=[];return this.scrollContainers.forEach((function(r,i){e._scrollableContainsElement(i,t)&&n.push(i)})),n}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_scrollableContainsElement",value:function(t,e){var n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular((function(){return Ma(t._getWindow().document,"scroll").subscribe((function(){return t._scrolled.next()}))}))}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),t}()).\u0275fac=function(t){return new(t||gs)(r.Wb(r.z),r.Wb(cs),r.Wb(u,8))},gs.\u0275prov=Object(r.Jb)({factory:function(){return new gs(Object(r.Wb)(r.z),Object(r.Wb)(cs),Object(r.Wb)(u,8))},token:gs,providedIn:"root"}),gs),Ss=((ms=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this._platform=e,this._document=r,n.runOutsideAngular((function(){var t=i._getWindow();i._change=e.isBrowser?Object(Fa.a)(Ma(t,"resize"),Ma(t,"orientationchange")):Object(Bt.a)(),i._invalidateCache=i.change().subscribe((function(){return i._updateViewportSize()}))}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._invalidateCache.unsubscribe()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,r=e.height;return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=this._getDocument(),e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe(Ya(t)):this._change}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_updateViewportSize",value:function(){var t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}]),t}()).\u0275fac=function(t){return new(t||ms)(r.Wb(cs),r.Wb(r.z),r.Wb(u,8))},ms.\u0275prov=Object(r.Jb)({factory:function(){return new ms(Object(r.Wb)(cs),Object(r.Wb)(r.z),Object(r.Wb)(u,8))},token:ms,providedIn:"root"}),ms),Os=((ys=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:ys}),ys.\u0275inj=r.Kb({factory:function(t){return new(t||ys)}}),ys),Ts=((vs=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:vs}),vs.\u0275inj=r.Kb({factory:function(t){return new(t||vs)},imports:[[Cs,ls,Os],Cs,Os]}),vs);function Is(){throw Error("Host already has a portal attached")}var xs,As,Ps=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"attach",value:function(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&Is(),this._attachedHost=t,t.attach(this)}},{key:"detach",value:function(){var t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}},{key:"setAttachedHost",value:function(t){this._attachedHost=t}},{key:"isAttached",get:function(){return null!=this._attachedHost}}]),t}(),Ds=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this)).component=t,a.viewContainerRef=r,a.injector=i,a.componentFactoryResolver=o,a}return n}(Ps),Rs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).templateRef=t,o.viewContainerRef=r,o.context=i,o}return _createClass(n,[{key:"attach",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=e,_get(_getPrototypeOf(n.prototype),"attach",this).call(this,t)}},{key:"detach",value:function(){return this.context=void 0,_get(_getPrototypeOf(n.prototype),"detach",this).call(this)}},{key:"origin",get:function(){return this.templateRef.elementRef}}]),n}(Ps),Ns=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).element=t instanceof r.l?t.nativeElement:t,i}return n}(Ps),js=function(){function t(){_classCallCheck(this,t),this._isDisposed=!1,this.attachDomPortal=null}return _createClass(t,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Is(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof Ds?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Rs?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Ns?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(t){this._disposeFn=t}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),t}(),Ls=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s,u;return _classCallCheck(this,n),(u=e.call(this)).outletElement=t,u._componentFactoryResolver=r,u._appRef=i,u._defaultInjector=o,u.attachDomPortal=function(t){if(!u._document)throw Error("Cannot attach DOM portal without _document constructor parameter");var e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");var r=u._document.createComment("dom-portal");e.parentNode.insertBefore(r,e),u.outletElement.appendChild(e),_get((s=_assertThisInitialized(u),_getPrototypeOf(n.prototype)),"setDisposeFn",s).call(s,(function(){r.parentNode&&r.parentNode.replaceChild(e,r)}))},u._document=a,u}return _createClass(n,[{key:"attachComponentPortal",value:function(t){var e,n=this,r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);return t.viewContainerRef?(e=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn((function(){return e.destroy()}))):(e=r.create(t.injector||this._defaultInjector),this._appRef.attachView(e.hostView),this.setDisposeFn((function(){n._appRef.detachView(e.hostView),e.destroy()}))),this.outletElement.appendChild(this._getComponentRootNode(e)),e}},{key:"attachTemplatePortal",value:function(t){var e=this,n=t.viewContainerRef,r=n.createEmbeddedView(t.templateRef,t.context);return r.detectChanges(),r.rootNodes.forEach((function(t){return e.outletElement.appendChild(t)})),this.setDisposeFn((function(){var t=n.indexOf(r);-1!==t&&n.remove(t)})),r}},{key:"dispose",value:function(){_get(_getPrototypeOf(n.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(t){return t.hostView.rootNodes[0]}}]),n}(js),Ms=((As=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o){var a,s;return _classCallCheck(this,n),(s=e.call(this))._componentFactoryResolver=t,s._viewContainerRef=i,s._isInitialized=!1,s.attached=new r.n,s.attachDomPortal=function(t){if(!s._document)throw Error("Cannot attach DOM portal without _document constructor parameter");var e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");var r=s._document.createComment("dom-portal");t.setAttachedHost(_assertThisInitialized(s)),e.parentNode.insertBefore(r,e),s._getRootNode().appendChild(e),_get((a=_assertThisInitialized(s),_getPrototypeOf(n.prototype)),"setDisposeFn",a).call(a,(function(){r.parentNode&&r.parentNode.replaceChild(e,r)}))},s._document=o,s}return _createClass(n,[{key:"ngOnInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"dispose",this).call(this),this._attachedPortal=null,this._attachedRef=null}},{key:"attachComponentPortal",value:function(t){t.setAttachedHost(this);var e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=e.createComponent(r,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),_get(_getPrototypeOf(n.prototype),"setDisposeFn",this).call(this,(function(){return i.destroy()})),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}},{key:"attachTemplatePortal",value:function(t){var e=this;t.setAttachedHost(this);var r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return _get(_getPrototypeOf(n.prototype),"setDisposeFn",this).call(this,(function(){return e._viewContainerRef.clear()})),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}},{key:"_getRootNode",value:function(){var t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}},{key:"portal",get:function(){return this._attachedPortal},set:function(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&_get(_getPrototypeOf(n.prototype),"detach",this).call(this),t&&_get(_getPrototypeOf(n.prototype),"attach",this).call(this,t),this._attachedPortal=t)}},{key:"attachedRef",get:function(){return this._attachedRef}}]),n}(js)).\u0275fac=function(t){return new(t||As)(r.Nb(r.j),r.Nb(r.P),r.Nb(u))},As.\u0275dir=r.Ib({type:As,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.zb]}),As),Fs=((xs=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:xs}),xs.\u0275inj=r.Kb({factory:function(t){return new(t||xs)}}),xs);function Vs(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.length?n.some((function(e){return t[e]})):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var Us=function(){function t(e,n){_classCallCheck(this,t),this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}return _createClass(t,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Na(-this._previousScrollPosition.left),t.style.top=Na(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}]),t}();function Bs(){return Error("Scroll strategy has already been attached.")}var zs=function(){function t(e,n,r,i){var o=this;_classCallCheck(this,t),this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=function(){o.disable(),o._overlayRef.hasAttached()&&o._ngZone.run((function(){return o._overlayRef.detach()}))}}return _createClass(t,[{key:"attach",value:function(t){if(this._overlayRef)throw Bs();this._overlayRef=t}},{key:"enable",value:function(){var t=this;if(!this._scrollSubscription){var e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe((function(){var e=t._viewportRuler.getViewportScrollPosition().top;Math.abs(e-t._initialScrollPosition)>t._config.threshold?t._detach():t._overlayRef.updatePosition()}))):this._scrollSubscription=e.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),qs=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),t}();function Hs(t,e){return e.some((function(e){return t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right}))}function Ws(t,e){return e.some((function(e){return t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right}))}var Gs,Ks=function(){function t(e,n,r,i){_classCallCheck(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this._config=i,this._scrollSubscription=null}return _createClass(t,[{key:"attach",value:function(t){if(this._overlayRef)throw Bs();this._overlayRef=t}},{key:"enable",value:function(){var t=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe((function(){if(t._overlayRef.updatePosition(),t._config&&t._config.autoClose){var e=t._overlayRef.overlayElement.getBoundingClientRect(),n=t._viewportRuler.getViewportSize(),r=n.width,i=n.height;Hs(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(t.disable(),t._ngZone.run((function(){return t._overlayRef.detach()})))}})))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),Qs=((Gs=function t(e,n,r,i){var o=this;_classCallCheck(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this.noop=function(){return new qs},this.close=function(t){return new zs(o._scrollDispatcher,o._ngZone,o._viewportRuler,t)},this.block=function(){return new Us(o._viewportRuler,o._document)},this.reposition=function(t){return new Ks(o._scrollDispatcher,o._viewportRuler,o._ngZone,t)},this._document=i}).\u0275fac=function(t){return new(t||Gs)(r.Wb(Es),r.Wb(Ss),r.Wb(r.z),r.Wb(u))},Gs.\u0275prov=Object(r.Jb)({factory:function(){return new Gs(Object(r.Wb)(Es),Object(r.Wb)(Ss),Object(r.Wb)(r.z),Object(r.Wb)(u))},token:Gs,providedIn:"root"}),Gs),Ys=function t(e){if(_classCallCheck(this,t),this.scrollStrategy=new qs,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e)for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];void 0!==e[i]&&(this[i]=e[i])}},Zs=function t(e,n,r,i,o){_classCallCheck(this,t),this.offsetX=r,this.offsetY=i,this.panelClass=o,this.originX=e.originX,this.originY=e.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY},Js=function t(e,n){_classCallCheck(this,t),this.connectionPair=e,this.scrollableViewProperties=n};function Xs(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid ".concat(t,' "').concat(e,'". Expected "top", "bottom" or "center".'))}function $s(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid ".concat(t,' "').concat(e,'". Expected "start", "end" or "center".'))}var tu,eu,nu=((tu=function(){function t(e){var n=this;_classCallCheck(this,t),this._attachedOverlays=[],this._keydownListener=function(t){for(var e=n._attachedOverlays,r=e.length-1;r>-1;r--)if(e[r]._keydownEvents.observers.length>0){e[r]._keydownEvents.next(t);break}},this._document=e}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._detach()}},{key:"add",value:function(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}},{key:"remove",value:function(t){var e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}},{key:"_detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),t}()).\u0275fac=function(t){return new(t||tu)(r.Wb(u))},tu.\u0275prov=Object(r.Jb)({factory:function(){return new tu(Object(r.Wb)(u))},token:tu,providedIn:"root"}),tu),ru=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine),iu=((eu=function(){function t(e,n){_classCallCheck(this,t),this._platform=n,this._document=e}return _createClass(t,[{key:"ngOnDestroy",value:function(){var t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||ru)for(var e=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]'),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);var r=this._document.createElement("div");r.classList.add("cdk-overlay-container"),ru?r.setAttribute("platform","test"):t||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}]),t}()).\u0275fac=function(t){return new(t||eu)(r.Wb(u),r.Wb(cs))},eu.\u0275prov=Object(r.Jb)({factory:function(){return new eu(Object(r.Wb)(u),Object(r.Wb)(cs))},token:eu,providedIn:"root"}),eu),ou=function(){function t(e,n,r,i,o,a,s,u){var c=this;_classCallCheck(this,t),this._portalOutlet=e,this._host=n,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=u,this._backdropElement=null,this._backdropClick=new qt.a,this._attachments=new qt.a,this._detachments=new qt.a,this._locationChanges=Ke.a.EMPTY,this._backdropClickHandler=function(t){return c._backdropClick.next(t)},this._keydownEvents=new qt.a,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}return _createClass(t,[{key:"attach",value:function(t){var e=this,n=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Ie(1)).subscribe((function(){e.hasAttached()&&e.updatePosition()})),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe((function(){return e.dispose()}))),n}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}}},{key:"dispose",value:function(){var t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick.asObservable()}},{key:"attachments",value:function(){return this._attachments.asObservable()}},{key:"detachments",value:function(){return this._detachments.asObservable()}},{key:"keydownEvents",value:function(){return this._keydownEvents.asObservable()}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}},{key:"setDirection",value:function(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}},{key:"addPanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!0)}},{key:"removePanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!1)}},{key:"getDirection",value:function(){var t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}},{key:"updateScrollStrategy",value:function(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var t=this._pane.style;t.width=Na(this._config.width),t.height=Na(this._config.height),t.minWidth=Na(this._config.minWidth),t.minHeight=Na(this._config.minHeight),t.maxWidth=Na(this._config.maxWidth),t.maxHeight=Na(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(t){this._pane.style.pointerEvents=t?"auto":"none"}},{key:"_attachBackdrop",value:function(){var t=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){t._backdropElement&&t._backdropElement.classList.add("cdk-overlay-backdrop-showing")}))})):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var t,e=this,n=this._backdropElement;if(n){var r=function r(){n&&(n.removeEventListener("click",e._backdropClickHandler),n.removeEventListener("transitionend",r),n.parentNode&&n.parentNode.removeChild(n)),e._backdropElement==n&&(e._backdropElement=null),e._config.backdropClass&&e._toggleClasses(n,e._config.backdropClass,!1),clearTimeout(t)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular((function(){n.addEventListener("transitionend",r)})),n.style.pointerEvents="none",t=this._ngZone.runOutsideAngular((function(){return setTimeout(r,500)}))}}},{key:"_toggleClasses",value:function(t,e,n){var r=t.classList;Ra(e).forEach((function(t){t&&(n?r.add(t):r.remove(t))}))}},{key:"_detachContentWhenStable",value:function(){var t=this;this._ngZone.runOutsideAngular((function(){var e=t._ngZone.onStable.asObservable().pipe(Za(Object(Fa.a)(t._attachments,t._detachments))).subscribe((function(){t._pane&&t._host&&0!==t._pane.children.length||(t._pane&&t._config.panelClass&&t._toggleClasses(t._pane,t._config.panelClass,!1),t._host&&t._host.parentElement&&(t._previousHostParent=t._host.parentElement,t._previousHostParent.removeChild(t._host)),e.unsubscribe())}))}))}},{key:"_disposeScrollStrategy",value:function(){var t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}},{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}}]),t}(),au=/([A-Za-z%]+)$/,su=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new qt.a,this._resizeSubscription=Ke.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(e)}return _createClass(t,[{key:"attach",value:function(t){var e=this;if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe((function(){e._isInitialRender=!0,e.apply()}))}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var t,e,n=this._originRect,r=this._overlayRect,i=this._viewportRect,o=[],a=_createForOfIteratorHelper(this._preferredPositions);try{for(a.s();!(e=a.n()).done;){var s=e.value,u=this._getOriginPoint(n,s),c=this._getOverlayPoint(u,r,s),l=this._getOverlayFit(c,r,i,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,u);this._canFitWithFlexibleDimensions(l,c,i)?o.push({position:s,origin:u,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(u,s)}):(!t||t.overlayFit.visibleArea<l.visibleArea)&&(t={overlayFit:l,overlayPoint:c,originPoint:u,position:s,overlayRect:r})}}catch(m){a.e(m)}finally{a.f()}if(o.length){var h,f=null,d=-1,p=_createForOfIteratorHelper(o);try{for(p.s();!(h=p.n()).done;){var v=h.value,y=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);y>d&&(d=y,f=v)}}catch(m){p.e(m)}finally{p.f()}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(t.position,t.originPoint);this._applyPosition(t.position,t.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&uu(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}},{key:"withScrollableContainers",value:function(t){return this._scrollables=t,this}},{key:"withPositions",value:function(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(t){return this._viewportMargin=t,this}},{key:"withFlexibleDimensions",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=t,this}},{key:"withGrowAfterOpen",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=t,this}},{key:"withPush",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=t,this}},{key:"withLockedPosition",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=t,this}},{key:"setOrigin",value:function(t){return this._origin=t,this}},{key:"withDefaultOffsetX",value:function(t){return this._offsetX=t,this}},{key:"withDefaultOffsetY",value:function(t){return this._offsetY=t,this}},{key:"withTransformOriginOn",value:function(t){return this._transformOriginSelector=t,this}},{key:"_getOriginPoint",value:function(t,e){var n;if("center"==e.originX)n=t.left+t.width/2;else{var r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return{x:n,y:"center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}},{key:"_getOverlayPoint",value:function(t,e,n){var r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}},{key:"_getOverlayFit",value:function(t,e,n,r){var i=t.x,o=t.y,a=this._getOffset(r,"x"),s=this._getOffset(r,"y");a&&(i+=a),s&&(o+=s);var u=0-o,c=o+e.height-n.height,l=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,u,c),f=l*h;return{visibleArea:f,isCompletelyWithinViewport:e.width*e.height===f,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:l==e.width}}},{key:"_canFitWithFlexibleDimensions",value:function(t,e,n){if(this._hasFlexibleDimensions){var r=n.bottom-e.y,i=n.right-e.x,o=cu(this._overlayRef.getConfig().minHeight),a=cu(this._overlayRef.getConfig().minWidth),s=t.fitsInViewportHorizontally||null!=a&&a<=i;return(t.fitsInViewportVertically||null!=o&&o<=r)&&s}return!1}},{key:"_pushOverlayOnScreen",value:function(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};var r,i,o=this._viewportRect,a=Math.max(t.x+e.width-o.right,0),s=Math.max(t.y+e.height-o.bottom,0),u=Math.max(o.top-n.top-t.y,0),c=Math.max(o.left-n.left-t.x,0);return r=e.width<=o.width?c||-a:t.x<this._viewportMargin?o.left-n.left-t.x:0,i=e.height<=o.height?u||-s:t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:r,y:i},{x:t.x+r,y:t.y+i}}},{key:"_applyPosition",value:function(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){var n=this._getScrollVisibility(),r=new Js(t,n);this._positionChanges.next(r)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(t){if(this._transformOriginSelector){var e,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r=t.overlayY;e="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(var i=0;i<n.length;i++)n[i].style.transformOrigin="".concat(e," ").concat(r)}}},{key:"_calculateBoundingBoxRect",value:function(t,e){var n,r,i,o,a,s,u=this._viewportRect,c=this._isRtl();if("top"===e.overlayY)r=t.y,n=u.height-r+this._viewportMargin;else if("bottom"===e.overlayY)i=u.height-t.y+2*this._viewportMargin,n=u.height-i+this._viewportMargin;else{var l=Math.min(u.bottom-t.y+u.top,t.y),h=this._lastBoundingBoxSize.height;n=2*l,r=t.y-l,n>h&&!this._isInitialRender&&!this._growAfterOpen&&(r=t.y-h/2)}if("end"===e.overlayX&&!c||"start"===e.overlayX&&c)s=u.width-t.x+this._viewportMargin,o=t.x-this._viewportMargin;else if("start"===e.overlayX&&!c||"end"===e.overlayX&&c)a=t.x,o=u.right-t.x;else{var f=Math.min(u.right-t.x+u.left,t.x),d=this._lastBoundingBoxSize.width;o=2*f,a=t.x-f,o>d&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.x-d/2)}return{top:r,left:a,bottom:i,right:s,width:o,height:n}}},{key:"_setBoundingBoxStyles",value:function(t,e){var n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{var i=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=Na(n.height),r.top=Na(n.top),r.bottom=Na(n.bottom),r.width=Na(n.width),r.left=Na(n.left),r.right=Na(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",i&&(r.maxHeight=Na(i)),o&&(r.maxWidth=Na(o))}this._lastBoundingBoxSize=n,uu(this._boundingBox.style,r)}},{key:"_resetBoundingBoxStyles",value:function(){uu(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){uu(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(t,e){var n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){var a=this._viewportRuler.getViewportScrollPosition();uu(n,this._getExactOverlayY(e,t,a)),uu(n,this._getExactOverlayX(e,t,a))}else n.position="static";var s="",u=this._getOffset(e,"x"),c=this._getOffset(e,"y");u&&(s+="translateX(".concat(u,"px) ")),c&&(s+="translateY(".concat(c,"px)")),n.transform=s.trim(),o.maxHeight&&(r?n.maxHeight=Na(o.maxHeight):i&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=Na(o.maxWidth):i&&(n.maxWidth="")),uu(this._pane.style,n)}},{key:"_getExactOverlayY",value:function(t,e,n){var r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));var o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=o,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=Na(i.y),r}},{key:"_getExactOverlayX",value:function(t,e,n){var r={left:"",right:""},i=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n)),"right"===(this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?r.right=this._document.documentElement.clientWidth-(i.x+this._overlayRect.width)+"px":r.left=Na(i.x),r}},{key:"_getScrollVisibility",value:function(){var t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map((function(t){return t.getElementRef().nativeElement.getBoundingClientRect()}));return{isOriginClipped:Ws(t,n),isOriginOutsideView:Hs(t,n),isOverlayClipped:Ws(e,n),isOverlayOutsideView:Hs(e,n)}}},{key:"_subtractOverflows",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce((function(t,e){return t-Math.max(e,0)}),t)}},{key:"_getNarrowedViewportRect",value:function(){var t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}},{key:"_validatePositions",value:function(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach((function(t){$s("originX",t.originX),Xs("originY",t.originY),$s("overlayX",t.overlayX),Xs("overlayY",t.overlayY)}))}},{key:"_addPanelClasses",value:function(t){var e=this;this._pane&&Ra(t).forEach((function(t){""!==t&&-1===e._appliedPanelClasses.indexOf(t)&&(e._appliedPanelClasses.push(t),e._pane.classList.add(t))}))}},{key:"_clearPanelClasses",value:function(){var t=this;this._pane&&(this._appliedPanelClasses.forEach((function(e){t._pane.classList.remove(e)})),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();var e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}},{key:"positions",get:function(){return this._preferredPositions}}]),t}();function uu(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function cu(t){if("number"!=typeof t&&null!=t){var e=_slicedToArray(t.split(au),2),n=e[0],r=e[1];return r&&"px"!==r?null:parseFloat(n)}return t||null}var lu,hu,fu,du=function(){function t(e,n,r,i,o,a,s){_classCallCheck(this,t),this._preferredPositions=[],this._positionStrategy=new su(r,i,o,a,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,n)}return _createClass(t,[{key:"attach",value:function(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(t){this._positionStrategy.withScrollableContainers(t)}},{key:"withFallbackPosition",value:function(t,e,n,r){var i=new Zs(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}},{key:"withOffsetX",value:function(t){return this._positionStrategy.withDefaultOffsetX(t),this}},{key:"withOffsetY",value:function(t){return this._positionStrategy.withDefaultOffsetY(t),this}},{key:"withLockedPosition",value:function(t){return this._positionStrategy.withLockedPosition(t),this}},{key:"withPositions",value:function(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(t){return this._positionStrategy.setOrigin(t),this}},{key:"_isRtl",get:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"onPositionChange",get:function(){return this._positionStrategy.positionChanges}},{key:"positions",get:function(){return this._preferredPositions}}]),t}(),pu=function(){function t(){_classCallCheck(this,t),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return _createClass(t,[{key:"attach",value:function(t){var e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}},{key:"top",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}},{key:"left",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}},{key:"right",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}},{key:"width",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}},{key:"height",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}},{key:"centerHorizontally",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(t),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(t),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),r=n.width,i=n.height,o=n.maxWidth,a=n.maxHeight,s=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),u=!("100%"!==i&&"100vh"!==i||a&&"100%"!==a&&"100vh"!==a);t.position=this._cssPosition,t.marginLeft=s?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,s?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}}]),t}(),vu=((hu=function(){function t(e,n,r,i){_classCallCheck(this,t),this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i}return _createClass(t,[{key:"global",value:function(){return new pu}},{key:"connectedTo",value:function(t,e,n){return new du(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(t){return new su(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),t}()).\u0275fac=function(t){return new(t||hu)(r.Wb(Ss),r.Wb(u),r.Wb(cs),r.Wb(iu))},hu.\u0275prov=Object(r.Jb)({factory:function(){return new hu(Object(r.Wb)(Ss),Object(r.Wb)(u),Object(r.Wb)(cs),Object(r.Wb)(iu))},token:hu,providedIn:"root"}),hu),yu=0,mu=((lu=function(){function t(e,n,r,i,o,a,s,u,c,l){_classCallCheck(this,t),this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=i,this._keyboardDispatcher=o,this._injector=a,this._ngZone=s,this._document=u,this._directionality=c,this._location=l}return _createClass(t,[{key:"create",value:function(t){var e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new Ys(t);return i.direction=i.direction||this._directionality.value,new ou(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(t){var e=this._document.createElement("div");return e.id="cdk-overlay-"+yu++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}},{key:"_createHostElement",value:function(){var t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}},{key:"_createPortalOutlet",value:function(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new Ls(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}]),t}()).\u0275fac=function(t){return new(t||lu)(r.Wb(Qs),r.Wb(iu),r.Wb(r.j),r.Wb(vu),r.Wb(nu),r.Wb(r.r),r.Wb(r.z),r.Wb(u),r.Wb(ks),r.Wb(I,8))},lu.\u0275prov=r.Jb({token:lu,factory:lu.\u0275fac}),lu),gu={provide:new r.q("cdk-connected-overlay-scroll-strategy"),deps:[mu],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},_u=((fu=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:fu}),fu.\u0275inj=r.Kb({factory:function(t){return new(t||fu)},providers:[mu,gu],imports:[[Cs,Fs,Ts],Ts]}),fu);function bu(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ha.a;return function(n){return n.lift(new wu(t,e))}}var wu=function(){function t(e,n){_classCallCheck(this,t),this.dueTime=e,this.scheduler=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ku(t,this.dueTime,this.scheduler))}}]),t}(),ku=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return _createClass(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Cu,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(se.a);function Cu(t){t.debouncedNext()}var Eu,Su,Ou,Tu,Iu,xu=((Tu=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"create",value:function(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}]),t}()).\u0275fac=function(t){return new(t||Tu)},Tu.\u0275prov=Object(r.Jb)({factory:function(){return new Tu},token:Tu,providedIn:"root"}),Tu),Au=((Ou=function(){function t(e){_classCallCheck(this,t),this._mutationObserverFactory=e,this._observedElements=new Map}return _createClass(t,[{key:"ngOnDestroy",value:function(){var t=this;this._observedElements.forEach((function(e,n){return t._cleanupObserver(n)}))}},{key:"observe",value:function(t){var e=this,n=ja(t);return new Gt.a((function(t){var r=e._observeElement(n).subscribe(t);return function(){r.unsubscribe(),e._unobserveElement(n)}}))}},{key:"_observeElement",value:function(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{var e=new qt.a,n=this._mutationObserverFactory.create((function(t){return e.next(t)}));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}},{key:"_unobserveElement",value:function(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}},{key:"_cleanupObserver",value:function(t){if(this._observedElements.has(t)){var e=this._observedElements.get(t),n=e.observer,r=e.stream;n&&n.disconnect(),r.complete(),this._observedElements.delete(t)}}}]),t}()).\u0275fac=function(t){return new(t||Ou)(r.Wb(xu))},Ou.\u0275prov=Object(r.Jb)({factory:function(){return new Ou(Object(r.Wb)(xu))},token:Ou,providedIn:"root"}),Ou),Pu=((Su=function(){function t(e,n,i){_classCallCheck(this,t),this._contentObserver=e,this._elementRef=n,this._ngZone=i,this.event=new r.n,this._disabled=!1,this._currentSubscription=null}return _createClass(t,[{key:"ngAfterContentInit",value:function(){this._currentSubscription||this.disabled||this._subscribe()}},{key:"ngOnDestroy",value:function(){this._unsubscribe()}},{key:"_subscribe",value:function(){var t=this;this._unsubscribe();var e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular((function(){t._currentSubscription=(t.debounce?e.pipe(bu(t.debounce)):e).subscribe(t.event)}))}},{key:"_unsubscribe",value:function(){this._currentSubscription&&this._currentSubscription.unsubscribe()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Pa(t),this._disabled?this._unsubscribe():this._subscribe()}},{key:"debounce",get:function(){return this._debounce},set:function(t){this._debounce=Da(t),this._subscribe()}}]),t}()).\u0275fac=function(t){return new(t||Su)(r.Nb(Au),r.Nb(r.l),r.Nb(r.z))},Su.\u0275dir=r.Ib({type:Su,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),Su),Du=((Eu=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:Eu}),Eu.\u0275inj=r.Kb({factory:function(t){return new(t||Eu)},providers:[xu]}),Eu),Ru=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._origin="program",t}return _createClass(n,[{key:"setFocusOrigin",value:function(t){return this._origin=t,this}},{key:"setActiveItem",value:function(t){_get(_getPrototypeOf(n.prototype),"setActiveItem",this).call(this,t),this.activeItem&&this.activeItem.focus(this._origin)}}]),n}(function(){function t(e){var n=this;_classCallCheck(this,t),this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new qt.a,this._typeaheadSubscription=Ke.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=function(t){return t.disabled},this._pressedLetters=[],this.tabOut=new qt.a,this.change=new qt.a,e instanceof r.D&&e.changes.subscribe((function(t){if(n._activeItem){var e=t.toArray().indexOf(n._activeItem);e>-1&&e!==n._activeItemIndex&&(n._activeItemIndex=e)}}))}return _createClass(t,[{key:"skipPredicate",value:function(t){return this._skipPredicateFn=t,this}},{key:"withWrap",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._wrap=t,this}},{key:"withVerticalOrientation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._vertical=t,this}},{key:"withHorizontalOrientation",value:function(t){return this._horizontal=t,this}},{key:"withAllowedModifierKeys",value:function(t){return this._allowedModifierKeys=t,this}},{key:"withTypeAhead",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;if(this._items.length&&this._items.some((function(t){return"function"!=typeof t.getLabel})))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(Ge.a)((function(e){return t._pressedLetters.push(e)})),bu(e),ue((function(){return t._pressedLetters.length>0})),Object(ie.a)((function(){return t._pressedLetters.join("")}))).subscribe((function(e){for(var n=t._getItemsArray(),r=1;r<n.length+1;r++){var i=(t._activeItemIndex+r)%n.length,o=n[i];if(!t._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(e)){t.setActiveItem(i);break}}t._pressedLetters=[]})),this}},{key:"setActiveItem",value:function(t){var e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}},{key:"onKeydown",value:function(t){var e=this,n=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every((function(n){return!t[n]||e._allowedModifierKeys.indexOf(n)>-1}));switch(n){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((r||Vs(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],t.preventDefault()}},{key:"isTyping",value:function(){return this._pressedLetters.length>0}},{key:"setFirstItemActive",value:function(){this._setActiveItemByIndex(0,1)}},{key:"setLastItemActive",value:function(){this._setActiveItemByIndex(this._items.length-1,-1)}},{key:"setNextItemActive",value:function(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}},{key:"setPreviousItemActive",value:function(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}},{key:"updateActiveItem",value:function(t){var e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}},{key:"_setActiveItemByDelta",value:function(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}},{key:"_setActiveInWrapMode",value:function(t){for(var e=this._getItemsArray(),n=1;n<=e.length;n++){var r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}},{key:"_setActiveInDefaultMode",value:function(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}},{key:"_setActiveItemByIndex",value:function(t,e){var n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}},{key:"_getItemsArray",value:function(){return this._items instanceof r.D?this._items.toArray():this._items}},{key:"activeItemIndex",get:function(){return this._activeItemIndex}},{key:"activeItem",get:function(){return this._activeItem}}]),t}()),Nu=((Iu=function(){function t(e){_classCallCheck(this,t),this._platform=e}return _createClass(t,[{key:"isDisabled",value:function(t){return t.hasAttribute("disabled")}},{key:"isVisible",value:function(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}},{key:"isTabbable",value:function(t){if(!this._platform.isBrowser)return!1;var e,n=function(t){try{return t.frameElement}catch(ix){return null}}((e=t).ownerDocument&&e.ownerDocument.defaultView||window);if(n){var r=n&&n.nodeName.toLowerCase();if(-1===Lu(n))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===r)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(n))return!1}var i=t.nodeName.toLowerCase(),o=Lu(t);if(t.hasAttribute("contenteditable"))return-1!==o;if("iframe"===i)return!1;if("audio"===i){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===i){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==i||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){var e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}},{key:"isFocusable",value:function(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){var e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||ju(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}]),t}()).\u0275fac=function(t){return new(t||Iu)(r.Wb(cs))},Iu.\u0275prov=Object(r.Jb)({factory:function(){return new Iu(Object(r.Wb)(cs))},token:Iu,providedIn:"root"}),Iu);function ju(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;var e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Lu(t){if(!ju(t))return null;var e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}var Mu,Fu=function(){function t(e,n,r,i){var o=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,t),this._element=e,this._checker=n,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=function(){return o.focusLastTabbableElement()},this.endAnchorListener=function(){return o.focusFirstTabbableElement()},this._enabled=!0,a||this.attachAnchors()}return _createClass(t,[{key:"destroy",value:function(){var t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}},{key:"attachAnchors",value:function(){var t=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular((function(){t._startAnchor||(t._startAnchor=t._createAnchor(),t._startAnchor.addEventListener("focus",t.startAnchorListener)),t._endAnchor||(t._endAnchor=t._createAnchor(),t._endAnchor.addEventListener("focus",t.endAnchorListener))})),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}},{key:"focusInitialElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusInitialElement())}))}))}},{key:"focusFirstTabbableElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusFirstTabbableElement())}))}))}},{key:"focusLastTabbableElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusLastTabbableElement())}))}))}},{key:"_getRegionBoundary",value:function(t){for(var e=this._element.querySelectorAll("[cdk-focus-region-".concat(t,"], [cdkFocusRegion").concat(t,"], [cdk-focus-").concat(t,"]")),n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn("Found use of deprecated attribute 'cdk-focus-".concat(t,"', use 'cdkFocusRegion").concat(t,"' instead. The deprecated attribute will be removed in 8.0.0."),e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn("Found use of deprecated attribute 'cdk-focus-region-".concat(t,"', use 'cdkFocusRegion").concat(t,"' instead. The deprecated attribute will be removed in 8.0.0."),e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}},{key:"focusInitialElement",value:function(){var t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),Object(r.W)()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}},{key:"focusFirstTabbableElement",value:function(){var t=this._getRegionBoundary("start");return t&&t.focus(),!!t}},{key:"focusLastTabbableElement",value:function(){var t=this._getRegionBoundary("end");return t&&t.focus(),!!t}},{key:"hasAttached",value:function(){return this._hasAttached}},{key:"_getFirstTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}},{key:"_getLastTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=e.length-1;n>=0;n--){var r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}},{key:"_createAnchor",value:function(){var t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}},{key:"_toggleAnchorTabIndex",value:function(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}},{key:"toggleAnchors",value:function(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}},{key:"_executeOnStable",value:function(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(Ie(1)).subscribe(t)}},{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}}]),t}(),Vu=((Mu=function(){function t(e,n,r){_classCallCheck(this,t),this._checker=e,this._ngZone=n,this._document=r}return _createClass(t,[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Fu(t,this._checker,this._ngZone,this._document,e)}}]),t}()).\u0275fac=function(t){return new(t||Mu)(r.Wb(Nu),r.Wb(r.z),r.Wb(u))},Mu.\u0275prov=Object(r.Jb)({factory:function(){return new Mu(Object(r.Wb)(Nu),Object(r.Wb)(r.z),Object(r.Wb)(u))},token:Mu,providedIn:"root"}),Mu);function Uu(t){return 0===t.buttons}"undefined"!=typeof Element&&Element;var Bu,zu=new r.q("cdk-focus-monitor-default-options"),qu=ds({passive:!0,capture:!0}),Hu=((Bu=function(){function t(e,n,r,i){var o=this;_classCallCheck(this,t),this._ngZone=e,this._platform=n,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=function(){o._lastTouchTarget=null,o._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(t){if(!o._lastTouchTarget){var e=Uu(t)?"keyboard":"mouse";o._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=function(t){null!=o._touchTimeoutId&&clearTimeout(o._touchTimeoutId),o._lastTouchTarget=Wu(t),o._touchTimeoutId=setTimeout((function(){return o._lastTouchTarget=null}),650)},this._windowFocusListener=function(){o._windowFocused=!0,o._windowFocusTimeoutId=setTimeout((function(){return o._windowFocused=!1}))},this._rootNodeFocusAndBlurListener=function(t){for(var e=Wu(t),n="focus"===t.type?o._onFocus:o._onBlur,r=e;r;r=r.parentElement)n.call(o,t,r)},this._document=r,this._detectionMode=(null==i?void 0:i.detectionMode)||0}return _createClass(t,[{key:"monitor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._platform.isBrowser)return Object(Bt.a)(null);var n=ja(t),r=ps(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject.asObservable();var o={checkChildren:e,subject:new qt.a,rootNode:r};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject.asObservable()}},{key:"stopMonitoring",value:function(t){var e=ja(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}},{key:"focusVia",value:function(t,e,n){var r=ja(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}},{key:"ngOnDestroy",value:function(){var t=this;this._elementInfo.forEach((function(e,n){return t.stopMonitoring(n)}))}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_toggleClass",value:function(t,e,n){n?t.classList.add(e):t.classList.remove(e)}},{key:"_getFocusOrigin",value:function(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}},{key:"_setClasses",value:function(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}},{key:"_setOriginForCurrentEventQueue",value:function(t){var e=this;this._ngZone.runOutsideAngular((function(){e._origin=t,0===e._detectionMode&&(e._originTimeoutId=setTimeout((function(){return e._origin=null}),1))}))}},{key:"_wasCausedByTouch",value:function(t){var e=Wu(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}},{key:"_onFocus",value:function(t,e){var n=this._elementInfo.get(e);if(n&&(n.checkChildren||e===Wu(t))){var r=this._getFocusOrigin(t);this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}}},{key:"_onBlur",value:function(t,e){var n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}},{key:"_emitOrigin",value:function(t,e){this._ngZone.run((function(){return t.next(e)}))}},{key:"_registerGlobalListeners",value:function(t){var e=this;if(this._platform.isBrowser){var n=t.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular((function(){n.addEventListener("focus",e._rootNodeFocusAndBlurListener,qu),n.addEventListener("blur",e._rootNodeFocusAndBlurListener,qu)})),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular((function(){var t=e._getDocument(),n=e._getWindow();t.addEventListener("keydown",e._documentKeydownListener,qu),t.addEventListener("mousedown",e._documentMousedownListener,qu),t.addEventListener("touchstart",e._documentTouchstartListener,qu),n.addEventListener("focus",e._windowFocusListener)}))}}},{key:"_removeGlobalListeners",value:function(t){var e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){var n=this._rootNodeFocusListenerCount.get(e);n>1?this._rootNodeFocusListenerCount.set(e,n-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,qu),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,qu),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){var r=this._getDocument(),i=this._getWindow();r.removeEventListener("keydown",this._documentKeydownListener,qu),r.removeEventListener("mousedown",this._documentMousedownListener,qu),r.removeEventListener("touchstart",this._documentTouchstartListener,qu),i.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}]),t}()).\u0275fac=function(t){return new(t||Bu)(r.Wb(r.z),r.Wb(cs),r.Wb(u,8),r.Wb(zu,8))},Bu.\u0275prov=Object(r.Jb)({factory:function(){return new Bu(Object(r.Wb)(r.z),Object(r.Wb)(cs),Object(r.Wb)(u,8),Object(r.Wb)(zu,8))},token:Bu,providedIn:"root"}),Bu);function Wu(t){return t.composedPath?t.composedPath()[0]:t.target}var Gu,Ku=((Gu=function(){function t(e,n){_classCallCheck(this,t),this._platform=e,this._document=n}return _createClass(t,[{key:"getHighContrastMode",value:function(){if(!this._platform.isBrowser)return 0;var t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);var e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}},{key:"_applyBodyHighContrastModeCssClasses",value:function(){if(this._platform.isBrowser&&this._document.body){var t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");var e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}]),t}()).\u0275fac=function(t){return new(t||Gu)(r.Wb(cs),r.Wb(u))},Gu.\u0275prov=Object(r.Jb)({factory:function(){return new Gu(Object(r.Wb)(cs),Object(r.Wb)(u))},token:Gu,providedIn:"root"}),Gu),Qu=new r.O("9.2.4"),Yu=function t(){_classCallCheck(this,t)};function Zu(t,e){return{type:7,name:t,definitions:e,options:{}}}function Ju(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:e,timings:t}}function Xu(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function $u(t){return{type:6,styles:t,offset:null}}function tc(t,e,n){return{type:0,name:t,styles:e,options:n}}function ec(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:t,animation:e,options:n}}function nc(t){Promise.resolve(null).then(t)}var rc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+n}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;nc((function(){return t._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}(),ic=function(){function t(e){var n=this;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var r=0,i=0,o=0,a=this.players.length;0==a?nc((function(){return n._onFinish()})):this.players.forEach((function(t){t.onDone((function(){++r==a&&n._onFinish()})),t.onDestroy((function(){++i==a&&n._onDestroy()})),t.onStart((function(){++o==a&&n._onStart()}))})),this.totalTime=this.players.reduce((function(t,e){return Math.max(t,e.totalTime)}),0)}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(t){return t.init()}))}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(t){return t.play()}))}},{key:"pause",value:function(){this.players.forEach((function(t){return t.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(t){return t.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(t){return t.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(t){return t.destroy()})),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(t){return t.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach((function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)}))}},{key:"getPosition",value:function(){var t=0;return this.players.forEach((function(e){var n=e.getPosition();t=Math.min(n,t)})),t}},{key:"beforeDestroy",value:function(){this.players.forEach((function(t){t.beforeDestroy&&t.beforeDestroy()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}();function oc(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ac(t){switch(t.length){case 0:return new rc;case 1:return t[0];default:return new ic(t)}}function sc(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],u=-1,c=null;if(r.forEach((function(t){var n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach((function(n){var r=n,s=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,a),s){case"!":s=i[n];break;case"*":s=o[n];break;default:s=e.normalizeStyleValue(n,r,s,a)}l[r]=s})),r||s.push(l),c=l,u=n})),a.length){var l="\n - ";throw new Error("Unable to animate due to the following errors:".concat(l).concat(a.join(l)))}return s}function uc(t,e,n,r){switch(e){case"start":t.onStart((function(){return r(n&&cc(n,"start",t))}));break;case"done":t.onDone((function(){return r(n&&cc(n,"done",t))}));break;case"destroy":t.onDestroy((function(){return r(n&&cc(n,"destroy",t))}))}}function cc(t,e,n){var r=n.totalTime,i=lc(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function lc(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function hc(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function fc(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var dc=function(t,e){return!1},pc=function(t,e){return!1},vc=function(t,e,n){return[]},yc=oc();(yc||"undefined"!=typeof Element)&&(dc=function(t,e){return t.contains(e)},pc=function(){if(yc||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:pc}(),vc=function(t,e,n){var r=[];if(n)r.push.apply(r,_toConsumableArray(t.querySelectorAll(e)));else{var i=t.querySelector(e);i&&r.push(i)}return r});var mc=null,gc=!1;function _c(t){mc||(mc=("undefined"!=typeof document?document.body:null)||{},gc=!!mc.style&&"WebkitAppearance"in mc.style);var e=!0;return mc.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in mc.style)&&gc)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in mc.style),e}var bc=pc,wc=dc,kc=vc;function Cc(t){var e={};return Object.keys(t).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]})),e}var Ec,Sc=((Ec=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return _c(t)}},{key:"matchesElement",value:function(t,e){return bc(t,e)}},{key:"containsElement",value:function(t,e){return wc(t,e)}},{key:"query",value:function(t,e,n){return kc(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,r,i){return arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6],new rc(n,r)}}]),t}()).\u0275fac=function(t){return new(t||Ec)},Ec.\u0275prov=r.Jb({token:Ec,factory:Ec.\u0275fac}),Ec),Oc=function(){var t=function t(){_classCallCheck(this,t)};return t.NOOP=new Sc,t}();function Tc(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ic(parseFloat(e[1]),e[2])}function Ic(t,e){switch(e){case"s":return 1e3*t;default:return t}}function xc(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};r=Ic(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=Ic(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else r=t;if(!n){var c=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&e.splice(l,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(t,e,n)}function Ac(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}function Pc(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var r in t)n[r]=t[r];else Ac(t,n);return n}function Dc(t,e,n){return n?e+":"+n+";":""}function Rc(t){for(var e="",n=0;n<t.style.length;n++){var r=t.style.item(n);e+=Dc(0,r,t.style.getPropertyValue(r))}for(var i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(e+=Dc(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[i]));t.setAttribute("style",e)}function Nc(t,e,n){t.style&&(Object.keys(e).forEach((function(r){var i=zc(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]})),oc()&&Rc(t))}function jc(t,e){t.style&&(Object.keys(e).forEach((function(e){var n=zc(e);t.style[n]=""})),oc()&&Rc(t))}function Lc(t){return Array.isArray(t)?1==t.length?t[0]:Xu(t):t}var Mc=new RegExp("{{\\s*(.+?)\\s*}}","g");function Fc(t){var e=[];if("string"==typeof t){for(var n;n=Mc.exec(t);)e.push(n[1]);Mc.lastIndex=0}return e}function Vc(t,e,n){var r=t.toString(),i=r.replace(Mc,(function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()}));return i==r?t:i}function Uc(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var Bc=/-+([a-z0-9])/g;function zc(t){return t.replace(Bc,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()}))}function qc(t,e){return 0===t||0===e}function Hc(t,e,n){var r=Object.keys(n);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach((function(t){i.hasOwnProperty(t)||o.push(t),i[t]=n[t]})),o.length)for(var a=function(){var n=e[s];o.forEach((function(e){n[e]=Gc(t,e)}))},s=1;s<e.length;s++)a()}return e}function Wc(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function Gc(t,e){return window.getComputedStyle(t)[e]}var Kc=new Set(["true","1"]),Qc=new Set(["false","0"]);function Yc(t,e){var n=Kc.has(t)||Qc.has(t),r=Kc.has(e)||Qc.has(e);return function(i,o){var a="*"==t||t==i,s="*"==e||e==o;return!a&&n&&"boolean"==typeof i&&(a=i?Kc.has(t):Qc.has(t)),!s&&r&&"boolean"==typeof o&&(s=o?Kc.has(e):Qc.has(e)),a&&s}}var Zc=new RegExp("s*:selfs*,?","g");function Jc(t,e,n){return new Xc(t).build(e,n)}var Xc=function(){function t(e){_classCallCheck(this,t),this._driver=e}return _createClass(t,[{key:"build",value:function(t,e){var n=new $c(e);return this._resetContextStyleTimingState(n),Wc(this,Lc(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach((function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,u=s.name;u.toString().split(/\s*,\s*/).forEach((function(t){s.name=t,o.push(n.visitState(s,e))})),s.name=u}else if(1==t.type){var c=n.visitTransition(t,e);r+=c.queryCount,i+=c.depCount,a.push(c)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:t.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(t){if(tl(t)){var e=t;Object.keys(e).forEach((function(t){Fc(e[t]).forEach((function(t){o.hasOwnProperty(t)||i.add(t)}))}))}})),i.size){var a=Uc(i.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=Wc(this,Lc(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var o=i[1],a=i[2],s=i[3];e.push(Yc(o,s)),"<"!=a[0]||"*"==o&&"*"==s||e.push(Yc(s,o))}(t,i,r)})):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:el(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map((function(t){return Wc(n,t,e)})),options:el(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map((function(t){e.currentTime=r;var o=Wc(n,t,e);return i=Math.max(i,e.currentTime),o}));return e.currentTime=i,{type:3,steps:o,options:el(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return nl(xc(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some((function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)}))){var i=nl(0,0,"");return i.dynamic=!0,i.strValue=r,i}return nl((n=n||xc(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var i=t.styles?t.styles:$u({});if(5==i.type)n=this.visitKeyframes(i,e);else{var o=t.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=$u(s)}e.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,e);u.isEmptyStep=a,n=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach((function(t){"string"==typeof t?"*"==t?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)})):n.push(t.styles);var r=!1,i=null;return n.forEach((function(t){if(tl(t)){var e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(var o in e)if(e[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach((function(t){"string"!=typeof t&&Object.keys(t).forEach((function(r){if(n._driver.validateStyleProperty(r)){var a,s,u,c,l,h=e.collectedStyles[e.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(e.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),e.options&&(a=t[r],s=e.options,u=e.errors,c=s.params||{},(l=Fc(a)).length&&l.forEach((function(t){c.hasOwnProperty(t)||u.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))})))}else e.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,c=t.steps.map((function(t){var r=n._makeStyleAst(t,e),c=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach((function(t){if(tl(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}}));else if(tl(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),s=s||l<0||l>1,a=a||l<u,u=l,o.push(l),r}));s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var l=t.steps.length,h=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=e.currentTime,p=e.currentAnimateTimings,v=p.duration;return c.forEach((function(t,i){var a=h>0?i==f?1:h*i:o[i],s=a*v;e.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(t,e),t.offset=a,r.styles.push(t)})),r}},{key:"visitReference",value:function(t,e){return{type:8,animation:Wc(this,Lc(t.animation),e),options:el(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:el(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:el(t.options)}}},{key:"visitQuery",value:function(t,e){var n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;var i=_slicedToArray(function(t){var e=!!t.split(/\s*,\s*/).find((function(t){return":self"==t}));return e&&(t=t.replace(Zc,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(t){return".ng-trigger-"+t.substr(1)})).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),o=i[0],a=i[1];e.currentQuerySelector=n.length?n+" "+o:o,hc(e.collectedStyles,e.currentQuerySelector,{});var s=Wc(this,Lc(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:t.selector,options:el(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:xc(t.timings,e.errors,!0);return{type:12,animation:Wc(this,Lc(t.animation),e),timings:n,options:null}}}]),t}(),$c=function t(e){_classCallCheck(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function tl(t){return!Array.isArray(t)&&"object"==typeof t}function el(t){var e;return t?(t=Ac(t)).params&&(t.params=(e=t.params)?Ac(e):null):t={},t}function nl(t,e,n){return{duration:t,delay:e,easing:n}}function rl(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var il=function(){function t(){_classCallCheck(this,t),this._map=new Map}return _createClass(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,r=this._map.get(t);r||this._map.set(t,r=[]),(n=r).push.apply(n,_toConsumableArray(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),ol=new RegExp(":enter","g"),al=new RegExp(":leave","g");function sl(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new ul).buildKeyframes(t,e,n,r,i,o,a,s,u,c)}var ul=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"buildKeyframes",value:function(t,e,n,r,i,o,a,s,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new il;var l=new ll(t,e,u,r,i,c,[]);l.options=s,l.currentTimeline.setStyles([o],null,l.errors,s),Wc(this,n,l);var h=l.timelines.filter((function(t){return t.containsAnimation()}));if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,l.errors,s)}return h.length?h.map((function(t){return t.buildKeyframes()})):[rl(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?Tc(n.duration):null,o=null!=n.delay?Tc(n.delay):null;return 0!==i&&t.forEach((function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),Wc(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=cl);var a=Tc(o.delay);i.delayNextStep(a)}t.steps.length&&(t.steps.forEach((function(t){return Wc(n,t,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Tc(t.options.delay):0;t.steps.forEach((function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),Wc(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)})),r.forEach((function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)})),e.transformIntoNewTimeline(i),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return xc(e.params?Vc(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach((function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()})),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?Tc(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=cl);var a=r,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;var u=null;s.forEach((function(r,i){e.currentQueryIndex=i;var s=e.createSubContext(t.options,r);o&&s.delayNextStep(o),r===e.element&&(u=s.currentTimeline),Wc(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)})),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),a=o*(e.currentQueryTotal-1),s=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=e.currentTimeline;s&&u.delayNextStep(s);var c=u.currentTime;Wc(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),t}(),cl={},ll=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cl,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new hl(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(t,[{key:"updateOptions",value:function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=Tc(r.duration)),null!=r.delay&&(i.delay=Tc(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach((function(t){e&&a.hasOwnProperty(t)||(a[t]=Vc(o[t],a,n.errors))}))}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach((function(t){n[t]=e[t]}))}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=cl,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new fl(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,r,i,o){var a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(ol,"."+this._enterClassName)).replace(al,"."+this._leaveClassName);var s=this._driver.query(this.element,t,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,_toConsumableArray(s))}return i||0!=a.length||o.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),a}},{key:"params",get:function(){return this.options.params}}]),t}(),hl=function(){function t(e,n,r,i){_classCallCheck(this,t),this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach((function(t){e._backFill[t]=e._globalTimelineStyles[t]||"*",e._currentKeyframe[t]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,r){var i=this;e&&(this._previousKeyframe.easing=e);var o=r&&r.params||{},a=function(t,e){var n,r={};return t.forEach((function(t){"*"===t?(n=n||Object.keys(e)).forEach((function(t){r[t]="*"})):Pc(t,!1,r)})),r}(t,this._globalTimelineStyles);Object.keys(a).forEach((function(t){var e=Vc(a[t],o,n);i._pendingStyles[t]=e,i._localTimelineStyles.hasOwnProperty(t)||(i._backFill[t]=i._globalTimelineStyles.hasOwnProperty(t)?i._globalTimelineStyles[t]:"*"),i._updateStyle(t,e)}))}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){t._currentKeyframe[n]=e[n]})),Object.keys(this._localTimelineStyles).forEach((function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])})))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach((function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach((function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(o,a){var s=Pc(o,!0);Object.keys(s).forEach((function(t){var r=s[t];"!"==r?e.add(t):"*"==r&&n.add(t)})),r||(s.offset=a/t.duration),i.push(s)}));var o=e.size?Uc(e.values()):[],a=n.size?Uc(n.values()):[];if(r){var s=i[0],u=Ac(s);s.offset=0,u.offset=1,i=[s,u]}return rl(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}}]),t}(),fl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a,s){var u,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(u=e.call(this,t,r,s.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=a,u._stretchStartingKeyframe=c,u.timings={duration:s.duration,delay:s.delay,easing:s.easing},u}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=Pc(t[0],!1);u.offset=0,o.push(u);var c=Pc(t[0],!1);c.offset=dl(s),o.push(c);for(var l=t.length-1,h=1;h<=l;h++){var f=Pc(t[h],!1);f.offset=dl((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",t=o}return rl(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(hl);function dl(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var pl=function t(){_classCallCheck(this,t)},vl=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(t,e){return zc(t)}},{key:"normalizeStyleValue",value:function(t,e,n,r){var i="",o=n.toString().trim();if(yl[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+i}}]),n}(pl),yl=function(t){var e={};return t.forEach((function(t){return e[t]=!0})),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function ml(t,e,n,r,i,o,a,s,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var gl={},_l=function(){function t(e,n,r){_classCallCheck(this,t),this._triggerName=e,this.ast=n,this._stateStyles=r}return _createClass(t,[{key:"match",value:function(t,e,n,r){return function(t,e,n,r,i){return t.some((function(t){return t(e,n,r,i)}))}(this.ast.matchers,t,e,n,r)}},{key:"buildStyles",value:function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}},{key:"build",value:function(t,e,n,r,i,o,a,s,u,c){var l=[],h=this.ast.options&&this.ast.options.params||gl,f=this.buildStyles(n,a&&a.params||gl,l),d=s&&s.params||gl,p=this.buildStyles(r,d,l),v=new Set,y=new Map,m=new Map,g="void"===r,_={params:Object.assign(Object.assign({},h),d)},b=c?[]:sl(t,e,this.ast.animation,i,o,f,p,_,u,l),w=0;if(b.forEach((function(t){w=Math.max(t.duration+t.delay,w)})),l.length)return ml(e,this._triggerName,n,r,g,f,p,[],[],y,m,w,l);b.forEach((function(t){var n=t.element,r=hc(y,n,{});t.preStyleProps.forEach((function(t){return r[t]=!0}));var i=hc(m,n,{});t.postStyleProps.forEach((function(t){return i[t]=!0})),n!==e&&v.add(n)}));var k=Uc(v.values());return ml(e,this._triggerName,n,r,g,f,p,b,k,y,m,w)}}]),t}(),bl=function(){function t(e,n){_classCallCheck(this,t),this.styles=e,this.defaultParams=n}return _createClass(t,[{key:"buildStyles",value:function(t,e){var n={},r=Ac(this.defaultParams);return Object.keys(t).forEach((function(e){var n=t[e];null!=n&&(r[e]=n)})),this.styles.styles.forEach((function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach((function(t){var o=i[t];o.length>1&&(o=Vc(o,r,e)),n[t]=o}))}})),n}}]),t}(),wl=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(t){r.states[t.name]=new bl(t.style,t.options&&t.options.params||{})})),kl(this.states,"true","1"),kl(this.states,"false","0"),n.transitions.forEach((function(t){r.transitionFactories.push(new _l(e,t,r.states))})),this.fallbackTransition=new _l(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(t,[{key:"matchTransition",value:function(t,e,n,r){return this.transitionFactories.find((function(i){return i.match(t,e,n,r)}))||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),t}();function kl(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var Cl=new il,El=function(){function t(e,n,r){_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass(t,[{key:"register",value:function(t,e){var n=[],r=Jc(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}},{key:"_buildPlayer",value:function(t,e,n){var r=t.element,i=sc(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[t],s=new Map;if(a?(n=sl(this._driver,e,a,"ng-enter","ng-leave",{},{},i,Cl,o)).forEach((function(t){var e=hc(s,t.element,{});t.postStyleProps.forEach((function(t){return e[t]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));s.forEach((function(t,e){Object.keys(t).forEach((function(n){t[n]=r._driver.computeStyle(e,n,"*")}))}));var u=ac(n.map((function(t){var e=s.get(t.element);return r._buildPlayer(t,{},e)})));return this._playersById[t]=u,u.onDestroy((function(){return r.destroy(t)})),this.players.push(u),u}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}},{key:"listen",value:function(t,e,n,r){var i=lc(e,"","","");return uc(this._getPlayer(t),n,i,r),function(){}}},{key:"command",value:function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])}}]),t}(),Sl=[],Ol={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Tl={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Il=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,t),this.namespaceId=n;var r,i=e&&e.hasOwnProperty("value");if(this.value=null!=(r=i?e.value:e)?r:null,i){var o=Ac(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(t,[{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach((function(t){null==n[t]&&(n[t]=e[t])}))}}},{key:"params",get:function(){return this.options.params}}]),t}(),xl=new Il("void"),Al=function(){function t(e,n,r){_classCallCheck(this,t),this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ml(n,this._hostClassName)}return _createClass(t,[{key:"listen",value:function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var a=hc(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};a.push(s);var u=hc(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(Ml(t,"ng-trigger"),Ml(t,"ng-trigger-"+e),u[e]=xl),function(){o._engine.afterFlush((function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o._triggers[e]||delete u[e]}))}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(e),a=new Dl(this.id,e,t),s=this._engine.statesByElement.get(t);s||(Ml(t,"ng-trigger"),Ml(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var u=s[e],c=new Il(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),s[e]=c,u||(u=xl),"void"===c.value||u.value!==c.value){var l=hc(this._engine.playersByElement,t,[]);l.forEach((function(t){t.namespaceId==r.id&&t.triggerName==e&&t.queued&&t.destroy()}));var h=o.matchTransition(u.value,c.value,t,c.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:u,toState:c,player:a,isFallbackTransition:f}),f||(Ml(t,"ng-animate-queued"),a.onStart((function(){Fl(t,"ng-animate-queued")}))),a.onDone((function(){var e=r.players.indexOf(a);e>=0&&r.players.splice(e,1);var n=r._engine.playersByElement.get(t);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}})),this.players.push(a),l.push(a),a}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,c.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(c.value,c.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush((function(){jc(t,p),Nc(t,v)}))}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach((function(e,n){delete e[t]})),this._elementListeners.forEach((function(n,r){e._elementListeners.set(r,n.filter((function(e){return e.name!=t})))}))}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach((function(t){return t.destroy()})),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this,r=this._engine.driver.query(t,".ng-trigger",!0);r.forEach((function(t){if(!t.__ng_removed){var r=n._engine.fetchNamespacesByElement(t);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(t,e,!1,!0)})):n.clearElementCache(t)}})),this._engine.afterFlushAnimationsDone((function(){return r.forEach((function(t){return n.clearElementCache(t)}))}))}},{key:"triggerLeaveAnimation",value:function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach((function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&a.push(n)}})),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&ac(a).onDone((function(){return i._engine.processLeaveNode(t)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=e._triggers[i].fallbackTransition,a=e._engine.statesByElement.get(t)[i]||xl,s=new Il("void"),u=new Dl(e.id,i,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:i,transition:o,fromState:a,toState:s,player:u,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var a=t;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{var s=t.__ng_removed;s&&s!==Ol||(r.afterFlush((function(){return n.clearElementCache(t)})),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}}},{key:"insertNode",value:function(t,e){Ml(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=e._elementListeners.get(o);a&&a.forEach((function(e){if(e.name==r.triggerName){var n=lc(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,uc(r.player,e.phase,n,e.callback)}})),i.markedForDestroy?e._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1}))}},{key:"destroy",value:function(t){this.players.forEach((function(t){return t.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find((function(e){return e.element===t}))||e}}]),t}(),Pl=function(){function t(e,n,r){_classCallCheck(this,t),this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return _createClass(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"createNamespace",value:function(t,e){var n=new Al(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(e)}))}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e}},{key:"trigger",value:function(t,e,n,r){if(Rl(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}},{key:"insertNode",value:function(t,e,n,r){if(Rl(e)){var i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}r&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ml(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Fl(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,r){if(Rl(e)){var i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}},{key:"markElementAsRemoved",value:function(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,r,i){return Rl(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}}},{key:"_buildInstruction",value:function(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach((function(t){return e.destroyActiveAnimationsForElement(t)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach((function(t){return e.finishActiveQueriedAnimationOnElement(t)}))}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach((function(t){t.queued?t.markedForDestroy=!0:t.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach((function(t){return t.finish()}))}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise((function(e){if(t.players.length)return ac(t.players).onDone((function(){return e()}));e()}))}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=Ol,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach((function(t){e.markElementAsDisabled(t,!1)}))}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(e,n){return t._balanceNamespaceList(e,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)Ml(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,e)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(t){return t()})),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?ac(n).onDone((function(){s.forEach((function(t){return t()}))})):s.forEach((function(t){return t()}))}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}},{key:"_flushAnimations",value:function(t,e){var n=this,r=new il,i=[],o=new Map,a=[],s=new Map,u=new Map,c=new Map,l=new Set;this.disabledNodes.forEach((function(t){l.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),r=0;r<e.length;r++)l.add(e[r])}));var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=Ll(f,this.collectedEnterElements),p=new Map,v=0;d.forEach((function(t,e){var n="ng-enter"+v++;p.set(e,n),t.forEach((function(t){return Ml(t,n)}))}));for(var y=[],m=new Set,g=new Set,_=0;_<this.collectedLeaveElements.length;_++){var b=this.collectedLeaveElements[_],w=b.__ng_removed;w&&w.setForRemoval&&(y.push(b),m.add(b),w.hasAnimation?this.driver.query(b,".ng-star-inserted",!0).forEach((function(t){return m.add(t)})):g.add(b))}var k=new Map,C=Ll(f,Array.from(m));C.forEach((function(t,e){var n="ng-leave"+v++;k.set(e,n),t.forEach((function(t){return Ml(t,n)}))})),t.push((function(){d.forEach((function(t,e){var n=p.get(e);t.forEach((function(t){return Fl(t,n)}))})),C.forEach((function(t,e){var n=k.get(e);t.forEach((function(t){return Fl(t,n)}))})),y.forEach((function(t){n.processLeaveNode(t)}))}));for(var E=[],S=[],O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach((function(t){var e=t.player,o=t.element;if(E.push(e),n.collectedEnterElements.length){var l=o.__ng_removed;if(l&&l.setForMove)return void e.destroy()}var f=!h||!n.driver.containsElement(h,o),d=k.get(o),v=p.get(o),y=n._buildInstruction(t,r,v,d,f);if(y.errors&&y.errors.length)S.push(y);else{if(f)return e.onStart((function(){return jc(o,y.fromStyles)})),e.onDestroy((function(){return Nc(o,y.toStyles)})),void i.push(e);if(t.isFallbackTransition)return e.onStart((function(){return jc(o,y.fromStyles)})),e.onDestroy((function(){return Nc(o,y.toStyles)})),void i.push(e);y.timelines.forEach((function(t){return t.stretchStartingKeyframe=!0})),r.append(o,y.timelines),a.push({instruction:y,player:e,element:o}),y.queriedElements.forEach((function(t){return hc(s,t,[]).push(e)})),y.preStyleProps.forEach((function(t,e){var n=Object.keys(t);if(n.length){var r=u.get(e);r||u.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}})),y.postStyleProps.forEach((function(t,e){var n=Object.keys(t),r=c.get(e);r||c.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}))}}));if(S.length){var T=[];S.forEach((function(t){T.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach((function(t){return T.push("- ".concat(t,"\n"))}))})),E.forEach((function(t){return t.destroy()})),this.reportError(T)}var I=new Map,x=new Map;a.forEach((function(t){var e=t.element;r.has(e)&&(x.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,I))})),i.forEach((function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach((function(t){hc(I,e,[]).push(t),t.destroy()}))}));var A=y.filter((function(t){return Ul(t,u,c)})),P=new Map;jl(P,this.driver,g,c,"*").forEach((function(t){Ul(t,u,c)&&A.push(t)}));var D=new Map;d.forEach((function(t,e){jl(D,n.driver,new Set(t),u,"!")})),A.forEach((function(t){var e=P.get(t),n=D.get(t);P.set(t,Object.assign(Object.assign({},e),n))}));var R=[],N=[],j={};a.forEach((function(t){var e=t.element,a=t.player,s=t.instruction;if(r.has(e)){if(l.has(e))return a.onDestroy((function(){return Nc(e,s.toStyles)})),a.disabled=!0,a.overrideTotalTime(s.totalTime),void i.push(a);var u=j;if(x.size>1){for(var c=e,h=[];c=c.parentNode;){var f=x.get(c);if(f){u=f;break}h.push(c)}h.forEach((function(t){return x.set(t,u)}))}var d=n._buildAnimation(a.namespaceId,s,I,o,D,P);if(a.setRealPlayer(d),u===j)R.push(a);else{var p=n.playersByElement.get(u);p&&p.length&&(a.parentPlayer=ac(p)),i.push(a)}}else jc(e,s.fromStyles),a.onDestroy((function(){return Nc(e,s.toStyles)})),N.push(a),l.has(e)&&i.push(a)})),N.forEach((function(t){var e=o.get(t.element);if(e&&e.length){var n=ac(e);t.setRealPlayer(n)}})),i.forEach((function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()}));for(var L=0;L<y.length;L++){var M=y[L],F=M.__ng_removed;if(Fl(M,"ng-leave"),!F||!F.hasAnimation){var V=[];if(s.size){var U=s.get(M);U&&U.length&&V.push.apply(V,_toConsumableArray(U));for(var B=this.driver.query(M,".ng-animating",!0),z=0;z<B.length;z++){var q=s.get(B[z]);q&&q.length&&V.push.apply(V,_toConsumableArray(q))}}var H=V.filter((function(t){return!t.destroyed}));H.length?Vl(this,M,H):this.processLeaveNode(M)}}return y.length=0,R.forEach((function(t){n.players.push(t),t.onDone((function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)})),t.play()})),R}},{key:"elementContainsData",value:function(t,e){var n=!1,r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,r,i){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var u=!i||"void"==i;s.forEach((function(t){t.queued||(u||t.triggerName==r)&&o.push(t)}))}}return(n||r)&&(o=o.filter((function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(t,e,n){var r,i=this,o=e.element,a=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName,u=_createForOfIteratorHelper(e.timelines);try{var c=function(){var t=r.value.element,u=t!==o,c=hc(n,t,[]);i._getPreviousPlayers(t,u,a,s,e.toState).forEach((function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)}))};for(u.s();!(r=u.n()).done;)c()}catch(l){u.e(l)}finally{u.f()}jc(o,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,r,i,o){var a=this,s=e.triggerName,u=e.element,c=[],l=new Set,h=new Set,f=e.timelines.map((function(e){var f=e.element;l.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new rc(e.duration,e.delay);var p,v,y=f!==u,m=(p=(n.get(f)||Sl).map((function(t){return t.getRealPlayer()})),v=[],function t(e,n){for(var r=0;r<e.length;r++){var i=e[r];i instanceof ic?t(i.players,n):n.push(i)}}(p,v),v).filter((function(t){return!!t.element&&t.element===f})),g=i.get(f),_=o.get(f),b=sc(0,a._normalizer,0,e.keyframes,g,_),w=a._buildPlayer(e,b,m);if(e.subTimeline&&r&&h.add(f),y){var k=new Dl(t,s,f);k.setRealPlayer(w),c.push(k)}return w}));c.forEach((function(t){hc(a.playersByQueriedElement,t.element,[]).push(t),t.onDone((function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete t[e]}return r}(a.playersByQueriedElement,t.element,t)}))})),l.forEach((function(t){return Ml(t,"ng-animating")}));var d=ac(f);return d.onDestroy((function(){l.forEach((function(t){return Fl(t,"ng-animating")})),Nc(u,e.toStyles)})),h.forEach((function(t){hc(r,t,[]).push(d)})),d}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new rc(t.duration,t.delay)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach((function(e){e.players.forEach((function(e){e.queued&&t.push(e)}))})),t}}]),t}(),Dl=function(){function t(e,n,r){_classCallCheck(this,t),this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new rc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach((function(n){e._queuedCallbacks[n].forEach((function(e){return uc(t,n,void 0,e)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart((function(){return n.triggerCallback("start")})),t.onDone((function(){return e.finish()})),t.onDestroy((function(){return e.destroy()}))}},{key:"_queueEvent",value:function(t,e){hc(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function Rl(t){return t&&1===t.nodeType}function Nl(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function jl(t,e,n,r,i){var o=[];n.forEach((function(t){return o.push(Nl(t))}));var a=[];r.forEach((function(n,r){var o={};n.forEach((function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Tl,a.push(r))})),t.set(r,o)}));var s=0;return n.forEach((function(t){return Nl(t,o[s++])})),a}function Ll(t,e){var n=new Map;if(t.forEach((function(t){return n.set(t,[])})),0==e.length)return n;var r=new Set(e),i=new Map;return e.forEach((function(t){var e=function t(e){if(!e)return 1;var o=i.get(e);if(o)return o;var a=e.parentNode;return o=n.has(a)?a:r.has(a)?1:t(a),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)})),n}function Ml(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Fl(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function Vl(t,e,n){ac(n).onDone((function(){return t.processLeaveNode(e)}))}function Ul(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach((function(t){return i.add(t)})):e.set(t,r),n.delete(t),!0}var Bl=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new Pl(e,n,r),this._timelineEngine=new El(e,n,r),this._transitionEngine.onRemovalComplete=function(t,e){return i.onRemovalComplete(t,e)}}return _createClass(t,[{key:"registerTrigger",value:function(t,e,n,r,i){var o=t+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=Jc(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(t,e){return new wl(t,e)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}},{key:"onRemove",value:function(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,e,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(fc(n),2),o=i[0],a=i[1];this._timelineEngine.command(o,e,a,r)}else this._transitionEngine.trigger(t,e,n,r)}},{key:"listen",value:function(t,e,n,r,i){if("@"==n.charAt(0)){var o=_slicedToArray(fc(n),2),a=o[0],s=o[1];return this._timelineEngine.listen(a,e,s,i)}return this._transitionEngine.listen(t,e,n,r,i)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),t}();function zl(t,e){var n=null,r=null;return Array.isArray(e)&&e.length?(n=Hl(e[0]),e.length>1&&(r=Hl(e[e.length-1]))):e&&(n=Hl(e)),n||r?new ql(t,n,r):null}var ql=function(){var t=function(){function t(e,n,r){_classCallCheck(this,t),this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;var i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}return _createClass(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&Nc(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(Nc(this._element,this._initialStyles),this._endStyles&&(Nc(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(jc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(jc(this._element,this._endStyles),this._endStyles=null),Nc(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function Hl(t){for(var e=null,n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];Wl(i)&&((e=e||{})[i]=t[i])}return e}function Wl(t){return"display"===t||"position"===t}var Gl=function(){function t(e,n,r,i,o,a,s){var u=this;_classCallCheck(this,t),this._element=e,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return u._handleCallback(t)}}return _createClass(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=Xl(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),Jl(t,"",e),Zl(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){Kl(this._element,this._name,"paused")}},{key:"resume",value:function(){Kl(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=Ql(this._element,this._name);this._position=t*this._duration,Jl(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),Zl(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){var n=Xl(t,"").split(","),r=Yl(n,e);r>=0&&(n.splice(r,1),Jl(t,"",n.join(",")))}(this._element,this._name))}}]),t}();function Kl(t,e,n){Jl(t,"PlayState",n,Ql(t,e))}function Ql(t,e){var n=Xl(t,"");return n.indexOf(",")>0?Yl(n.split(","),e):Yl([n],e)}function Yl(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Zl(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Jl(t,e,n,r){var i="animation"+e;if(null!=r){var o=t.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}t.style[i]=n}function Xl(t,e){return t.style["animation"+e]}var $l=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+o,this._buildStyler()}return _createClass(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new Gl(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return t.finish()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(e[r]=n?t._finalStyles[r]:Gc(t.element,r))}))}this.currentSnapshot=e}}]),t}(),th=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).element=t,i._startingStyles={},i.__initialized=!1,i._styles=Cc(r),i}return _createClass(n,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(e){t._startingStyles[e]=t.element.style[e]})),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(e){return t.element.style.setProperty(e,t._styles[e])})),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)})),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(rc),eh=function(){function t(){_classCallCheck(this,t),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return _c(t)}},{key:"matchesElement",value:function(t,e){return bc(t,e)}},{key:"containsElement",value:function(t,e){return wc(t,e)}},{key:"query",value:function(t,e,n){return kc(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map((function(t){return Cc(t)}));var r="@keyframes ".concat(e," {\n"),i="";n.forEach((function(t){i=" ";var e=parseFloat(t.offset);r+="".concat(i).concat(100*e,"% {\n"),i+=" ",Object.keys(t).forEach((function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(e,": ").concat(n,";\n"))}})),r+=i+"}\n"})),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;a&&this._notifyFaultyScrubber();var s=o.filter((function(t){return t instanceof $l})),u={};qc(n,r)&&s.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var c=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach((function(t){Object.keys(t).forEach((function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])}))})),e}(e=Hc(t,e,u));if(0==n)return new th(t,c);var l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);var f=zl(t,e),d=new $l(t,e,l,n,r,i,c,f);return d.onDestroy((function(){var t;(t=h).parentNode.removeChild(t)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),t}(),nh=function(){function t(e,n,r,i){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return t._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:Gc(t.element,n))})),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),t}(),rh=function(){function t(){_classCallCheck(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ih().toString()),this._cssKeyframesDriver=new eh}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return _c(t)}},{key:"matchesElement",value:function(t,e){return bc(t,e)}},{key:"containsElement",value:function(t,e){return wc(t,e)}},{key:"query",value:function(t,e,n){return kc(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},c=o.filter((function(t){return t instanceof nh}));qc(n,r)&&c.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var l=zl(t,e=Hc(t,e=e.map((function(t){return Pc(t,!1)})),u));return new nh(t,e,s,l)}}]),t}();function ih(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var oh,ah=((oh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this))._nextAnimationId=0,o._renderer=t.createRenderer(i.body,{id:"0",encapsulation:r.Q.None,styles:[],data:{animation:[]}}),o}return _createClass(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?Xu(t):t;return ch(this._renderer,null,e,"register",[n]),new sh(e,this._renderer)}}]),n}(Yu)).\u0275fac=function(t){return new(t||oh)(r.Wb(r.F),r.Wb(u))},oh.\u0275prov=r.Jb({token:oh,factory:oh.\u0275fac}),oh),sh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._id=t,i._renderer=r,i}return _createClass(n,[{key:"create",value:function(t,e){return new uh(this._id,t,e||{},this._renderer)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),uh=function(){function t(e,n,r,i){_classCallCheck(this,t),this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return ch(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){return 0}}]),t}();function ch(t,e,n,r,i){return t.setProperty(e,"@@".concat(n,":").concat(r),i)}var lh,hh,fh,dh,ph=((lh=function(){function t(e,n,r){_classCallCheck(this,t),this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return _createClass(t,[{key:"createRenderer",value:function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new vh("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,a=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,t),e.data.animation.forEach((function e(r){Array.isArray(r)?r.forEach(e):n.engine.registerTrigger(o,a,t,r.name,r)})),new yh(this,a,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then((function(){t._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(t,e,n){var r=this;t>=0&&t<this._microtaskId?this._zone.run((function(){return e(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(t){var e=_slicedToArray(t,2);(0,e[0])(e[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([e,n]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}()).\u0275fac=function(t){return new(t||lh)(r.Wb(r.F),r.Wb(Bl),r.Wb(r.z))},lh.\u0275prov=r.Jb({token:lh,factory:lh.\u0275fac}),lh),vh=function(){function t(e,n,r){_classCallCheck(this,t),this.namespaceId=e,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return _createClass(t,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,r){this.delegate.setStyle(t,e,n,r)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}},{key:"data",get:function(){return this.delegate.data}}]),t}(),yh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,r,i,o)).factory=t,a.namespaceId=r,a}return _createClass(n,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){var r,i,o=this;if("@"==e.charAt(0)){var a,s=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),u=e.substr(1),c="";return"@"!=u.charAt(0)&&(i=(r=u).indexOf("."),u=(a=_slicedToArray([r.substring(0,i),r.substr(i+1)],2))[0],c=a[1]),this.engine.listen(this.namespaceId,s,u,c,(function(t){o.factory.scheduleListenerCallback(t._data||-1,n,t)}))}return this.delegate.listen(t,e,n)}}]),n}(vh),mh=((hh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){return _classCallCheck(this,n),e.call(this,t.body,r,i)}return n}(Bl)).\u0275fac=function(t){return new(t||hh)(r.Wb(u),r.Wb(Oc),r.Wb(pl))},hh.\u0275prov=r.Jb({token:hh,factory:hh.\u0275fac}),hh),gh=new r.q("AnimationModuleType"),_h=[{provide:Oc,useFactory:function(){return"function"==typeof ih()?new rh:new eh}},{provide:gh,useValue:"BrowserAnimations"},{provide:Yu,useClass:ah},{provide:pl,useFactory:function(){return new vl}},{provide:Bl,useClass:mh},{provide:r.F,useFactory:function(t,e,n){return new ph(t,e,n)},deps:[Tt,Bl,r.z]}],bh=((fh=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:fh}),fh.\u0275inj=r.Kb({factory:function(t){return new(t||fh)},providers:_h,imports:[Ut]}),fh),wh=new r.O("9.2.4"),kh=new r.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),Ch=((dh=function(){function t(e,n,r){_classCallCheck(this,t),this._hasDoneGlobalChecks=!1,this._document=r,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=n,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return _createClass(t,[{key:"_getDocument",value:function(){var t=this._document||document;return"object"==typeof t&&t?t:null}},{key:"_getWindow",value:function(){var t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}},{key:"_checksAreEnabled",value:function(){return Object(r.W)()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var t=this._getWindow();return t&&(t.__karma__||t.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){var t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){var t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(!t&&e&&e.body&&"function"==typeof getComputedStyle){var n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);var r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}}},{key:"_checkCdkVersionMatch",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&wh.full!==Qu.full&&console.warn("The Angular Material version ("+wh.full+") does not match the Angular CDK version ("+Qu.full+").\nPlease ensure the versions of these two packages exactly match.")}}]),t}()).\u0275mod=r.Lb({type:dh}),dh.\u0275inj=r.Kb({factory:function(t){return new(t||dh)(r.Wb(Ku),r.Wb(kh,8),r.Wb(u,8))},imports:[[Cs],Cs]}),dh);function Eh(t){return function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i)))._disabled=!1,t}return _createClass(n,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Pa(t)}}]),n}(t)}function Sh(t,e){return function(t){_inherits(r,t);var n=_createSuper(r);function r(){var t;_classCallCheck(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o))).color=e,t}return _createClass(r,[{key:"color",get:function(){return this._color},set:function(t){var n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),n&&this._elementRef.nativeElement.classList.add("mat-"+n),this._color=n)}}]),r}(t)}function Oh(t){return function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i)))._disableRipple=!1,t}return _createClass(n,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(t){this._disableRipple=Pa(t)}}]),n}(t)}try{"undefined"!=typeof Intl}catch(ix){!1}var Th,Ih,xh,Ah=((Th=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"isErrorState",value:function(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}]),t}()).\u0275fac=function(t){return new(t||Th)},Th.\u0275prov=Object(r.Jb)({factory:function(){return new Th},token:Th,providedIn:"root"}),Th),Ph=function(){function t(e,n,r){_classCallCheck(this,t),this._renderer=e,this.element=n,this.config=r,this.state=3}return _createClass(t,[{key:"fadeOut",value:function(){this._renderer.fadeOutRipple(this)}}]),t}(),Dh={enterDuration:450,exitDuration:400},Rh=ds({passive:!0}),Nh=["mousedown","touchstart"],jh=["mouseup","mouseleave","touchend","touchcancel"],Lh=function(){function t(e,n,r,i){_classCallCheck(this,t),this._target=e,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=ja(r))}return _createClass(t,[{key:"fadeInRipple",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},Dh),r.animation);r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);var a=r.radius||function(t,e,n){var r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),s=t-i.left,u=e-i.top,c=o.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=s-a+"px",l.style.top=u-a+"px",l.style.height=2*a+"px",l.style.width=2*a+"px",null!=r.color&&(l.style.backgroundColor=r.color),l.style.transitionDuration=c+"ms",this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";var h=new Ph(this,l,r);return h.state=0,this._activeRipples.add(h),r.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone((function(){var t=h===n._mostRecentTransientRipple;h.state=1,r.persistent||t&&n._isPointerDown||h.fadeOut()}),c),h}},{key:"fadeOutRipple",value:function(t){var e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),e){var n=t.element,r=Object.assign(Object.assign({},Dh),t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone((function(){t.state=3,n.parentNode.removeChild(n)}),r.exitDuration)}}},{key:"fadeOutAll",value:function(){this._activeRipples.forEach((function(t){return t.fadeOut()}))}},{key:"setupTriggerEvents",value:function(t){var e=ja(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Nh))}},{key:"handleEvent",value:function(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(jh),this._pointerUpEventsRegistered=!0)}},{key:"_onMousedown",value:function(t){var e=Uu(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}},{key:"_onTouchStart",value:function(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;for(var e=t.changedTouches,n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}},{key:"_onPointerUp",value:function(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach((function(t){!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()})))}},{key:"_runTimeoutOutsideZone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ngZone.runOutsideAngular((function(){return setTimeout(t,e)}))}},{key:"_registerEvents",value:function(t){var e=this;this._ngZone.runOutsideAngular((function(){t.forEach((function(t){e._triggerElement.addEventListener(t,e,Rh)}))}))}},{key:"_removeTriggerEvents",value:function(){var t=this;this._triggerElement&&(Nh.forEach((function(e){t._triggerElement.removeEventListener(e,t,Rh)})),this._pointerUpEventsRegistered&&jh.forEach((function(e){t._triggerElement.removeEventListener(e,t,Rh)})))}}]),t}(),Mh=new r.q("mat-ripple-global-options"),Fh=((xh=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new Lh(this,n,e,r)}return _createClass(t,[{key:"ngOnInit",value:function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}},{key:"ngOnDestroy",value:function(){this._rippleRenderer._removeTriggerEvents()}},{key:"fadeOutAll",value:function(){this._rippleRenderer.fadeOutAll()}},{key:"_setupTriggerEventsIfEnabled",value:function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}},{key:"launch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}},{key:"trigger",get:function(){return this._trigger||this._elementRef.nativeElement},set:function(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}},{key:"rippleConfig",get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}},{key:"rippleDisabled",get:function(){return this.disabled||!!this._globalOptions.disabled}}]),t}()).\u0275fac=function(t){return new(t||xh)(r.Nb(r.l),r.Nb(r.z),r.Nb(cs),r.Nb(Mh,8),r.Nb(gh,8))},xh.\u0275dir=r.Ib({type:xh,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Eb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),xh),Vh=((Ih=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:Ih}),Ih.\u0275inj=r.Kb({factory:function(t){return new(t||Ih)},imports:[[Ch,ls],Ch]}),Ih),Uh=new r.q("mat-label-global-options");function Bh(t,e){}var zh=function t(){_classCallCheck(this,t),this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0},qh={dialogContainer:Zu("dialogContainer",[tc("void, exit",$u({opacity:0,transform:"scale(0.7)"})),tc("enter",$u({transform:"none"})),ec("* => enter",Ju("150ms cubic-bezier(0, 0, 0.2, 1)",$u({transform:"none",opacity:1}))),ec("* => void, * => exit",Ju("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",$u({opacity:0})))])};function Hh(){throw Error("Attempting to attach dialog content after content is already attached")}var Wh,Gh,Kh,Qh,Yh,Zh,Jh=((Wh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a,s){var u;return _classCallCheck(this,n),(u=e.call(this))._elementRef=t,u._focusTrapFactory=i,u._changeDetectorRef=o,u._config=s,u._elementFocusedBeforeDialogWasOpened=null,u._state="enter",u._animationStateChanged=new r.n,u.attachDomPortal=function(t){return u._portalOutlet.hasAttached()&&Hh(),u._setupFocusTrap(),u._portalOutlet.attachDomPortal(t)},u._ariaLabelledBy=s.ariaLabelledBy||null,u._document=a,u}return _createClass(n,[{key:"attachComponentPortal",value:function(t){return this._portalOutlet.hasAttached()&&Hh(),this._setupFocusTrap(),this._portalOutlet.attachComponentPortal(t)}},{key:"attachTemplatePortal",value:function(t){return this._portalOutlet.hasAttached()&&Hh(),this._setupFocusTrap(),this._portalOutlet.attachTemplatePortal(t)}},{key:"_recaptureFocus",value:function(){this._containsFocus()||this._focusTrap.focusInitialElement()||this._elementRef.nativeElement.focus()}},{key:"_trapFocus",value:function(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}},{key:"_restoreFocus",value:function(){var t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){var e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}},{key:"_setupFocusTrap",value:function(){var t=this;this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then((function(){return t._elementRef.nativeElement.focus()})))}},{key:"_containsFocus",value:function(){var t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}},{key:"_onAnimationDone",value:function(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)}},{key:"_onAnimationStart",value:function(t){this._animationStateChanged.emit(t)}},{key:"_startExitAnimation",value:function(){this._state="exit",this._changeDetectorRef.markForCheck()}}]),n}(js)).\u0275fac=function(t){return new(t||Wh)(r.Nb(r.l),r.Nb(Vu),r.Nb(r.h),r.Nb(u,8),r.Nb(zh))},Wh.\u0275cmp=r.Hb({type:Wh,selectors:[["mat-dialog-container"]],viewQuery:function(t,e){var n;1&t&&r.mc(Ms,!0),2&t&&r.hc(n=r.bc())&&(e._portalOutlet=n.first)},hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&r.Fb("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),2&t&&(r.Db("id",e._id)("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),r.sc("@dialogContainer",e._state))},features:[r.zb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.oc(0,Bh,0,0,"ng-template",0)},directives:[Ms],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[qh.dialogContainer]}}),Wh),Xh=0,$h=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mat-dialog-"+Xh++;_classCallCheck(this,t),this._overlayRef=e,this._containerInstance=n,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new qt.a,this._afterClosed=new qt.a,this._beforeClosed=new qt.a,this._state=0,n._id=i,n._animationStateChanged.pipe(ue((function(t){return"done"===t.phaseName&&"enter"===t.toState})),Ie(1)).subscribe((function(){r._afterOpened.next(),r._afterOpened.complete()})),n._animationStateChanged.pipe(ue((function(t){return"done"===t.phaseName&&"exit"===t.toState})),Ie(1)).subscribe((function(){clearTimeout(r._closeFallbackTimeout),r._finishDialogClose()})),e.detachments().subscribe((function(){r._beforeClosed.next(r._result),r._beforeClosed.complete(),r._afterClosed.next(r._result),r._afterClosed.complete(),r.componentInstance=null,r._overlayRef.dispose()})),e.keydownEvents().pipe(ue((function(t){return 27===t.keyCode&&!r.disableClose&&!Vs(t)}))).subscribe((function(t){t.preventDefault(),r.close()})),e.backdropClick().subscribe((function(){r.disableClose?r._containerInstance._recaptureFocus():r.close()}))}return _createClass(t,[{key:"close",value:function(t){var e=this;this._result=t,this._containerInstance._animationStateChanged.pipe(ue((function(t){return"start"===t.phaseName})),Ie(1)).subscribe((function(n){e._beforeClosed.next(t),e._beforeClosed.complete(),e._overlayRef.detachBackdrop(),e._closeFallbackTimeout=setTimeout((function(){return e._finishDialogClose()}),n.totalTime+100)})),this._containerInstance._startExitAnimation(),this._state=1}},{key:"afterOpened",value:function(){return this._afterOpened.asObservable()}},{key:"afterClosed",value:function(){return this._afterClosed.asObservable()}},{key:"beforeClosed",value:function(){return this._beforeClosed.asObservable()}},{key:"backdropClick",value:function(){return this._overlayRef.backdropClick()}},{key:"keydownEvents",value:function(){return this._overlayRef.keydownEvents()}},{key:"updatePosition",value:function(t){var e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}},{key:"updateSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}},{key:"addPanelClass",value:function(t){return this._overlayRef.addPanelClass(t),this}},{key:"removePanelClass",value:function(t){return this._overlayRef.removePanelClass(t),this}},{key:"getState",value:function(){return this._state}},{key:"_finishDialogClose",value:function(){this._state=2,this._overlayRef.dispose()}},{key:"_getPositionStrategy",value:function(){return this._overlayRef.getConfig().positionStrategy}}]),t}(),tf=new r.q("MatDialogData"),ef=new r.q("mat-dialog-default-options"),nf=new r.q("mat-dialog-scroll-strategy"),rf={provide:nf,deps:[mu],useFactory:function(t){return function(){return t.scrollStrategies.block()}}},of=((Zh=function(){function t(e,n,r,i,o,a,s){var u=this;_classCallCheck(this,t),this._overlay=e,this._injector=n,this._defaultOptions=i,this._parentDialog=a,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new qt.a,this._afterOpenedAtThisLevel=new qt.a,this._ariaHiddenElements=new Map,this.afterAllClosed=re((function(){return u.openDialogs.length?u._afterAllClosed:u._afterAllClosed.pipe(Ve(void 0))})),this._scrollStrategy=o}return _createClass(t,[{key:"open",value:function(t,e){var n=this;if((e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new zh)).id&&this.getDialogById(e.id))throw Error('Dialog with id "'.concat(e.id,'" exists already. The dialog id must be unique.'));var r=this._createOverlay(e),i=this._attachDialogContainer(r,e),o=this._attachDialogContent(t,i,r,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe((function(){return n._removeOpenDialog(o)})),this.afterOpened.next(o),o}},{key:"closeAll",value:function(){this._closeDialogs(this.openDialogs)}},{key:"getDialogById",value:function(t){return this.openDialogs.find((function(e){return e.id===t}))}},{key:"ngOnDestroy",value:function(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}},{key:"_createOverlay",value:function(t){var e=this._getOverlayConfig(t);return this._overlay.create(e)}},{key:"_getOverlayConfig",value:function(t){var e=new Ys({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}},{key:"_attachDialogContainer",value:function(t,e){var n=r.r.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:zh,useValue:e}]}),i=new Ds(Jh,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}},{key:"_attachDialogContent",value:function(t,e,n,i){var o=new $h(n,e,i.id);if(t instanceof r.L)e.attachTemplatePortal(new Rs(t,null,{$implicit:i.data,dialogRef:o}));else{var a=this._createInjector(i,o,e),s=e.attachComponentPortal(new Ds(t,i.viewContainerRef,a));o.componentInstance=s.instance}return o.updateSize(i.width,i.height).updatePosition(i.position),o}},{key:"_createInjector",value:function(t,e,n){var i=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=[{provide:Jh,useValue:n},{provide:tf,useValue:t.data},{provide:$h,useValue:e}];return!t.direction||i&&i.get(ks,null)||o.push({provide:ks,useValue:{value:t.direction,change:Object(Bt.a)()}}),r.r.create({parent:i||this._injector,providers:o})}},{key:"_removeOpenDialog",value:function(t){var e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")})),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}},{key:"_hideNonDialogContentFromAssistiveTechnology",value:function(){var t=this._overlayContainer.getContainerElement();if(t.parentElement)for(var e=t.parentElement.children,n=e.length-1;n>-1;n--){var r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}},{key:"_closeDialogs",value:function(t){for(var e=t.length;e--;)t[e].close()}},{key:"openDialogs",get:function(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}},{key:"afterOpened",get:function(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}},{key:"_afterAllClosed",get:function(){var t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}}]),t}()).\u0275fac=function(t){return new(t||Zh)(r.Wb(mu),r.Wb(r.r),r.Wb(I,8),r.Wb(ef,8),r.Wb(nf),r.Wb(Zh,12),r.Wb(iu))},Zh.\u0275prov=r.Jb({token:Zh,factory:Zh.\u0275fac}),Zh),af=0,sf=((Yh=function(){function t(e,n,r){_classCallCheck(this,t),this.dialogRef=e,this._elementRef=n,this._dialog=r,this.type="button"}return _createClass(t,[{key:"ngOnInit",value:function(){this.dialogRef||(this.dialogRef=hf(this._elementRef,this._dialog.openDialogs))}},{key:"ngOnChanges",value:function(t){var e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}}]),t}()).\u0275fac=function(t){return new(t||Yh)(r.Nb($h,8),r.Nb(r.l),r.Nb(of))},Yh.\u0275dir=r.Ib({type:Yh,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.ac("click",(function(){return e.dialogRef.close(e.dialogResult)})),2&t&&r.Db("aria-label",e.ariaLabel||null)("type",e.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[r.Ab]}),Yh),uf=((Qh=function(){function t(e,n,r){_classCallCheck(this,t),this._dialogRef=e,this._elementRef=n,this._dialog=r,this.id="mat-dialog-title-"+af++}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._dialogRef||(this._dialogRef=hf(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then((function(){var e=t._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=t.id)}))}}]),t}()).\u0275fac=function(t){return new(t||Qh)(r.Nb($h,8),r.Nb(r.l),r.Nb(of))},Qh.\u0275dir=r.Ib({type:Qh,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,e){2&t&&r.Vb("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),Qh),cf=((Kh=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Kh)},Kh.\u0275dir=r.Ib({type:Kh,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),Kh),lf=((Gh=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Gh)},Gh.\u0275dir=r.Ib({type:Gh,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),Gh);function hf(t,e){for(var n=t.nativeElement.parentElement;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find((function(t){return t.id===n.id})):null}var ff,df=((ff=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:ff}),ff.\u0275inj=r.Kb({factory:function(t){return new(t||ff)},providers:[of,rf],imports:[[_u,Fs,Ch],Ch]}),ff),pf=function(){function t(e,n,r,i){_classCallCheck(this,t),this.email=e,this.id=n,this._token=r,this._tokenExpirationDate=i}return _createClass(t,[{key:"token",get:function(){return!this._tokenExpirationDate||new Date>this._tokenExpirationDate?null:this._token}}]),t}(),vf=function t(){_classCallCheck(this,t)},yf=function t(){_classCallCheck(this,t)},mf=function(){function t(e){var n=this;_classCallCheck(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach((function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=r.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}}))}:function(){n.headers=new Map,Object.keys(e).forEach((function(t){var r=e[t],i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(t,i))}))}:this.headers=new Map}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(t){return e.applyUpdate(t)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach((function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))}))}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,_toConsumableArray(n)),this.headers.set(e,r);break;case"d":var i=t.value;if(i){var o=this.headers.get(e);if(!o)return;0===(o=o.filter((function(t){return-1===i.indexOf(t)}))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return t(e.normalizedNames.get(n),e.headers.get(n))}))}}]),t}(),gf=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"encodeKey",value:function(t){return _f(t)}},{key:"encodeValue",value:function(t){return _f(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function _f(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var bf=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,t),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new gf,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){var n=new Map;return t.length>0&&t.split("&").forEach((function(t){var r=t.indexOf("="),i=_slicedToArray(-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],2),o=i[0],a=i[1],s=n.get(o)||[];s.push(a),n.set(o,s)})),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(t){var r=n.fromObject[t];e.map.set(t,Array.isArray(r)?r:[r])}))):this.map=null}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map((function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map((function(e){return n+"="+t.encoder.encodeValue(e)})).join("&")})).filter((function(t){return""!==t})).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(e){return t.map.set(e,t.cloneFrom.map.get(e))})),this.updates.forEach((function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}})),this.cloneFrom=this.updates=null)}}]),t}();function wf(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function kf(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Cf(t){return"undefined"!=typeof FormData&&t instanceof FormData}var Ef=function(){function t(e,n,r,i){var o;if(_classCallCheck(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new mf),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new bf,this.urlWithParams=n}return _createClass(t,[{key:"serializeBody",value:function(){return null===this.body?null:wf(this.body)||kf(this.body)||Cf(this.body)||"string"==typeof this.body?this.body:this.body instanceof bf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Cf(this.body)?null:kf(this.body)?this.body.type||null:wf(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof bf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((function(t,n){return t.set(n,e.setHeaders[n])}),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((function(t,n){return t.set(n,e.setParams[n])}),c)),new t(n,r,o,{params:c,headers:u,reportProgress:s,responseType:i,withCredentials:a})}}]),t}(),Sf=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}(),Of=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,t),this.headers=e.headers||new mf,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},Tf=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,r)).type=Sf.ResponseHeader,t}return _createClass(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(Of),If=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,r)).type=Sf.Response,t.body=void 0!==r.body?r.body:null,t}return _createClass(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(Of),xf=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),r.error=t.error||null,r}return n}(Of);function Af(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var Pf,Df,Rf,Nf,jf,Lf,Mf,Ff,Vf,Uf,Bf=((Pf=function(){function t(e){_classCallCheck(this,t),this.handler=e}return _createClass(t,[{key:"request",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof Ef)n=t;else{var o=void 0;o=i.headers instanceof mf?i.headers:new mf(i.headers);var a=void 0;i.params&&(a=i.params instanceof bf?i.params:new bf({fromObject:i.params})),n=new Ef(t,e,void 0!==i.body?i.body:null,{headers:o,params:a,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var s=Object(Bt.a)(n).pipe(qe((function(t){return r.handler.handle(t)})));if(t instanceof Ef||"events"===i.observe)return s;var u=s.pipe(ue((function(t){return t instanceof If})));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(Object(ie.a)((function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body})));case"blob":return u.pipe(Object(ie.a)((function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body})));case"text":return u.pipe(Object(ie.a)((function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body})));case"json":default:return u.pipe(Object(ie.a)((function(t){return t.body})))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new bf).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,Af(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,Af(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,Af(n,e))}}]),t}()).\u0275fac=function(t){return new(t||Pf)(r.Wb(vf))},Pf.\u0275prov=r.Jb({token:Pf,factory:Pf.\u0275fac}),Pf),zf=function(){function t(e,n){_classCallCheck(this,t),this.next=e,this.interceptor=n}return _createClass(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),qf=new r.q("HTTP_INTERCEPTORS"),Hf=((Df=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Df)},Df.\u0275prov=r.Jb({token:Df,factory:Df.\u0275fac}),Df),Wf=/^\)\]\}',?\n/,Gf=function t(){_classCallCheck(this,t)},Kf=((Nf=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}()).\u0275fac=function(t){return new(t||Nf)},Nf.\u0275prov=r.Jb({token:Nf,factory:Nf.\u0275fac}),Nf),Qf=((Rf=function(){function t(e){_classCallCheck(this,t),this.xhrFactory=e}return _createClass(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new Gt.a((function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((function(t,e){return r.setRequestHeader(t,e.join(","))})),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new mf(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new Tf({headers:i,status:e,statusText:n,url:o})},c=function(){var e=u(),i=e.headers,o=e.status,a=e.statusText,s=e.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var h=c;c=c.replace(Wf,"");try{c=""!==c?JSON.parse(c):null}catch(f){c=h,l&&(l=!1,c={error:f,text:c})}}l?(n.next(new If({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new xf({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(t){var e=u().url,i=new xf({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(i)},h=!1,f=function(e){h||(n.next(u()),h=!0);var i={type:Sf.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(t){var e={type:Sf.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",c),r.addEventListener("error",l),t.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:Sf.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("load",c),t.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.abort()}}))}}]),t}()).\u0275fac=function(t){return new(t||Rf)(r.Wb(Gf))},Rf.\u0275prov=r.Jb({token:Rf,factory:Rf.\u0275fac}),Rf),Yf=new r.q("XSRF_COOKIE_NAME"),Zf=new r.q("XSRF_HEADER_NAME"),Jf=function t(){_classCallCheck(this,t)},Xf=((Uf=function(){function t(e,n,r){_classCallCheck(this,t),this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=L(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}()).\u0275fac=function(t){return new(t||Uf)(r.Wb(u),r.Wb(r.B),r.Wb(Yf))},Uf.\u0275prov=r.Jb({token:Uf,factory:Uf.\u0275fac}),Uf),$f=((Vf=function(){function t(e,n){_classCallCheck(this,t),this.tokenService=e,this.headerName=n}return _createClass(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Vf)(r.Wb(Jf),r.Wb(Zf))},Vf.\u0275prov=r.Jb({token:Vf,factory:Vf.\u0275fac}),Vf),td=((Ff=function(){function t(e,n){_classCallCheck(this,t),this.backend=e,this.injector=n,this.chain=null}return _createClass(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(qf,[]);this.chain=e.reduceRight((function(t,e){return new zf(t,e)}),this.backend)}return this.chain.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Ff)(r.Wb(yf),r.Wb(r.r))},Ff.\u0275prov=r.Jb({token:Ff,factory:Ff.\u0275fac}),Ff),ed=((Mf=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:$f,useClass:Hf}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:Yf,useValue:e.cookieName}:[],e.headerName?{provide:Zf,useValue:e.headerName}:[]]}}}]),t}()).\u0275mod=r.Lb({type:Mf}),Mf.\u0275inj=r.Kb({factory:function(t){return new(t||Mf)},providers:[$f,{provide:qf,useExisting:$f,multi:!0},{provide:Jf,useClass:Xf},{provide:Yf,useValue:"XSRF-TOKEN"},{provide:Zf,useValue:"X-XSRF-TOKEN"}]}),Mf),nd=((Lf=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:Lf}),Lf.\u0275inj=r.Kb({factory:function(t){return new(t||Lf)},providers:[Bf,{provide:vf,useClass:td},Qf,{provide:yf,useExisting:Qf},Kf,{provide:Gf,useExisting:Kf}],imports:[[ed.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Lf),rd=((jf=function(){function t(e){_classCallCheck(this,t),this.http=e,this.baseSignUpUrl="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=",this.baseSignInUrl="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=",this.apiKey="AIzaSyD1O6sO7uFrwlns1gR1PGfAibtNu_uyHoA",this.user=new Wt(null)}return _createClass(t,[{key:"signUp",value:function(t,e){var n=this;return this.http.post("".concat(this.baseSignUpUrl).concat(this.apiKey),{email:t,password:e,returnSecureToken:!0}).pipe(Object(Ge.a)((function(t){n.handleAuthentication(t.email,t.localId,t.idToken,+t.expiresIn)})))}},{key:"signIn",value:function(t,e){var n=this;return this.http.post("".concat(this.baseSignInUrl).concat(this.apiKey),{email:t,password:e,returnSecureToken:!0}).pipe(Object(Ge.a)((function(t){n.handleAuthentication(t.email,t.localId,t.idToken,+t.expiresIn)})))}},{key:"logout",value:function(){this.user.next(null),localStorage.removeItem("userData")}},{key:"autologin",value:function(){var t=JSON.parse(localStorage.getItem("userData"));if(t){var e=new pf(t.email,t.id,t._token,new Date(t._tokenExpirationDate));if(e.token){var n=new Date(t._tokenExpirationDate).getTime()-(new Date).getTime();this.autologout(n),this.user.next(e)}}}},{key:"autologout",value:function(t){var e=this;this.tokenExpirationTimer=setTimeout((function(){e.logout()}),t)}},{key:"handleAuthentication",value:function(t,e,n,r){var i=new Date((new Date).getTime()+1e3*+r),o=new pf(t,e,n,i);this.user.next(o),this.autologout(1e3*r),localStorage.setItem("userData",JSON.stringify(o))}}]),t}()).\u0275fac=function(t){return new(t||jf)(r.Wb(Bf))},jf.\u0275prov=r.Jb({token:jf,factory:jf.\u0275fac,providedIn:"root"}),jf),id=n("WMd4");function od(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ha.a,r=(e=t)instanceof Date&&!isNaN(+e)?+t-n.now():Math.abs(t);return function(t){return t.lift(new pd(r,n))}}var ad,sd,ud,cd,ld,hd,fd,dd,pd=function(){function t(e,n){_classCallCheck(this,t),this.delay=e,this.scheduler=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new vd(t,this.delay,this.scheduler))}}]),t}(),vd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).delay=r,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return _createClass(n,[{key:"_schedule",value:function(t){this.active=!0,this.destination.add(t.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}},{key:"scheduleNotification",value:function(t){if(!0!==this.errored){var e=this.scheduler,n=new yd(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}}},{key:"_next",value:function(t){this.scheduleNotification(id.a.createNext(t))}},{key:"_error",value:function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(id.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1}}]),n}(se.a),yd=function t(e,n){_classCallCheck(this,t),this.time=e,this.notification=n},md=["mat-menu-item",""],gd=["*"],_d=((ad=function(){function t(e,n,r,i,o,a,s){_classCallCheck(this,t),this._template=e,this._componentFactoryResolver=n,this._appRef=r,this._injector=i,this._viewContainerRef=o,this._document=a,this._changeDetectorRef=s,this._attached=new qt.a}return _createClass(t,[{key:"attach",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._portal||(this._portal=new Rs(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new Ls(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));var e=this._template.elementRef.nativeElement;e.parentNode.insertBefore(this._outlet.outletElement,e),this._changeDetectorRef&&this._changeDetectorRef.markForCheck(),this._portal.attach(this._outlet,t),this._attached.next()}},{key:"detach",value:function(){this._portal.isAttached&&this._portal.detach()}},{key:"ngOnDestroy",value:function(){this._outlet&&this._outlet.dispose()}}]),t}()).\u0275fac=function(t){return new(t||ad)(r.Nb(r.L),r.Nb(r.j),r.Nb(r.g),r.Nb(r.r),r.Nb(r.P),r.Nb(u),r.Nb(r.h))},ad.\u0275dir=r.Ib({type:ad,selectors:[["ng-template","matMenuContent",""]]}),ad),bd=new r.q("MAT_MENU_PANEL"),wd=Oh(Eh((function t(){_classCallCheck(this,t)}))),kd=((sd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this))._elementRef=t,a._focusMonitor=i,a._parentMenu=o,a.role="menuitem",a._hovered=new qt.a,a._focused=new qt.a,a._highlighted=!1,a._triggersSubmenu=!1,i&&i.monitor(a._elementRef,!1),o&&o.addItem&&o.addItem(_assertThisInitialized(a)),a._document=r,a}return _createClass(n,[{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)}},{key:"ngOnDestroy",value:function(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}},{key:"_getTabIndex",value:function(){return this.disabled?"-1":"0"}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_checkDisabled",value:function(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}},{key:"_handleMouseEnter",value:function(){this._hovered.next(this)}},{key:"getLabel",value:function(){var t=this._elementRef.nativeElement,e=this._document?this._document.TEXT_NODE:3,n="";if(t.childNodes)for(var r=t.childNodes.length,i=0;i<r;i++)t.childNodes[i].nodeType===e&&(n+=t.childNodes[i].textContent);return n.trim()}}]),n}(wd)).\u0275fac=function(t){return new(t||sd)(r.Nb(r.l),r.Nb(u),r.Nb(Hu),r.Nb(bd,8))},sd.\u0275cmp=r.Hb({type:sd,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,e){1&t&&r.ac("click",(function(t){return e._checkDisabled(t)}))("mouseenter",(function(){return e._handleMouseEnter()})),2&t&&(r.Db("role",e.role)("tabindex",e._getTabIndex())("aria-disabled",e.disabled.toString())("disabled",e.disabled||null),r.Eb("mat-menu-item",!0)("mat-menu-item-highlighted",e._highlighted)("mat-menu-item-submenu-trigger",e._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[r.zb],attrs:md,ngContentSelectors:gd,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(t,e){1&t&&(r.ec(),r.dc(0),r.Ob(1,"div",0)),2&t&&(r.Cb(1),r.fc("matRippleDisabled",e.disableRipple||e.disabled)("matRippleTrigger",e._getHostElement()))},directives:[Fh],encapsulation:2,changeDetection:0}),sd),Cd=new r.q("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}}),Ed=0,Sd=((cd=function(){function t(e,n,i){_classCallCheck(this,t),this._elementRef=e,this._ngZone=n,this._defaultOptions=i,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new r.D,this._tabSubscription=Ke.a.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new qt.a,this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new r.n,this.close=this.closed,this.panelId="mat-menu-panel-"+Ed++}return _createClass(t,[{key:"ngOnInit",value:function(){this.setPositionClasses()}},{key:"ngAfterContentInit",value:function(){var t=this;this._updateDirectDescendants(),this._keyManager=new Ru(this._directDescendantItems).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe((function(){return t.closed.emit("tab")})),this._directDescendantItems.changes.pipe(Ve(this._directDescendantItems),je((function(t){return Object(Fa.a).apply(void 0,_toConsumableArray(t.map((function(t){return t._focused}))))}))).subscribe((function(e){return t._keyManager.updateActiveItem(e)}))}},{key:"ngOnDestroy",value:function(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}},{key:"_hovered",value:function(){return this._directDescendantItems.changes.pipe(Ve(this._directDescendantItems),je((function(t){return Object(Fa.a).apply(void 0,_toConsumableArray(t.map((function(t){return t._hovered}))))})))}},{key:"addItem",value:function(t){}},{key:"removeItem",value:function(t){}},{key:"_handleKeydown",value:function(t){var e=t.keyCode,n=this._keyManager;switch(e){case 27:Vs(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;case 36:case 35:Vs(t)||(36===e?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault());break;default:38!==e&&40!==e||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}},{key:"focusFirstItem",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program";this.lazyContent?this._ngZone.onStable.asObservable().pipe(Ie(1)).subscribe((function(){return t._focusFirstItem(e)})):this._focusFirstItem(e)}},{key:"_focusFirstItem",value:function(t){var e=this._keyManager;if(e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length)for(var n=this._directDescendantItems.first._getHostElement().parentElement;n;){if("menu"===n.getAttribute("role")){n.focus();break}n=n.parentElement}}},{key:"resetActiveItem",value:function(){this._keyManager.setActiveItem(-1)}},{key:"setElevation",value:function(t){var e="mat-elevation-z"+Math.min(4+t,24),n=Object.keys(this._classList).find((function(t){return t.startsWith("mat-elevation-z")}));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}},{key:"setPositionClasses",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.xPosition,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.yPosition,n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}},{key:"_startAnimation",value:function(){this._panelAnimationState="enter"}},{key:"_resetAnimation",value:function(){this._panelAnimationState="void"}},{key:"_onAnimationDone",value:function(t){this._animationDone.next(t),this._isAnimating=!1}},{key:"_onAnimationStart",value:function(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}},{key:"_updateDirectDescendants",value:function(){var t=this;this._allItems.changes.pipe(Ve(this._allItems)).subscribe((function(e){t._directDescendantItems.reset(e.filter((function(e){return e._parentMenu===t}))),t._directDescendantItems.notifyOnChanges()}))}},{key:"xPosition",get:function(){return this._xPosition},set:function(t){"before"!==t&&"after"!==t&&function(){throw Error('xPosition value must be either \'before\' or after\'.\n      Example: <mat-menu xPosition="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=t,this.setPositionClasses()}},{key:"yPosition",get:function(){return this._yPosition},set:function(t){"above"!==t&&"below"!==t&&function(){throw Error('yPosition value must be either \'above\' or below\'.\n      Example: <mat-menu yPosition="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=t,this.setPositionClasses()}},{key:"overlapTrigger",get:function(){return this._overlapTrigger},set:function(t){this._overlapTrigger=Pa(t)}},{key:"hasBackdrop",get:function(){return this._hasBackdrop},set:function(t){this._hasBackdrop=Pa(t)}},{key:"panelClass",set:function(t){var e=this,n=this._previousPanelClass;n&&n.length&&n.split(" ").forEach((function(t){e._classList[t]=!1})),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach((function(t){e._classList[t]=!0})),this._elementRef.nativeElement.className="")}},{key:"classList",get:function(){return this.panelClass},set:function(t){this.panelClass=t}}]),t}()).\u0275fac=function(t){return new(t||cd)(r.Nb(r.l),r.Nb(r.z),r.Nb(Cd))},cd.\u0275dir=r.Ib({type:cd,contentQueries:function(t,e,n){var i;1&t&&(r.Gb(n,_d,!0),r.Gb(n,kd,!0),r.Gb(n,kd,!1)),2&t&&(r.hc(i=r.bc())&&(e.lazyContent=i.first),r.hc(i=r.bc())&&(e._allItems=i),r.hc(i=r.bc())&&(e.items=i))},viewQuery:function(t,e){var n;1&t&&r.tc(r.L,!0),2&t&&r.hc(n=r.bc())&&(e.templateRef=n.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),cd),Od=((ud=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(Sd)).\u0275fac=function(t){return Td(t||ud)},ud.\u0275dir=r.Ib({type:ud,features:[r.zb]}),ud),Td=r.Ub(Od),Id=new r.q("mat-menu-scroll-strategy"),xd={provide:Id,deps:[mu],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},Ad=ds({passive:!0}),Pd=((fd=function(){function t(e,n,i,o,a,s,u,c){var l=this;_classCallCheck(this,t),this._overlay=e,this._element=n,this._viewContainerRef=i,this._parentMenu=a,this._menuItemInstance=s,this._dir=u,this._focusMonitor=c,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ke.a.EMPTY,this._hoverSubscription=Ke.a.EMPTY,this._menuCloseSubscription=Ke.a.EMPTY,this._handleTouchStart=function(){return l._openedBy="touch"},this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new r.n,this.onMenuOpen=this.menuOpened,this.menuClosed=new r.n,this.onMenuClose=this.menuClosed,n.nativeElement.addEventListener("touchstart",this._handleTouchStart,Ad),s&&(s._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=o}return _createClass(t,[{key:"ngAfterContentInit",value:function(){this._checkMenu(),this._handleHover()}},{key:"ngOnDestroy",value:function(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Ad),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}},{key:"triggersSubmenu",value:function(){return!(!this._menuItemInstance||!this._parentMenu)}},{key:"toggleMenu",value:function(){return this._menuOpen?this.closeMenu():this.openMenu()}},{key:"openMenu",value:function(){var t=this;if(!this._menuOpen){this._checkMenu();var e=this._createOverlay(),n=e.getConfig();this._setPosition(n.positionStrategy),n.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe((function(){return t.closeMenu()})),this._initMenu(),this.menu instanceof Od&&this.menu._startAnimation()}}},{key:"closeMenu",value:function(){this.menu.close.emit()}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}},{key:"_destroyMenu",value:function(){var t=this;if(this._overlayRef&&this.menuOpen){var e=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this._restoreFocus(),e instanceof Od?(e._resetAnimation(),e.lazyContent?e._animationDone.pipe(ue((function(t){return"void"===t.toState})),Ie(1),Za(e.lazyContent._attached)).subscribe({next:function(){return e.lazyContent.detach()},complete:function(){return t._setIsMenuOpen(!1)}}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),e.lazyContent&&e.lazyContent.detach())}}},{key:"_initMenu",value:function(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}},{key:"_setMenuElevation",value:function(){if(this.menu.setElevation){for(var t=0,e=this.menu.parentMenu;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}},{key:"_restoreFocus",value:function(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}},{key:"_setIsMenuOpen",value:function(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}},{key:"_checkMenu",value:function(){this.menu||function(){throw Error('matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()}},{key:"_createOverlay",value:function(){if(!this._overlayRef){var t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}},{key:"_getOverlayConfig",value:function(){return new Ys({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this._dir})}},{key:"_subscribeToPositions",value:function(t){var e=this;this.menu.setPositionClasses&&t.positionChanges.subscribe((function(t){e.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")}))}},{key:"_setPosition",value:function(t){var e=_slicedToArray("before"===this.menu.xPosition?["end","start"]:["start","end"],2),n=e[0],r=e[1],i=_slicedToArray("above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],2),o=i[0],a=i[1],s=o,u=a,c=n,l=r,h=0;this.triggersSubmenu()?(l=n="before"===this.menu.xPosition?"start":"end",r=c="end"===n?"start":"end",h="bottom"===o?8:-8):this.menu.overlapTrigger||(s="top"===o?"bottom":"top",u="top"===a?"bottom":"top"),t.withPositions([{originX:n,originY:s,overlayX:c,overlayY:o,offsetY:h},{originX:r,originY:s,overlayX:l,overlayY:o,offsetY:h},{originX:n,originY:u,overlayX:c,overlayY:a,offsetY:-h},{originX:r,originY:u,overlayX:l,overlayY:a,offsetY:-h}])}},{key:"_menuClosingActions",value:function(){var t=this,e=this._overlayRef.backdropClick(),n=this._overlayRef.detachments(),r=this._parentMenu?this._parentMenu.closed:Object(Bt.a)(),i=this._parentMenu?this._parentMenu._hovered().pipe(ue((function(e){return e!==t._menuItemInstance})),ue((function(){return t._menuOpen}))):Object(Bt.a)();return Object(Fa.a)(e,r,i,n)}},{key:"_handleMousedown",value:function(t){Uu(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())}},{key:"_handleKeydown",value:function(t){var e=t.keyCode;this.triggersSubmenu()&&(39===e&&"ltr"===this.dir||37===e&&"rtl"===this.dir)&&this.openMenu()}},{key:"_handleClick",value:function(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}},{key:"_handleHover",value:function(){var t=this;this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(ue((function(e){return e===t._menuItemInstance&&!e.disabled})),od(0,Ba.a)).subscribe((function(){t._openedBy="mouse",t.menu instanceof Od&&t.menu._isAnimating?t.menu._animationDone.pipe(Ie(1),od(0,Ba.a),Za(t._parentMenu._hovered())).subscribe((function(){return t.openMenu()})):t.openMenu()})))}},{key:"_getPortal",value:function(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new Rs(this.menu.templateRef,this._viewContainerRef)),this._portal}},{key:"_deprecatedMatMenuTriggerFor",get:function(){return this.menu},set:function(t){this.menu=t}},{key:"menu",get:function(){return this._menu},set:function(t){var e=this;t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.asObservable().subscribe((function(t){e._destroyMenu(),"click"!==t&&"tab"!==t||!e._parentMenu||e._parentMenu.closed.emit(t)}))))}},{key:"menuOpen",get:function(){return this._menuOpen}},{key:"dir",get:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}}]),t}()).\u0275fac=function(t){return new(t||fd)(r.Nb(mu),r.Nb(r.l),r.Nb(r.P),r.Nb(Id),r.Nb(Od,8),r.Nb(kd,10),r.Nb(ks,8),r.Nb(Hu))},fd.\u0275dir=r.Ib({type:fd,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(t,e){1&t&&r.ac("mousedown",(function(t){return e._handleMousedown(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("click",(function(t){return e._handleClick(t)})),2&t&&r.Db("aria-expanded",e.menuOpen||null)("aria-controls",e.menuOpen?e.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),fd),Dd=((hd=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:hd}),hd.\u0275inj=r.Kb({factory:function(t){return new(t||hd)},providers:[xd],imports:[Ch]}),hd),Rd=((ld=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:ld}),ld.\u0275inj=r.Kb({factory:function(t){return new(t||ld)},providers:[xd],imports:[[at,Ch,Vh,_u,Dd],Os,Ch,Dd]}),ld),Nd=function(){function t(e,n){_classCallCheck(this,t),this.title=e,this.content=n,this.date=new Date,this.id=this.getId()}return _createClass(t,[{key:"getId",value:function(){return Math.floor(1e7*Math.random())}}]),t}(),jd=((dd=function(){function t(e,n){_classCallCheck(this,t),this.http=e,this.auth=n,this.$notesChanged=new qt.a,this.notes=[],this.baseUrl="https://notesapp-b2c5d-default-rtdb.firebaseio.com/users/"}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onFetchPosts",value:function(){this.fetchPosts()}},{key:"addNote",value:function(){var t=this,e=new Nd("Type a title","Type content");this.http.post(this.baseUrl+this.uid+"/notes.json",e).subscribe((function(e){t.fetchPosts().subscribe((function(e){t.notes=e,t.$notesChanged.next(t.notes)}))}))}},{key:"fetchPosts",value:function(){var t=this;return this.updateUserId(),this.http.get(this.baseUrl+this.uid+"/notes.json").pipe(Object(ie.a)((function(e){var n=[];for(var r in e)e.hasOwnProperty&&n.push(Object.assign(Object.assign({},e[r]),{id:r}));return t.notes=n,t.notes})))}},{key:"updateNote",value:function(t,e,n){var r=this;this.http.patch(this.baseUrl+this.uid+"/notes/"+t+".json",{title:e.nativeElement.innerText,content:n.nativeElement.innerText}).subscribe((function(t){console.log(t),r.fetchPosts().subscribe((function(t){r.notes=t,r.$notesChanged.next(r.notes)}))}))}},{key:"removeNote",value:function(t){var e=this;return this.http.delete(this.baseUrl+this.uid+"/notes/"+t+".json").subscribe((function(t){e.fetchPosts().subscribe((function(t){e.notes=t,e.$notesChanged.next(e.notes)}))}))}},{key:"updateUserId",value:function(){var t=this;this.auth.user.subscribe((function(e){e&&(console.log("updating user"),t.uid=e.id)}))}},{key:"updateColor",value:function(t,e){this.http.patch(this.baseUrl+this.uid+"/notes/"+t+".json",{color:e}).subscribe((function(t){console.log(t)}))}}]),t}()).\u0275fac=function(t){return new(t||dd)(r.Wb(Bf),r.Wb(rd))},dd.\u0275prov=r.Jb({token:dd,factory:dd.\u0275fac,providedIn:"root"}),dd),Ld=["underline"],Md=["connectionContainer"],Fd=["inputContainer"],Vd=["label"];function Ud(t,e){1&t&&(r.Qb(0),r.Sb(1,"div",14),r.Ob(2,"div",15),r.Ob(3,"div",16),r.Ob(4,"div",17),r.Rb(),r.Sb(5,"div",18),r.Ob(6,"div",15),r.Ob(7,"div",16),r.Ob(8,"div",17),r.Rb(),r.Pb())}function Bd(t,e){1&t&&(r.Sb(0,"div",19),r.dc(1,1),r.Rb())}function zd(t,e){if(1&t&&(r.Qb(0),r.dc(1,2),r.Sb(2,"span"),r.pc(3),r.Rb(),r.Pb()),2&t){var n=r.cc(2);r.Cb(3),r.qc(n._control.placeholder)}}function qd(t,e){1&t&&r.dc(0,3,["*ngSwitchCase","true"])}function Hd(t,e){1&t&&(r.Sb(0,"span",23),r.pc(1," *"),r.Rb())}function Wd(t,e){if(1&t){var n=r.Tb();r.Sb(0,"label",20,21),r.ac("cdkObserveContent",(function(){return r.ic(n),r.cc().updateOutlineGap()})),r.oc(2,zd,4,1,"ng-container",12),r.oc(3,qd,1,0,void 0,12),r.oc(4,Hd,2,0,"span",22),r.Rb()}if(2&t){var i=r.cc();r.Eb("mat-empty",i._control.empty&&!i._shouldAlwaysFloat)("mat-form-field-empty",i._control.empty&&!i._shouldAlwaysFloat)("mat-accent","accent"==i.color)("mat-warn","warn"==i.color),r.fc("cdkObserveContentDisabled","outline"!=i.appearance)("id",i._labelId)("ngSwitch",i._hasLabel()),r.Db("for",i._control.id)("aria-owns",i._control.id),r.Cb(2),r.fc("ngSwitchCase",!1),r.Cb(1),r.fc("ngSwitchCase",!0),r.Cb(1),r.fc("ngIf",!i.hideRequiredMarker&&i._control.required&&!i._control.disabled)}}function Gd(t,e){1&t&&(r.Sb(0,"div",24),r.dc(1,4),r.Rb())}function Kd(t,e){if(1&t&&(r.Sb(0,"div",25,26),r.Ob(2,"span",27),r.Rb()),2&t){var n=r.cc();r.Cb(2),r.Eb("mat-accent","accent"==n.color)("mat-warn","warn"==n.color)}}function Qd(t,e){if(1&t&&(r.Sb(0,"div"),r.dc(1,5),r.Rb()),2&t){var n=r.cc();r.fc("@transitionMessages",n._subscriptAnimationState)}}function Yd(t,e){if(1&t&&(r.Sb(0,"div",31),r.pc(1),r.Rb()),2&t){var n=r.cc(2);r.fc("id",n._hintLabelId),r.Cb(1),r.qc(n.hintLabel)}}function Zd(t,e){if(1&t&&(r.Sb(0,"div",28),r.oc(1,Yd,2,2,"div",29),r.dc(2,6),r.Ob(3,"div",30),r.dc(4,7),r.Rb()),2&t){var n=r.cc();r.fc("@transitionMessages",n._subscriptAnimationState),r.Cb(1),r.fc("ngIf",n.hintLabel)}}var Jd,Xd,$d=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],tp=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],ep=0,np=((Jd=function t(){_classCallCheck(this,t),this.id="mat-error-"+ep++}).\u0275fac=function(t){return new(t||Jd)},Jd.\u0275dir=r.Ib({type:Jd,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&r.Db("id",e.id)},inputs:{id:"id"}}),Jd),rp={transitionMessages:Zu("transitionMessages",[tc("enter",$u({opacity:1,transform:"translateY(0%)"})),ec("void => enter",[$u({opacity:0,transform:"translateY(-100%)"}),Ju("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},ip=((Xd=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Xd)},Xd.\u0275dir=r.Ib({type:Xd}),Xd);function op(t){return Error("A hint was already declared for 'align=\"".concat(t,"\"'."))}var ap,sp,up,cp,lp,hp,fp,dp,pp,vp,yp,mp,gp,_p,bp=0,wp=((lp=function t(){_classCallCheck(this,t),this.align="start",this.id="mat-hint-"+bp++}).\u0275fac=function(t){return new(t||lp)},lp.\u0275dir=r.Ib({type:lp,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,e){2&t&&(r.Db("id",e.id)("align",null),r.Eb("mat-right","end"==e.align))},inputs:{align:"align",id:"id"}}),lp),kp=((cp=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||cp)},cp.\u0275dir=r.Ib({type:cp,selectors:[["mat-label"]]}),cp),Cp=((up=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||up)},up.\u0275dir=r.Ib({type:up,selectors:[["mat-placeholder"]]}),up),Ep=((sp=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||sp)},sp.\u0275dir=r.Ib({type:sp,selectors:[["","matPrefix",""]]}),sp),Sp=((ap=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||ap)},ap.\u0275dir=r.Ib({type:ap,selectors:[["","matSuffix",""]]}),ap),Op=0,Tp=Sh((function t(e){_classCallCheck(this,t),this._elementRef=e}),"primary"),Ip=new r.q("MAT_FORM_FIELD_DEFAULT_OPTIONS"),xp=new r.q("MatFormField"),Ap=((fp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a,s,u,c){var l;return _classCallCheck(this,n),(l=e.call(this,t))._elementRef=t,l._changeDetectorRef=r,l._dir=o,l._defaults=a,l._platform=s,l._ngZone=u,l._outlineGapCalculationNeededImmediately=!1,l._outlineGapCalculationNeededOnStable=!1,l._destroyed=new qt.a,l._showAlwaysAnimate=!1,l._subscriptAnimationState="",l._hintLabel="",l._hintLabelId="mat-hint-"+Op++,l._labelId="mat-form-field-label-"+Op++,l._labelOptions=i||{},l.floatLabel=l._getDefaultFloatLabelState(),l._animationsEnabled="NoopAnimations"!==c,l.appearance=a&&a.appearance?a.appearance:"legacy",l._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker,l}return _createClass(n,[{key:"getConnectedOverlayOrigin",value:function(){return this._connectionContainerRef||this._elementRef}},{key:"ngAfterContentInit",value:function(){var t=this;this._validateControlChild();var e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+e.controlType),e.stateChanges.pipe(Ve(null)).subscribe((function(){t._validatePlaceholders(),t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()})),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Za(this._destroyed)).subscribe((function(){return t._changeDetectorRef.markForCheck()})),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.asObservable().pipe(Za(t._destroyed)).subscribe((function(){t._outlineGapCalculationNeededOnStable&&t.updateOutlineGap()}))})),Object(Fa.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe((function(){t._outlineGapCalculationNeededOnStable=!0,t._changeDetectorRef.markForCheck()})),this._hintChildren.changes.pipe(Ve(null)).subscribe((function(){t._processHints(),t._changeDetectorRef.markForCheck()})),this._errorChildren.changes.pipe(Ve(null)).subscribe((function(){t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()})),this._dir&&this._dir.change.pipe(Za(this._destroyed)).subscribe((function(){"function"==typeof requestAnimationFrame?t._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){return t.updateOutlineGap()}))})):t.updateOutlineGap()}))}},{key:"ngAfterContentChecked",value:function(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}},{key:"ngAfterViewInit",value:function(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_shouldForward",value:function(t){var e=this._control?this._control.ngControl:null;return e&&e[t]}},{key:"_hasPlaceholder",value:function(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}},{key:"_hasLabel",value:function(){return!!this._labelChild}},{key:"_shouldLabelFloat",value:function(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}},{key:"_hideControlPlaceholder",value:function(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}},{key:"_hasFloatingLabel",value:function(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}},{key:"_getDisplayedMessages",value:function(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}},{key:"_animateAndLockLabel",value:function(){var t=this;this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ma(this._label.nativeElement,"transitionend").pipe(Ie(1)).subscribe((function(){t._showAlwaysAnimate=!1}))),this.floatLabel="always",this._changeDetectorRef.markForCheck())}},{key:"_validatePlaceholders",value:function(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}},{key:"_processHints",value:function(){this._validateHints(),this._syncDescribedByIds()}},{key:"_validateHints",value:function(){var t,e,n=this;this._hintChildren&&this._hintChildren.forEach((function(r){if("start"===r.align){if(t||n.hintLabel)throw op("start");t=r}else if("end"===r.align){if(e)throw op("end");e=r}}))}},{key:"_getDefaultFloatLabelState",value:function(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}},{key:"_syncDescribedByIds",value:function(){if(this._control){var t=[];if("hint"===this._getDisplayedMessages()){var e=this._hintChildren?this._hintChildren.find((function(t){return"start"===t.align})):null,n=this._hintChildren?this._hintChildren.find((function(t){return"end"===t.align})):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map((function(t){return t.id})));this._control.setDescribedByIds(t)}}},{key:"_validateControlChild",value:function(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}},{key:"updateOutlineGap",value:function(){var t=this._label?this._label.nativeElement:null;if("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser)if(this._isAttachedToDOM()){var e=0,n=0,r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),o=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){var a=r.getBoundingClientRect();if(0===a.width&&0===a.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);var s,u=this._getStartEnd(a),c=this._getStartEnd(t.children[0].getBoundingClientRect()),l=0,h=_createForOfIteratorHelper(t.children);try{for(h.s();!(s=h.n()).done;)l+=s.value.offsetWidth}catch(p){h.e(p)}finally{h.f()}e=Math.abs(c-u)-5,n=l>0?.75*l+10:0}for(var f=0;f<i.length;f++)i[f].style.width=e+"px";for(var d=0;d<o.length;d++)o[d].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}else this._outlineGapCalculationNeededImmediately=!0}},{key:"_getStartEnd",value:function(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}},{key:"_isAttachedToDOM",value:function(){var t=this._elementRef.nativeElement;if(t.getRootNode){var e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}},{key:"appearance",get:function(){return this._appearance},set:function(t){var e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}},{key:"hideRequiredMarker",get:function(){return this._hideRequiredMarker},set:function(t){this._hideRequiredMarker=Pa(t)}},{key:"_shouldAlwaysFloat",get:function(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}},{key:"_canLabelFloat",get:function(){return"never"!==this.floatLabel}},{key:"hintLabel",get:function(){return this._hintLabel},set:function(t){this._hintLabel=t,this._processHints()}},{key:"floatLabel",get:function(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel},set:function(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}},{key:"_control",get:function(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic},set:function(t){this._explicitFormFieldControl=t}},{key:"_labelChild",get:function(){return this._labelChildNonStatic||this._labelChildStatic}}]),n}(Tp)).\u0275fac=function(t){return new(t||fp)(r.Nb(r.l),r.Nb(r.h),r.Nb(Uh,8),r.Nb(ks,8),r.Nb(Ip,8),r.Nb(cs),r.Nb(r.z),r.Nb(gh,8))},fp.\u0275cmp=r.Hb({type:fp,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var i;1&t&&(r.Gb(n,ip,!0),r.lc(n,ip,!0),r.Gb(n,kp,!0),r.lc(n,kp,!0),r.Gb(n,Cp,!0),r.Gb(n,np,!0),r.Gb(n,wp,!0),r.Gb(n,Ep,!0),r.Gb(n,Sp,!0)),2&t&&(r.hc(i=r.bc())&&(e._controlNonStatic=i.first),r.hc(i=r.bc())&&(e._controlStatic=i.first),r.hc(i=r.bc())&&(e._labelChildNonStatic=i.first),r.hc(i=r.bc())&&(e._labelChildStatic=i.first),r.hc(i=r.bc())&&(e._placeholderChild=i.first),r.hc(i=r.bc())&&(e._errorChildren=i),r.hc(i=r.bc())&&(e._hintChildren=i),r.hc(i=r.bc())&&(e._prefixChildren=i),r.hc(i=r.bc())&&(e._suffixChildren=i))},viewQuery:function(t,e){var n;1&t&&(r.tc(Ld,!0),r.mc(Md,!0),r.tc(Fd,!0),r.tc(Vd,!0)),2&t&&(r.hc(n=r.bc())&&(e.underlineRef=n.first),r.hc(n=r.bc())&&(e._connectionContainerRef=n.first),r.hc(n=r.bc())&&(e._inputContainerRef=n.first),r.hc(n=r.bc())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&r.Eb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat)("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r.Bb([{provide:xp,useExisting:fp}]),r.zb],ngContentSelectors:tp,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.ec($d),r.Sb(0,"div",0),r.Sb(1,"div",1,2),r.ac("click",(function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)})),r.oc(3,Ud,9,0,"ng-container",3),r.oc(4,Bd,2,0,"div",4),r.Sb(5,"div",5,6),r.dc(7),r.Sb(8,"span",7),r.oc(9,Wd,5,16,"label",8),r.Rb(),r.Rb(),r.oc(10,Gd,2,0,"div",9),r.Rb(),r.oc(11,Kd,3,4,"div",10),r.Sb(12,"div",11),r.oc(13,Qd,2,1,"div",12),r.oc(14,Zd,5,2,"div",13),r.Rb(),r.Rb()),2&t&&(r.Cb(3),r.fc("ngIf","outline"==e.appearance),r.Cb(1),r.fc("ngIf",e._prefixChildren.length),r.Cb(5),r.fc("ngIf",e._hasFloatingLabel()),r.Cb(1),r.fc("ngIf",e._suffixChildren.length),r.Cb(1),r.fc("ngIf","outline"!=e.appearance),r.Cb(1),r.fc("ngSwitch",e._getDisplayedMessages()),r.Cb(1),r.fc("ngSwitchCase","error"),r.Cb(1),r.fc("ngSwitchCase","hint"))},directives:[H,rt,it,Pu],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[rp.transitionMessages]},changeDetection:0}),fp),Pp=((hp=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:hp}),hp.\u0275inj=r.Kb({factory:function(t){return new(t||hp)},imports:[[at,Ch,Du],Ch]}),hp),Dp=ds({passive:!0}),Rp=((pp=function(){function t(e,n){_classCallCheck(this,t),this._platform=e,this._ngZone=n,this._monitoredElements=new Map}return _createClass(t,[{key:"monitor",value:function(t){var e=this;if(!this._platform.isBrowser)return ne.a;var n=ja(t),r=this._monitoredElements.get(n);if(r)return r.subject.asObservable();var i=new qt.a,o="cdk-text-field-autofilled",a=function(t){"cdk-text-field-autofill-start"!==t.animationName||n.classList.contains(o)?"cdk-text-field-autofill-end"===t.animationName&&n.classList.contains(o)&&(n.classList.remove(o),e._ngZone.run((function(){return i.next({target:t.target,isAutofilled:!1})}))):(n.classList.add(o),e._ngZone.run((function(){return i.next({target:t.target,isAutofilled:!0})})))};return this._ngZone.runOutsideAngular((function(){n.addEventListener("animationstart",a,Dp),n.classList.add("cdk-text-field-autofill-monitored")})),this._monitoredElements.set(n,{subject:i,unlisten:function(){n.removeEventListener("animationstart",a,Dp)}}),i.asObservable()}},{key:"stopMonitoring",value:function(t){var e=ja(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}},{key:"ngOnDestroy",value:function(){var t=this;this._monitoredElements.forEach((function(e,n){return t.stopMonitoring(n)}))}}]),t}()).\u0275fac=function(t){return new(t||pp)(r.Wb(cs),r.Wb(r.z))},pp.\u0275prov=Object(r.Jb)({factory:function(){return new pp(Object(r.Wb)(cs),Object(r.Wb)(r.z))},token:pp,providedIn:"root"}),pp),Np=((dp=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:dp}),dp.\u0275inj=r.Kb({factory:function(t){return new(t||dp)},imports:[[ls]]}),dp),jp=new r.q("MAT_INPUT_VALUE_ACCESSOR"),Lp=["button","checkbox","file","hidden","image","radio","range","reset","submit"],Mp=0,Fp=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).errorState=!1,t.stateChanges=new qt.a,t}return _createClass(n,[{key:"updateErrorState",value:function(){var t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}]),n}((function t(e,n,r,i){_classCallCheck(this,t),this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i})),Vp=((yp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a,s,u,c,l){var h;_classCallCheck(this,n),(h=e.call(this,s,o,a,i))._elementRef=t,h._platform=r,h.ngControl=i,h._autofillMonitor=c,h._uid="mat-input-"+Mp++,h.focused=!1,h.stateChanges=new qt.a,h.controlType="mat-input",h.autofilled=!1,h._disabled=!1,h._required=!1,h._type="text",h._readonly=!1,h._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter((function(t){return fs().has(t)}));var f=h._elementRef.nativeElement,d=f.nodeName.toLowerCase();return h._inputValueAccessor=u||f,h._previousNativeValue=h.value,h.id=h.id,r.IOS&&l.runOutsideAngular((function(){t.nativeElement.addEventListener("keyup",(function(t){var e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))}))})),h._isServer=!h._platform.isBrowser,h._isNativeSelect="select"===d,h._isTextarea="textarea"===d,h._isNativeSelect&&(h.controlType=f.multiple?"mat-native-select-multiple":"mat-native-select"),h}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe((function(e){t.autofilled=e.isAutofilled,t.stateChanges.next()}))}},{key:"ngOnChanges",value:function(){this.stateChanges.next()}},{key:"ngOnDestroy",value:function(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}},{key:"ngDoCheck",value:function(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}},{key:"focus",value:function(t){this._elementRef.nativeElement.focus(t)}},{key:"_focusChanged",value:function(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}},{key:"_onInput",value:function(){}},{key:"_dirtyCheckNativeValue",value:function(){var t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}},{key:"_validateType",value:function(){if(Lp.indexOf(this._type)>-1)throw Error('Input type "'.concat(this._type,"\" isn't supported by matInput."))}},{key:"_isNeverEmpty",value:function(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}},{key:"_isBadInput",value:function(){var t=this._elementRef.nativeElement.validity;return t&&t.badInput}},{key:"setDescribedByIds",value:function(t){this._ariaDescribedby=t.join(" ")}},{key:"onContainerClick",value:function(){this.focused||this.focus()}},{key:"disabled",get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(t){this._disabled=Pa(t),this.focused&&(this.focused=!1,this.stateChanges.next())}},{key:"id",get:function(){return this._id},set:function(t){this._id=t||this._uid}},{key:"required",get:function(){return this._required},set:function(t){this._required=Pa(t)}},{key:"type",get:function(){return this._type},set:function(t){this._type=t||"text",this._validateType(),!this._isTextarea&&fs().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}},{key:"value",get:function(){return this._inputValueAccessor.value},set:function(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}},{key:"readonly",get:function(){return this._readonly},set:function(t){this._readonly=Pa(t)}},{key:"empty",get:function(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}},{key:"shouldLabelFloat",get:function(){if(this._isNativeSelect){var t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}}]),n}(Fp)).\u0275fac=function(t){return new(t||yp)(r.Nb(r.l),r.Nb(cs),r.Nb(ro,10),r.Nb(la,8),r.Nb(ya,8),r.Nb(Ah),r.Nb(jp,10),r.Nb(Rp),r.Nb(r.z))},yp.\u0275dir=r.Ib({type:yp,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:10,hostBindings:function(t,e){1&t&&r.ac("focus",(function(){return e._focusChanged(!0)}))("blur",(function(){return e._focusChanged(!1)}))("input",(function(){return e._onInput()})),2&t&&(r.Vb("disabled",e.disabled)("required",e.required),r.Db("id",e.id)("placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-describedby",e._ariaDescribedby||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),r.Eb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher"},exportAs:["matInput"],features:[r.Bb([{provide:ip,useExisting:yp}]),r.zb,r.Ab]}),yp),Up=((vp=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:vp}),vp.\u0275inj=r.Kb({factory:function(t){return new(t||vp)},providers:[Ah],imports:[[Np,Pp],Np,Pp]}),vp),Bp=["mat-button",""],zp=["*"],qp=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Hp=Sh(Eh(Oh((function t(e){_classCallCheck(this,t),this._elementRef=e})))),Wp=((_p=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;_classCallCheck(this,n),(o=e.call(this,t))._focusMonitor=r,o._animationMode=i,o.isRoundButton=o._hasHostAttributes("mat-fab","mat-mini-fab"),o.isIconButton=o._hasHostAttributes("mat-icon-button");var a,s=_createForOfIteratorHelper(qp);try{for(s.s();!(a=s.n()).done;){var u=a.value;o._hasHostAttributes(u)&&o._getHostElement().classList.add(u)}}catch(c){s.e(c)}finally{s.f()}return t.nativeElement.classList.add("mat-button-base"),o._focusMonitor.monitor(o._elementRef,!0),o.isRoundButton&&(o.color="accent"),o}return _createClass(n,[{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._getHostElement(),t,e)}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_hasHostAttributes",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.some((function(e){return t._getHostElement().hasAttribute(e)}))}}]),n}(Hp)).\u0275fac=function(t){return new(t||_p)(r.Nb(r.l),r.Nb(Hu),r.Nb(gh,8))},_p.\u0275cmp=r.Hb({type:_p,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&r.tc(Fh,!0),2&t&&r.hc(n=r.bc())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:3,hostBindings:function(t,e){2&t&&(r.Db("disabled",e.disabled||null),r.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.zb],attrs:Bp,ngContentSelectors:zp,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.ec(),r.Sb(0,"span",0),r.dc(1),r.Rb(),r.Ob(2,"div",1),r.Ob(3,"div",2)),2&t&&(r.Cb(2),r.Eb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.fc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[Fh],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),_p),Gp=((gp=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:gp}),gp.\u0275inj=r.Kb({factory:function(t){return new(t||gp)},imports:[[Vh,Ch],Ch]}),gp),Kp=((mp=function(){function t(e,n,r,i){_classCallCheck(this,t),this.dialogRef=e,this.auth=n,this.router=r,this.noteMaker=i,this.isLoginMode=!0,this.isLoading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.signInForm=new aa({email:new oa(null),password:new oa(null)})}},{key:"onSubmit",value:function(){var t=this;this.isLoading=!0;var e=this.signInForm.value,n=e.email,r=e.password;(this.isLoginMode?this.auth.signIn(n,r):this.auth.signUp(n,r)).subscribe((function(e){t.isLoading=!1,console.log("redirecting"),t.router.navigate(["/notes"])}),(function(e){console.log(e),t.isLoading=!1}))}},{key:"onSwitchLogMode",value:function(){this.isLoginMode=!this.isLoginMode,console.log("switching")}}]),t}()).\u0275fac=function(t){return new(t||mp)(r.Nb($h),r.Nb(rd),r.Nb(vi),r.Nb(jd))},mp.\u0275cmp=r.Hb({type:mp,selectors:[["app-log-form"]],decls:14,vars:3,consts:[["id","signInForm"],["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],[1,"form-group"],["matInput","","type","text","placeholder","Type your e-mail","formControlName","email"],["matInput","","type","password","placeholder","Type your password","formControlName","password"],["mat-dialog-actions",""],["mat-button","",3,"mat-dialog-close","click"],[3,"click"]],template:function(t,e){1&t&&(r.Sb(0,"section",0),r.Sb(1,"h3",1),r.pc(2),r.Rb(),r.Sb(3,"div",2),r.Sb(4,"form",3),r.Sb(5,"mat-form-field",4),r.Ob(6,"input",5),r.Rb(),r.Sb(7,"mat-form-field",4),r.Ob(8,"input",6),r.Rb(),r.Rb(),r.Rb(),r.Sb(9,"div",7),r.Sb(10,"button",8),r.ac("click",(function(){return e.onSubmit()})),r.pc(11,"Submit"),r.Rb(),r.Sb(12,"small",9),r.ac("click",(function(){return e.onSwitchLogMode()})),r.pc(13),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Cb(2),r.qc(e.isLoginMode?"Sign in":"Sign up"),r.Cb(2),r.fc("formGroup",e.signInForm),r.Cb(9),r.qc(e.isLoginMode?"Wanna sign up?":"Wanna log in?"))},directives:[uf,cf,da,ao,ya,Ap,Vp,Zi,oo,Ta,lf,Wp,sf],styles:["#signInForm[_ngcontent-%COMP%]{width:250px;padding:20px 20px 25px}#signInForm[_ngcontent-%COMP%], #signInForm[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}#signInForm[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{width:200px}#signInForm[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column}#signInForm[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#00f;cursor:pointer}"]}),mp);function Qp(t,e){if(1&t&&(r.Sb(0,"li"),r.pc(1),r.Rb()),2&t){var n=r.cc();r.Cb(1),r.qc(n.userName)}}function Yp(t,e){if(1&t){var n=r.Tb();r.Sb(0,"li"),r.Sb(1,"a",5),r.ac("click",(function(){return r.ic(n),r.cc().openDialog()})),r.pc(2,"Log In"),r.Rb(),r.Rb()}}function Zp(t,e){if(1&t){var n=r.Tb();r.Sb(0,"li"),r.Sb(1,"a",5),r.ac("click",(function(){return r.ic(n),r.cc().logout()})),r.pc(2,"Log out"),r.Rb(),r.Rb()}}var Jp,Xp,$p=((Xp=function(){function t(e,n,r){_classCallCheck(this,t),this.dialog=e,this.auth=n,this.router=r,this.isLoggedIn=!1,this.userName=null}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.userSub=this.auth.user.subscribe((function(e){t.isLoggedIn=!!e,e&&(t.userName=e.email.split("@")[0])}))}},{key:"openDialog",value:function(){this.dialog.open(Kp,{width:"300px",height:"300px"})}},{key:"logout",value:function(){this.auth.logout(),this.router.navigate(["/home"])}}]),t}()).\u0275fac=function(t){return new(t||Xp)(r.Nb(of),r.Nb(rd),r.Nb(vi))},Xp.\u0275cmp=r.Hb({type:Xp,selectors:[["app-navbar"]],viewQuery:function(t,e){var n;1&t&&r.tc(Pd,!0),2&t&&r.hc(n=r.bc())&&(e.signIn=n.first)},decls:9,vars:3,consts:[["id","navbar"],[1,"title-container"],["href","#"],[1,"log-container"],[4,"ngIf"],[3,"click"]],template:function(t,e){1&t&&(r.Sb(0,"nav",0),r.Sb(1,"div",1),r.Sb(2,"a",2),r.pc(3,"NotesAPP"),r.Rb(),r.Rb(),r.Sb(4,"div"),r.Sb(5,"ul",3),r.oc(6,Qp,2,1,"li",4),r.oc(7,Yp,3,0,"li",4),r.oc(8,Zp,3,0,"li",4),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Cb(6),r.fc("ngIf",e.isLoggedIn),r.Cb(1),r.fc("ngIf",!e.isLoggedIn),r.Cb(1),r.fc("ngIf",e.isLoggedIn))},directives:[H],styles:["#navbar[_ngcontent-%COMP%]{background-color:#0d1f2d;color:#fff;display:flex;align-items:center;justify-content:space-between}#navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:inherit}#navbar[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}#navbar[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:20px;font-size:2rem}#navbar[_ngcontent-%COMP%]   .log-container[_ngcontent-%COMP%]{display:flex;font-size:1rem;padding:0 15px}"]}),Xp),tv=((Jp=function(){function t(e){_classCallCheck(this,t),this.auth=e,this.title="notesAppContentEditable"}return _createClass(t,[{key:"ngOnInit",value:function(){this.auth.autologin()}}]),t}()).\u0275fac=function(t){return new(t||Jp)(r.Nb(rd))},Jp.\u0275cmp=r.Hb({type:Jp,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Ob(0,"app-navbar"),r.Ob(1,"router-outlet"))},directives:[$p,gi],styles:["h1[_ngcontent-%COMP%]{text-align:center}"]}),Jp);function ev(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}function nv(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function rv(t,e){var n=e?"":"none";nv(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function iv(t){var e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function ov(t,e){return t.getPropertyValue(e).split(",").map((function(t){return t.trim()}))}function av(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function sv(t,e,n){var r=t.top,i=t.bottom,o=t.left,a=t.right;return n>=r&&n<=i&&e>=o&&e<=a}function uv(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function cv(t,e,n,r){var i=t.top,o=t.right,a=t.bottom,s=t.left,u=t.width*e,c=t.height*e;return r>i-c&&r<a+c&&n>s-u&&n<o+u}var lv=function(){function t(e,n){_classCallCheck(this,t),this._document=e,this._viewportRuler=n,this.positions=new Map}return _createClass(t,[{key:"clear",value:function(){this.positions.clear()}},{key:"cache",value:function(t){var e=this;this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach((function(t){e.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:av(t)})}))}},{key:"handleScroll",value:function(t){var e=t.target,n=this.positions.get(e);if(!n)return null;var r,i,o=e===this._document?e.documentElement:e,a=n.scrollPosition;if(e===this._document){var s=this._viewportRuler.getViewportScrollPosition();r=s.top,i=s.left}else r=e.scrollTop,i=e.scrollLeft;var u=a.top-r,c=a.left-i;return this.positions.forEach((function(t,n){t.clientRect&&e!==n&&o.contains(n)&&uv(t.clientRect,u,c)})),a.top=r,a.left=i,{top:u,left:c}}}]),t}(),hv=ds({passive:!0}),fv=ds({passive:!1}),dv=function(){function t(e,n,r,i,o,a){var s=this;_classCallCheck(this,t),this._config=n,this._document=r,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new qt.a,this._pointerMoveSubscription=Ke.a.EMPTY,this._pointerUpSubscription=Ke.a.EMPTY,this._scrollSubscription=Ke.a.EMPTY,this._resizeSubscription=Ke.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new qt.a,this.started=new qt.a,this.released=new qt.a,this.ended=new qt.a,this.entered=new qt.a,this.exited=new qt.a,this.dropped=new qt.a,this.moved=this._moveEvents.asObservable(),this._pointerDown=function(t){if(s.beforeStarted.next(),s._handles.length){var e=s._handles.find((function(e){var n=t.target;return!!n&&(n===e||e.contains(n))}));!e||s._disabledHandles.has(e)||s.disabled||s._initializeDragSequence(e,t)}else s.disabled||s._initializeDragSequence(s._rootElement,t)},this._pointerMove=function(t){t.preventDefault();var e=s._getPointerPositionOnPage(t);if(s._hasStartedDragging){s._boundaryElement&&(s._previewRect&&(s._previewRect.width||s._previewRect.height)||(s._previewRect=(s._preview||s._rootElement).getBoundingClientRect()));var n=s._getConstrainedPointerPosition(e);if(s._hasMoved=!0,s._updatePointerDirectionDelta(n),s._dropContainer)s._updateActiveDropContainer(n);else{var r=s._activeTransform;r.x=n.x-s._pickupPositionOnPage.x+s._passiveTransform.x,r.y=n.y-s._pickupPositionOnPage.y+s._passiveTransform.y,s._applyRootElementTransform(r.x,r.y),"undefined"!=typeof SVGElement&&s._rootElement instanceof SVGElement&&s._rootElement.setAttribute("transform","translate(".concat(r.x," ").concat(r.y,")"))}s._moveEvents.observers.length&&s._ngZone.run((function(){s._moveEvents.next({source:s,pointerPosition:n,event:t,distance:s._getDragDistance(n),delta:s._pointerDirectionDelta})}))}else if(Math.abs(e.x-s._pickupPositionOnPage.x)+Math.abs(e.y-s._pickupPositionOnPage.y)>=s._config.dragStartThreshold){if(!(Date.now()>=s._dragStartTime+s._getDragStartDelay(t)))return void s._endDragSequence(t);s._dropContainer&&s._dropContainer.isDragging()||(s._hasStartedDragging=!0,s._ngZone.run((function(){return s._startDragSequence(t)})))}},this._pointerUp=function(t){s._endDragSequence(t)},this.withRootElement(e),this._parentPositions=new lv(r,o),a.registerDragItem(this)}return _createClass(t,[{key:"getPlaceholderElement",value:function(){return this._placeholder}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getVisibleElement",value:function(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}},{key:"withHandles",value:function(t){return this._handles=t.map((function(t){return ja(t)})),this._handles.forEach((function(t){return rv(t,!1)})),this._toggleNativeDragInteractions(),this}},{key:"withPreviewTemplate",value:function(t){return this._previewTemplate=t,this}},{key:"withPlaceholderTemplate",value:function(t){return this._placeholderTemplate=t,this}},{key:"withRootElement",value:function(t){var e=this,n=ja(t);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular((function(){n.addEventListener("mousedown",e._pointerDown,fv),n.addEventListener("touchstart",e._pointerDown,hv)})),this._initialTransform=void 0,this._rootElement=n),this}},{key:"withBoundaryElement",value:function(t){var e=this;return this._boundaryElement=t?ja(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe((function(){return e._containInsideBoundaryOnResize()}))),this}},{key:"dispose",value:function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&mv(this._rootElement),mv(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}},{key:"isDragging",value:function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}},{key:"reset",value:function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}},{key:"disableHandle",value:function(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}},{key:"enableHandle",value:function(t){this._disabledHandles.delete(t)}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"_withDropContainer",value:function(t){this._dropContainer=t}},{key:"getFreeDragPosition",value:function(){var t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}},{key:"setFreeDragPosition",value:function(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}},{key:"_sortFromLastPointerPosition",value:function(){var t=this._pointerPositionAtLastDirectionChange;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t))}},{key:"_removeSubscriptions",value:function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}},{key:"_destroyPreview",value:function(){this._preview&&mv(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}},{key:"_destroyPlaceholder",value:function(){this._placeholder&&mv(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}},{key:"_endDragSequence",value:function(t){var e=this;this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then((function(){e._cleanupDragArtifacts(t),e._cleanupCachedDimensions(),e._dragDropRegistry.stopDragging(e)}))):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run((function(){e.ended.next({source:e,distance:e._getDragDistance(e._getPointerPositionOnPage(t))})})),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}},{key:"_startDragSequence",value:function(t){this.started.next({source:this}),gv(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();var e,n=this._dropContainer;if(n){var r=this._rootElement,i=r.parentNode,o=this._preview=this._createPreviewElement(),a=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment("");i.insertBefore(s,r),r.style.display="none",this._document.body.appendChild(i.replaceChild(a,r)),(e=this._document,e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body).appendChild(o),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}},{key:"_initializeDragSequence",value:function(t,e){var n=this;e.stopPropagation();var r=this.isDragging(),i=gv(e),o=!i&&0!==e.button,a=this._rootElement,s=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),!(r||o||s)){this._handles.length&&(this._rootElementTapHighlight=a.style.webkitTapHighlightColor,a.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe((function(t){n._updateOnScroll(t)})),this._boundaryElement&&(this._boundaryRect=av(this._boundaryElement));var u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);var c=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}}},{key:"_cleanupDragArtifacts",value:function(t){var e=this;this._rootElement.style.display="",this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run((function(){var n=e._dropContainer,r=n.getItemIndex(e),i=e._getPointerPositionOnPage(t),o=e._getDragDistance(e._getPointerPositionOnPage(t)),a=n._isOverContainer(i.x,i.y);e.ended.next({source:e,distance:o}),e.dropped.next({item:e,currentIndex:r,previousIndex:e._initialIndex,container:n,previousContainer:e._initialContainer,isPointerOverContainer:a,distance:o}),n.drop(e,r,e._initialContainer,a,o,e._initialIndex),e._dropContainer=e._initialContainer}))}},{key:"_updateActiveDropContainer",value:function(t){var e=this,n=t.x,r=t.y,i=this._initialContainer._getSiblingContainerFromPosition(this,n,r);!i&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,r)&&(i=this._initialContainer),i&&i!==this._dropContainer&&this._ngZone.run((function(){e.exited.next({item:e,container:e._dropContainer}),e._dropContainer.exit(e),e._dropContainer=i,e._dropContainer.enter(e,n,r,i===e._initialContainer&&i.sortingDisabled?e._initialIndex:void 0),e.entered.next({item:e,container:i,currentIndex:i.getItemIndex(e)})})),this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,n,r,this._pointerDirectionDelta),this._preview.style.transform=pv(n-this._pickupPositionInElement.x,r-this._pickupPositionInElement.y)}},{key:"_createPreviewElement",value:function(){var t,e=this._previewTemplate,n=this.previewClass,r=e?e.template:null;if(r&&e){var i=e.matchSize?this._rootElement.getBoundingClientRect():null,o=e.viewContainer.createEmbeddedView(r,e.context);o.detectChanges(),t=_v(o,this._document),this._previewRef=o,e.matchSize?bv(t,i):t.style.transform=pv(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var a=this._rootElement;bv(t=vv(a),a.getBoundingClientRect())}return nv(t.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),rv(t,!1),t.classList.add("cdk-drag-preview"),t.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach((function(e){return t.classList.add(e)})):t.classList.add(n)),t}},{key:"_animatePreviewToPlaceholder",value:function(){var t=this;if(!this._hasMoved)return Promise.resolve();var e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=pv(e.left,e.top);var n=function(t){var e=getComputedStyle(t),n=ov(e,"transition-property"),r=n.find((function(t){return"transform"===t||"all"===t}));if(!r)return 0;var i=n.indexOf(r),o=ov(e,"transition-duration"),a=ov(e,"transition-delay");return iv(o[i])+iv(a[i])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular((function(){return new Promise((function(e){var r=function n(r){(!r||r.target===t._preview&&"transform"===r.propertyName)&&(t._preview.removeEventListener("transitionend",n),e(),clearTimeout(i))},i=setTimeout(r,1.5*n);t._preview.addEventListener("transitionend",r)}))}))}},{key:"_createPlaceholderElement",value:function(){var t,e=this._placeholderTemplate,n=e?e.template:null;return n?(this._placeholderRef=e.viewContainer.createEmbeddedView(n,e.context),this._placeholderRef.detectChanges(),t=_v(this._placeholderRef,this._document)):t=vv(this._rootElement),t.classList.add("cdk-drag-placeholder"),t}},{key:"_getPointerPositionInElement",value:function(t,e){var n=this._rootElement.getBoundingClientRect(),r=t===this._rootElement?null:t,i=r?r.getBoundingClientRect():n,o=gv(e)?e.targetTouches[0]:e,a=this._getViewportScrollPosition();return{x:i.left-n.left+(o.pageX-i.left-a.left),y:i.top-n.top+(o.pageY-i.top-a.top)}}},{key:"_getPointerPositionOnPage",value:function(t){var e=gv(t)?t.touches[0]||t.changedTouches[0]:t,n=this._getViewportScrollPosition();return{x:e.pageX-n.left,y:e.pageY-n.top}}},{key:"_getConstrainedPointerPosition",value:function(t){var e=this.constrainPosition?this.constrainPosition(t,this):t,n=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===n?e.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==n||(e.x=this._pickupPositionOnPage.x),this._boundaryRect){var r=this._pickupPositionInElement,i=r.x,o=r.y,a=this._boundaryRect,s=this._previewRect,u=a.top+o,c=a.bottom-(s.height-o);e.x=yv(e.x,a.left+i,a.right-(s.width-i)),e.y=yv(e.y,u,c)}return e}},{key:"_updatePointerDirectionDelta",value:function(t){var e=t.x,n=t.y,r=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-i.x),a=Math.abs(n-i.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=e>i.x?1:-1,i.x=e),a>this._config.pointerDirectionChangeThreshold&&(r.y=n>i.y?1:-1,i.y=n),r}},{key:"_toggleNativeDragInteractions",value:function(){if(this._rootElement&&this._handles){var t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,rv(this._rootElement,t))}}},{key:"_removeRootElementListeners",value:function(t){t.removeEventListener("mousedown",this._pointerDown,fv),t.removeEventListener("touchstart",this._pointerDown,hv)}},{key:"_applyRootElementTransform",value:function(t,e){var n=pv(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}},{key:"_getDragDistance",value:function(t){var e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}},{key:"_cleanupCachedDimensions",value:function(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}},{key:"_containInsideBoundaryOnResize",value:function(){var t=this._passiveTransform,e=t.x,n=t.y;if(!(0===e&&0===n||this.isDragging())&&this._boundaryElement){var r=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(!(0===r.width&&0===r.height||0===i.width&&0===i.height)){var o=r.left-i.left,a=i.right-r.right,s=r.top-i.top,u=i.bottom-r.bottom;r.width>i.width?(o>0&&(e+=o),a>0&&(e-=a)):e=0,r.height>i.height?(s>0&&(n+=s),u>0&&(n-=u)):n=0,e===this._passiveTransform.x&&n===this._passiveTransform.y||this.setFreeDragPosition({y:n,x:e})}}}},{key:"_getDragStartDelay",value:function(t){var e=this.dragStartDelay;return"number"==typeof e?e:gv(t)?e.touch:e?e.mouse:0}},{key:"_updateOnScroll",value:function(t){var e=this._parentPositions.handleScroll(t);this._boundaryRect&&e&&uv(this._boundaryRect,e.top,e.left)}},{key:"_getViewportScrollPosition",value:function(){var t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}},{key:"disabled",get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(t){var e=Pa(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}}]),t}();function pv(t,e){return"translate3d(".concat(Math.round(t),"px, ").concat(Math.round(e),"px, 0)")}function vv(t){var e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),r=t.querySelectorAll("canvas");e.removeAttribute("id");for(var i=0;i<n.length;i++)n[i].removeAttribute("id");if(r.length)for(var o=e.querySelectorAll("canvas"),a=0;a<r.length;a++){var s=o[a].getContext("2d");s&&s.drawImage(r[a],0,0)}return e}function yv(t,e,n){return Math.max(e,Math.min(n,t))}function mv(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function gv(t){return"t"===t.type[0]}function _v(t,e){var n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];var r=e.createElement("div");return n.forEach((function(t){return r.appendChild(t)})),r}function bv(t,e){t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.transform=pv(e.left,e.top)}function wv(t,e){return Math.max(0,Math.min(e,t))}var kv=function(){function t(e,n,r,i,o){var a=this;_classCallCheck(this,t),this._dragDropRegistry=n,this._ngZone=i,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=function(){return!0},this.beforeStarted=new qt.a,this.entered=new qt.a,this.exited=new qt.a,this.dropped=new qt.a,this.sorted=new qt.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Ke.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new qt.a,this._cachedShadowRoot=null,this._startScrollInterval=function(){a._stopScrolling(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ha.a;return(!Object(Ka.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=Ha.a),new Gt.a((function(n){return n.add(e.schedule(ev,t,{subscriber:n,counter:0,period:t})),n}))}(0,Ua).pipe(Za(a._stopScrollTimers)).subscribe((function(){var t=a._scrollNode;1===a._verticalScrollDirection?Ev(t,-2):2===a._verticalScrollDirection&&Ev(t,2),1===a._horizontalScrollDirection?Sv(t,-2):2===a._horizontalScrollDirection&&Sv(t,2)}))},this.element=ja(e),this._document=r,this.withScrollableParents([this.element]),n.registerDropContainer(this),this._parentPositions=new lv(r,o)}return _createClass(t,[{key:"dispose",value:function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"start",value:function(){var t=this,e=ja(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach((function(e){return e._startReceiving(t)})),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}},{key:"enter",value:function(t,e,n,r){var i;this.start(),null==r?-1===(i=this.sortingDisabled?this._draggables.indexOf(t):-1)&&(i=this._getItemIndexFromPointerPosition(t,e,n)):i=r;var o=this._activeDraggables,a=o.indexOf(t),s=t.getPlaceholderElement(),u=o[i];if(u===t&&(u=o[i+1]),a>-1&&o.splice(a,1),u&&!this._dragDropRegistry.isDragging(u)){var c=u.getRootElement();c.parentElement.insertBefore(s,c),o.splice(i,0,t)}else{var l=ja(this.element);this._shouldEnterAsFirstChild(e,n)?(l.insertBefore(s,o[0].getRootElement()),o.unshift(t)):(l.appendChild(s),o.push(t))}s.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}},{key:"exit",value:function(t){this._reset(),this.exited.next({item:t,container:this})}},{key:"drop",value:function(t,e,n,r,i,o){this._reset(),null==o&&(o=n.getItemIndex(t)),this.dropped.next({item:t,currentIndex:e,previousIndex:o,container:this,previousContainer:n,isPointerOverContainer:r,distance:i})}},{key:"withItems",value:function(t){var e=this,n=this._draggables;return this._draggables=t,t.forEach((function(t){return t._withDropContainer(e)})),this.isDragging()&&(n.filter((function(t){return t.isDragging()})).every((function(e){return-1===t.indexOf(e)}))?this._reset():this._cacheItems()),this}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"connectedTo",value:function(t){return this._siblings=t.slice(),this}},{key:"withOrientation",value:function(t){return this._orientation=t,this}},{key:"withScrollableParents",value:function(t){var e=ja(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e].concat(_toConsumableArray(t)):t.slice(),this}},{key:"getScrollableParents",value:function(){return this._scrollableElements}},{key:"getItemIndex",value:function(t){return this._isDragging?Cv("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,(function(e){return e.drag===t})):this._draggables.indexOf(t)}},{key:"isReceiving",value:function(){return this._activeSiblings.size>0}},{key:"_sortItem",value:function(t,e,n,r){if(!this.sortingDisabled&&cv(this._clientRect,.05,e,n)){var i=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,n,r);if(!(-1===o&&i.length>0)){var a="horizontal"===this._orientation,s=Cv(i,(function(e){return e.drag===t})),u=i[o],c=i[s].clientRect,l=u.clientRect,h=s>o?1:-1;this._previousSwap.drag=u.drag,this._previousSwap.delta=a?r.x:r.y;var f=this._getItemOffsetPx(c,l,h),d=this._getSiblingOffsetPx(s,i,h),p=i.slice();!function(t,e,n){var r=wv(e,t.length-1),i=wv(n,t.length-1);if(r!==i){for(var o=t[r],a=i<r?-1:1,s=r;s!==i;s+=a)t[s]=t[s+a];t[i]=o}}(i,s,o),this.sorted.next({previousIndex:s,currentIndex:o,container:this,item:t}),i.forEach((function(e,n){if(p[n]!==e){var r=e.drag===t,i=r?f:d,o=r?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=i,a?(o.style.transform="translate3d(".concat(Math.round(e.offset),"px, 0, 0)"),uv(e.clientRect,0,i)):(o.style.transform="translate3d(0, ".concat(Math.round(e.offset),"px, 0)"),uv(e.clientRect,i,0))}}))}}}},{key:"_startScrollingIfNecessary",value:function(t,e){var n=this;if(!this.autoScrollDisabled){var r,i=0,o=0;if(this._parentPositions.positions.forEach((function(a,s){var u;s!==n._document&&a.clientRect&&!r&&cv(a.clientRect,.05,t,e)&&(u=_slicedToArray(function(t,e,n,r){var i=Ov(e,r),o=Tv(e,n),a=0,s=0;if(i){var u=t.scrollTop;1===i?u>0&&(a=1):t.scrollHeight-u>t.clientHeight&&(a=2)}if(o){var c=t.scrollLeft;1===o?c>0&&(s=1):t.scrollWidth-c>t.clientWidth&&(s=2)}return[a,s]}(s,a.clientRect,t,e),2),i=u[0],o=u[1],(i||o)&&(r=s))})),!i&&!o){var a=this._viewportRuler.getViewportSize(),s=a.width,u=a.height,c={width:s,height:u,top:0,right:s,bottom:u,left:0};i=Ov(c,e),o=Tv(c,t),r=window}!r||i===this._verticalScrollDirection&&o===this._horizontalScrollDirection&&r===this._scrollNode||(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=r,(i||o)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}}},{key:"_stopScrolling",value:function(){this._stopScrollTimers.next()}},{key:"_cacheParentPositions",value:function(){var t=ja(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}},{key:"_cacheItemPositions",value:function(){var t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map((function(t){var e=t.getVisibleElement();return{drag:t,offset:0,clientRect:av(e)}})).sort((function(e,n){return t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top}))}},{key:"_reset",value:function(){var t=this;this._isDragging=!1;var e=ja(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach((function(t){var e=t.getRootElement();e&&(e.style.transform="")})),this._siblings.forEach((function(e){return e._stopReceiving(t)})),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}},{key:"_getSiblingOffsetPx",value:function(t,e,n){var r="horizontal"===this._orientation,i=e[t].clientRect,o=e[t+-1*n],a=i[r?"width":"height"]*n;if(o){var s=r?"left":"top",u=r?"right":"bottom";-1===n?a-=o.clientRect[s]-i[u]:a+=i[s]-o.clientRect[u]}return a}},{key:"_getItemOffsetPx",value:function(t,e,n){var r="horizontal"===this._orientation,i=r?e.left-t.left:e.top-t.top;return-1===n&&(i+=r?e.width-t.width:e.height-t.height),i}},{key:"_shouldEnterAsFirstChild",value:function(t,e){if(!this._activeDraggables.length)return!1;var n=this._itemPositions,r="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){var i=n[n.length-1].clientRect;return r?t>=i.right:e>=i.bottom}var o=n[0].clientRect;return r?t<=o.left:e<=o.top}},{key:"_getItemIndexFromPointerPosition",value:function(t,e,n,r){var i=this,o="horizontal"===this._orientation;return Cv(this._itemPositions,(function(a,s,u){var c=a.drag,l=a.clientRect;if(c===t)return u.length<2;if(r){var h=o?r.x:r.y;if(c===i._previousSwap.drag&&h===i._previousSwap.delta)return!1}return o?e>=Math.floor(l.left)&&e<Math.floor(l.right):n>=Math.floor(l.top)&&n<Math.floor(l.bottom)}))}},{key:"_cacheItems",value:function(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}},{key:"_isOverContainer",value:function(t,e){return sv(this._clientRect,t,e)}},{key:"_getSiblingContainerFromPosition",value:function(t,e,n){return this._siblings.find((function(r){return r._canReceive(t,e,n)}))}},{key:"_canReceive",value:function(t,e,n){if(!sv(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;var r=this._getShadowRoot().elementFromPoint(e,n);if(!r)return!1;var i=ja(this.element);return r===i||i.contains(r)}},{key:"_startReceiving",value:function(t){var e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}},{key:"_stopReceiving",value:function(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}},{key:"_listenToScrollEvents",value:function(){var t=this;this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe((function(e){if(t.isDragging()){var n=t._parentPositions.handleScroll(e);n&&(t._itemPositions.forEach((function(t){uv(t.clientRect,n.top,n.left)})),t._itemPositions.forEach((function(e){var n=e.drag;t._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})))}else t.isReceiving()&&t._cacheParentPositions()}))}},{key:"_getShadowRoot",value:function(){if(!this._cachedShadowRoot){var t=ps(ja(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}]),t}();function Cv(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function Ev(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function Sv(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function Ov(t,e){var n=t.top,r=t.bottom,i=.05*t.height;return e>=n-i&&e<=n+i?1:e>=r-i&&e<=r+i?2:0}function Tv(t,e){var n=t.left,r=t.right,i=.05*t.width;return e>=n-i&&e<=n+i?1:e>=r-i&&e<=r+i?2:0}var Iv,xv,Av,Pv,Dv,Rv,Nv=ds({passive:!1,capture:!0}),jv=((Iv=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new qt.a,this.pointerUp=new qt.a,this.scroll=new qt.a,this._preventDefaultWhileDragging=function(t){r._activeDragInstances.size&&t.preventDefault()},this._document=n}return _createClass(t,[{key:"registerDropContainer",value:function(t){this._dropInstances.has(t)||this._dropInstances.add(t)}},{key:"registerDragItem",value:function(t){var e=this;this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular((function(){e._document.addEventListener("touchmove",e._preventDefaultWhileDragging,Nv)}))}},{key:"removeDropContainer",value:function(t){this._dropInstances.delete(t)}},{key:"removeDragItem",value:function(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,Nv)}},{key:"startDragging",value:function(t,e){var n=this;if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){var r=e.type.startsWith("touch"),i=r?"touchend":"mouseup";this._globalListeners.set(r?"touchmove":"mousemove",{handler:function(t){return n.pointerMove.next(t)},options:Nv}).set(i,{handler:function(t){return n.pointerUp.next(t)},options:!0}).set("scroll",{handler:function(t){return n.scroll.next(t)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Nv}),this._ngZone.runOutsideAngular((function(){n._globalListeners.forEach((function(t,e){n._document.addEventListener(e,t.handler,t.options)}))}))}}},{key:"stopDragging",value:function(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}},{key:"isDragging",value:function(t){return this._activeDragInstances.has(t)}},{key:"ngOnDestroy",value:function(){var t=this;this._dragInstances.forEach((function(e){return t.removeDragItem(e)})),this._dropInstances.forEach((function(e){return t.removeDropContainer(e)})),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}},{key:"_clearGlobalListeners",value:function(){var t=this;this._globalListeners.forEach((function(e,n){t._document.removeEventListener(n,e.handler,e.options)})),this._globalListeners.clear()}}]),t}()).\u0275fac=function(t){return new(t||Iv)(r.Wb(r.z),r.Wb(u))},Iv.\u0275prov=Object(r.Jb)({factory:function(){return new Iv(Object(r.Wb)(r.z),Object(r.Wb)(u))},token:Iv,providedIn:"root"}),Iv),Lv={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Mv=((xv=function(){function t(e,n,r,i){_classCallCheck(this,t),this._document=e,this._ngZone=n,this._viewportRuler=r,this._dragDropRegistry=i}return _createClass(t,[{key:"createDrag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lv;return new dv(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}},{key:"createDropList",value:function(t){return new kv(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}]),t}()).\u0275fac=function(t){return new(t||xv)(r.Wb(u),r.Wb(r.z),r.Wb(Ss),r.Wb(jv))},xv.\u0275prov=Object(r.Jb)({factory:function(){return new xv(Object(r.Wb)(u),Object(r.Wb)(r.z),Object(r.Wb)(Ss),Object(r.Wb)(jv))},token:xv,providedIn:"root"}),xv),Fv=new r.q("CDK_DRAG_PARENT"),Vv=((Dv=function(){function t(e,n){_classCallCheck(this,t),this.element=e,this._stateChanges=new qt.a,this._disabled=!1,this._parentDrag=n,rv(e.nativeElement,!1)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Pa(t),this._stateChanges.next(this)}}]),t}()).\u0275fac=function(t){return new(t||Dv)(r.Nb(r.l),r.Nb(Fv,8))},Dv.\u0275dir=r.Ib({type:Dv,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]}}),Dv),Uv=((Pv=function t(e){_classCallCheck(this,t),this.templateRef=e}).\u0275fac=function(t){return new(t||Pv)(r.Nb(r.L))},Pv.\u0275dir=r.Ib({type:Pv,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"}}),Pv),Bv=((Av=function(){function t(e){_classCallCheck(this,t),this.templateRef=e,this._matchSize=!1}return _createClass(t,[{key:"matchSize",get:function(){return this._matchSize},set:function(t){this._matchSize=Pa(t)}}]),t}()).\u0275fac=function(t){return new(t||Av)(r.Nb(r.L))},Av.\u0275dir=r.Ib({type:Av,selectors:[["ng-template","cdkDragPreview",""]],inputs:{matchSize:"matchSize",data:"data"}}),Av),zv=new r.q("CDK_DRAG_CONFIG"),qv=new r.q("CDK_DROP_LIST"),Hv=((Rv=function(){function t(e,n,i,o,a,s,u,c,l){var h=this;_classCallCheck(this,t),this.element=e,this.dropContainer=n,this._document=i,this._ngZone=o,this._viewContainerRef=a,this._dir=u,this._changeDetectorRef=l,this._destroyed=new qt.a,this.started=new r.n,this.released=new r.n,this.ended=new r.n,this.entered=new r.n,this.exited=new r.n,this.dropped=new r.n,this.moved=new Gt.a((function(t){var e=h._dragRef.moved.pipe(Object(ie.a)((function(t){return{source:h,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}}))).subscribe(t);return function(){e.unsubscribe()}})),this._dragRef=c.createDrag(e,{dragStartThreshold:s&&null!=s.dragStartThreshold?s.dragStartThreshold:5,pointerDirectionChangeThreshold:s&&null!=s.pointerDirectionChangeThreshold?s.pointerDirectionChangeThreshold:5,zIndex:null==s?void 0:s.zIndex}),this._dragRef.data=this,s&&this._assignDefaults(s),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}return _createClass(t,[{key:"getPlaceholderElement",value:function(){return this._dragRef.getPlaceholderElement()}},{key:"getRootElement",value:function(){return this._dragRef.getRootElement()}},{key:"reset",value:function(){this._dragRef.reset()}},{key:"getFreeDragPosition",value:function(){return this._dragRef.getFreeDragPosition()}},{key:"ngAfterViewInit",value:function(){var t=this;this._ngZone.onStable.asObservable().pipe(Ie(1),Za(this._destroyed)).subscribe((function(){t._updateRootElement(),t._handles.changes.pipe(Ve(t._handles),Object(Ge.a)((function(e){var n=e.filter((function(e){return e._parentDrag===t})).map((function(t){return t.element}));t._dragRef.withHandles(n)})),je((function(t){return Object(Fa.a).apply(void 0,_toConsumableArray(t.map((function(t){return t._stateChanges.pipe(Ve(t))}))))})),Za(t._destroyed)).subscribe((function(e){var n=t._dragRef,r=e.element.nativeElement;e.disabled?n.disableHandle(r):n.enableHandle(r)})),t.freeDragPosition&&t._dragRef.setFreeDragPosition(t.freeDragPosition)}))}},{key:"ngOnChanges",value:function(t){var e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}},{key:"ngOnDestroy",value:function(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}},{key:"_updateRootElement",value:function(){var t=this.element.nativeElement,e=this.rootElementSelector?Wv(t,this.rootElementSelector):t;if(e&&e.nodeType!==this._document.ELEMENT_NODE)throw Error('cdkDrag must be attached to an element node. Currently attached to "'.concat(e.nodeName,'".'));this._dragRef.withRootElement(e||t)}},{key:"_getBoundaryElement",value:function(){var t=this.boundaryElement;if(!t)return null;if("string"==typeof t)return Wv(this.element.nativeElement,t);var e=ja(t);if(Object(r.W)()&&!e.contains(this.element.nativeElement))throw Error("Draggable element is not inside of the node passed into cdkDragBoundary.");return e}},{key:"_syncInputs",value:function(t){var e=this;t.beforeStarted.subscribe((function(){if(!t.isDragging()){var n=e._dir,r=e.dragStartDelay,i=e._placeholderTemplate?{template:e._placeholderTemplate.templateRef,context:e._placeholderTemplate.data,viewContainer:e._viewContainerRef}:null,o=e._previewTemplate?{template:e._previewTemplate.templateRef,context:e._previewTemplate.data,matchSize:e._previewTemplate.matchSize,viewContainer:e._viewContainerRef}:null;t.disabled=e.disabled,t.lockAxis=e.lockAxis,t.dragStartDelay="object"==typeof r&&r?r:Da(r),t.constrainPosition=e.constrainPosition,t.previewClass=e.previewClass,t.withBoundaryElement(e._getBoundaryElement()).withPlaceholderTemplate(i).withPreviewTemplate(o),n&&t.withDirection(n.value)}}))}},{key:"_handleEvents",value:function(t){var e=this;t.started.subscribe((function(){e.started.emit({source:e}),e._changeDetectorRef.markForCheck()})),t.released.subscribe((function(){e.released.emit({source:e})})),t.ended.subscribe((function(t){e.ended.emit({source:e,distance:t.distance}),e._changeDetectorRef.markForCheck()})),t.entered.subscribe((function(t){e.entered.emit({container:t.container.data,item:e,currentIndex:t.currentIndex})})),t.exited.subscribe((function(t){e.exited.emit({container:t.container.data,item:e})})),t.dropped.subscribe((function(t){e.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:e,distance:t.distance})}))}},{key:"_assignDefaults",value:function(t){var e=t.lockAxis,n=t.dragStartDelay,r=t.constrainPosition,i=t.previewClass,o=t.boundaryElement,a=t.draggingDisabled,s=t.rootElementSelector;this.disabled=null!=a&&a,this.dragStartDelay=n||0,e&&(this.lockAxis=e),r&&(this.constrainPosition=r),i&&(this.previewClass=i),o&&(this.boundaryElement=o),s&&(this.rootElementSelector=s)}},{key:"disabled",get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(t){this._disabled=Pa(t),this._dragRef.disabled=this._disabled}}]),t}()).\u0275fac=function(t){return new(t||Rv)(r.Nb(r.l),r.Nb(qv,12),r.Nb(u),r.Nb(r.z),r.Nb(r.P),r.Nb(zv,8),r.Nb(ks,8),r.Nb(Mv),r.Nb(r.h))},Rv.\u0275dir=r.Ib({type:Rv,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Gb(n,Bv,!0),r.Gb(n,Uv,!0),r.Gb(n,Vv,!0)),2&t&&(r.hc(i=r.bc())&&(e._previewTemplate=i.first),r.hc(i=r.bc())&&(e._placeholderTemplate=i.first),r.hc(i=r.bc())&&(e._handles=i))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&r.Eb("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[r.Bb([{provide:Fv,useExisting:Rv}]),r.Ab]}),Rv);function Wv(t,e){for(var n=t.parentElement;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}var Gv,Kv=((Gv=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:Gv}),Gv.\u0275inj=r.Kb({factory:function(t){return new(t||Gv)},providers:[Mv],imports:[Os]}),Gv),Qv=["title"],Yv=["content"],Zv=["note"],Jv=function(t){return{"background-color":t}};function Xv(t,e){if(1&t){var n=r.Tb();r.Sb(0,"span",10),r.ac("click",(function(){r.ic(n);var t=e.$implicit;return r.cc().updateColor(t.color)})),r.Rb()}2&t&&r.fc("ngStyle",r.gc(1,Jv,e.$implicit.backgroundColor))}var $v,ty=function(t){return["note-buttons-container",t]},ey=(($v=function(){function t(e){_classCallCheck(this,t),this.notemaker=e,this.noteColors=[{color:"yellow",barColor:"#FDE84F",backgroundColor:"#FEF3A1"},{color:"blue",barColor:"#8DF0FE",backgroundColor:"#AFF4FE"},{color:"green",barColor:"#87fc89",backgroundColor:"#b4fda5"},{color:"pink",barColor:"#fdb2b3",backgroundColor:"#fec7c8"},{color:"violet",barColor:"#9cb7fc",backgroundColor:"#b7cbfd"},{color:"grey",barColor:"#dadada",backgroundColor:"#eeeeee"}]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.setNoteColors(this.note.color),Ma(this.title.nativeElement,"keyup").pipe(bu(1e3)).subscribe((function(e){t.updateNote(t.note.id,t.title,t.content)})),Ma(this.content.nativeElement,"keyup").pipe(bu(1e3)).subscribe((function(e){t.updateNote(t.note.id,t.title,t.content)})),Ma(this.title.nativeElement,"click").subscribe((function(e){var n=e.target.innerText;console.log(n),"Type a title"==n&&(t.title.nativeElement.innerText="")})),Ma(this.content.nativeElement,"click").subscribe((function(e){var n=e.target.innerText;console.log(n),"Type content"==n&&(t.content.nativeElement.innerText="")}))}},{key:"updateNote",value:function(t,e,n){this.notemaker.updateNote(t,e,n)}},{key:"removeNote",value:function(t){this.notemaker.removeNote(t)}},{key:"dragEnd",value:function(t){console.log(t)}},{key:"setNoteColors",value:function(t){switch(console.log(t),t){case"yellow":console.log("yellow picked"),this.buttonContainerColor="yellowButtonContainer",this.noteColor="yellowContainer";break;case"blue":console.log("blue picked"),this.buttonContainerColor="blueButtonContainer",this.noteColor="blueContainer";break;case"green":console.log("green picked"),this.buttonContainerColor="greenButtonContainer",this.noteColor="greenContainer";break;case"pink":console.log("pink picked"),this.buttonContainerColor="pinkButtonContainer",this.noteColor="pinkContainer";break;case"violet":console.log("violet picked"),this.buttonContainerColor="violetButtonContainer",this.noteColor="violetContainer";break;case"grey":console.log("grey picked"),this.buttonContainerColor="greyButtonContainer",this.noteColor="greyContainer";break;default:console.log("default picked"),this.buttonContainerColor="yellowButtonContainer",this.noteColor="yellowContainer"}}},{key:"updateColor",value:function(t){this.setNoteColors(t),console.log(t),console.log(this.noteColor,this.buttonContainerColor),this.notemaker.updateColor(this.note.id,t)}}]),t}()).\u0275fac=function(t){return new(t||$v)(r.Nb(jd))},$v.\u0275cmp=r.Hb({type:$v,selectors:[["app-note"]],viewQuery:function(t,e){var n;1&t&&(r.mc(Qv,!0),r.mc(Yv,!0),r.mc(Zv,!0)),2&t&&(r.hc(n=r.bc())&&(e.title=n.first),r.hc(n=r.bc())&&(e.content=n.first),r.hc(n=r.bc())&&(e.noteContainer=n.first))},inputs:{note:"note"},decls:14,vars:7,consts:[["id","note","cdkDrag","",3,"ngClass"],[3,"ngClass"],[1,"note-colors-container"],["class","note-color-button",3,"ngStyle","click",4,"ngFor","ngForOf"],["mat-mini-fab","","color","accent",3,"click"],[1,"material-icons"],[1,"note-text-container"],["contenteditable","true",3,"mousedown"],["title",""],["content",""],[1,"note-color-button",3,"ngStyle","click"]],template:function(t,e){1&t&&(r.Sb(0,"article",0),r.Sb(1,"div",1),r.Sb(2,"div",2),r.oc(3,Xv,1,3,"span",3),r.Rb(),r.Sb(4,"button",4),r.ac("click",(function(){return e.removeNote(e.note.id)})),r.Sb(5,"span",5),r.pc(6," delete "),r.Rb(),r.Rb(),r.Rb(),r.Sb(7,"div",6),r.Sb(8,"h3",7,8),r.ac("mousedown",(function(t){return t.stopPropagation()})),r.pc(10),r.Rb(),r.Sb(11,"p",7,9),r.ac("mousedown",(function(t){return t.stopPropagation()})),r.pc(13),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.fc("ngClass",e.noteColor),r.Cb(1),r.fc("ngClass",r.gc(5,ty,e.buttonContainerColor)),r.Cb(2),r.fc("ngForOf",e.noteColors),r.Cb(7),r.rc(" ",e.note.title," "),r.Cb(3),r.rc(" ",e.note.content," "))},directives:[Hv,U,z,Wp,ot],styles:['#note[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:200px;min-height:200px;word-wrap:break-word;margin:15px;box-shadow:0 5px 15px 5px rgba(0,0,0,.3);position:relative}#note[_ngcontent-%COMP%]   .note-buttons-container[_ngcontent-%COMP%]{width:100%;position:relative;height:25px}#note[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{outline:none}#note[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;font-size:.9rem}#note[_ngcontent-%COMP%]   .mat-mini-fab[_ngcontent-%COMP%]{position:absolute;bottom:-8px;right:-8px;transform:scale(.45)}#note[_ngcontent-%COMP%]   .note-text-container[_ngcontent-%COMP%]{padding:0 10px 7px}#note[_ngcontent-%COMP%]   .note-text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}#note[_ngcontent-%COMP%]   .note-buttons-container[_ngcontent-%COMP%]   .note-color-button[_ngcontent-%COMP%]{content:"";width:5px;height:5px;padding:5px;border-radius:50%;cursor:pointer;border:.5px solid rgba(0,0,0,.131);margin:0 1px}#note[_ngcontent-%COMP%]   .note-buttons-container[_ngcontent-%COMP%]   .note-colors-container[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;padding-left:5px}.yellowContainer[_ngcontent-%COMP%]{background-color:#fef3a1}#note[_ngcontent-%COMP%]   .yellowButtonContainer[_ngcontent-%COMP%]{background-color:#fde84f}.blueContainer[_ngcontent-%COMP%]{background-color:#aff4fe}#note[_ngcontent-%COMP%]   .blueButtonContainer[_ngcontent-%COMP%]{background-color:#8df0fe}.greenContainer[_ngcontent-%COMP%]{background-color:#b4fda5}#note[_ngcontent-%COMP%]   .greenButtonContainer[_ngcontent-%COMP%]{background-color:#87fc89}.pinkContainer[_ngcontent-%COMP%]{background-color:#fec7c8}#note[_ngcontent-%COMP%]   .pinkButtonContainer[_ngcontent-%COMP%]{background-color:#fdb2b3}.violetContainer[_ngcontent-%COMP%]{background-color:#b7cbfd}#note[_ngcontent-%COMP%]   .violetButtonContainer[_ngcontent-%COMP%]{background-color:#9cb7fc}.greyContainer[_ngcontent-%COMP%]{background-color:#eee}#note[_ngcontent-%COMP%]   .greyButtonContainer[_ngcontent-%COMP%]{background-color:#dadada}']}),$v);function ny(t,e){1&t&&r.Ob(0,"app-note",6),2&t&&r.fc("note",e.$implicit)}var ry,iy=((ry=function(){function t(e,n,r){_classCallCheck(this,t),this.route=e,this.notemaker=n,this.auth=r,this.isLoading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.notes=this.route.snapshot.data.notes,this.auth.user.subscribe((function(e){t.uid=e.id,console.log(t.uid)})),this.notemaker.$notesChanged.subscribe((function(e){console.log("updating"),console.log(e),t.notes=e}))}},{key:"addNote",value:function(){this.notemaker.addNote()}}]),t}()).\u0275fac=function(t){return new(t||ry)(r.Nb(ir),r.Nb(jd),r.Nb(rd))},ry.\u0275cmp=r.Hb({type:ry,selectors:[["app-notes"]],decls:7,vars:1,consts:[["id","notes"],[1,"button-container"],["mat-fab","","color","warn",3,"click"],[1,"material-icons"],[1,"notes-container"],[3,"note",4,"ngFor","ngForOf"],[3,"note"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"button",2),r.ac("click",(function(){return e.addNote()})),r.Sb(3,"span",3),r.pc(4," note_add "),r.Rb(),r.Rb(),r.Rb(),r.Sb(5,"div",4),r.oc(6,ny,1,1,"app-note",5),r.Rb(),r.Rb()),2&t&&(r.Cb(6),r.fc("ngForOf",e.notes))},directives:[Wp,z,ey],styles:["#notes[_ngcontent-%COMP%]{height:100vh;flex-wrap:wrap;justify-content:flex-start;align-items:center;display:flex;flex-direction:column;position:relative}#notes[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:20px;width:100%}#notes[_ngcontent-%COMP%]   .mat-fab[_ngcontent-%COMP%]{-webkit-animation:addButton 2s linear infinite alternate;animation:addButton 2s linear infinite alternate}@-webkit-keyframes addButton{0%{transform:scale(.8)}to{transform:scale(1)}}@keyframes addButton{0%{transform:scale(.8)}to{transform:scale(1)}}"]}),ry),oy=n("spgP"),ay=n("Jgta"),sy=n("mrSG"),uy=n("zIRd"),cy=n("q/0M"),ly=n("qOnz"),hy=function(t,e){return(hy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function fy(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var dy,py="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},vy=vy||{},yy=py||self;function my(){}function gy(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function _y(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var by="closure_uid_"+(1e9*Math.random()>>>0),wy=0;function ky(t,e,n){return t.call.apply(t.bind,arguments)}function Cy(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ey(t,e,n){return(Ey=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ky:Cy).apply(null,arguments)}function Sy(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Oy(){return Date.now()}function Ty(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Iy(){this.j=this.j,this.i=this.i}Iy.prototype.j=!1,Iy.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,by)&&t[by]||(t[by]=++wy)}(this)},Iy.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var xy=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ay=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Py(t){return Array.prototype.concat.apply([],arguments)}function Dy(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ry(t){return/^[\s\xa0]*$/.test(t)}var Ny,jy=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ly(t,e){return-1!=t.indexOf(e)}function My(t,e){return t<e?-1:t>e?1:0}t:{var Fy=yy.navigator;if(Fy){var Vy=Fy.userAgent;if(Vy){Ny=Vy;break t}}Ny=""}function Uy(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function By(t){var e={};for(var n in t)e[n]=t[n];return e}var zy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qy(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<zy.length;o++)n=zy[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Hy(t){return Hy[" "](t),t}Hy[" "]=my;var Wy,Gy,Ky=Ly(Ny,"Opera"),Qy=Ly(Ny,"Trident")||Ly(Ny,"MSIE"),Yy=Ly(Ny,"Edge"),Zy=Yy||Qy,Jy=Ly(Ny,"Gecko")&&!(Ly(Ny.toLowerCase(),"webkit")&&!Ly(Ny,"Edge"))&&!(Ly(Ny,"Trident")||Ly(Ny,"MSIE"))&&!Ly(Ny,"Edge"),Xy=Ly(Ny.toLowerCase(),"webkit")&&!Ly(Ny,"Edge");function $y(){var t=yy.document;return t?t.documentMode:void 0}t:{var tm="",em=(Gy=Ny,Jy?/rv:([^\);]+)(\)|;)/.exec(Gy):Yy?/Edge\/([\d\.]+)/.exec(Gy):Qy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Gy):Xy?/WebKit\/(\S+)/.exec(Gy):Ky?/(?:Version)[ \/]?(\S+)/.exec(Gy):void 0);if(em&&(tm=em?em[1]:""),Qy){var nm=$y();if(null!=nm&&nm>parseFloat(tm)){Wy=String(nm);break t}}Wy=tm}var rm={};function im(t){return function(t,e){var n=rm;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=jy(String(Wy)).split("."),r=jy(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=My(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||My(0==a[2].length,0==s[2].length)||My(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}var om=yy.document&&Qy&&($y()||parseInt(Wy,10))||void 0,am=!Qy||9<=Number(om),sm=Qy&&!im("9"),um=function(){if(!yy.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{yy.addEventListener("test",my,e),yy.removeEventListener("test",my,e)}catch(n){}return t}();function cm(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function lm(t,e){if(cm.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Jy){t:{try{Hy(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:hm[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}cm.prototype.b=function(){this.defaultPrevented=!0},Ty(lm,cm);var hm={2:"touch",3:"pen",4:"mouse"};lm.prototype.b=function(){lm.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,sm)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var fm="closure_listenable_"+(1e6*Math.random()|0),dm=0;function pm(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++dm,this.Y=this.Z=!1}function vm(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ym(t){this.src=t,this.a={},this.b=0}function mm(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=xy(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(vm(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function gm(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ym.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=gm(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new pm(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var _m="closure_lm_"+(1e6*Math.random()|0),bm={};function wm(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=xm(r),e&&e[fm]?e.wa(n,r,_y(i)?!!i.capture:!!i,o):km(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)wm(t,e[o],n,r,i);return null}return n=xm(n),t&&t[fm]?t.va(e,n,_y(r)?!!r.capture:!!r,i):km(t,e,n,!1,r,i)}function km(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=_y(i)?!!i.capture:!!i;if(a&&!am)return null;var s=Tm(t);if(s||(t[_m]=s=new ym(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Om,e=am?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)um||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Em(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Cm(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[fm])mm(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Em(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Tm(e))?(mm(n,t),0==n.b&&(n.src=null,e[_m]=null)):vm(t)}}}function Em(t){return t in bm?bm[t]:bm[t]="on"+t}function Sm(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Cm(t),n.call(r,e)}function Om(t,e){if(t.Y)return!0;if(!am){if(!e)t:{e=["window","event"];for(var n=yy,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Sm(t,e=new lm(e,this))}return Sm(t,new lm(e,this))}function Tm(t){return(t=t[_m])instanceof ym?t:null}var Im="__closure_events_fn_"+(1e9*Math.random()>>>0);function xm(t){return"function"==typeof t?t:(t[Im]||(t[Im]=function(e){return t.handleEvent(e)}),t[Im])}function Am(){Iy.call(this),this.c=new ym(this),this.J=this,this.C=null}function Pm(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new cm(e,t);else if(e instanceof cm)e.target=e.target||t;else{var i=e;qy(e=new cm(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Dm(a,r,!0,e)&&i}if(i=Dm(a=e.a=t,r,!0,e)&&i,i=Dm(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Dm(a=e.a=n[o],r,!1,e)&&i}function Dm(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&mm(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Ty(Am,Iy),Am.prototype[fm]=!0,(dy=Am.prototype).addEventListener=function(t,e,n,r){wm(this,t,e,n,r)},dy.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=_y(i)?!!i.capture:!!i,r=xm(r),e&&e[fm]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=gm(a=e.a[n],r,i,o))&&(vm(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):e&&(e=Tm(e))&&(n=e.a[n.toString()],e=-1,n&&(e=gm(n,r,i,o)),(r=-1<e?n[e]:null)&&Cm(r))}(this,t,e,n,r)},dy.G=function(){if(Am.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)vm(n[r]);delete e.a[t],e.b--}}this.C=null},dy.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},dy.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Rm=yy.JSON.stringify;function Nm(){this.b=this.a=null}var jm,Lm=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Fm}),(function(t){t.reset()}));function Mm(){var t=zm,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Fm(){this.next=this.b=this.a=null}function Vm(t){yy.setTimeout((function(){throw t}),0)}function Um(t,e){jm||function(){var t=yy.Promise.resolve(void 0);jm=function(){t.then(qm)}}(),Bm||(jm(),Bm=!0),zm.add(t,e)}Nm.prototype.add=function(t,e){var n=Lm.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Fm.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Fm.prototype.reset=function(){this.next=this.b=this.a=null};var Bm=!1,zm=new Nm;function qm(){for(var t;t=Mm();){try{t.a.call(t.b)}catch(n){Vm(n)}var e=Lm;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Bm=!1}function Hm(t,e){Am.call(this),this.b=t||1,this.a=e||yy,this.f=Ey(this.Za,this),this.g=Oy()}function Wm(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Gm(t,e,n){if("function"==typeof t)n&&(t=Ey(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ey(t.handleEvent,t)}return 2147483647<Number(e)?-1:yy.setTimeout(t,e||0)}function Km(t){t.a=Gm((function(){t.a=null,t.c&&(t.c=!1,Km(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Ty(Hm,Am),(dy=Hm.prototype).aa=!1,dy.M=null,dy.Za=function(){if(this.aa){var t=Oy()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Pm(this,"tick"),this.aa&&(Wm(this),this.start()))}},dy.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Oy())},dy.G=function(){Hm.X.G.call(this),Wm(this),delete this.a};var Qm=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}hy(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Km(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(yy.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Iy);function Ym(t){Iy.call(this),this.b=t,this.a={}}Ty(Ym,Iy);var Zm=[];function Jm(t,e,n,r){Array.isArray(n)||(n&&(Zm[0]=n.toString()),n=Zm);for(var i=0;i<n.length;i++){var o=wm(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Xm(t){Uy(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Cm(t)}),t),t.a={}}function $m(){this.a=!0}function tg(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Rm(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}Ym.prototype.G=function(){Ym.X.G.call(this),Xm(this)},Ym.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$m.prototype.info=function(){};var eg={},ng=null;function rg(){return ng=ng||new Am}function ig(t){cm.call(this,eg.Fa,t)}function og(t){var e=rg();Pm(e,new ig(e,t))}function ag(t,e){cm.call(this,eg.STAT_EVENT,t),this.stat=e}function sg(t){var e=rg();Pm(e,new ag(e,t))}function ug(t){cm.call(this,eg.Ga,t)}function cg(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return yy.setTimeout((function(){t()}),e)}eg.Fa="serverreachability",Ty(ig,cm),eg.STAT_EVENT="statevent",Ty(ag,cm),eg.Ga="timingevent",Ty(ug,cm);var lg={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},hg={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function fg(){}function dg(){}fg.prototype.a=null;var pg,vg={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function yg(){cm.call(this,"d")}function mg(){cm.call(this,"c")}function gg(){}function _g(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Ym(this),this.P=bg,this.R=new Hm(t=Zy?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Ty(yg,cm),Ty(mg,cm),Ty(gg,fg),pg=new gg;var bg=45e3,wg={},kg={};function Cg(t,e,n){t.H=1,t.i=Wg(Vg(e)),t.j=n,t.I=!0,Eg(t,null)}function Eg(t,e){t.u=Oy(),Tg(t),t.l=Vg(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),i_(n.b,"t",r),t.D=0,t.a=X_(t.g,t.g.C?e:null),0<t.O&&(t.F=new Qm(Ey(t.Ca,t,t.a),t.O)),Jm(t.J,t.a,"readystatechange",t.Xa),e=t.B?By(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),og(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Sg(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Og(t,n);if(i==kg){4==e&&(t.h=4,sg(14),r=!1),tg(t.c,t.f,null,"[Incomplete Response]");break}if(i==wg){t.h=4,sg(15),tg(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}tg(t.c,t.f,i,null),Dg(t,i)}4==e&&0==n.length&&(t.h=1,sg(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),H_(e),e.F=!0,sg(11))):(tg(t.c,t.f,n,"[Invalid Chunked Response]"),Pg(t),Ag(t))}function Og(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?kg:(n=Number(e.substring(n,r)),isNaN(n)?wg:(r+=1)+n>e.length?kg:(e=e.substr(r,n),t.D=r+n,e))}function Tg(t){t.T=Oy()+t.P,Ig(t,t.P)}function Ig(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=cg(Ey(t.Va,t),e)}function xg(t){t.o&&(yy.clearTimeout(t.o),t.o=null)}function Ag(t){0==t.g.v||t.A||K_(t.g,t)}function Pg(t){xg(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Wm(t.R),Xm(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Dg(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||h_(n.b,t)))if(n.I=t.N,!t.C&&h_(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Mx){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;G_(n),j_(n)}q_(n),sg(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=cg(Ey(n.Sa,n),6e3));if(1>=l_(n.b)&&n.ea){try{n.ea()}catch(Mx){}n.ea=void 0}}else Y_(n,11)}else if((t.C||n.a==t)&&G_(n),!Ry(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Ly(l,"spdy")||Ly(l,"quic")||Ly(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(f_(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Hg(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Oy()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=J_(u,u.C?u.ga:null,u.fa),d.C){d_(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(xg(p),Tg(p)),u.a=d}else z_(u);0<n.g.length&&F_(n)}else"stop"!=i[0]&&"close"!=i[0]||Y_(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Y_(n,7):N_(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);og(4)}catch(Mx){}}function Rg(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(gy(t)||"string"==typeof t)Ay(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(gy(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(gy(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ng(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ng)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function jg(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Lg(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Lg(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Lg(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(dy=_g.prototype).setTimeout=function(t){this.P=t},dy.Xa=function(t){t=t.target;var e=this.F;e&&3==A_(t)?e.f():this.Ca(t)},dy.Ca=function(t){try{if(t==this.a)t:{var e=A_(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Zy&&!this.a.$())){this.A||4!=e||7==n||og(8==n||0>=r?3:2),xg(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ry(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,sg(12),Pg(this),Ag(this);break t}tg(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Dg(this,u)}this.I?(Sg(this,e,o),Zy&&this.b&&3==e&&(Jm(this.J,this.R,"tick",this.Wa),this.R.start())):(tg(this.c,this.f,o,null),Dg(this,o)),4==e&&Pg(this),this.b&&!this.A&&(4==e?K_(this.g,this):(this.b=!1,Tg(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,sg(12)):(this.h=0,sg(13)),Pg(this),Ag(this)}}}catch(c){}},dy.Wa=function(){if(this.a){var t=A_(this.a),e=this.a.$();this.D<e.length&&(xg(this),Sg(this,t,e),this.b&&4!=t&&Tg(this))}},dy.cancel=function(){this.A=!0,Pg(this)},dy.Va=function(){this.o=null;var t=Oy();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(og(3),sg(17)),Pg(this),this.h=2,Ag(this)):Ig(this,this.T-t)},(dy=Ng.prototype).K=function(){jg(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},dy.L=function(){return jg(this),this.a.concat()},dy.get=function(t,e){return Lg(this.b,t)?this.b[t]:e},dy.set=function(t,e){Lg(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},dy.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Mg=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Fg(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Fg){this.a=void 0!==e?e:t.a,Ug(this,t.f),this.j=t.j,Bg(this,t.c),zg(this,t.h),this.g=t.g,e=t.b;var n=new t_;n.c=e.c,e.a&&(n.a=new Ng(e.a),n.b=e.b),qg(this,n),this.i=t.i}else t&&(n=String(t).match(Mg))?(this.a=!!e,Ug(this,n[1]||"",!0),this.j=Gg(n[2]||""),Bg(this,n[3]||"",!0),zg(this,n[4]),this.g=Gg(n[5]||"",!0),qg(this,n[6]||"",!0),this.i=Gg(n[7]||"")):(this.a=!!e,this.b=new t_(null,this.a))}function Vg(t){return new Fg(t)}function Ug(t,e,n){t.f=n?Gg(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Bg(t,e,n){t.c=n?Gg(e,!0):e}function zg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function qg(t,e,n){e instanceof t_?(t.b=e,function(t,e){e&&!t.f&&(e_(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(n_(this,e),i_(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Kg(e,Xg)),t.b=new t_(e,t.a))}function Hg(t,e,n){t.b.set(e,n)}function Wg(t){return Hg(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Oy()).toString(36)),t}function Gg(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Kg(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Qg),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Qg(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Fg.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Kg(e,Yg,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Kg(e,Yg,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Kg(n,"/"==n.charAt(0)?Jg:Zg,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Kg(n,$g)),t.join("")};var Yg=/[#\/\?@]/g,Zg=/[#\?:]/g,Jg=/[#\?]/g,Xg=/[#\?@]/g,$g=/#/g;function t_(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function e_(t){t.a||(t.a=new Ng,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function n_(t,e){e_(t),e=o_(t,e),Lg(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Lg((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&jg(t)))}function r_(t,e){return e_(t),e=o_(t,e),Lg(t.a.b,e)}function i_(t,e,n){n_(t,e),0<n.length&&(t.c=null,t.a.set(o_(t,e),Dy(n)),t.b+=n.length)}function o_(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(dy=t_.prototype).add=function(t,e){e_(this),this.c=null,t=o_(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},dy.forEach=function(t,e){e_(this),this.a.forEach((function(n,r){Ay(n,(function(n){t.call(e,n,r,this)}),this)}),this)},dy.L=function(){e_(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},dy.K=function(t){e_(this);var e=[];if("string"==typeof t)r_(this,t)&&(e=Py(e,this.a.get(o_(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Py(e,t[n])}return e},dy.set=function(t,e){return e_(this),this.c=null,r_(this,t=o_(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},dy.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},dy.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var a_=function(t,e){this.b=t,this.a=e};function s_(t){this.g=t||u_,t=yy.PerformanceNavigationTiming?0<(t=yy.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(yy.ia&&yy.ia.ya&&yy.ia.ya()&&yy.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var u_=10;function c_(t){return!!t.b||!!t.a&&t.a.size>=t.f}function l_(t){return t.b?1:t.a?t.a.size:0}function h_(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function f_(t,e){t.a?t.a.add(e):t.b=e}function d_(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function p_(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=fy(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Dy(t.c)}function v_(){}function y_(){this.a=new v_}function m_(t,e,n){var r=n||"";try{Rg(t,(function(t,n){var i=t;_y(t)&&(i=Rm(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function g_(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}s_.prototype.cancel=function(){var t,e;if(this.c=p_(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=fy(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},v_.prototype.stringify=function(t){return yy.JSON.stringify(t,void 0)},v_.prototype.parse=function(t){return yy.JSON.parse(t,void 0)};var __=yy.JSON.parse;function b_(t){Am.call(this),this.headers=new Ng,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=w_,this.D=this.F=!1}Ty(b_,Am);var w_="",k_=/^https?$/i,C_=["POST","PUT"];function E_(t){return"content-type"==t.toLowerCase()}function S_(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,O_(t),I_(t)}function O_(t){t.u||(t.u=!0,Pm(t,"complete"),Pm(t,"error"))}function T_(t){if(t.b&&void 0!==vy&&(!t.s[1]||4!=A_(t)||2!=t.W()))if(t.l&&4==A_(t))Gm(t.za,0,t);else if(Pm(t,"readystatechange"),4==A_(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Mg)[1]||null;if(!o&&yy.self&&yy.self.location){var a=yy.self.location.protocol;o=a.substr(0,a.length-1)}i=!k_.test(o?o.toLowerCase():"")}e=i}if(e)Pm(t,"complete"),Pm(t,"success");else{t.h=6;try{var s=2<A_(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",O_(t)}}finally{I_(t)}}}function I_(t,e){if(t.a){x_(t);var n=t.a,r=t.s[0]?my:null;t.a=null,t.s=null,e||Pm(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function x_(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(yy.clearTimeout(t.m),t.m=null)}function A_(t){return t.a?t.a.readyState:0}function P_(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Uy(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Hg(t,e,n))}function D_(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function R_(t){this.pa=0,this.g=[],this.c=new $m,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=D_("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=D_("baseRetryDelayMs",5e3,t),this.Ra=D_("retryDelaySeedMs",1e4,t),this.Ma=D_("forwardChannelMaxRetries",2,t),this.ma=D_("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new s_(t&&t.concurrentRequestLimit),this.ka=new y_,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function N_(t){if(L_(t),3==t.v){var e=t.R++,n=Vg(t.B);Hg(n,"SID",t.J),Hg(n,"RID",e),Hg(n,"TYPE","terminate"),U_(t,n),(e=new _g(t,t.c,e,void 0)).H=2,e.i=Wg(Vg(n)),n=!1,yy.navigator&&yy.navigator.sendBeacon&&(n=yy.navigator.sendBeacon(e.i.toString(),"")),!n&&yy.Image&&((new Image).src=e.i,n=!0),n||(e.a=X_(e.g,null),e.a.ba(e.i)),e.u=Oy(),Tg(e)}Z_(t)}function j_(t){t.a&&(H_(t),t.a.cancel(),t.a=null)}function L_(t){j_(t),t.j&&(yy.clearTimeout(t.j),t.j=null),G_(t),t.b.cancel(),t.h&&("number"==typeof t.h&&yy.clearTimeout(t.h),t.h=null)}function M_(t,e){t.g.push(new a_(t.Oa++,e)),3==t.v&&F_(t)}function F_(t){c_(t.b)||t.h||(t.h=!0,Um(t.Ba,t),t.u=0)}function V_(t,e){var n;n=e?e.f:t.R++;var r=Vg(t.B);Hg(r,"SID",t.J),Hg(r,"RID",n),Hg(r,"AID",t.P),U_(t,r),t.i&&t.l&&P_(r,t.i,t.l),n=new _g(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=B_(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),f_(t.b,n),Cg(n,r,e)}function U_(t,e){t.f&&Rg({},(function(t,n){Hg(e,n,t)}))}function B_(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ey(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{m_(l,a,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function z_(t){t.a||t.j||(t.T=1,Um(t.Aa,t),t.o=0)}function q_(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=cg(Ey(t.Aa,t),Q_(t,t.o)),t.o++,0))}function H_(t){null!=t.s&&(yy.clearTimeout(t.s),t.s=null)}function W_(t){t.a=new _g(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Vg(t.la);Hg(e,"RID","rpc"),Hg(e,"SID",t.J),Hg(e,"CI",t.H?"0":"1"),Hg(e,"AID",t.P),U_(t,e),Hg(e,"TYPE","xmlhttp"),t.i&&t.l&&P_(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Wg(Vg(e)),n.j=null,n.I=!0,Eg(n,t)}function G_(t){null!=t.m&&(yy.clearTimeout(t.m),t.m=null)}function K_(t,e){var n=null;if(t.a==e){G_(t),H_(t),t.a=null;var r=2}else{if(!h_(t.b,e))return;n=e.s,d_(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Oy()-e.u;var i=t.u;Pm(r=rg(),new ug(r,n,e,i)),F_(t)}else z_(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(l_(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=cg(Ey(t.Ba,t,e),Q_(t,t.u)),t.u++,0)))}(t,e)||2==r&&q_(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Y_(t,5);break;case 4:Y_(t,10);break;case 3:Y_(t,6);break;default:Y_(t,2)}}function Q_(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Y_(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ey(t.Ya,t);n||(n=new Fg("//www.google.com/images/cleardot.gif"),yy.location&&"http"==yy.location.protocol||Ug(n,"https"),Wg(n)),function(t,e){var n=new $m;if(yy.Image){var r=new Image;r.onload=Sy(g_,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Sy(g_,n,r,"TestLoadImage: error",!1,e),r.onabort=Sy(g_,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Sy(g_,n,r,"TestLoadImage: timeout",!1,e),yy.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else sg(2);t.v=0,t.f&&t.f.ra(e),Z_(t),L_(t)}function Z_(t){t.v=0,t.I=-1,t.f&&(0==p_(t.b).length&&0==t.g.length||(t.b.c.length=0,Dy(t.g),t.g.length=0),t.f.qa())}function J_(t,e,n){var r=function(t){return t instanceof Fg?Vg(t):new Fg(t,void 0)}(n);if(""!=r.c)e&&Bg(r,e+"."+r.c),zg(r,r.h);else{var i=yy.location;r=function(t,e,n,r){var i=new Fg(null,void 0);return t&&Ug(i,t),e&&Bg(i,e),n&&zg(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Uy(t.V,(function(t,e){Hg(r,e,t)})),n=t.na,(e=t.A)&&n&&Hg(r,e,n),Hg(r,"VER",t.ha),U_(t,r),r}function X_(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new b_(t.Na)).F=t.C,e}function $_(){}function tb(){if(Qy&&!(10<=Number(om)))throw Error("Environmental error: no available transport.")}function eb(t,e){Am.call(this),this.a=new R_(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ry(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ry(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ib(this)}function nb(t){yg.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function rb(){mg.call(this),this.status=1}function ib(t){this.a=t}(dy=b_.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:pg),this.a.onreadystatechange=Ey(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void S_(this,o)}t=n||"";var i=new Ng(this.headers);r&&Rg(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=E_,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=yy.FormData&&t instanceof yy.FormData,!(0<=xy(C_,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{x_(this),0<this.o&&((this.D=function(t){return Qy&&im(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ey(this.xa,this)):this.m=Gm(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){S_(this,o)}},dy.xa=function(){void 0!==vy&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Pm(this,"timeout"),this.abort(8))},dy.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Pm(this,"complete"),Pm(this,"abort"),I_(this))},dy.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),I_(this,!0)),b_.X.G.call(this)},dy.za=function(){this.j||(this.A||this.l||this.g?T_(this):this.Ua())},dy.Ua=function(){T_(this)},dy.W=function(){try{return 2<A_(this)?this.a.status:-1}catch(Gy){return-1}},dy.$=function(){try{return this.a?this.a.responseText:""}catch(Gy){return""}},dy.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),__(e)}},dy.ua=function(){return this.h},dy.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(dy=R_.prototype).ha=8,dy.v=1,dy.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new _g(this,this.c,t,void 0),r=this.l;if(this.O&&(r?qy(r=By(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=B_(this,n,e),Hg(i=Vg(this.B),"RID",t),Hg(i,"CVER",22),this.A&&Hg(i,"X-HTTP-Session-Id",this.A),U_(this,i),this.i&&r&&P_(i,this.i,r),f_(this.b,n),this.Ia&&Hg(i,"TYPE","init"),this.da?(Hg(i,"$req",e),Hg(i,"SID","null"),n.U=!0,Cg(n,i,null)):Cg(n,i,e),this.v=2}}else 3==this.v&&(t?V_(this,t):0==this.g.length||c_(this.b)||V_(this))},dy.Aa=function(){if(this.j=null,W_(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=cg(Ey(this.Ta,this),t)}},dy.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,sg(10),j_(this),W_(this))},dy.Sa=function(){null!=this.m&&(this.m=null,j_(this),q_(this),sg(19))},dy.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),sg(2)):(this.c.info("Failed to ping google.com"),sg(1))},(dy=$_.prototype).ta=function(){},dy.sa=function(){},dy.ra=function(){},dy.qa=function(){},dy.Ja=function(){},tb.prototype.a=function(t,e){return new eb(t,e)},Ty(eb,Am),eb.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;sg(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=J_(t,null,t.fa),F_(t)},eb.prototype.close=function(){N_(this.a)},eb.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,M_(this.a,e)}else this.l?((e={}).__data__=Rm(t),M_(this.a,e)):M_(this.a,t)},eb.prototype.G=function(){this.a.f=null,delete this.f,N_(this.a),delete this.a,eb.X.G.call(this)},Ty(nb,yg),Ty(rb,mg),Ty(ib,$_),ib.prototype.ta=function(){Pm(this.a,"a")},ib.prototype.sa=function(t){Pm(this.a,new nb(t))},ib.prototype.ra=function(t){Pm(this.a,new rb(t))},ib.prototype.qa=function(){Pm(this.a,"b")},tb.prototype.createWebChannel=tb.prototype.a,eb.prototype.send=eb.prototype.h,eb.prototype.open=eb.prototype.g,eb.prototype.close=eb.prototype.close,lg.NO_ERROR=0,lg.TIMEOUT=8,lg.HTTP_ERROR=6,hg.COMPLETE="complete",dg.EventType=vg,vg.OPEN="a",vg.CLOSE="b",vg.ERROR="c",vg.MESSAGE="d",Am.prototype.listen=Am.prototype.va,b_.prototype.listenOnce=b_.prototype.wa,b_.prototype.getLastError=b_.prototype.Qa,b_.prototype.getLastErrorCode=b_.prototype.ua,b_.prototype.getStatus=b_.prototype.W,b_.prototype.getResponseJson=b_.prototype.Pa,b_.prototype.getResponseText=b_.prototype.$,b_.prototype.send=b_.prototype.ba;var ob=lg,ab=hg,sb=eg,ub=dg,cb=b_,lb=n("/6Yf"),hb=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},fb=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),db=function(){function t(t){this.uid=t}return t.prototype.u=function(){return null!=this.uid},t.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();db.UNAUTHENTICATED=new db(null),db.l=new db("google-credentials-uid"),db._=new db("first-party-uid");var pb=new cy.b("@firebase/firestore");function vb(){return pb.logLevel}function yb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(pb.logLevel<=cy.a.DEBUG){var r=e.map(_b);pb.debug.apply(pb,Object(sy.g)(["Firestore (8.1.2): "+t],r))}}function mb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(pb.logLevel<=cy.a.ERROR){var r=e.map(_b);pb.error.apply(pb,Object(sy.g)(["Firestore (8.1.2): "+t],r))}}function gb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(pb.logLevel<=cy.a.WARN){var r=e.map(_b);pb.warn.apply(pb,Object(sy.g)(["Firestore (8.1.2): "+t],r))}}function _b(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function bb(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.1.2) INTERNAL ASSERTION FAILED: "+t;throw mb(e),new Error(e)}function wb(t,e){t||bb()}function kb(t,e){return t}var Cb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Eb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(sy.c)(e,t),e}(Error),Sb=function(t,e){this.user=e,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+t},Ob=function(){function t(){this.I=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.m=function(){},t.prototype.A=function(t){this.I=t,t(db.UNAUTHENTICATED)},t.prototype.R=function(){this.I=null},t}(),Tb=function(){function t(t){var e=this;this.P=null,this.currentUser=db.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){e.V++,e.currentUser=e.p(),e.g=!0,e.I&&e.I(e.currentUser)},this.V=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),t.get().then((function(t){e.auth=t,e.P&&e.auth.addAuthTokenListener(e.P)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.V!==e?(yb("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(wb("string"==typeof n.accessToken),new Sb(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.m=function(){this.forceRefresh=!0},t.prototype.A=function(t){this.I=t,this.g&&t(this.currentUser)},t.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},t.prototype.p=function(){var t=this.auth&&this.auth.getUid();return wb(null===t||"string"==typeof t),new db(t)},t}(),Ib=function(){function t(t,e){this.v=t,this.S=e,this.type="FirstParty",this.user=db._}return Object.defineProperty(t.prototype,"T",{get:function(){var t={"X-Goog-AuthUser":this.S},e=this.v.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),xb=function(){function t(t,e){this.v=t,this.S=e}return t.prototype.getToken=function(){return Promise.resolve(new Ib(this.v,this.S))},t.prototype.A=function(t){t(db._)},t.prototype.R=function(){},t.prototype.m=function(){},t}();function Ab(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Pb=function(){function t(){}return t.D=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ab(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Db(t,e){return t<e?-1:t>e?1:0}function Rb(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Nb(t){return t+"\0"}var jb=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Eb(Cb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Eb(Cb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Eb(Cb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Eb(Cb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.C=function(t){return this.seconds===t.seconds?Db(this.nanoseconds,t.nanoseconds):Db(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Lb=function(){function t(t){this.timestamp=t}return t.N=function(e){return new t(e)},t.min=function(){return new t(new jb(0,0))},t.prototype.F=function(t){return this.timestamp.C(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t}(),Mb=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&bb(),void 0===n?n=t.length-e:n>t.length-e&&bb(),this.segments=t,this.offset=e,this.k=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.$(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.L(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.B=function(t){return this.L(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},t.prototype.U=function(){return this.segments[this.offset]},t.prototype.K=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.W=function(){return 0===this.length},t.prototype.j=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.G=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},t.$=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Fb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(sy.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.H().join("/")},e.prototype.toString=function(){return this.J()},e.Y=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Eb(Cb.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.X=function(){return new e([])},e}(Mb),Vb=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ub=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(sy.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.Z=function(t){return Vb.test(t)},e.prototype.J=function(){return this.H().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.Z(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},e.et=function(){return new e(["__name__"])},e.nt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Eb(Cb.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new Eb(Cb.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Eb(Cb.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Eb(Cb.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.X=function(){return new e([])},e}(Mb),Bb=function(){function t(t){this.path=t}return t.st=function(e){return new t(Fb.Y(e))},t.it=function(e){return new t(Fb.Y(e).B(5))},t.prototype.rt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Fb.$(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.$=function(t,e){return Fb.$(t.path,e.path)},t.ot=function(t){return t.length%2==0},t.ct=function(e){return new t(new Fb(e.slice()))},t}();function zb(t){return null==t}function qb(t){return 0===t&&1/t==-1/0}function Hb(t){return"number"==typeof t&&Number.isInteger(t)&&!qb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Wb=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ut=null};function Gb(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Wb(t,e,n,r,i,o,a)}function Kb(t){var e=kb(t);if(null===e.ut){var n=e.path.J();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.J()+t.op.toString()+Bw(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.J()+t.dir}(t)})).join(","),zb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=BC(e.startAt)),e.endAt&&(n+="|ub:",n+=BC(e.endAt)),e.ut=n}return e.ut}function Qb(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!GC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Mw(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qC(t.startAt,e.startAt)&&qC(t.endAt,e.endAt)}function Yb(t){return Bb.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Zb=function(){function t(t){this.at=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.at)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.at)},t.prototype.ht=function(){return 2*this.at.length},t.prototype.F=function(t){return Db(this.at,t.at)},t.prototype.isEqual=function(t){return this.at===t.at},t}();Zb.lt=new Zb("");var Jb,Xb,$b=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Lb.min()),void 0===o&&(o=Lb.min()),void 0===a&&(a=Zb.lt),this.target=t,this.targetId=e,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.dt=function(e){return new t(this.target,this.targetId,this._t,e,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.wt=function(e,n){return new t(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Et=function(e){return new t(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,e,this.resumeToken)},t}(),tw=function(t){this.count=t};function ew(t){switch(t){case Cb.OK:return bb();case Cb.CANCELLED:case Cb.UNKNOWN:case Cb.DEADLINE_EXCEEDED:case Cb.RESOURCE_EXHAUSTED:case Cb.INTERNAL:case Cb.UNAVAILABLE:case Cb.UNAUTHENTICATED:return!1;case Cb.INVALID_ARGUMENT:case Cb.NOT_FOUND:case Cb.ALREADY_EXISTS:case Cb.PERMISSION_DENIED:case Cb.FAILED_PRECONDITION:case Cb.ABORTED:case Cb.OUT_OF_RANGE:case Cb.UNIMPLEMENTED:case Cb.DATA_LOSS:return!0;default:return bb()}}function nw(t){if(void 0===t)return mb("GRPC error has no .code"),Cb.UNKNOWN;switch(t){case Jb.OK:return Cb.OK;case Jb.CANCELLED:return Cb.CANCELLED;case Jb.UNKNOWN:return Cb.UNKNOWN;case Jb.DEADLINE_EXCEEDED:return Cb.DEADLINE_EXCEEDED;case Jb.RESOURCE_EXHAUSTED:return Cb.RESOURCE_EXHAUSTED;case Jb.INTERNAL:return Cb.INTERNAL;case Jb.UNAVAILABLE:return Cb.UNAVAILABLE;case Jb.UNAUTHENTICATED:return Cb.UNAUTHENTICATED;case Jb.INVALID_ARGUMENT:return Cb.INVALID_ARGUMENT;case Jb.NOT_FOUND:return Cb.NOT_FOUND;case Jb.ALREADY_EXISTS:return Cb.ALREADY_EXISTS;case Jb.PERMISSION_DENIED:return Cb.PERMISSION_DENIED;case Jb.FAILED_PRECONDITION:return Cb.FAILED_PRECONDITION;case Jb.ABORTED:return Cb.ABORTED;case Jb.OUT_OF_RANGE:return Cb.OUT_OF_RANGE;case Jb.UNIMPLEMENTED:return Cb.UNIMPLEMENTED;case Jb.DATA_LOSS:return Cb.DATA_LOSS;default:return bb()}}(Xb=Jb||(Jb={}))[Xb.OK=0]="OK",Xb[Xb.CANCELLED=1]="CANCELLED",Xb[Xb.UNKNOWN=2]="UNKNOWN",Xb[Xb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xb[Xb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xb[Xb.NOT_FOUND=5]="NOT_FOUND",Xb[Xb.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xb[Xb.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xb[Xb.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xb[Xb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xb[Xb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xb[Xb.ABORTED=10]="ABORTED",Xb[Xb.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xb[Xb.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xb[Xb.INTERNAL=13]="INTERNAL",Xb[Xb.UNAVAILABLE=14]="UNAVAILABLE",Xb[Xb.DATA_LOSS=15]="DATA_LOSS";var rw=function(){function t(t,e){this.$=t,this.root=e||ow.EMPTY}return t.prototype.Tt=function(e,n){return new t(this.$,this.root.Tt(e,n,this.$).copy(null,null,ow.It,null,null))},t.prototype.remove=function(e){return new t(this.$,this.root.remove(e,this.$).copy(null,null,ow.It,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.W();){var n=this.$(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.W();){var r=this.$(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.W=function(){return this.root.W()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.At=function(){return this.root.At()},t.prototype.Rt=function(){return this.root.Rt()},t.prototype.Pt=function(t){return this.root.Pt(t)},t.prototype.forEach=function(t){this.Pt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Pt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.yt=function(){return new iw(this.root,null,this.$,!1)},t.prototype.Vt=function(t){return new iw(this.root,t,this.$,!1)},t.prototype.vt=function(){return new iw(this.root,null,this.$,!0)},t.prototype.bt=function(t){return new iw(this.root,t,this.$,!0)},t}(),iw=function(){function t(t,e,n,r){this.St=r,this.Dt=[];for(var i=1;!t.W();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.St?t.left:t.right;else{if(0===i){this.Dt.push(t);break}this.Dt.push(t),t=this.St?t.right:t.left}}return t.prototype.Ct=function(){var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.St)for(t=t.left;!t.W();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.W();)this.Dt.push(t),t=t.left;return e},t.prototype.Nt=function(){return this.Dt.length>0},t.prototype.xt=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),ow=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.W=function(){return!1},t.prototype.Pt=function(t){return this.left.Pt(t)||t(this.key,this.value)||this.right.Pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.W()?this:this.left.min()},t.prototype.At=function(){return this.min().key},t.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},t.prototype.Tt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Tt(t,e,n))).Ft()},t.prototype.Ot=function(){if(this.left.W())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.Ot(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(e,i.key)){if(i.right.W())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Bt()),t.left.Mt()&&t.left.left.Mt()&&(t=t.$t()),t.left.Mt()&&t.right.Mt()&&(t=t.qt()),t},t.prototype.kt=function(){var t=this.qt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.$t())).Bt()).qt()),t},t.prototype.Lt=function(){var t=this.qt();return t.left.left.Mt()&&(t=(t=t.$t()).qt()),t},t.prototype.Bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.$t=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.qt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.Qt();return Math.pow(2,t)<=this.size+1},t.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw bb();if(this.right.Mt())throw bb();var t=this.left.Qt();if(t!==this.right.Qt())throw bb();return t+(this.Mt()?0:1)},t}();ow.EMPTY=null,ow.RED=!0,ow.It=!1,ow.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw bb()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw bb()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw bb()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw bb()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw bb()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Tt=function(t,e,n){return new ow(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.W=function(){return!0},t.prototype.Pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.At=function(){return null},t.prototype.Rt=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.Qt=function(){return 0},t}());var aw=function(){function t(t){this.$=t,this.data=new rw(this.$)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.At()},t.prototype.last=function(){return this.data.Rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pt((function(e,n){return t(e),!1}))},t.prototype.Kt=function(t,e){for(var n=this.data.Vt(t[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Wt=function(t,e){var n;for(n=void 0!==e?this.data.Vt(e):this.data.yt();n.Nt();)if(!t(n.Ct().key))return},t.prototype.jt=function(t){var e=this.data.Vt(t);return e.Nt()?e.Ct().key:null},t.prototype.yt=function(){return new sw(this.data.yt())},t.prototype.Vt=function(t){return new sw(this.data.Vt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Tt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.W=function(){return this.data.W()},t.prototype.Gt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),r=e.data.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(0!==this.$(i,o))return!1}return!0},t.prototype.H=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.$);return n.data=e,n},t}(),sw=function(){function t(t){this.zt=t}return t.prototype.Ct=function(){return this.zt.Ct().key},t.prototype.Nt=function(){return this.zt.Nt()},t}(),uw=new rw(Bb.$);function cw(){return uw}function lw(){return cw()}var hw=new rw(Bb.$);function fw(){return hw}var dw=new rw(Bb.$),pw=new aw(Bb.$);function vw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=pw,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var yw=new aw(Db);function mw(){return yw}var gw=function(){function t(t){this.$=t?function(e,n){return t(e,n)||Bb.$(e.key,n.key)}:function(t,e){return Bb.$(t.key,e.key)},this.Ht=fw(),this.Jt=new rw(this.$)}return t.Yt=function(e){return new t(e.$)},t.prototype.has=function(t){return null!=this.Ht.get(t)},t.prototype.get=function(t){return this.Ht.get(t)},t.prototype.first=function(){return this.Jt.At()},t.prototype.last=function(){return this.Jt.Rt()},t.prototype.W=function(){return this.Jt.W()},t.prototype.indexOf=function(t){var e=this.Ht.get(t);return e?this.Jt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Jt.Pt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ht.Tt(t.key,t),e.Jt.Tt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ht.remove(t),this.Jt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Jt.yt(),r=e.Jt.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.$=this.$,r.Ht=e,r.Jt=n,r},t}(),_w=function(){function t(){this.Xt=new rw(Bb.$)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Xt.get(e);n?0!==t.type&&3===n.type?this.Xt=this.Xt.Tt(e,t):3===t.type&&1!==n.type?this.Xt=this.Xt.Tt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Xt=this.Xt.Tt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Xt=this.Xt.remove(e):1===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):bb():this.Xt=this.Xt.Tt(e,t)},t.prototype.Zt=function(){var t=[];return this.Xt.Pt((function(e,n){t.push(n)})),t},t}(),bw=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=o,this.ne=a,this.se=s}return t.ie=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,gw.Yt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ne===t.ne&&this.ee.isEqual(t.ee)&&OC(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.te.isEqual(t.te)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),ww=function(){function t(t,e,n,r,i){this.ft=t,this.re=e,this.oe=n,this.ce=r,this.ue=i}return t.ae=function(e,n){var r=new Map;return r.set(e,kw.he(e,n)),new t(Lb.min(),r,mw(),cw(),vw())},t}(),kw=function(){function t(t,e,n,r,i){this.resumeToken=t,this.le=e,this._e=n,this.fe=r,this.de=i}return t.he=function(e,n){return new t(Zb.lt,n,vw(),vw(),vw())},t}(),Cw=function(t,e,n,r){this.we=t,this.removedTargetIds=e,this.key=n,this.Ee=r},Ew=function(t,e){this.targetId=t,this.Te=e},Sw=function(t,e,n,r){void 0===n&&(n=Zb.lt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ow=function(){function t(){this.Ie=0,this.me=xw(),this.Ae=Zb.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(t.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),t.prototype.Ve=function(t){t.ht()>0&&(this.Pe=!0,this.Ae=t)},t.prototype.pe=function(){var t=vw(),e=vw(),n=vw();return this.me.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:bb()}})),new kw(this.Ae,this.Re,t,e,n)},t.prototype.ve=function(){this.Pe=!1,this.me=xw()},t.prototype.be=function(t,e){this.Pe=!0,this.me=this.me.Tt(t,e)},t.prototype.Se=function(t){this.Pe=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.Ie+=1},t.prototype.Ce=function(){this.Ie-=1},t.prototype.Ne=function(){this.Pe=!0,this.Re=!0},t}(),Tw=function(){function t(t){this.xe=t,this.Fe=new Map,this.Oe=cw(),this.Me=Iw(),this.ke=new aw(Db)}return t.prototype.$e=function(t){for(var e=0,n=t.we;e<n.length;e++){var r=n[e];t.Ee instanceof fC?this.Le(r,t.Ee):t.Ee instanceof dC&&this.Be(r,t.key,t.Ee)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Be(o[i],t.key,t.Ee)},t.prototype.qe=function(t){var e=this;this.Ue(t,(function(n){var r=e.Qe(n);switch(t.state){case 0:e.Ke(n)&&r.Ve(t.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(t.resumeToken);break;case 2:r.Ce(),r.ge||e.removeTarget(n);break;case 3:e.Ke(n)&&(r.Ne(),r.Ve(t.resumeToken));break;case 4:e.Ke(n)&&(e.We(n),r.Ve(t.resumeToken));break;default:bb()}}))},t.prototype.Ue=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fe.forEach((function(t,r){n.Ke(r)&&e(r)}))},t.prototype.je=function(t){var e=t.targetId,n=t.Te.count,r=this.Ge(e);if(r){var i=r.target;if(Yb(i))if(0===n){var o=new Bb(i.path);this.Be(e,o,new dC(o,Lb.min()))}else wb(1===n);else this.ze(e)!==n&&(this.We(e),this.ke=this.ke.add(e))}},t.prototype.He=function(t){var e=this,n=new Map;this.Fe.forEach((function(r,i){var o=e.Ge(i);if(o){if(r.le&&Yb(o.target)){var a=new Bb(o.target.path);null!==e.Oe.get(a)||e.Je(i,a)||e.Be(i,a,new dC(a,t))}r.ye&&(n.set(i,r.pe()),r.ve())}}));var r=vw();this.Me.forEach((function(t,n){var i=!0;n.Wt((function(t){var n=e.Ge(t);return!n||2===n._t||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new ww(t,n,this.ke,this.Oe,r);return this.Oe=cw(),this.Me=Iw(),this.ke=new aw(Db),i},t.prototype.Le=function(t,e){if(this.Ke(t)){var n=this.Je(t,e.key)?2:0;this.Qe(t).be(e.key,n),this.Oe=this.Oe.Tt(e.key,e),this.Me=this.Me.Tt(e.key,this.Ye(e.key).add(t))}},t.prototype.Be=function(t,e,n){if(this.Ke(t)){var r=this.Qe(t);this.Je(t,e)?r.be(e,1):r.Se(e),this.Me=this.Me.Tt(e,this.Ye(e).delete(t)),n&&(this.Oe=this.Oe.Tt(e,n))}},t.prototype.removeTarget=function(t){this.Fe.delete(t)},t.prototype.ze=function(t){var e=this.Qe(t).pe();return this.xe.Xe(t).size+e._e.size-e.de.size},t.prototype.De=function(t){this.Qe(t).De()},t.prototype.Qe=function(t){var e=this.Fe.get(t);return e||(e=new Ow,this.Fe.set(t,e)),e},t.prototype.Ye=function(t){var e=this.Me.get(t);return e||(e=new aw(Db),this.Me=this.Me.Tt(t,e)),e},t.prototype.Ke=function(t){var e=null!==this.Ge(t);return e||yb("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.Fe.get(t);return e&&e.ge?null:this.xe.Ze(t)},t.prototype.We=function(t){var e=this;this.Fe.set(t,new Ow),this.xe.Xe(t).forEach((function(n){e.Be(t,n,null)}))},t.prototype.Je=function(t,e){return this.xe.Xe(t).has(e)},t}();function Iw(){return new rw(Bb.$)}function xw(){return new rw(Bb.$)}function Aw(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pw(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Dw(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Rw(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Nw(t){var e=zw(t.mapValue.fields.__local_write_time__.timestampValue);return new jb(e.seconds,e.nanos)}var jw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lw(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Rw(t)?4:10:bb()}function Mw(t,e){var n=Lw(t);if(n!==Lw(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nw(t).isEqual(Nw(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=zw(t.timestampValue),r=zw(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Hw(t.bytesValue).isEqual(Hw(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return qw(t.geoPointValue.latitude)===qw(e.geoPointValue.latitude)&&qw(t.geoPointValue.longitude)===qw(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return qw(t.integerValue)===qw(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=qw(t.doubleValue),r=qw(e.doubleValue);return n===r?qb(n)===qb(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Rb(t.arrayValue.values||[],e.arrayValue.values||[],Mw);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Aw(n)!==Aw(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Mw(n[i],r[i])))return!1;return!0}(t,e);default:return bb()}}function Fw(t,e){return void 0!==(t.values||[]).find((function(t){return Mw(t,e)}))}function Vw(t,e){var n=Lw(t),r=Lw(e);if(n!==r)return Db(n,r);switch(n){case 0:return 0;case 1:return Db(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=qw(t.integerValue||t.doubleValue),r=qw(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Uw(t.timestampValue,e.timestampValue);case 4:return Uw(Nw(t),Nw(e));case 5:return Db(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Hw(t),r=Hw(e);return n.F(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Db(n[i],r[i]);if(0!==o)return o}return Db(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Db(qw(t.latitude),qw(e.latitude));return 0!==n?n:Db(qw(t.longitude),qw(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Vw(n[i],r[i]);if(o)return o}return Db(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Db(r[a],o[a]);if(0!==s)return s;var u=Vw(n[r[a]],i[o[a]]);if(0!==u)return u}return Db(r.length,o.length)}(t.mapValue,e.mapValue);default:throw bb()}}function Uw(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Db(t,e);var n=zw(t),r=zw(e),i=Db(n.seconds,r.seconds);return 0!==i?i:Db(n.nanos,r.nanos)}function Bw(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=zw(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Hw(e.bytesValue).toBase64():"referenceValue"in e?Bb.it(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):bb();var n}(t)}function zw(t){if(wb(!!t),"string"==typeof t){var e=0,n=jw.exec(t);if(wb(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:qw(t.seconds),nanos:qw(t.nanos)}}function qw(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Hw(t){return"string"==typeof t?Zb.fromBase64String(t):Zb.fromUint8Array(t)}function Ww(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function Gw(t){return!!t&&"integerValue"in t}function Kw(t){return!!t&&"arrayValue"in t}function Qw(t){return!!t&&"nullValue"in t}function Yw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zw(t){return!!t&&"mapValue"in t}var Jw={asc:"ASCENDING",desc:"DESCENDING"},Xw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$w=function(t,e){this.t=t,this.tn=e};function tk(t){return{integerValue:""+t}}function ek(t,e){if(t.tn){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qb(e)?"-0":e}}function nk(t,e){return Hb(e)?tk(e):ek(t,e)}function rk(t,e){return t.tn?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function ik(t,e){return t.tn?e.toBase64():e.toUint8Array()}function ok(t,e){return rk(t,e.M())}function ak(t){return wb(!!t),Lb.N(function(t){var e=zw(t);return new jb(e.seconds,e.nanos)}(t))}function sk(t,e){return function(t){return new Fb(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).J()}function uk(t){var e=Fb.Y(t);return wb(Ak(e)),e}function ck(t,e){return sk(t.t,e.path)}function lk(t,e){var n=uk(e);if(n.get(1)!==t.t.projectId)throw new Eb(Cb.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Eb(Cb.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Bb(pk(n))}function hk(t,e){return sk(t.t,e)}function fk(t){var e=uk(t);return 4===e.length?Fb.X():pk(e)}function dk(t){return new Fb(["projects",t.t.projectId,"databases",t.t.database]).J()}function pk(t){return wb(t.length>4&&"documents"===t.get(4)),t.B(5)}function vk(t,e,n){return{name:ck(t,e),fields:n.proto.mapValue.fields}}function yk(t,e){var n;if(e instanceof tC)n={update:vk(t,e.key,e.value)};else if(e instanceof aC)n={delete:ck(t,e.key)};else if(e instanceof eC)n={update:vk(t,e.key,e.data),updateMask:xk(e.en)};else if(e instanceof rC)n={transform:{document:ck(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof jk)return{fieldPath:e.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof Lk)return{fieldPath:e.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof Fk)return{fieldPath:e.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof Uk)return{fieldPath:e.field.J(),increment:n.nn};throw bb()}(0,t)}))}};else{if(!(e instanceof sC))return bb();n={verify:ck(t,e.key)}}return e.rn.sn||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ok(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:bb()}(t,e.rn)),n}function mk(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Gk.updateTime(ak(t.updateTime)):void 0!==t.exists?Gk.exists(t.exists):Gk.on()}(e.currentDocument):Gk.on();if(e.update){var r=lk(t,e.update.name),i=new uC({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new qk((t.fieldPaths||[]).map((function(t){return Ub.nt(t)})))}(e.updateMask);return new eC(r,i,o,n)}return new tC(r,i,n)}if(e.delete){var a=lk(t,e.delete);return new aC(a,n)}if(e.transform){var s=lk(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(wb("REQUEST_TIME"===e.setToServerValue),n=new jk):"appendMissingElements"in e?n=new Lk(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Fk(e.removeAllFromArray.values||[]):"increment"in e?n=new Uk(t,e.increment):bb();var r=Ub.nt(e.fieldPath);return new Hk(r,n)}(t,e)}));return wb(!0===n.exists),new rC(s,u)}if(e.verify){var c=lk(t,e.verify);return new sC(c,n)}return bb()}function gk(t,e){return{documents:[hk(t,e.path)]}}function _k(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=hk(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=hk(t,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Yw(t.value))return{unaryFilter:{field:Sk(t.field),op:"IS_NAN"}};if(Qw(t.value))return{unaryFilter:{field:Sk(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Yw(t.value))return{unaryFilter:{field:Sk(t.field),op:"IS_NOT_NAN"}};if(Qw(t.value))return{unaryFilter:{field:Sk(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sk(t.field),op:Ek(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Sk(t.field),direction:Ck(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.tn||zb(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=wk(e.startAt)),e.endAt&&(n.structuredQuery.endAt=wk(e.endAt)),n}function bk(t){var e=fk(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){wb(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[Ik(e)]:void 0!==e.fieldFilter?[Tk(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):bb():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new HC(Ok(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return zb(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=kk(n.startAt));var l=null;return n.endAt&&(l=kk(n.endAt)),yC(e,i,s,a,u,"F",c,l)}function wk(t){return{before:t.before,values:t.position}}function kk(t){return new UC(t.values||[],!!t.before)}function Ck(t){return Jw[t]}function Ek(t){return Xw[t]}function Sk(t){return{fieldPath:t.J()}}function Ok(t){return Ub.nt(t.fieldPath)}function Tk(t){return PC.create(Ok(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return bb()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ik(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ok(t.unaryFilter.field);return PC.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ok(t.unaryFilter.field);return PC.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ok(t.unaryFilter.field);return PC.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ok(t.unaryFilter.field);return PC.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return bb()}}function xk(t){var e=[];return t.fields.forEach((function(t){return e.push(t.J())})),{fieldPaths:e}}function Ak(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Pk=function(){this.cn=void 0};function Dk(t,e,n){return t instanceof jk?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Lk?Mk(t,e):t instanceof Fk?Vk(t,e):function(t,e){var n=Nk(t,e),r=Bk(n)+Bk(t.nn);return Gw(n)&&Gw(t.nn)?tk(r):ek(t.serializer,r)}(t,e)}function Rk(t,e,n){return t instanceof Lk?Mk(t,e):t instanceof Fk?Vk(t,e):n}function Nk(t,e){return t instanceof Uk?Gw(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var jk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(sy.c)(e,t),e}(Pk),Lk=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(sy.c)(e,t),e}(Pk);function Mk(t,e){for(var n=zk(e),r=function(t){n.some((function(e){return Mw(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Fk=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(sy.c)(e,t),e}(Pk);function Vk(t,e){for(var n=zk(e),r=function(t){n=n.filter((function(e){return!Mw(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Uk=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.nn=n,r}return Object(sy.c)(e,t),e}(Pk);function Bk(t){return qw(t.integerValue||t.doubleValue)}function zk(t){return Kw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var qk=function(){function t(t){this.fields=t,t.sort(Ub.$)}return t.prototype.un=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].j(t))return!0;return!1},t.prototype.isEqual=function(t){return Rb(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Hk=function(t,e){this.field=t,this.transform=e},Wk=function(t,e){this.version=t,this.transformResults=e},Gk=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.on=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Kk(t,e){return void 0!==t.updateTime?e instanceof fC&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof fC}var Qk=function(){};function Yk(t,e,n){return t instanceof tC?function(t,e,n){return new fC(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof eC?function(t,e,n){if(!Kk(t.rn,e))return new pC(t.key,n.version);var r=nC(t,e);return new fC(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof rC?function(t,e,n){if(wb(null!=n.transformResults),!Kk(t.rn,e))return new pC(t.key,n.version);var r=iC(0,e),i=function(t,e,n){var r=[];wb(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof fC&&(s=e.field(o.field)),r.push(Rk(a,s,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,a=oC(t,r.data(),i);return new fC(t.key,o,a,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new dC(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Zk(t,e,n,r){return t instanceof tC?function(t,e){if(!Kk(t.rn,e))return e;var n=$k(e);return new fC(t.key,n,t.value,{an:!0})}(t,e):t instanceof eC?function(t,e){if(!Kk(t.rn,e))return e;var n=$k(e),r=nC(t,e);return new fC(t.key,n,r,{an:!0})}(t,e):t instanceof rC?function(t,e,n,r){if(!Kk(t.rn,e))return e;var i=iC(0,e),o=function(t,e,n,r){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.transform,c=null;n instanceof fC&&(c=n.field(s.field)),null===c&&r instanceof fC&&(c=r.field(s.field)),i.push(Dk(u,c,e))}return i}(t.fieldTransforms,n,e,r),a=oC(t,i.data(),o);return new fC(t.key,i.version,a,{an:!0})}(t,e,r,n):function(t,e){return Kk(t.rn,e)?new dC(t.key,Lb.min()):e}(t,e)}function Jk(t,e){return t instanceof rC?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e instanceof fC?e.field(o.field):void 0,s=Nk(o.transform,a||null);null!=s&&(n=null==n?(new cC).set(o.field,s):n.set(o.field,s))}return n?n.hn():null}(t,e):null}function Xk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.rn.isEqual(e.rn)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.en.isEqual(e.en):2!==t.type||Rb(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Lk&&e instanceof Lk||t instanceof Fk&&e instanceof Fk?Rb(t.elements,e.elements,Mw):t instanceof Uk&&e instanceof Uk?Mw(t.nn,e.nn):t instanceof jk&&e instanceof jk}(t.transform,e.transform)}(t,e)})))}function $k(t){return t instanceof fC?t.version:Lb.min()}var tC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.rn=r,i.type=0,i}return Object(sy.c)(e,t),e}(Qk),eC=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.en=r,o.rn=i,o.type=1,o}return Object(sy.c)(e,t),e}(Qk);function nC(t,e){return function(t,e){var n=new cC(e);return t.en.fields.forEach((function(e){if(!e.W()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.hn()}(t,e instanceof fC?e.data():uC.empty())}var rC=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.rn=Gk.exists(!0),r}return Object(sy.c)(e,t),e}(Qk);function iC(t,e){return e}function oC(t,e,n){for(var r=new cC(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.hn()}var aC=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=3,r}return Object(sy.c)(e,t),e}(Qk),sC=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=4,r}return Object(sy.c)(e,t),e}(Qk),uC=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.W())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Zw(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.K()])||null},t.prototype.isEqual=function(t){return Mw(this.proto,t.proto)},t}(),cC=function(){function t(t){void 0===t&&(t=uC.empty()),this.ln=t,this._n=new Map}return t.prototype.set=function(t,e){return this.fn(t,e),this},t.prototype.delete=function(t){return this.fn(t,null),this},t.prototype.fn=function(t,e){for(var n=this._n,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Lw(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.K(),e)},t.prototype.hn=function(){var t=this.dn(Ub.X(),this._n);return null!=t?new uC(t):this.ln},t.prototype.dn=function(t,e){var n=this,r=!1,i=this.ln.field(t),o=Zw(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var a=n.dn(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function lC(t){var e=[];return Pw(t.fields||{},(function(t,n){var r=new Ub([t]);if(Zw(n)){var i=lC(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)})),new qk(e)}var hC=function(t,e){this.key=t,this.version=e},fC=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).wn=r,o.an=!!i.an,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(sy.c)(e,t),e.prototype.field=function(t){return this.wn.field(t)},e.prototype.data=function(){return this.wn},e.prototype.En=function(){return this.wn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.an===t.an&&this.hasCommittedMutations===t.hasCommittedMutations&&this.wn.isEqual(t.wn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(hC),dC=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(sy.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(hC),pC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(sy.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(hC),vC=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.Tn=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.In=null,this.mn=null};function yC(t,e,n,r,i,o,a,s){return new vC(t,e,n,r,i,o,a,s)}function mC(t){return new vC(t)}function gC(t){return!zb(t.limit)&&"F"===t.limitType}function _C(t){return!zb(t.limit)&&"L"===t.limitType}function bC(t){return t.Tn.length>0?t.Tn[0].field:null}function wC(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.An())return r.field}return null}function kC(t){return null!==t.collectionGroup}function CC(t){var e=kb(t);if(null===e.In){e.In=[];var n=wC(e),r=bC(e);if(null!==n&&null===r)n.tt()||e.In.push(new HC(n)),e.In.push(new HC(Ub.et(),"asc"));else{for(var i=!1,o=0,a=e.Tn;o<a.length;o++){var s=a[o];e.In.push(s),s.field.tt()&&(i=!0)}if(!i){var u=e.Tn.length>0?e.Tn[e.Tn.length-1].dir:"asc";e.In.push(new HC(Ub.et(),u))}}}return e.In}function EC(t){var e=kb(t);if(!e.mn)if("F"===e.limitType)e.mn=Gb(e.path,e.collectionGroup,CC(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=CC(e);r<i.length;r++){var o=i[r];n.push(new HC(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new UC(e.endAt.position,!e.endAt.before):null,s=e.startAt?new UC(e.startAt.position,!e.startAt.before):null;e.mn=Gb(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.mn}function SC(t,e,n){return new vC(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function OC(t,e){return Qb(EC(t),EC(e))&&t.limitType===e.limitType}function TC(t){return Kb(EC(t))+"|lt:"+t.limitType}function IC(t){return"Query(target="+function(t){var e=t.path.J();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.J()+" "+e.op+" "+Bw(e.value);var e})).join(", ")+"]"),zb(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.J()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+BC(t.startAt)),t.endAt&&(e+=", endAt: "+BC(t.endAt)),"Target("+e+")"}(EC(t))+"; limitType="+t.limitType+")"}function xC(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.rt(t.collectionGroup)&&t.path.j(n):Bb.ot(t.path)?t.path.isEqual(n):t.path.G(n)}(t,e)&&function(t,e){for(var n=0,r=t.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!zC(t.startAt,CC(t),e)||t.endAt&&zC(t.endAt,CC(t),e))}(t,e)}function AC(t){return function(e,n){for(var r=!1,i=0,o=CC(t);i<o.length;i++){var a=o[i],s=WC(a,e,n);if(0!==s)return s;r=r||a.field.tt()}return 0}}var PC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(sy.c)(e,t),e.create=function(t,n,r){return t.tt()?"in"===n||"not-in"===n?this.Rn(t,n,r):new DC(t,n,r):"array-contains"===n?new LC(t,r):"in"===n?new MC(t,r):"not-in"===n?new FC(t,r):"array-contains-any"===n?new VC(t,r):new e(t,n,r)},e.Rn=function(t,e,n){return"in"===e?new RC(t,n):new NC(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Pn(Vw(e,this.value)):null!==e&&Lw(this.value)===Lw(e)&&this.Pn(Vw(e,this.value))},e.prototype.Pn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return bb()}},e.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),DC=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Bb.it(r.referenceValue),i}return Object(sy.c)(e,t),e.prototype.matches=function(t){var e=Bb.$(t.key,this.key);return this.Pn(e)},e}(PC),RC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=jC(0,n),r}return Object(sy.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(PC),NC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=jC(0,n),r}return Object(sy.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(PC);function jC(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Bb.it(t.referenceValue)}))}var LC=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(sy.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Kw(e)&&Fw(e.arrayValue,this.value)},e}(PC),MC=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(sy.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Fw(this.value.arrayValue,e)},e}(PC),FC=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(sy.c)(e,t),e.prototype.matches=function(t){if(Fw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Fw(this.value.arrayValue,e)},e}(PC),VC=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(sy.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Kw(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Fw(e.value.arrayValue,t)}))},e}(PC),UC=function(t,e){this.position=t,this.before=e};function BC(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Bw(t)})).join(",")}function zC(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.tt()?Bb.$(Bb.it(a.referenceValue),n.key):Vw(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function qC(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Mw(t.position[n],e.position[n]))return!1;return!0}var HC=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function WC(t,e,n){var r=t.field.tt()?Bb.$(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Vw(r,i):bb()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return bb()}}function GC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var KC=function(){function t(t,e,n,r){this.batchId=t,this.gn=e,this.baseMutations=n,this.mutations=r}return t.prototype.yn=function(t,e,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Yk(o,e,r[i]))}return e},t.prototype.pn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Zk(i,e,e,this.gn))}for(var o=e,a=0,s=this.mutations;a<s.length;a++){var u=s[a];u.key.isEqual(t)&&(e=Zk(u,e,o,this.gn))}return e},t.prototype.vn=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.pn(r.key,t.get(r.key));i&&(n=n.Tt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),vw())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Rb(this.mutations,t.mutations,(function(t,e){return Xk(t,e)}))&&Rb(this.baseMutations,t.baseMutations,(function(t,e){return Xk(t,e)}))},t}(),QC=function(){function t(t,e,n,r){this.batch=t,this.bn=e,this.Vn=n,this.Sn=r}return t.from=function(e,n,r){wb(e.mutations.length===r.length);for(var i=dw,o=e.mutations,a=0;a<o.length;a++)i=i.Tt(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),YC=function(){function t(t,e){this.Dn=t,this.Cn=e,this.Nn={}}return t.prototype.get=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.Cn(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Dn(t),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.Nn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],t))return 1===n.length?delete this.Nn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Pw(this.Nn,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.W=function(){return Dw(this.Nn)},t}(),ZC=function(){function t(t){var e=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,t((function(t){e.On=!0,e.result=t,e.xn&&e.xn(t)}),(function(t){e.On=!0,e.error=t,e.Fn&&e.Fn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Mn&&bb(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(e,this.result):new t((function(t,i){r.xn=function(n){r.$n(e,n).next(t,i)},r.Fn=function(e){r.kn(n,e).next(t,i)}}))},t.prototype.Ln=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.$n=function(e,n){return e?this.Bn((function(){return e(n)})):t.resolve(n)},t.prototype.kn=function(e,n){return e?this.Bn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.qn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Un=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.qn(r)},t}(),JC=function(){function t(){this.Qn=new YC((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Kn=!1}return t.prototype.Wn=function(t){var e=this.Qn.get(t);return e?e.readTime:Lb.min()},t.prototype.jn=function(t,e){this.Gn(),this.Qn.set(t.key,{zn:t,readTime:e})},t.prototype.Hn=function(t,e){void 0===e&&(e=null),this.Gn(),this.Qn.set(t,{zn:null,readTime:e})},t.prototype.Jn=function(t,e){this.Gn();var n=this.Qn.get(e);return void 0!==n?ZC.resolve(n.zn):this.Yn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.Gn(),this.Kn=!0,this.Zn(t)},t.prototype.Gn=function(){},t}(),XC=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function $C(t){return new $w(t,!0)}function tE(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var eE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",nE=function(){function t(){this.ts=[]}return t.prototype.es=function(t){this.ts.push(t)},t.prototype.ns=function(){this.ts.forEach((function(t){return t()}))},t}(),rE=function(){function t(t,e,n){this.ss=t,this.rs=e,this.os=n}return t.prototype.cs=function(t,e){var n=this;return this.rs.us(t,e).next((function(r){return n.hs(t,e,r)}))},t.prototype.hs=function(t,e,n){return this.ss.Jn(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].pn(e,t);return t}))},t.prototype.ls=function(t,e,n){var r=lw();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].pn(t,e);r=r.Tt(t,e)})),r},t.prototype._s=function(t,e){var n=this;return this.ss.getEntries(t,e).next((function(e){return n.fs(t,e)}))},t.prototype.fs=function(t,e){var n=this;return this.rs.ds(t,e).next((function(r){var i=n.ls(t,e,r),o=cw();return i.forEach((function(t,e){e||(e=new dC(t,Lb.min())),o=o.Tt(t,e)})),o}))},t.prototype.ws=function(t,e,n){return function(t){return Bb.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Es(t,e.path):kC(e)?this.Ts(t,e,n):this.Is(t,e,n)},t.prototype.Es=function(t,e){return this.cs(t,new Bb(e)).next((function(t){var e=fw();return t instanceof fC&&(e=e.Tt(t.key,t)),e}))},t.prototype.Ts=function(t,e,n){var r=this,i=e.collectionGroup,o=fw();return this.os.As(t,i).next((function(a){return ZC.forEach(a,(function(a){var s=function(t,e){return new vC(e,null,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.Is(t,s,n).next((function(t){t.forEach((function(t,e){o=o.Tt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Is=function(t,e,n){var r,i,o=this;return this.ss.ws(t,e,n).next((function(n){return r=n,o.rs.Rs(t,e)})).next((function(e){return o.Ps(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c),h=Zk(u,l,l,o.gn);r=h instanceof fC?r.Tt(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){xC(e,n)||(r=r.remove(t))})),r}))},t.prototype.Ps=function(t,e,n){for(var r=vw(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof eC&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ss.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof fC&&(c=c.Tt(t,e))})),c}))},t}(),iE=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.gs=n,this.ys=r}return t.Vs=function(e,n){for(var r=vw(),i=vw(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),oE=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ps=function(t){return n.vs(t)},this.bs=function(t){return e.Ss(t)})}return t.prototype.vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.bs&&this.bs(t),t},t}();oE.Ds=-1;var aE=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=t,this.Ns=e,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ms=0},t.prototype.Ls=function(){this.Ms=this.Os},t.prototype.Bs=function(t){var e=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&yb("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ks=this.Cs.Us(this.Ns,i,(function(){return e.$s=Date.now(),t()})),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},t.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},t.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},t.prototype.qs=function(){return(Math.random()-.5)*this.Ms},t}(),sE=function(){function t(e,n,r){this.name=e,this.version=n,this.Ws=r,12.2===t.js(Object(ly.g)())&&mb("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return yb("SimpleDb","Removing database:",t),dE(window.indexedDB.deleteDatabase(t)).Ln()},t.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(t.zs())return!0;var e=Object(ly.g)(),n=t.js(e),r=0<n&&n<10,i=t.Hs(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.zs=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Js)},t.Ys=function(t,e){return t.store(e)},t.js=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Hs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Xs=function(t){return Object(sy.b)(this,void 0,void 0,(function(){var e,n=this;return Object(sy.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(yb("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new cE(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Eb(Cb.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new cE(t,n))},i.onupgradeneeded=function(t){yb("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Ws.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){yb("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(t){return n.Zs(t)}),this.db)]}}))}))},t.prototype.ti=function(t){this.Zs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(sy.b)(this,void 0,void 0,(function(){var i,o,a,s,u;return Object(sy.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return Object(sy.d)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.Xs(t)];case 2:return s.db=h.sent(),e=hE.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),ZC.reject(t)})).Ln(),u={},a.catch((function(){})),[4,e.ei];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return yb("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),uE=function(){function t(t){this.ni=t,this.si=!1,this.ii=null}return Object.defineProperty(t.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ni=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.si=!0},t.prototype.oi=function(t){this.ii=t},t.prototype.delete=function(){return dE(this.ni.delete())},t}(),cE=function(t){function e(e,n){var r=this;return(r=t.call(this,Cb.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(sy.c)(e,t),e}(Eb);function lE(t){return"IndexedDbTransactionError"===t.name}var hE=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ci=new XC,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){e.error?n.ci.reject(new cE(t,e.error)):n.ci.resolve()},this.transaction.onerror=function(e){var r=vE(e.target.error);n.ci.reject(new cE(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new cE(n,e)}},Object.defineProperty(t.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ci.reject(t),this.aborted||(yb("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new fE(e)},t}(),fE=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(yb("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(yb("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),dE(n)},t.prototype.add=function(t){return yb("SimpleDb","ADD",this.store.name,t,t),dE(this.store.add(t))},t.prototype.get=function(t){var e=this;return dE(this.store.get(t)).next((function(n){return void 0===n&&(n=null),yb("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return yb("SimpleDb","DELETE",this.store.name,t),dE(this.store.delete(t))},t.prototype.count=function(){return yb("SimpleDb","COUNT",this.store.name),dE(this.store.count())},t.prototype.ui=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ai(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.hi=function(t,e){yb("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.li=!1;var r=this.cursor(n);return this.ai(r,(function(t,e,n){return n.delete()}))},t.prototype._i=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ai(r,e)},t.prototype.fi=function(t){var e=this.cursor({});return new ZC((function(n,r){e.onerror=function(t){var e=vE(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.ai=function(t,e){var n=[];return new ZC((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new uE(i),a=e(i.primaryKey,i.value,o);if(a instanceof ZC){var s=a.catch((function(t){return o.done(),ZC.reject(t)}));n.push(s)}o.On?r():null===o.ri?i.continue():i.continue(o.ri)}else r()}})).next((function(){return ZC.qn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.li?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function dE(t){return new ZC((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=vE(t.target.error);n(e)}}))}var pE=!1;function vE(t){var e=sE.js(Object(ly.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Eb("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return pE||(pE=!0,setTimeout((function(){throw r}),0)),r}}return t}function yE(){return"undefined"!=typeof window?window:null}function mE(){return"undefined"!=typeof document?document:null}var gE=function(){function t(t,e,n,r,i){this.di=t,this.Ns=e,this.wi=n,this.op=r,this.Ei=i,this.Ti=new XC,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch((function(t){}))}return t.Ii=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.mi=setTimeout((function(){return e.Ai()}),t)},t.prototype.Ks=function(){return this.Ai()},t.prototype.cancel=function(t){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new Eb(Cb.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Ai=function(){var t=this;this.di.Ri((function(){return null!==t.mi?(t.clearTimeout(),t.op().then((function(e){return t.Ti.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},t}(),_E=function(){function t(){var t=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new aE(this,"async_queue_retry"),this.Di=function(){var e=mE();e&&yb("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Si.Qs()};var e=mE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(t.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t){this.enqueue(t)},t.prototype.Ni=function(t){this.xi(),this.Fi(t)},t.prototype.Oi=function(){if(!this.yi){this.yi=!0;var t=mE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Di)}},t.prototype.enqueue=function(t){return this.xi(),this.yi?new Promise((function(t){})):this.Fi(t)},t.prototype.Mi=function(t){var e=this;this.Ri((function(){return e.gi.push(t),e.ki()}))},t.prototype.ki=function(){return Object(sy.b)(this,void 0,void 0,(function(){var t,e=this;return Object(sy.d)(this,(function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!lE(t=n.sent()))throw t;return yb("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gi.length>0&&this.Si.Bs((function(){return e.ki()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Fi=function(t){var e=this,n=this.Pi.then((function(){return e.vi=!0,t().catch((function(t){throw e.pi=t,e.vi=!1,mb("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.vi=!1,t}))}));return this.Pi=n,n},t.prototype.Us=function(t,e,n){var r=this;this.xi(),this.bi.indexOf(t)>-1&&(e=0);var i=gE.Ii(this,t,e,n,(function(t){return r.$i(t)}));return this.Vi.push(i),i},t.prototype.xi=function(){this.pi&&bb()},t.prototype.Li=function(){},t.prototype.Bi=function(){return Object(sy.b)(this,void 0,void 0,(function(){var t;return Object(sy.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Pi];case 1:e.sent(),e.label=2;case 2:if(t!==this.Pi)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.qi=function(t){for(var e=0,n=this.Vi;e<n.length;e++)if(n[e].Ns===t)return!0;return!1},t.prototype.Ui=function(t){var e=this;return this.Bi().then((function(){e.Vi.sort((function(t,e){return t.wi-e.wi}));for(var n=0,r=e.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ns===t)break}return e.Bi()}))},t.prototype.Qi=function(t){this.bi.push(t)},t.prototype.$i=function(t){var e=this.Vi.indexOf(t);this.Vi.splice(e,1)},t}();function bE(t,e){if(mb("AsyncQueue",e+": "+t),lE(t))return new Eb(Cb.UNAVAILABLE,e+": "+t);throw t}function wE(t,e){var n=t[1],r=e[1],i=Db(t[0],e[0]);return 0===i?Db(n,r):i}var kE=function(){function t(t){this.Ki=t,this.buffer=new aw(wE),this.Wi=0}return t.prototype.ji=function(){return++this.Wi},t.prototype.Gi=function(t){var e=[t,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();wE(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),CE={zi:!1,Hi:0,Ji:0,Yi:0},EE=function(){function t(t,e,n){this.Xi=t,this.Zi=e,this.tr=n}return t.er=function(e){return new t(e,t.nr,t.sr)},t}();EE.nr=10,EE.sr=1e3,EE.ir=new EE(41943040,EE.nr,EE.sr),EE.rr=new EE(-1,0,0);var SE=function(){function t(t,e){this.cr=t,this.di=e,this.ur=!1,this.ar=null}return t.prototype.start=function(t){-1!==this.cr.params.Xi&&this.hr(t)},t.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(t.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),t.prototype.hr=function(t){var e=this,n=this.ur?3e5:6e4;yb("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,(function(){return Object(sy.b)(e,void 0,void 0,(function(){var e;return Object(sy.d)(this,(function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return lE(e=n.sent())?(yb("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,$S(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),OE=function(){function t(t,e){this.dr=t,this.params=e}return t.prototype.wr=function(t,e){return this.dr.Er(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Tr=function(t,e){var n=this;if(0===e)return ZC.resolve(oE.Ds);var r=new kE(e);return this.dr.Ue(t,(function(t){return r.Gi(t.sequenceNumber)})).next((function(){return n.dr.Ir(t,(function(t){return r.Gi(t)}))})).next((function(){return r.maxValue}))},t.prototype.mr=function(t,e,n){return this.dr.mr(t,e,n)},t.prototype.Ar=function(t,e){return this.dr.Ar(t,e)},t.prototype.Rr=function(t,e){var n=this;return-1===this.params.Xi?(yb("LruGarbageCollector","Garbage collection skipped; disabled"),ZC.resolve(CE)):this.Pr(t).next((function(r){return r<n.params.Xi?(yb("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Xi),CE):n.gr(t,e)}))},t.prototype.Pr=function(t){return this.dr.Pr(t)},t.prototype.gr=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.wr(t,this.params.Zi).next((function(e){return e>c.params.tr?(yb("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.tr+" from "+e),r=c.params.tr):r=e,o=Date.now(),c.Tr(t,r)})).next((function(r){return n=r,a=Date.now(),c.mr(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.Ar(t,n)})).next((function(t){return u=Date.now(),vb()<=cy.a.DEBUG&&yb("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),ZC.resolve({zi:!0,Hi:r,Ji:i,Yi:t})}))},t}(),TE=function(){function t(){}return t.prototype.yr=function(t){this.Vr=t},t.prototype.ws=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Tn.length||1===t.Tn.length&&t.Tn[0].field.tt())}(e)||n.isEqual(Lb.min())?this.pr(t,e):this.Vr._s(t,r).next((function(o){var a=i.vr(e,o);return(gC(e)||_C(e))&&i.br(e.limitType,a,r,n)?i.pr(t,e):(vb()<=cy.a.DEBUG&&yb("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),IC(e)),i.Vr.ws(t,e,n).next((function(t){return a.forEach((function(e){t=t.Tt(e.key,e)})),t})))}))},t.prototype.vr=function(t,e){var n=new aw(AC(t));return e.forEach((function(e,r){r instanceof fC&&xC(t,r)&&(n=n.add(r))})),n},t.prototype.br=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},t.prototype.pr=function(t,e){return vb()<=cy.a.DEBUG&&yb("QueryEngine","Using full collection scan to execute query:",IC(e)),this.Vr.ws(t,e,Lb.min())},t}();function IE(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=AE(e)),e=xE(t.get(n),e);return AE(e)}function xE(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function AE(t){return t+"\x01\x01"}function PE(t){var e=t.length;if(wb(e>=2),2===e)return wb("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Fb.X();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&bb(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:bb()}o=a+2}return new Fb(r)}var DE=function(t){this.Sr=t};function RE(t,e){if(e.document)return function(t,e,n){var r=lk(t,e.name),i=ak(e.updateTime),o=new uC({mapValue:{fields:e.fields}});return new fC(r,i,o,{hasCommittedMutations:!!n})}(t.Sr,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Bb.ct(e.noDocument.path),r=FE(e.noDocument.readTime);return new dC(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Bb.ct(e.unknownDocument.path),o=FE(e.unknownDocument.version);return new pC(i,o)}return bb()}function NE(t,e,n){var r=jE(n),i=e.key.path.q().H();if(e instanceof fC){var o=function(t,e){return{name:ck(t,e.key),fields:e.En().mapValue.fields,updateTime:rk(t,e.version.M())}}(t.Sr,e);return new hS(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof dC){var a=e.key.path.H(),s=ME(e.version),u=e.hasCommittedMutations;return new hS(null,new cS(a,s),null,u,r,i)}if(e instanceof pC){var c=e.key.path.H(),l=ME(e.version);return new hS(new lS(c,l),null,null,!0,r,i)}return bb()}function jE(t){var e=t.M();return[e.seconds,e.nanoseconds]}function LE(t){var e=new jb(t[0],t[1]);return Lb.N(e)}function ME(t){var e=t.M();return new iS(e.seconds,e.nanoseconds)}function FE(t){var e=new jb(t.seconds,t.nanoseconds);return Lb.N(e)}function VE(t,e){var n=(e.baseMutations||[]).map((function(e){return mk(t.Sr,e)})),r=e.mutations.map((function(e){return mk(t.Sr,e)})),i=jb.fromMillis(e.localWriteTimeMs);return new KC(e.batchId,i,n,r)}function UE(t){var e,n,r=FE(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?FE(t.lastLimboFreeSnapshotVersion):Lb.min();return void 0!==t.query.documents?(wb(1===(n=t.query).documents.length),e=EC(mC(fk(n.documents[0])))):e=function(t){return EC(bk(t))}(t.query),new $b(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Zb.fromBase64String(t.resumeToken))}function BE(t,e){var n,r=ME(e.ft),i=ME(e.lastLimboFreeSnapshotVersion);n=Yb(e.target)?gk(t.Sr,e.target):_k(t.Sr,e.target);var o=e.resumeToken.toBase64();return new dS(e.targetId,Kb(e.target),r,o,e.sequenceNumber,i,n)}function zE(t){var e=bk({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?SC(e,e.limit,"L"):e}var qE=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.os=n,this.Dr=r,this.Cr={}}return t.Nr=function(e,n,r,i){return wb(""!==e.uid),new t(e.u()?e.uid:"",n,r,i)},t.prototype.Fr=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return GE(t)._i({index:sS.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Or=function(t,e,n,r){var i=this,o=KE(t),a=GE(t);return a.add({}).next((function(s){wb("number"==typeof s);for(var u=new KC(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return yk(t.Sr,e)})),i=n.mutations.map((function(e){return yk(t.Sr,e)}));return new sS(e,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new aw((function(t,e){return Db(t.J(),e.J())})),f=0,d=r;f<d.length;f++){var p=d[f],v=uS.key(i.userId,p.key.path,s);h=h.add(p.key.path.q()),l.push(a.put(c)),l.push(o.put(v,uS.PLACEHOLDER))}return h.forEach((function(e){l.push(i.os.Mr(t,e))})),t.es((function(){i.Cr[s]=u.keys()})),ZC.qn(l).next((function(){return u}))}))},t.prototype.kr=function(t,e){var n=this;return GE(t).get(e).next((function(t){return t?(wb(t.userId===n.userId),VE(n.serializer,t)):null}))},t.prototype.$r=function(t,e){var n=this;return this.Cr[e]?ZC.resolve(this.Cr[e]):this.kr(t,e).next((function(t){if(t){var r=t.keys();return n.Cr[e]=r,r}return null}))},t.prototype.Lr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return GE(t)._i({index:sS.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(wb(e.batchId>=r),o=VE(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.Br=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return GE(t)._i({index:sS.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.qr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return GE(t).ui(sS.userMutationsIndex,n).next((function(t){return t.map((function(t){return VE(e.serializer,t)}))}))},t.prototype.us=function(t,e){var n=this,r=uS.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return KE(t)._i({range:i},(function(r,i,a){var s=r[0],u=r[2],c=PE(r[1]);if(s===n.userId&&e.path.isEqual(c))return GE(t).get(u).next((function(t){if(!t)throw bb();wb(t.userId===n.userId),o.push(VE(n.serializer,t))}));a.done()})).next((function(){return o}))},t.prototype.ds=function(t,e){var n=this,r=new aw(Db),i=[];return e.forEach((function(e){var o=uS.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=KE(t)._i({range:a},(function(t,i,o){var a=t[0],s=t[2],u=PE(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()}));i.push(s)})),ZC.qn(i).next((function(){return n.Ur(t,r)}))},t.prototype.Rs=function(t,e){var n=this,r=e.path,i=r.length+1,o=uS.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new aw(Db);return KE(t)._i({range:a},(function(t,e,o){var a=t[0],u=t[2],c=PE(t[1]);a===n.userId&&r.j(c)?c.length===i&&(s=s.add(u)):o.done()})).next((function(){return n.Ur(t,s)}))},t.prototype.Ur=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(GE(t).get(e).next((function(t){if(null===t)throw bb();wb(t.userId===n.userId),r.push(VE(n.serializer,t))})))})),ZC.qn(i).next((function(){return r}))},t.prototype.Qr=function(t,e){var n=this;return WE(t.Kr,this.userId,e).next((function(r){return t.es((function(){n.Wr(e.batchId)})),ZC.forEach(r,(function(e){return n.Dr.jr(t,e)}))}))},t.prototype.Wr=function(t){delete this.Cr[t]},t.prototype.Gr=function(t){var e=this;return this.Fr(t).next((function(n){if(!n)return ZC.resolve();var r=IDBKeyRange.lowerBound(uS.prefixForUser(e.userId)),i=[];return KE(t)._i({range:r},(function(t,n,r){if(t[0]===e.userId){var o=PE(t[1]);i.push(o)}else r.done()})).next((function(){wb(0===i.length)}))}))},t.prototype.zr=function(t,e){return HE(t,this.userId,e)},t.prototype.Hr=function(t){var e=this;return QE(t).get(this.userId).next((function(t){return t||new aS(e.userId,-1,"")}))},t}();function HE(t,e,n){var r=uS.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return KE(t)._i({range:o,li:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function WE(t,e,n){var r=t.store(sS.store),i=t.store(uS.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r._i({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){wb(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=uS.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return ZC.qn(o).next((function(){return c}))}function GE(t){return NS.Ys(t,sS.store)}function KE(t){return NS.Ys(t,uS.store)}function QE(t){return NS.Ys(t,aS.store)}var YE=function(){function t(t,e){this.serializer=t,this.os=e}return t.prototype.jn=function(t,e,n){return XE(t).put($E(e),n)},t.prototype.Hn=function(t,e){var n=XE(t),r=$E(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Jr(t,r)}))},t.prototype.Jn=function(t,e){var n=this;return XE(t).get($E(e)).next((function(t){return n.Yr(t)}))},t.prototype.Xr=function(t,e){var n=this;return XE(t).get($E(e)).next((function(t){var e=n.Yr(t);return e?{zn:e,size:tS(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=lw();return this.Zr(t,e,(function(t,e){var i=n.Yr(e);r=r.Tt(t,i)})).next((function(){return r}))},t.prototype.eo=function(t,e){var n=this,r=lw(),i=new rw(Bb.$);return this.Zr(t,e,(function(t,e){var o=n.Yr(e);o?(r=r.Tt(t,o),i=i.Tt(t,tS(e))):(r=r.Tt(t,null),i=i.Tt(t,0))})).next((function(){return{no:r,so:i}}))},t.prototype.Zr=function(t,e,n){if(e.W())return ZC.resolve();var r=IDBKeyRange.bound(e.first().path.H(),e.last().path.H()),i=e.yt(),o=i.Ct();return XE(t)._i({range:r},(function(t,e,r){for(var a=Bb.ct(t);o&&Bb.$(o,a)<0;)n(o,null),o=i.Ct();o&&o.isEqual(a)&&(n(o,e),o=i.Nt()?i.Ct():null),o?r.oi(o.path.H()):r.done()})).next((function(){for(;o;)n(o,null),o=i.Nt()?i.Ct():null}))},t.prototype.ws=function(t,e,n){var r=this,i=fw(),o=e.path.length+1,a={};if(n.isEqual(Lb.min())){var s=e.path.H();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.H(),c=jE(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=hS.collectionReadTimeIndex}return XE(t)._i(a,(function(t,n,a){if(t.length===o){var s=RE(r.serializer,n);e.path.j(s.key.path)?s instanceof fC&&xC(e,s)&&(i=i.Tt(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.io=function(t){return new ZE(this,!!t&&t.ro)},t.prototype.oo=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return JE(t).get(fS.key).next((function(t){return wb(!!t),t}))},t.prototype.Jr=function(t,e){return JE(t).put(fS.key,e)},t.prototype.Yr=function(t){if(t){var e=RE(this.serializer,t);return e instanceof dC&&e.version.isEqual(Lb.min())?null:e}return null},t}(),ZE=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).co=e,r.ro=n,r.uo=new YC((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(sy.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[],r=0,i=new aw((function(t,e){return Db(t.J(),e.J())}));return this.Qn.forEach((function(o,a){var s=e.uo.get(o);if(a.zn){var u=NE(e.co.serializer,a.zn,e.Wn(o));i=i.add(o.path.q());var c=tS(u);r+=c-s,n.push(e.co.jn(t,o,u))}else if(r-=s,e.ro){var l=NE(e.co.serializer,new dC(o,Lb.min()),e.Wn(o));n.push(e.co.jn(t,o,l))}else n.push(e.co.Hn(t,o))})),i.forEach((function(r){n.push(e.co.os.Mr(t,r))})),n.push(this.co.updateMetadata(t,r)),ZC.qn(n)},e.prototype.Yn=function(t,e){var n=this;return this.co.Xr(t,e).next((function(t){return null===t?(n.uo.set(e,0),null):(n.uo.set(e,t.size),t.zn)}))},e.prototype.Xn=function(t,e){var n=this;return this.co.eo(t,e).next((function(t){var e=t.no;return t.so.forEach((function(t,e){n.uo.set(t,e)})),e}))},e}(JC);function JE(t){return NS.Ys(t,fS.store)}function XE(t){return NS.Ys(t,hS.store)}function $E(t){return t.path.H()}function tS(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw bb();e=t.noDocument}return JSON.stringify(e).length}var eS=function(){function t(){this.ao=new nS}return t.prototype.Mr=function(t,e){return this.ao.add(e),ZC.resolve()},t.prototype.As=function(t,e){return ZC.resolve(this.ao.getEntries(e))},t}(),nS=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.K(),n=t.q(),r=this.index[e]||new aw(Fb.$),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.K(),n=t.q(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new aw(Fb.$)).H()},t}(),rS=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;wb(n<r&&n>=0&&r<=11);var o=new hE("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(oS.store)}(t),function(t){t.createObjectStore(aS.store,{keyPath:aS.keyPath}),t.createObjectStore(sS.store,{keyPath:sS.keyPath,autoIncrement:!0}).createIndex(sS.userMutationsIndex,sS.userMutationsKeyPath,{unique:!0}),t.createObjectStore(uS.store)}(t),mS(t),function(t){t.createObjectStore(hS.store)}(t));var a=ZC.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(pS.store),t.deleteObjectStore(dS.store),t.deleteObjectStore(vS.store)}(t),mS(t)),a=a.next((function(){return function(t){var e=t.store(vS.store),n=new vS(0,0,Lb.min().M(),0);return e.put(vS.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(sS.store).ui().next((function(n){t.deleteObjectStore(sS.store),t.createObjectStore(sS.store,{keyPath:sS.keyPath,autoIncrement:!0}).createIndex(sS.userMutationsIndex,sS.userMutationsKeyPath,{unique:!0});var r=e.store(sS.store),i=n.map((function(t){return r.put(t)}));return ZC.qn(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(gS.store,{keyPath:gS.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(fS.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(hS.store);e.createIndex(hS.readTimeIndex,hS.readTimeIndexPath,{unique:!1}),e.createIndex(hS.collectionReadTimeIndex,hS.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.rewriteCanonicalIds(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(_S.store,{keyPath:_S.keyPath})}(t),function(t){t.createObjectStore(bS.store,{keyPath:bS.keyPath})}(t)}))),a},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(hS.store)._i((function(t,n){e+=tS(n)})).next((function(){var n=new fS(e);return t.store(fS.store).put(fS.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(aS.store),r=t.store(sS.store);return n.ui().next((function(n){return ZC.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui(sS.userMutationsIndex,i).next((function(r){return ZC.forEach(r,(function(r){wb(r.userId===n.userId);var i=VE(e.serializer,r);return WE(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(pS.store),n=t.store(hS.store);return t.store(vS.store).get(vS.key).next((function(t){var r=[];return n._i((function(n,i){var o=new Fb(n),a=function(t){return[0,IE(t)]}(o);r.push(e.get(a).next((function(n){return n?ZC.resolve():function(n){return e.put(new pS(0,IE(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return ZC.qn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(yS.store,{keyPath:yS.keyPath});var n=e.store(yS.store),r=new nS,i=function(t){if(r.add(t)){var e=t.K(),i=t.q();return n.put({collectionId:e,parent:IE(i)})}};return e.store(hS.store)._i({li:!0},(function(t,e){var n=new Fb(t);return i(n.q())})).next((function(){return e.store(uS.store)._i({li:!0},(function(t,e){var n=PE(t[1]);return i(n.q())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(dS.store);return n._i((function(t,r){var i=UE(r),o=BE(e.serializer,i);return n.put(o)}))},t}(),iS=function(t,e){this.seconds=t,this.nanoseconds=e},oS=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};oS.store="owner",oS.key="owner";var aS=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};aS.store="mutationQueues",aS.keyPath="userId";var sS=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};sS.store="mutations",sS.keyPath="batchId",sS.userMutationsIndex="userMutationsIndex",sS.userMutationsKeyPath=["userId","batchId"];var uS=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,IE(e)]},t.key=function(t,e,n){return[t,IE(e),n]},t}();uS.store="documentMutations",uS.PLACEHOLDER=new uS;var cS=function(t,e){this.path=t,this.readTime=e},lS=function(t,e){this.path=t,this.version=e},hS=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};hS.store="remoteDocuments",hS.readTimeIndex="readTimeIndex",hS.readTimeIndexPath="readTime",hS.collectionReadTimeIndex="collectionReadTimeIndex",hS.collectionReadTimeIndexPath=["parentPath","readTime"];var fS=function(t){this.byteSize=t};fS.store="remoteDocumentGlobal",fS.key="remoteDocumentGlobalKey";var dS=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};dS.store="targets",dS.keyPath="targetId",dS.queryTargetsIndexName="queryTargetsIndex",dS.queryTargetsKeyPath=["canonicalId","targetId"];var pS=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};pS.store="targetDocuments",pS.keyPath=["targetId","path"],pS.documentTargetsIndex="documentTargetsIndex",pS.documentTargetsKeyPath=["path","targetId"];var vS=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};vS.key="targetGlobalKey",vS.store="targetGlobal";var yS=function(t,e){this.collectionId=t,this.parent=e};function mS(t){t.createObjectStore(pS.store,{keyPath:pS.keyPath}).createIndex(pS.documentTargetsIndex,pS.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(dS.store,{keyPath:dS.keyPath}).createIndex(dS.queryTargetsIndexName,dS.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(vS.store)}yS.store="collectionParents",yS.keyPath=["collectionId","parent"];var gS=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};gS.store="clientMetadata",gS.keyPath="clientId";var _S=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};_S.store="bundles",_S.keyPath="bundleId";var bS=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};bS.store="namedQueries",bS.keyPath="name";var wS=Object(sy.g)(Object(sy.g)(Object(sy.g)(Object(sy.g)([aS.store,sS.store,uS.store,hS.store,dS.store,oS.store,vS.store,pS.store],[gS.store]),[fS.store]),[yS.store]),[_S.store,bS.store]),kS=function(){function t(t){this.serializer=t}return t.prototype.ho=function(t,e){return CS(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:FE(e.createTime),version:e.version};var e}))},t.prototype.lo=function(t,e){return CS(t).put({bundleId:(n=e).id,createTime:ME(ak(n.createTime)),version:n.version});var n},t.prototype._o=function(t,e){return ES(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:zE(e.bundledQuery),readTime:FE(e.readTime)};var e}))},t.prototype.fo=function(t,e){return ES(t).put(function(t){return{name:t.name,readTime:ME(ak(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function CS(t){return NS.Ys(t,_S.store)}function ES(t){return NS.Ys(t,bS.store)}var SS=function(){function t(){this.wo=new nS}return t.prototype.Mr=function(t,e){var n=this;if(!this.wo.has(e)){var r=e.K(),i=e.q();t.es((function(){n.wo.add(e)}));var o={collectionId:r,parent:IE(i)};return OS(t).put(o)}return ZC.resolve()},t.prototype.As=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Nb(e),""],!1,!0);return OS(t).ui(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(PE(o.parent))}return n}))},t}();function OS(t){return NS.Ys(t,yS.store)}var TS=function(){function t(t){this.Eo=t}return t.prototype.next=function(){return this.Eo+=2,this.Eo},t.To=function(){return new t(0)},t.Io=function(){return new t(-1)},t}(),IS=function(){function t(t,e){this.Dr=t,this.serializer=e}return t.prototype.mo=function(t){var e=this;return this.Ao(t).next((function(n){var r=new TS(n.highestTargetId);return n.highestTargetId=r.next(),e.Ro(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Po=function(t){return this.Ao(t).next((function(t){return Lb.N(new jb(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.yo=function(t){return this.Ao(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Vo=function(t,e,n){var r=this;return this.Ao(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ro(t,i)}))},t.prototype.po=function(t,e){var n=this;return this.vo(t,e).next((function(){return n.Ao(t).next((function(r){return r.targetCount+=1,n.bo(e,r),n.Ro(t,r)}))}))},t.prototype.So=function(t,e){return this.vo(t,e)},t.prototype.Do=function(t,e){var n=this;return this.Co(t,e.targetId).next((function(){return xS(t).delete(e.targetId)})).next((function(){return n.Ao(t)})).next((function(e){return wb(e.targetCount>0),e.targetCount-=1,n.Ro(t,e)}))},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return xS(t)._i((function(a,s){var u=UE(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Do(t,u)))})).next((function(){return ZC.qn(o)})).next((function(){return i}))},t.prototype.Ue=function(t,e){return xS(t)._i((function(t,n){var r=UE(n);e(r)}))},t.prototype.Ao=function(t){return AS(t).get(vS.key).next((function(t){return wb(null!==t),t}))},t.prototype.Ro=function(t,e){return AS(t).put(vS.key,e)},t.prototype.vo=function(t,e){return xS(t).put(BE(this.serializer,e))},t.prototype.bo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.No=function(t){return this.Ao(t).next((function(t){return t.targetCount}))},t.prototype.xo=function(t,e){var n=Kb(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return xS(t)._i({range:r,index:dS.queryTargetsIndexName},(function(t,n,r){var o=UE(n);Qb(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.Fo=function(t,e,n){var r=this,i=[],o=PS(t);return e.forEach((function(e){var a=IE(e.path);i.push(o.put(new pS(n,a))),i.push(r.Dr.Oo(t,n,e))})),ZC.qn(i)},t.prototype.Mo=function(t,e,n){var r=this,i=PS(t);return ZC.forEach(e,(function(e){var o=IE(e.path);return ZC.qn([i.delete([n,o]),r.Dr.ko(t,n,e)])}))},t.prototype.Co=function(t,e){var n=PS(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.$o=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=PS(t),i=vw();return r._i({range:n,li:!0},(function(t,e,n){var r=PE(t[1]),o=new Bb(r);i=i.add(o)})).next((function(){return i}))},t.prototype.zr=function(t,e){var n=IE(e.path),r=IDBKeyRange.bound([n],[Nb(n)],!1,!0),i=0;return PS(t)._i({index:pS.documentTargetsIndex,li:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ze=function(t,e){return xS(t).get(e).next((function(t){return t?UE(t):null}))},t}();function xS(t){return NS.Ys(t,dS.store)}function AS(t){return NS.Ys(t,vS.store)}function PS(t){return NS.Ys(t,pS.store)}var DS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",RS=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kr=e,r.Lo=n,r}return Object(sy.c)(e,t),e}(nE),NS=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Cs=o,this.window=a,this.document=s,this.Bo=c,this.qo=l,this.Uo=null,this.Qo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ko=null,this.inForeground=!1,this.Wo=null,this.jo=null,this.Go=Number.NEGATIVE_INFINITY,this.zo=function(t){return Promise.resolve()},!t.Gs())throw new Eb(Cb.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Dr=new MS(this,i),this.Ho=n+"main",this.serializer=new DE(u),this.Jo=new sE(this.Ho,11,new rS(this.serializer)),this.Yo=new IS(this.Dr,this.serializer),this.os=new SS,this.ss=function(t,e){return new YE(t,e)}(this.serializer,this.os),this.Xo=new kS(this.serializer),this.window&&this.window.localStorage?this.Zo=this.window.localStorage:(this.Zo=null,!1===l&&mb("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ys=function(t,e){if(t instanceof RS)return sE.Ys(t.Kr,e);throw bb()},t.prototype.start=function(){var t=this;return this.tc().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Eb(Cb.FAILED_PRECONDITION,DS);return t.ec(),t.nc(),t.sc(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Yo.yo(e)}))})).then((function(e){t.Uo=new oE(e,t.Bo)})).then((function(){t.Qo=!0})).catch((function(e){return t.Jo&&t.Jo.close(),Promise.reject(e)}))},t.prototype.ic=function(t){var e=this;return this.zo=function(n){return Object(sy.b)(e,void 0,void 0,(function(){return Object(sy.d)(this,(function(e){return this.lr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.rc=function(t){var e=this;this.Jo.ti((function(n){return Object(sy.b)(e,void 0,void 0,(function(){return Object(sy.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.oc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Cs.Ri((function(){return Object(sy.b)(e,void 0,void 0,(function(){return Object(sy.d)(this,(function(t){switch(t.label){case 0:return this.lr?[4,this.tc()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.tc=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return LS(e).put(new gS(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.cc(e).next((function(e){e||(t.isPrimary=!1,t.Cs.Mi((function(){return t.zo(!1)})))}))})).next((function(){return t.uc(e)})).next((function(n){return t.isPrimary&&!n?t.ac(e).next((function(){return!1})):!!n&&t.hc(e).next((function(){return!0}))}))})).catch((function(e){if(lE(e))return yb("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return yb("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Cs.Mi((function(){return t.zo(e)})),t.isPrimary=e}))},t.prototype.cc=function(t){var e=this;return jS(t).get(oS.key).next((function(t){return ZC.resolve(e.lc(t))}))},t.prototype._c=function(t){return LS(t).delete(this.clientId)},t.prototype.fc=function(){return Object(sy.b)(this,void 0,void 0,(function(){var e,n,r,i=this;return Object(sy.d)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.dc(this.Go,18e5)?[3,2]:(this.Go=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Ys(e,gS.store);return n.ui().next((function(t){var e=i.wc(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return ZC.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Zo)for(n=0,r=e;n<r.length;n++)this.Zo.removeItem(this.Ec(r[n].clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.sc=function(){var t=this;this.jo=this.Cs.Us("client_metadata_refresh",4e3,(function(){return t.tc().then((function(){return t.fc()})).then((function(){return t.sc()}))}))},t.prototype.lc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.uc=function(t){var e=this;return this.qo?ZC.resolve(!0):jS(t).get(oS.key).next((function(n){if(null!==n&&e.dc(n.leaseTimestampMs,5e3)&&!e.Tc(n.ownerId)){if(e.lc(n)&&e.networkEnabled)return!0;if(!e.lc(n)){if(!n.allowTabSynchronization)throw new Eb(Cb.FAILED_PRECONDITION,DS);return!1}}return!(!e.networkEnabled||!e.inForeground)||LS(t).ui().next((function(t){return void 0===e.wc(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&yb("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Ic=function(){return Object(sy.b)(this,void 0,void 0,(function(){var t=this;return Object(sy.d)(this,(function(e){switch(e.label){case 0:return this.Qo=!1,this.mc(),this.jo&&(this.jo.cancel(),this.jo=null),this.Ac(),this.Rc(),[4,this.Jo.runTransaction("shutdown","readwrite",[oS.store,gS.store],(function(e){var n=new RS(e,oE.Ds);return t.ac(n).next((function(){return t._c(n)}))}))];case 1:return e.sent(),this.Jo.close(),this.Pc(),[2]}}))}))},t.prototype.wc=function(t,e){var n=this;return t.filter((function(t){return n.dc(t.updateTimeMs,e)&&!n.Tc(t.clientId)}))},t.prototype.gc=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return LS(e).ui().next((function(e){return t.wc(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"lr",{get:function(){return this.Qo},enumerable:!1,configurable:!0}),t.prototype.yc=function(t){return qE.Nr(t,this.serializer,this.os,this.Dr)},t.prototype.Vc=function(){return this.Yo},t.prototype.vc=function(){return this.ss},t.prototype.bc=function(){return this.os},t.prototype.Sc=function(){return this.Xo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return yb("IndexedDbPersistence","Starting transaction:",t),this.Jo.runTransaction(t,"readonly"===e?"readonly":"readwrite",wS,(function(o){return r=new RS(o,i.Uo?i.Uo.next():oE.Ds),"readwrite-primary"===e?i.cc(r).next((function(t){return!!t||i.uc(r)})).next((function(e){if(!e)throw mb("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Cs.Mi((function(){return i.zo(!1)})),new Eb(Cb.FAILED_PRECONDITION,eE);return n(r)})).next((function(t){return i.hc(r).next((function(){return t}))})):i.Dc(r).next((function(){return n(r)}))})).then((function(t){return r.ns(),t}))},t.prototype.Dc=function(t){var e=this;return jS(t).get(oS.key).next((function(t){if(null!==t&&e.dc(t.leaseTimestampMs,5e3)&&!e.Tc(t.ownerId)&&!e.lc(t)&&!(e.qo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Eb(Cb.FAILED_PRECONDITION,DS)}))},t.prototype.hc=function(t){var e=new oS(this.clientId,this.allowTabSynchronization,Date.now());return jS(t).put(oS.key,e)},t.Gs=function(){return sE.Gs()},t.prototype.ac=function(t){var e=this,n=jS(t);return n.get(oS.key).next((function(t){return e.lc(t)?(yb("IndexedDbPersistence","Releasing primary lease."),n.delete(oS.key)):ZC.resolve()}))},t.prototype.dc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(mb("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.ec=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Wo=function(){t.Cs.Ri((function(){return t.inForeground="visible"===t.document.visibilityState,t.tc()}))},this.document.addEventListener("visibilitychange",this.Wo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Ac=function(){this.Wo&&(this.document.removeEventListener("visibilitychange",this.Wo),this.Wo=null)},t.prototype.nc=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ko=function(){e.mc(),e.Cs.Ri((function(){return e.Ic()}))},this.window.addEventListener("unload",this.Ko))},t.prototype.Rc=function(){this.Ko&&(this.window.removeEventListener("unload",this.Ko),this.Ko=null)},t.prototype.Tc=function(t){var e;try{var n=null!==(null===(e=this.Zo)||void 0===e?void 0:e.getItem(this.Ec(t)));return yb("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return mb("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.mc=function(){if(this.Zo)try{this.Zo.setItem(this.Ec(this.clientId),String(Date.now()))}catch(t){mb("Failed to set zombie client id.",t)}},t.prototype.Pc=function(){if(this.Zo)try{this.Zo.removeItem(this.Ec(this.clientId))}catch(t){}},t.prototype.Ec=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function jS(t){return NS.Ys(t,oS.store)}function LS(t){return NS.Ys(t,gS.store)}var MS=function(){function t(t,e){this.db=t,this.cr=new OE(this,e)}return t.prototype.Er=function(t){var e=this.Cc(t);return this.db.Vc().No(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Cc=function(t){var e=0;return this.Ir(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ue=function(t,e){return this.db.Vc().Ue(t,e)},t.prototype.Ir=function(t,e){return this.Nc(t,(function(t,n){return e(n)}))},t.prototype.Oo=function(t,e,n){return FS(t,n)},t.prototype.ko=function(t,e,n){return FS(t,n)},t.prototype.mr=function(t,e,n){return this.db.Vc().mr(t,e,n)},t.prototype.jr=function(t,e){return FS(t,e)},t.prototype.xc=function(t,e){return function(t,e){var n=!1;return QE(t).fi((function(r){return HE(t,r,e).next((function(t){return t&&(n=!0),ZC.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Ar=function(t,e){var n=this,r=this.db.vc().io(),i=[],o=0;return this.Nc(t,(function(a,s){if(s<=e){var u=n.xc(t,a).next((function(e){if(!e)return o++,r.Jn(t,a).next((function(){return r.Hn(a),PS(t).delete([0,IE(a.path)])}))}));i.push(u)}})).next((function(){return ZC.qn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.dt(t.Lo);return this.db.Vc().So(t,n)},t.prototype.Fc=function(t,e){return FS(t,e)},t.prototype.Nc=function(t,e){var n,r=PS(t),i=oE.Ds;return r._i({index:pS.documentTargetsIndex},(function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==oE.Ds&&e(new Bb(PE(n)),i),i=a,n=o):i=oE.Ds})).next((function(){i!==oE.Ds&&e(new Bb(PE(n)),i)}))},t.prototype.Pr=function(t){return this.db.vc().oo(t)},t}();function FS(t,e){return PS(t).put(function(t,e){return new pS(0,IE(t.path),e)}(e,t.Lo))}function VS(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var US=function(){function t(t,e,n,r){this.persistence=t,this.Oc=e,this.serializer=r,this.Mc=new rw(Db),this.kc=new YC((function(t){return Kb(t)}),Qb),this.$c=Lb.min(),this.rs=t.yc(n),this.Lc=t.vc(),this.Yo=t.Vc(),this.Bc=new rE(this.Lc,this.rs,this.persistence.bc()),this.Xo=t.Sc(),this.Oc.yr(this.Bc)}return t.prototype._r=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Rr(n,e.Mc)}))},t}();function BS(t,e,n,r){return new US(t,e,n,r)}function zS(t,e){return Object(sy.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(sy.d)(this,(function(a){switch(a.label){case 0:return n=kb(t),r=n.rs,i=n.Bc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.rs.qr(t).next((function(a){return o=a,r=n.persistence.yc(e),i=new rE(n.Lc,r,n.persistence.bc()),r.qr(t)})).next((function(e){for(var n=[],r=[],a=vw(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)a=a.add(y[v].key)}return i._s(t,a).next((function(t){return{qc:t,Uc:n,Qc:r}}))}))}))];case 1:return o=a.sent(),[2,(n.rs=r,n.Bc=i,n.Oc.yr(n.Bc),o)]}}))}))}function qS(t,e){var n=kb(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Lc.io({ro:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=ZC.resolve();return o.forEach((function(t){a=a.next((function(){return r.Jn(e,t)})).next((function(e){var o=e,a=n.Sn.get(t);wb(null!==a),(!o||o.version.F(a)<0)&&(o=i.yn(t,o,n))&&r.jn(o,n.bn)}))})),a.next((function(){return t.rs.Qr(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.rs.Gr(t)})).next((function(){return n.Bc._s(t,r)}))}))}function HS(t){var e=kb(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Yo.Po(t)}))}function WS(t,e){var n=kb(t),r=e.ft,i=n.Mc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Lc.io({ro:!0});i=n.Mc;var a=[];e.re.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.Yo.Mo(t,e.de,o).next((function(){return n.Yo.Fo(t,e._e,o)})));var u=e.resumeToken;if(u.ht()>0){var c=s.wt(u,r).dt(t.Lo);i=i.Tt(o,c),function(t,e,n){return wb(e.resumeToken.ht()>0),0===t.resumeToken.ht()||e.ft.O()-t.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(s,c,e)&&a.push(n.Yo.So(t,c))}}}));var s=cw();if(e.ce.forEach((function(r,i){e.ue.has(r)&&a.push(n.persistence.Dr.Fc(t,r))})),a.push(function(t,e,n,r,i){var o=vw();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var i=cw();return n.forEach((function(n,o){var a=t.get(n),s=r;o instanceof dC&&o.version.isEqual(Lb.min())?(e.Hn(n,s),i=i.Tt(n,o)):null==a||o.version.F(a.version)>0||0===o.version.F(a.version)&&a.hasPendingWrites?(e.jn(o,s),i=i.Tt(n,o)):yb("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),i}))}(t,o,e.ce,r).next((function(t){s=t}))),!r.isEqual(Lb.min())){var u=n.Yo.Po(t).next((function(e){return n.Yo.Vo(t,t.Lo,r)}));a.push(u)}return ZC.qn(a).next((function(){return o.apply(t)})).next((function(){return n.Bc.fs(t,s)}))})).then((function(t){return n.Mc=i,t}))}function GS(t,e){var n=kb(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.rs.Lr(t,e)}))}function KS(t,e){var n=kb(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Yo.xo(t,e).next((function(i){return i?ZC.resolve(r=i):n.Yo.mo(t).next((function(i){return r=new $b(e,i,0,t.Lo),n.Yo.po(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Mc.get(t.targetId);return(null===r||t.ft.F(r.ft)>0)&&(n.Mc=n.Mc.Tt(t.targetId,t),n.kc.set(e,t.targetId)),t}))}function QS(t,e,n){return Object(sy.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object(sy.d)(this,(function(s){switch(s.label){case 0:r=kb(t),i=r.Mc.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Dr.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!lE(a=s.sent()))throw a;return yb("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Mc=r.Mc.remove(e),r.kc.delete(i.target),[2]}}))}))}function YS(t,e,n){var r=kb(t),i=Lb.min(),o=vw();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=kb(t),i=r.kc.get(n);return void 0!==i?ZC.resolve(r.Mc.get(i)):r.Yo.xo(e,n)}(r,t,EC(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Yo.$o(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Oc.ws(t,e,n?i:Lb.min(),n?o:vw())})).next((function(t){return{documents:t,Kc:o}}))}))}function ZS(t,e){var n=kb(t),r=kb(n.Yo),i=n.Mc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ze(t,e).next((function(t){return t?t.target:null}))}))}function JS(t){var e=kb(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=kb(t),i=cw(),o=jE(n),a=XE(e),s=IDBKeyRange.lowerBound(o,!0);return a._i({index:hS.readTimeIndex,range:s},(function(t,e){var n=RE(r.serializer,e);i=i.Tt(n.key,n),o=e.readTime})).next((function(){return{Wc:i,readTime:LE(o)}}))}(e.Lc,t,e.$c)})).then((function(t){var n=t.Wc;return e.$c=t.readTime,n}))}function XS(t){return Object(sy.b)(this,void 0,void 0,(function(){var e;return Object(sy.d)(this,(function(n){return[2,(e=kb(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=XE(t),n=Lb.min();return e._i({index:hS.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=LE(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$c=t}))]}))}))}function $S(t){return Object(sy.b)(this,void 0,void 0,(function(){return Object(sy.d)(this,(function(e){if(t.code!==Cb.FAILED_PRECONDITION||t.message!==eE)throw t;return yb("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var tO=function(){function t(t,e,n,r,i,o){this.Cs=t,this.jc=n,this.Gc=r,this.zc=i,this.listener=o,this.state=0,this.Hc=0,this.Jc=null,this.stream=null,this.Si=new aE(t,e)}return t.prototype.Yc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Xc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Zc()},t.prototype.stop=function(){return Object(sy.b)(this,void 0,void 0,(function(){return Object(sy.d)(this,(function(t){switch(t.label){case 0:return this.Yc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.tu=function(){this.state=0,this.Si.reset()},t.prototype.eu=function(){var t=this;this.Xc()&&null===this.Jc&&(this.Jc=this.Cs.Us(this.jc,6e4,(function(){return t.nu()})))},t.prototype.su=function(t){this.iu(),this.stream.send(t)},t.prototype.nu=function(){return Object(sy.b)(this,void 0,void 0,(function(){return Object(sy.d)(this,(function(t){return this.Xc()?[2,this.close(0)]:[2]}))}))},t.prototype.iu=function(){this.Jc&&(this.Jc.cancel(),this.Jc=null)},t.prototype.close=function(t,e){return Object(sy.b)(this,void 0,void 0,(function(){return Object(sy.d)(this,(function(n){switch(n.label){case 0:return this.iu(),this.Si.cancel(),this.Hc++,3!==t?this.Si.reset():e&&e.code===Cb.RESOURCE_EXHAUSTED?(mb(e.toString()),mb("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):e&&e.code===Cb.UNAUTHENTICATED&&this.zc.m(),null!==this.stream&&(this.ru(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ou(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ru=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.cu(this.Hc),n=this.Hc;this.zc.getToken().then((function(e){t.Hc===n&&t.uu(e)}),(function(n){e((function(){var e=new Eb(Cb.UNKNOWN,"Fetching auth token failed: "+n.message);return t.au(e)}))}))},t.prototype.uu=function(t){var e=this,n=this.cu(this.Hc);this.stream=this.hu(t),this.stream.lu((function(){n((function(){return e.state=2,e.listener.lu()}))})),this.stream.ou((function(t){n((function(){return e.au(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Zc=function(){var t=this;this.state=4,this.Si.Bs((function(){return Object(sy.b)(t,void 0,void 0,(function(){return Object(sy.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.au=function(t){return yb("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.cu=function(t){var e=this;return function(n){e.Cs.Ri((function(){return e.Hc===t?n():(yb("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),eO=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,a}return Object(sy.c)(e,t),e.prototype.hu=function(t){return this.Gc._u("Listen",t)},e.prototype.onMessage=function(t){this.Si.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:bb()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.tn?(wb(void 0===e||"string"==typeof e),Zb.fromBase64String(e||"")):(wb(void 0===e||e instanceof Uint8Array),Zb.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(t){var e=void 0===t.code?Cb.UNKNOWN:nw(t.code);return new Eb(e,t.message||"")}(a);n=new Sw(r,i,o,s||null)}else if("documentChange"in e){var u=e.documentChange,c=lk(t,u.document.name),l=ak(u.document.updateTime),h=new uC({mapValue:{fields:u.document.fields}}),f=new fC(c,l,h,{});n=new Cw(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=lk(t,d.document),v=d.readTime?ak(d.readTime):Lb.min(),y=new dC(p,v);n=new Cw([],d.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){var m=e.documentRemove,g=lk(t,m.document);n=new Cw([],m.removedTargetIds||[],g,null)}else{if(!("filter"in e))return bb();var _=e.filter,b=new tw(_.count||0);n=new Ew(_.targetId,b)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Lb.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Lb.min():e.readTime?ak(e.readTime):Lb.min()}(t);return this.listener.fu(e,n)},e.prototype.du=function(t){var e={};e.database=dk(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=Yb(r)?{documents:gk(t,r)}:{query:_k(t,r)}).targetId=e.targetId,e.resumeToken.ht()>0?n.resumeToken=ik(t,e.resumeToken):e.ft.F(Lb.min())>0&&(n.readTime=rk(t,e.ft.M())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return bb()}}(0,e._t);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.su(e)},e.prototype.wu=function(t){var e={};e.database=dk(this.serializer),e.removeTarget=t,this.su(e)},e}(tO),nO=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,a.Eu=!1,a}return Object(sy.c)(e,t),Object.defineProperty(e.prototype,"Tu",{get:function(){return this.Eu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Eu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ru=function(){this.Eu&&this.Iu([])},e.prototype.hu=function(t){return this.Gc._u("Write",t)},e.prototype.onMessage=function(t){if(wb(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Eu){this.Si.reset();var e=function(t,e){return t&&t.length>0?(wb(void 0!==e),t.map((function(t){return function(t,e){var n=ak(t.updateTime?t.updateTime:e);n.isEqual(Lb.min())&&(n=ak(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Wk(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=ak(t.commitTime);return this.listener.mu(n,e)}return wb(!t.writeResults||0===t.writeResults.length),this.Eu=!0,this.listener.Au()},e.prototype.Ru=function(){var t={};t.database=dk(this.serializer),this.su(t)},e.prototype.Iu=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return yk(e.serializer,t)}))};this.su(n)},e}(tO),rO=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Gc=n,i.serializer=r,i.Pu=!1,i}return Object(sy.c)(e,t),e.prototype.gu=function(){if(this.Pu)throw new Eb(Cb.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.yu=function(t,e,n){var r=this;return this.gu(),this.credentials.getToken().then((function(i){return r.Gc.yu(t,e,n,i)})).catch((function(t){throw t.code===Cb.UNAUTHENTICATED&&r.credentials.m(),t}))},e.prototype.Vu=function(t,e,n){var r=this;return this.gu(),this.credentials.getToken().then((function(i){return r.Gc.Vu(t,e,n,i)})).catch((function(t){throw t.code===Cb.UNAUTHENTICATED&&r.credentials.m(),t}))},e.prototype.terminate=function(){this.Pu=!1},e}((function(){})),iO=function(){function t(t,e){this.di=t,this.pu=e,this.state="Unknown",this.vu=0,this.bu=null,this.Su=!0}return t.prototype.Du=function(){var t=this;0===this.vu&&(this.Cu("Unknown"),this.bu=this.di.Us("online_state_timeout",1e4,(function(){return t.bu=null,t.Nu("Backend didn't respond within 10 seconds."),t.Cu("Offline"),Promise.resolve()})))},t.prototype.xu=function(t){"Online"===this.state?this.Cu("Unknown"):(this.vu++,this.vu>=1&&(this.Fu(),this.Nu("Connection failed 1 times. Most recent error: "+t.toString()),this.Cu("Offline")))},t.prototype.set=function(t){this.Fu(),this.vu=0,"Online"===t&&(this.Su=!1),this.Cu(t)},t.prototype.Cu=function(t){t!==this.state&&(this.state=t,this.pu(t))},t.prototype.Nu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Su?(mb(e),this.Su=!1):yb("OnlineStateTracker",e)},t.prototype.Fu=function(){null!==this.bu&&(this.bu.cancel(),this.bu=null)},t}(),oO=function(t,e,n,r,i){var o=this;this.Ou=t,this.Mu=e,this.di=n,this.ku={},this.$u=[],this.Lu=new Map,this.Bu=new Set,this.qu=[],this.Uu=i,this.Uu.Qu((function(t){n.Ri((function(){return Object(sy.b)(o,void 0,void 0,(function(){return Object(sy.d)(this,(function(t){switch(t.label){case 0:return pO(this)?(yb("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(sy.b)(this,void 0,void 0,(function(){var e;return Object(sy.d)(this,(function(n){switch(n.label){case 0:return(e=kb(t)).Bu.add(4),[4,sO(e)];case 1:return n.sent(),e.Ku.set("Unknown"),e.Bu.delete(4),[4,aO(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Ku=new iO(n,r)};function aO(t){return Object(sy.b)(this,void 0,void 0,(function(){var e,n;return Object(sy.d)(this,(function(r){switch(r.label){case 0:if(!pO(t))return[3,4];e=0,n=t.qu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function sO(t){return Object(sy.b)(this,void 0,void 0,(function(){var e,n;return Object(sy.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.qu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function uO(t,e){var n=kb(t);n.Lu.has(e.targetId)||(n.Lu.set(e.targetId,e),dO(n)?fO(n):xO(n).Xc()&&lO(n,e))}function cO(t,e){var n=kb(t),r=xO(n);n.Lu.delete(e),r.Xc()&&hO(n,e),0===n.Lu.size&&(r.Xc()?r.eu():pO(n)&&n.Ku.set("Unknown"))}function lO(t,e){t.Wu.De(e.targetId),xO(t).du(e)}function hO(t,e){t.Wu.De(e),xO(t).wu(e)}function fO(t){t.Wu=new Tw({Xe:function(e){return t.ku.Xe(e)},Ze:function(e){return t.Lu.get(e)||null}}),xO(t).start(),t.Ku.Du()}function dO(t){return pO(t)&&!xO(t).Yc()&&t.Lu.size>0}function pO(t){return 0===kb(t).Bu.size}function vO(t){t.Wu=void 0}function yO(t){return Object(sy.b)(this,void 0,void 0,(function(){return Object(sy.d)(this,(function(e){return t.Lu.forEach((function(e,n){lO(t,e)})),[2]}))}))}function mO(t,e){return Object(sy.b)(this,void 0,void 0,(function(){return Object(sy.d)(this,(function(n){return vO(t),dO(t)?(t.Ku.xu(e),fO(t)):t.Ku.set("Unknown"),[2]}))}))}function gO(t,e,n){return Object(sy.b)(this,void 0,void 0,(function(){var r,i,o;return Object(sy.d)(this,(function(a){switch(a.label){case 0:if(t.Ku.set("Online"),!(e instanceof Sw&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(sy.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(sy.d)(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.Lu.has(o=i[r])?[4,t.ku.ju(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.Lu.delete(o),t.Wu.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),yb("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,_O(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Cw?t.Wu.$e(e):e instanceof Ew?t.Wu.je(e):t.Wu.qe(e),n.isEqual(Lb.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,HS(t.Ou)];case 8:return i=a.sent(),n.F(i)>=0?[4,function(t,e){var n=t.Wu.He(e);return n.re.forEach((function(n,r){if(n.resumeToken.ht()>0){var i=t.Lu.get(r);i&&t.Lu.set(r,i.wt(n.resumeToken,e))}})),n.oe.forEach((function(e){var n=t.Lu.get(e);if(n){t.Lu.set(e,n.wt(Zb.lt,n.ft)),hO(t,e);var r=new $b(n.target,e,1,n.sequenceNumber);lO(t,r)}})),t.ku.Gu(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return yb("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,_O(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function _O(t,e,n){return Object(sy.b)(this,void 0,void 0,(function(){var r=this;return Object(sy.d)(this,(function(i){switch(i.label){case 0:if(!lE(e))throw e;return t.Bu.add(1),[4,sO(t)];case 1:return i.sent(),t.Ku.set("Offline"),n||(n=function(){return HS(t.Ou)}),t.di.Mi((function(){return Object(sy.b)(r,void 0,void 0,(function(){return Object(sy.d)(this,(function(e){switch(e.label){case 0:return yb("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Bu.delete(1),[4,aO(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function bO(t,e){return e().catch((function(n){return _O(t,n,e)}))}function wO(t){return Object(sy.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(sy.d)(this,(function(a){switch(a.label){case 0:e=kb(t),n=AO(e),r=e.$u.length>0?e.$u[e.$u.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return pO(t)&&t.$u.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,GS(e.Ou,r)];case 3:return null===(i=a.sent())?(0===e.$u.length&&n.eu(),[3,7]):(r=i.batchId,function(t,e){t.$u.push(e);var n=AO(t);n.Xc()&&n.Tu&&n.Iu(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,_O(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return kO(e)&&CO(e),[2]}}))}))}function kO(t){return pO(t)&&!AO(t).Yc()&&t.$u.length>0}function CO(t){AO(t).start()}function EO(t){return Object(sy.b)(this,void 0,void 0,(function(){return Object(sy.d)(this,(function(e){return AO(t).Ru(),[2]}))}))}function SO(t){return Object(sy.b)(this,void 0,void 0,(function(){var e,n,r;return Object(sy.d)(this,(function(i){for(e=AO(t),n=0,r=t.$u;n<r.length;n++)e.Iu(r[n].mutations);return[2]}))}))}function OO(t,e,n){return Object(sy.b)(this,void 0,void 0,(function(){var r,i;return Object(sy.d)(this,(function(o){switch(o.label){case 0:return r=t.$u.shift(),i=QC.from(r,e,n),[4,bO(t,(function(){return t.ku.zu(i)}))];case 1:return o.sent(),[4,wO(t)];case 2:return o.sent(),[2]}}))}))}function TO(t,e){return Object(sy.b)(this,void 0,void 0,(function(){return Object(sy.d)(this,(function(n){switch(n.label){case 0:return e&&AO(t).Tu?[4,function(t,e){return Object(sy.b)(this,void 0,void 0,(function(){var n,r;return Object(sy.d)(this,(function(i){switch(i.label){case 0:return ew(r=e.code)&&r!==Cb.ABORTED?(n=t.$u.shift(),AO(t).tu(),[4,bO(t,(function(){return t.ku.Hu(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,wO(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return kO(t)&&CO(t),[2]}}))}))}function IO(t,e){return Object(sy.b)(this,void 0,void 0,(function(){var n;return Object(sy.d)(this,(function(r){switch(r.label){case 0:return n=kb(t),e?(n.Bu.delete(2),[4,aO(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Bu.add(2),[4,sO(n)]);case 3:r.sent(),n.Ku.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function xO(t){var e=this;return t.Ju||(t.Ju=function(t,e,n){var r=kb(t);return r.gu(),new eO(e,r.Gc,r.credentials,r.serializer,n)}(t.Mu,t.di,{lu:yO.bind(null,t),ou:mO.bind(null,t),fu:gO.bind(null,t)}),t.qu.push((function(n){return Object(sy.b)(e,void 0,void 0,(function(){return Object(sy.d)(this,(function(e){switch(e.label){case 0:return n?(t.Ju.tu(),dO(t)?fO(t):t.Ku.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ju.stop()];case 2:e.sent(),vO(t),e.label=3;case 3:return[2]}}))}))}))),t.Ju}function AO(t){var e=this;return t.Yu||(t.Yu=function(t,e,n){var r=kb(t);return r.gu(),new nO(e,r.Gc,r.credentials,r.serializer,n)}(t.Mu,t.di,{lu:EO.bind(null,t),ou:TO.bind(null,t),Au:SO.bind(null,t),mu:OO.bind(null,t)}),t.qu.push((function(n){return Object(sy.b)(e,void 0,void 0,(function(){return Object(sy.d)(this,(function(e){switch(e.label){case 0:return n?(t.Yu.tu(),[4,wO(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Yu.stop()];case 3:e.sent(),t.$u.length>0&&(yb("RemoteStore","Stopping write stream with "+t.$u.length+" pending writes"),t.$u=[]),e.label=4;case 4:return[2]}}))}))}))),t.Yu}var PO=function(){this.Xu=void 0,this.listeners=[]},DO=function(){this.queries=new YC((function(t){return TC(t)}),OC),this.onlineState="Unknown",this.Zu=new Set};function RO(t,e){return Object(sy.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Object(sy.d)(this,(function(c){switch(c.label){case 0:if(n=kb(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new PO),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.ta(r)];case 2:return a.Xu=c.sent(),[3,4];case 3:return s=c.sent(),u=bE(s,"Initialization of query '"+IC(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.ea(n.onlineState),o.Xu&&e.na(o.Xu)&&MO(n),[2]}}))}))}function NO(t,e){return Object(sy.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(sy.d)(this,(function(s){return n=kb(t),i=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.sa(r))]:[2]}))}))}function jO(t,e){for(var n=kb(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].na(a)&&(r=!0);s.Xu=a}}r&&MO(n)}function LO(t,e,n){var r=kb(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function MO(t){t.Zu.forEach((function(t){t.next()}))}var FO=function(){function t(t,e,n){this.query=t,this.ia=e,this.ra=!1,this.oa=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.na=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new bw(t.query,t.docs,t.te,e,t.ee,t.fromCache,t.ne,!0)}var o=!1;return this.ra?this.ca(t)&&(this.ia.next(t),o=!0):this.ua(t,this.onlineState)&&(this.aa(t),o=!0),this.oa=t,o},t.prototype.onError=function(t){this.ia.error(t)},t.prototype.ea=function(t){this.onlineState=t;var e=!1;return this.oa&&!this.ra&&this.ua(this.oa,t)&&(this.aa(this.oa),e=!0),e},t.prototype.ua=function(t,e){return!t.fromCache||!(this.options.ha&&"Offline"!==e||t.docs.W()&&"Offline"!==e)},t.prototype.ca=function(t){return t.docChanges.length>0||!!(t.ne||this.oa&&this.oa.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.aa=function(t){t=bw.ie(t.query,t.docs,t.ee,t.fromCache),this.ra=!0,this.ia.next(t)},t}(),VO=function(){function t(){this.la=new aw(UO._a),this.fa=new aw(UO.da)}return t.prototype.W=function(){return this.la.W()},t.prototype.Oo=function(t,e){var n=new UO(t,e);this.la=this.la.add(n),this.fa=this.fa.add(n)},t.prototype.wa=function(t,e){var n=this;t.forEach((function(t){return n.Oo(t,e)}))},t.prototype.ko=function(t,e){this.Ea(new UO(t,e))},t.prototype.Ta=function(t,e){var n=this;t.forEach((function(t){return n.ko(t,e)}))},t.prototype.Ia=function(t){var e=this,n=new Bb(new Fb([])),r=new UO(n,t),i=new UO(n,t+1),o=[];return this.fa.Kt([r,i],(function(t){e.Ea(t),o.push(t.key)})),o},t.prototype.ma=function(){var t=this;this.la.forEach((function(e){return t.Ea(e)}))},t.prototype.Ea=function(t){this.la=this.la.delete(t),this.fa=this.fa.delete(t)},t.prototype.Aa=function(t){var e=new Bb(new Fb([])),n=new UO(e,t),r=new UO(e,t+1),i=vw();return this.fa.Kt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.zr=function(t){var e=new UO(t,0),n=this.la.jt(e);return null!==n&&t.isEqual(n.key)},t}(),UO=function(){function t(t,e){this.key=t,this.Ra=e}return t._a=function(t,e){return Bb.$(t.key,e.key)||Db(t.Ra,e.Ra)},t.da=function(t,e){return Db(t.Ra,e.Ra)||Bb.$(t.key,e.key)},t}();function BO(t,e){return"firestore_clients_"+t+"_"+e}function zO(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.u()&&(r+="_"+e.uid),r}function qO(t,e){return"firestore_targets_"+t+"_"+e}var HO=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Pa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new Eb(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(mb("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ga=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),WO=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Pa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Eb(r.error.code,r.error.message)),i?new t(e,r.state,o):(mb("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ga=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),GO=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Pa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=mw(),a=0;i&&a<r.activeTargetIds.length;++a)i=Hb(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(mb("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),KO=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Pa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(mb("SharedClientState","Failed to parse online state: "+e),null)},t}(),QO=function(){function t(){this.activeTargetIds=mw()}return t.prototype.ya=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Va=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ga=function(){var t={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),YO=function(){function t(t,e,n,r,i){this.window=t,this.Cs=e,this.persistenceKey=n,this.pa=r,this.va=null,this.pu=null,this.ps=null,this.ba=this.Sa.bind(this),this.Da=new rw(Db),this.lr=!1,this.Ca=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Na=BO(this.persistenceKey,this.pa),this.xa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Da=this.Da.Tt(this.pa,new QO),this.Fa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Oa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Ma=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ka=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.$a=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ba)}return t.Gs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(sy.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,l=this;return Object(sy.d)(this,(function(h){switch(h.label){case 0:return[4,this.va.gc()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.pa&&(i=this.getItem(BO(this.persistenceKey,r)))&&(o=GO.Pa(r,i))&&(this.Da=this.Da.Tt(o.clientId,o));for(this.La(),(a=this.storage.getItem(this.ka))&&(s=this.Ba(a))&&this.qa(s),u=0,c=this.Ca;u<c.length;u++)this.Sa(c[u]);return this.Ca=[],this.window.addEventListener("unload",(function(){return l.Ic()})),this.lr=!0,[2]}}))}))},t.prototype.Ss=function(t){this.setItem(this.xa,JSON.stringify(t))},t.prototype.Ua=function(){return this.Qa(this.Da)},t.prototype.Ka=function(t){var e=!1;return this.Da.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Wa=function(t){this.ja(t,"pending")},t.prototype.Ga=function(t,e,n){this.ja(t,e,n),this.za(t)},t.prototype.Ha=function(t){var e="not-current";if(this.Ka(t)){var n=this.storage.getItem(qO(this.persistenceKey,t));if(n){var r=WO.Pa(t,n);r&&(e=r.state)}}return this.Ja.ya(t),this.La(),e},t.prototype.Ya=function(t){this.Ja.Va(t),this.La()},t.prototype.Xa=function(t){return this.Ja.activeTargetIds.has(t)},t.prototype.Za=function(t){this.removeItem(qO(this.persistenceKey,t))},t.prototype.th=function(t,e,n){this.eh(t,e,n)},t.prototype.nh=function(t,e,n){var r=this;e.forEach((function(t){r.za(t)})),this.currentUser=t,n.forEach((function(t){r.Wa(t)}))},t.prototype.sh=function(t){this.ih(t)},t.prototype.rh=function(){this.oh()},t.prototype.Ic=function(){this.lr&&(this.window.removeEventListener("storage",this.ba),this.removeItem(this.Na),this.lr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return yb("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){yb("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){yb("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Sa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(yb("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Na)return void mb("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi((function(){return Object(sy.b)(e,void 0,void 0,(function(){var t,e,r,i,o,a;return Object(sy.d)(this,(function(s){if(this.lr){if(null!==n.key)if(this.Fa.test(n.key)){if(null==n.newValue)return t=this.uh(n.key),[2,this.ah(t,null)];if(e=this.hh(n.key,n.newValue))return[2,this.ah(e.clientId,e)]}else if(this.Oa.test(n.key)){if(null!==n.newValue&&(r=this.lh(n.key,n.newValue)))return[2,this._h(r)]}else if(this.Ma.test(n.key)){if(null!==n.newValue&&(i=this.fh(n.key,n.newValue)))return[2,this.dh(i)]}else if(n.key===this.ka){if(null!==n.newValue&&(o=this.Ba(n.newValue)))return[2,this.qa(o)]}else if(n.key===this.xa)(a=function(t){var e=oE.Ds;if(null!=t)try{var n=JSON.parse(t);wb("number"==typeof n),e=n}catch(t){mb("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==oE.Ds&&this.ps(a);else if(n.key===this.$a)return[2,this.va.wh()]}else this.Ca.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ja",{get:function(){return this.Da.get(this.pa)},enumerable:!1,configurable:!0}),t.prototype.La=function(){this.setItem(this.Na,this.Ja.ga())},t.prototype.ja=function(t,e,n){var r=new HO(this.currentUser,t,e,n),i=zO(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ga())},t.prototype.za=function(t){var e=zO(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ih=function(t){this.storage.setItem(this.ka,JSON.stringify({clientId:this.pa,onlineState:t}))},t.prototype.eh=function(t,e,n){var r=qO(this.persistenceKey,t),i=new WO(t,e,n);this.setItem(r,i.ga())},t.prototype.oh=function(){this.setItem(this.$a,"value-not-used")},t.prototype.uh=function(t){var e=this.Fa.exec(t);return e?e[1]:null},t.prototype.hh=function(t,e){var n=this.uh(t);return GO.Pa(n,e)},t.prototype.lh=function(t,e){var n=this.Oa.exec(t),r=Number(n[1]);return HO.Pa(new db(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fh=function(t,e){var n=this.Ma.exec(t),r=Number(n[1]);return WO.Pa(r,e)},t.prototype.Ba=function(t){return KO.Pa(t)},t.prototype._h=function(t){return Object(sy.b)(this,void 0,void 0,(function(){return Object(sy.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.va.Eh(t.batchId,t.state,t.error)]:(yb("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.dh=function(t){return this.va.Th(t.targetId,t.state,t.error)},t.prototype.ah=function(t,e){var n=this,r=e?this.Da.Tt(t,e):this.Da.remove(t),i=this.Qa(this.Da),o=this.Qa(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.va.Ih(a,s).then((function(){n.Da=r}))},t.prototype.qa=function(t){this.Da.get(t.clientId)&&this.pu(t.onlineState)},t.prototype.Qa=function(t){var e=mw();return t.forEach((function(t,n){e=e.Gt(n.activeTargetIds)})),e},t}(),ZO=function(){function t(){this.mh=new QO,this.Ah={},this.pu=null,this.ps=null}return t.prototype.Wa=function(t){},t.prototype.Ga=function(t,e,n){},t.prototype.Ha=function(t){return this.mh.ya(t),this.Ah[t]||"not-current"},t.prototype.th=function(t,e,n){this.Ah[t]=e},t.prototype.Ya=function(t){this.mh.Va(t)},t.prototype.Xa=function(t){return this.mh.activeTargetIds.has(t)},t.prototype.Za=function(t){delete this.Ah[t]},t.prototype.Ua=function(){return this.mh.activeTargetIds},t.prototype.Ka=function(t){return this.mh.activeTargetIds.has(t)},t.prototype.start=function(){return this.mh=new QO,Promise.resolve()},t.prototype.nh=function(t,e,n){},t.prototype.sh=function(t){},t.prototype.Ic=function(){},t.prototype.Ss=function(t){},t.prototype.rh=function(){},t}(),JO=function(t){this.key=t},XO=function(t){this.key=t},$O=function(){function t(t,e){this.query=t,this.Rh=e,this.Ph=null,this.le=!1,this.gh=vw(),this.ee=vw(),this.yh=AC(t),this.Vh=new gw(this.yh)}return Object.defineProperty(t.prototype,"ph",{get:function(){return this.Rh},enumerable:!1,configurable:!0}),t.prototype.bh=function(t,e){var n=this,r=e?e.Sh:new _w,i=e?e.Vh:this.Vh,o=e?e.ee:this.ee,a=i,s=!1,u=gC(this.query)&&i.size===this.query.limit?i.last():null,c=_C(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pt((function(t,e){var l=i.get(t),h=e instanceof fC?e:null;h&&(h=xC(n.query,h)?h:null);var f=!!l&&n.ee.has(l.key),d=!!h&&(h.an||n.ee.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Dh(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.yh(h,u)>0||c&&n.yh(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),gC(this.query)||_C(this.query))for(;a.size>this.query.limit;){var l=gC(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Vh:a,Sh:r,br:s,ee:o}},t.prototype.Dh=function(t,e){return t.an&&e.hasCommittedMutations&&!e.an},t.prototype.Zn=function(t,e,n){var r=this,i=this.Vh;this.Vh=t.Vh,this.ee=t.ee;var o=t.Sh.Zt();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bb()}};return n(t)-n(e)}(t.type,e.type)||r.yh(t.doc,e.doc)})),this.Ch(n);var a=e?this.Nh():[],s=0===this.gh.size&&this.le?1:0,u=s!==this.Ph;return this.Ph=s,0!==o.length||u?{snapshot:new bw(this.query,t.Vh,i,o,t.ee,0===s,u,!1),xh:a}:{xh:a}},t.prototype.ea=function(t){return this.le&&"Offline"===t?(this.le=!1,this.Zn({Vh:this.Vh,Sh:new _w,ee:this.ee,br:!1},!1)):{xh:[]}},t.prototype.Fh=function(t){return!this.Rh.has(t)&&!!this.Vh.has(t)&&!this.Vh.get(t).an},t.prototype.Ch=function(t){var e=this;t&&(t._e.forEach((function(t){return e.Rh=e.Rh.add(t)})),t.fe.forEach((function(t){})),t.de.forEach((function(t){return e.Rh=e.Rh.delete(t)})),this.le=t.le)},t.prototype.Nh=function(){var t=this;if(!this.le)return[];var e=this.gh;this.gh=vw(),this.Vh.forEach((function(e){t.Fh(e.key)&&(t.gh=t.gh.add(e.key))}));var n=[];return e.forEach((function(e){t.gh.has(e)||n.push(new XO(e))})),this.gh.forEach((function(t){e.has(t)||n.push(new JO(t))})),n},t.prototype.Oh=function(t){this.Rh=t.Kc,this.gh=vw();var e=this.bh(t.documents);return this.Zn(e,!0)},t.prototype.Mh=function(){return bw.ie(this.query,this.Vh,this.ee,0===this.Ph)},t}(),tT=function(t,e,n){this.query=t,this.targetId=e,this.view=n},eT=function(t){this.key=t,this.kh=!1},nT=function(){function t(t,e,n,r,i,o){this.Ou=t,this.$h=e,this.Lh=n,this.Bh=r,this.currentUser=i,this.qh=o,this.Uh={},this.Qh=new YC((function(t){return TC(t)}),OC),this.Kh=new Map,this.Wh=[],this.jh=new rw(Bb.$),this.Gh=new Map,this.zh=new VO,this.Hh={},this.Jh=new Map,this.Yh=TS.Io(),this.onlineState="Unknown",this.Xh=void 0}return Object.defineProperty(t.prototype,"Zh",{get:function(){return!0===this.Xh},enumerable:!1,configurable:!0}),t}();function rT(t,e){return Object(sy.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(sy.d)(this,(function(s){switch(s.label){case 0:return n=DT(t),(i=n.Qh.get(e))?(n.Bh.Ha(i.targetId),r=i.view.Mh(),[3,4]):[3,1];case 1:return[4,KS(n.Ou,EC(e))];case 2:return o=s.sent(),a=n.Bh.Ha(o.targetId),[4,iT(n,e,o.targetId,"current"===a)];case 3:r=s.sent(),n.Zh&&uO(n.$h,o),s.label=4;case 4:return[2,r]}}))}))}function iT(t,e,n,r){return Object(sy.b)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return Object(sy.d)(this,(function(l){switch(l.label){case 0:return t.tl=function(e,n,r){return function(t,e,n,r){return Object(sy.b)(this,void 0,void 0,(function(){var i,o,a;return Object(sy.d)(this,(function(s){switch(s.label){case 0:return(i=e.view.bh(n)).br?[4,YS(t.Ou,e.query,!1).then((function(t){return e.view.bh(t.documents,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.re.get(e.targetId),a=e.view.Zn(i,t.Zh,o),[2,(mT(t,e.targetId,a.xh),a.snapshot)]}}))}))}(t,e,n,r)},[4,YS(t.Ou,e,!0)];case 1:return i=l.sent(),o=new $O(e,i.Kc),a=o.bh(i.documents),s=kw.he(n,r&&"Offline"!==t.onlineState),u=o.Zn(a,t.Zh,s),mT(t,n,u.xh),c=new tT(e,n,o),[2,(t.Qh.set(e,c),t.Kh.has(n)?t.Kh.get(n).push(e):t.Kh.set(n,[e]),u.snapshot)]}}))}))}function oT(t,e){return Object(sy.b)(this,void 0,void 0,(function(){var n,r,i;return Object(sy.d)(this,(function(o){switch(o.label){case 0:return n=kb(t),r=n.Qh.get(e),(i=n.Kh.get(r.targetId)).length>1?[2,(n.Kh.set(r.targetId,i.filter((function(t){return!OC(t,e)}))),void n.Qh.delete(e))]:n.Zh?(n.Bh.Ya(r.targetId),n.Bh.Ka(r.targetId)?[3,2]:[4,QS(n.Ou,r.targetId,!1).then((function(){n.Bh.Za(r.targetId),cO(n.$h,r.targetId),vT(n,r.targetId)})).catch($S)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return vT(n,r.targetId),[4,QS(n.Ou,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function aT(t,e,n){return Object(sy.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object(sy.d)(this,(function(s){switch(s.label){case 0:r=RT(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=kb(t),i=jb.now(),o=e.reduce((function(t,e){return t.add(e.key)}),vw());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Bc._s(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=Jk(c,n.get(c.key));null!=l&&a.push(new eC(c.key,l,lC(l.proto.mapValue),Gk.exists(!0)))}return r.rs.Or(t,i,a,e)}))})).then((function(t){var e=t.vn(n);return{batchId:t.batchId,Qn:e}}))}(r.Ou,e)];case 2:return i=s.sent(),r.Bh.Wa(i.batchId),function(t,e,n){var r=t.Hh[t.currentUser.h()];r||(r=new rw(Db)),r=r.Tt(e,n),t.Hh[t.currentUser.h()]=r}(r,i.batchId,n),[4,bT(r,i.Qn)];case 3:return s.sent(),[4,wO(r.$h)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=bE(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function sT(t,e){return Object(sy.b)(this,void 0,void 0,(function(){var n,r;return Object(sy.d)(this,(function(i){switch(i.label){case 0:n=kb(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,WS(n.Ou,e)];case 2:return r=i.sent(),e.re.forEach((function(t,e){var r=n.Gh.get(e);r&&(wb(t._e.size+t.fe.size+t.de.size<=1),t._e.size>0?r.kh=!0:t.fe.size>0?wb(r.kh):t.de.size>0&&(wb(r.kh),r.kh=!1))})),[4,bT(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,$S(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function uT(t,e,n){var r=kb(t);if(r.Zh&&0===n||!r.Zh&&1===n){var i=[];r.Qh.forEach((function(t,n){var r=n.view.ea(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=kb(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].ea(e)&&(r=!0)})),r&&MO(n)}(r.Lh,e),i.length&&r.Uh.fu(i),r.onlineState=e,r.Zh&&r.Bh.sh(e)}}function cT(t,e,n){return Object(sy.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Object(sy.d)(this,(function(c){switch(c.label){case 0:return(r=kb(t)).Bh.th(e,"rejected",n),i=r.Gh.get(e),(o=i&&i.key)?(a=(a=new rw(Bb.$)).Tt(o,new dC(o,Lb.min())),s=vw().add(o),u=new ww(Lb.min(),new Map,new aw(Db),a,s),[4,sT(r,u)]):[3,2];case 1:return c.sent(),r.jh=r.jh.remove(o),r.Gh.delete(e),_T(r),[3,4];case 2:return[4,QS(r.Ou,e,!1).then((function(){return vT(r,e,n)})).catch($S)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function lT(t,e){return Object(sy.b)(this,void 0,void 0,(function(){var n,r,i;return Object(sy.d)(this,(function(o){switch(o.label){case 0:n=kb(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,qS(n.Ou,e)];case 2:return i=o.sent(),pT(n,r,null),dT(n,r),n.Bh.Ga(r,"acknowledged"),[4,bT(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,$S(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function hT(t,e,n){return Object(sy.b)(this,void 0,void 0,(function(){var r,i;return Object(sy.d)(this,(function(o){switch(o.label){case 0:r=kb(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=kb(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.rs.kr(t,e).next((function(e){return wb(null!==e),r=e.keys(),n.rs.Qr(t,e)})).next((function(){return n.rs.Gr(t)})).next((function(){return n.Bc._s(t,r)}))}))}(r.Ou,e)];case 2:return i=o.sent(),pT(r,e,n),dT(r,e),r.Bh.Ga(e,"rejected",n),[4,bT(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,$S(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function fT(t,e){return Object(sy.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(sy.d)(this,(function(s){switch(s.label){case 0:pO((n=kb(t)).$h)||yb("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=kb(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.rs.Br(t)}))}(n.Ou)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Jh.get(r)||[]).push(e),n.Jh.set(r,i),[3,4]);case 3:return o=s.sent(),a=bE(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function dT(t,e){(t.Jh.get(e)||[]).forEach((function(t){t.resolve()})),t.Jh.delete(e)}function pT(t,e,n){var r=kb(t),i=r.Hh[r.currentUser.h()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Hh[r.currentUser.h()]=i}}function vT(t,e,n){void 0===n&&(n=null),t.Bh.Ya(e);for(var r=0,i=t.Kh.get(e);r<i.length;r++){var o=i[r];t.Qh.delete(o),n&&t.Uh.el(o,n)}t.Kh.delete(e),t.Zh&&t.zh.Ia(e).forEach((function(e){t.zh.zr(e)||yT(t,e)}))}function yT(t,e){var n=t.jh.get(e);null!==n&&(cO(t.$h,n),t.jh=t.jh.remove(e),t.Gh.delete(n),_T(t))}function mT(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof JO?(t.zh.Oo(o.key,e),gT(t,o)):o instanceof XO?(yb("SyncEngine","Document no longer in limbo: "+o.key),t.zh.ko(o.key,e),t.zh.zr(o.key)||yT(t,o.key)):bb()}}function gT(t,e){var n=e.key;t.jh.get(n)||(yb("SyncEngine","New document in limbo: "+n),t.Wh.push(n),_T(t))}function _T(t){for(;t.Wh.length>0&&t.jh.size<t.qh;){var e=t.Wh.shift(),n=t.Yh.next();t.Gh.set(n,new eT(e)),t.jh=t.jh.Tt(e,n),uO(t.$h,new $b(EC(mC(e.path)),n,2,oE.Ds))}}function bT(t,e,n){return Object(sy.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object(sy.d)(this,(function(s){switch(s.label){case 0:return r=kb(t),i=[],o=[],a=[],r.Qh.W()?[3,3]:(r.Qh.forEach((function(t,s){a.push(r.tl(s,e,n).then((function(t){if(t){r.Zh&&r.Bh.th(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=iE.Vs(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.Uh.fu(i),[4,function(t,e){return Object(sy.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Object(sy.d)(this,(function(l){switch(l.label){case 0:n=kb(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return ZC.forEach(e,(function(e){return ZC.forEach(e.gs,(function(r){return n.persistence.Dr.Oo(t,e.targetId,r)})).next((function(){return ZC.forEach(e.ys,(function(r){return n.persistence.Dr.ko(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!lE(r=l.sent()))throw r;return yb("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.Mc.get(s),c=u.Et(u.ft),n.Mc=n.Mc.Tt(s,c));return[2]}}))}))}(r.Ou,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function wT(t,e){return Object(sy.b)(this,void 0,void 0,(function(){var n,r;return Object(sy.d)(this,(function(i){switch(i.label){case 0:return(n=kb(t)).currentUser.isEqual(e)?[3,3]:(yb("SyncEngine","User change. New user:",e.h()),[4,zS(n.Ou,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Jh.forEach((function(t){t.forEach((function(t){t.reject(new Eb(Cb.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Jh.clear()}(n),n.Bh.nh(e,r.Uc,r.Qc),[4,bT(n,r.qc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function kT(t,e){var n=kb(t),r=n.Gh.get(e);if(r&&r.kh)return vw().add(r.key);var i=vw(),o=n.Kh.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Qh.get(s[a]);i=i.Gt(u.view.ph)}return i}function CT(t,e){return Object(sy.b)(this,void 0,void 0,(function(){var n,r,i;return Object(sy.d)(this,(function(o){switch(o.label){case 0:return[4,YS((n=kb(t)).Ou,e.query,!0)];case 1:return r=o.sent(),i=e.view.Oh(r),[2,(n.Zh&&mT(n,e.targetId,i.xh),i)]}}))}))}function ET(t){return Object(sy.b)(this,void 0,void 0,(function(){var e;return Object(sy.d)(this,(function(n){return[2,JS((e=kb(t)).Ou).then((function(t){return bT(e,t)}))]}))}))}function ST(t,e,n,r){return Object(sy.b)(this,void 0,void 0,(function(){var i,o;return Object(sy.d)(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=kb(t),r=kb(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.$r(t,e).next((function(e){return e?n.Bc._s(t,e):ZC.resolve(null)}))}))}((i=kb(t)).Ou,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,wO(i.$h)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(pT(i,e,r||null),dT(i,e),function(t,e){kb(kb(t).rs).Wr(e)}(i.Ou,e)):bb(),a.label=4;case 4:return[4,bT(i,o)];case 5:return a.sent(),[3,7];case 6:yb("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function OT(t,e){return Object(sy.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Object(sy.d)(this,(function(c){switch(c.label){case 0:return DT(n=kb(t)),RT(n),!0!==e||!0===n.Xh?[3,3]:(r=n.Bh.Ua(),[4,TT(n,r.H())]);case 1:return i=c.sent(),n.Xh=!0,[4,IO(n.$h,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)uO(n.$h,a[o]);return[3,7];case 3:return!1!==e||!1===n.Xh?[3,7]:(s=[],u=Promise.resolve(),n.Kh.forEach((function(t,e){n.Bh.Xa(e)?s.push(e):u=u.then((function(){return vT(n,e),QS(n.Ou,e,!0)})),cO(n.$h,e)})),[4,u]);case 4:return c.sent(),[4,TT(n,s)];case 5:return c.sent(),function(t){var e=kb(t);e.Gh.forEach((function(t,n){cO(e.$h,n)})),e.zh.ma(),e.Gh=new Map,e.jh=new rw(Bb.$)}(n),n.Xh=!1,[4,IO(n.$h,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function TT(t,e,n){return Object(sy.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p;return Object(sy.d)(this,(function(v){switch(v.label){case 0:n=kb(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.Kh.get(s=a[o]))&&0!==c.length?[4,KS(n.Ou,EC(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.Qh.get(h[l]),[4,CT(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,ZS(n.Ou,s)];case 8:return p=v.sent(),[4,KS(n.Ou,p)];case 9:return u=v.sent(),[4,iT(n,IT(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Uh.fu(i),r)]}}))}))}function IT(t){return yC(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function xT(t){var e=kb(t);return kb(kb(e.Ou).persistence).gc()}function AT(t,e,n,r){return Object(sy.b)(this,void 0,void 0,(function(){var i,o,a;return Object(sy.d)(this,(function(s){switch(s.label){case 0:return(i=kb(t)).Xh?(yb("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Kh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,JS(i.Ou)];case 3:return o=s.sent(),a=ww.ae(e,"current"===n),[4,bT(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,QS(i.Ou,e,!0)];case 6:return s.sent(),vT(i,e,r),[3,8];case 7:bb(),s.label=8;case 8:return[2]}}))}))}function PT(t,e,n){return Object(sy.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h;return Object(sy.d)(this,(function(f){switch(f.label){case 0:if(!(r=DT(t)).Xh)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Kh.has(a=o[i])?(yb("SyncEngine","Adding an already active target "+a),[3,5]):[4,ZS(r.Ou,a)]:[3,6];case 2:return s=f.sent(),[4,KS(r.Ou,s)];case 3:return u=f.sent(),[4,iT(r,IT(s),u.targetId,!1)];case 4:f.sent(),uO(r.$h,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(sy.d)(this,(function(e){switch(e.label){case 0:return r.Kh.has(t)?[4,QS(r.Ou,t,!1).then((function(){cO(r.$h,t),vT(r,t)})).catch($S)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function DT(t){var e=kb(t);return e.$h.ku.Gu=sT.bind(null,e),e.$h.ku.Xe=kT.bind(null,e),e.$h.ku.ju=cT.bind(null,e),e.Uh.fu=jO.bind(null,e.Lh),e.Uh.el=LO.bind(null,e.Lh),e}function RT(t){var e=kb(t);return e.$h.ku.zu=lT.bind(null,e),e.$h.ku.Hu=hT.bind(null,e),e}var NT=function(){function t(t,e){this.os=t,this.Dr=e,this.rs=[],this.nl=1,this.sl=new aw(UO._a)}return t.prototype.Fr=function(t){return ZC.resolve(0===this.rs.length)},t.prototype.Or=function(t,e,n,r){var i=this.nl;this.nl++;var o=new KC(i,e,n,r);this.rs.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.sl=this.sl.add(new UO(u.key,i)),this.os.Mr(t,u.key.path.q())}return ZC.resolve(o)},t.prototype.kr=function(t,e){return ZC.resolve(this.il(e))},t.prototype.Lr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return ZC.resolve(this.rs.length>r?this.rs[r]:null)},t.prototype.Br=function(){return ZC.resolve(0===this.rs.length?-1:this.nl-1)},t.prototype.qr=function(t){return ZC.resolve(this.rs.slice())},t.prototype.us=function(t,e){var n=this,r=new UO(e,0),i=new UO(e,Number.POSITIVE_INFINITY),o=[];return this.sl.Kt([r,i],(function(t){var e=n.il(t.Ra);o.push(e)})),ZC.resolve(o)},t.prototype.ds=function(t,e){var n=this,r=new aw(Db);return e.forEach((function(t){var e=new UO(t,0),i=new UO(t,Number.POSITIVE_INFINITY);n.sl.Kt([e,i],(function(t){r=r.add(t.Ra)}))})),ZC.resolve(this.ol(r))},t.prototype.Rs=function(t,e){var n=e.path,r=n.length+1,i=n;Bb.ot(i)||(i=i.child(""));var o=new UO(new Bb(i),0),a=new aw(Db);return this.sl.Wt((function(t){var e=t.key.path;return!!n.j(e)&&(e.length===r&&(a=a.add(t.Ra)),!0)}),o),ZC.resolve(this.ol(a))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.il(t);null!==r&&n.push(r)})),n},t.prototype.Qr=function(t,e){var n=this;wb(0===this.cl(e.batchId,"removed")),this.rs.shift();var r=this.sl;return ZC.forEach(e.mutations,(function(i){var o=new UO(i.key,e.batchId);return r=r.delete(o),n.Dr.jr(t,i.key)})).next((function(){n.sl=r}))},t.prototype.Wr=function(t){},t.prototype.zr=function(t,e){var n=new UO(e,0),r=this.sl.jt(n);return ZC.resolve(e.isEqual(r&&r.key))},t.prototype.Gr=function(t){return ZC.resolve()},t.prototype.cl=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.rs.length?0:t-this.rs[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.rs.length?null:this.rs[e]},t}(),jT=function(){function t(t,e){this.os=t,this.ul=e,this.docs=new rw(Bb.$),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ul(e);return this.docs=this.docs.Tt(r,{zn:e,size:a,readTime:n}),this.size+=a-o,this.os.Mr(t,r.path.q())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Jn=function(t,e){var n=this.docs.get(e);return ZC.resolve(n?n.zn:null)},t.prototype.getEntries=function(t,e){var n=this,r=lw();return e.forEach((function(t){var e=n.docs.get(t);r=r.Tt(t,e?e.zn:null)})),ZC.resolve(r)},t.prototype.ws=function(t,e,n){for(var r=fw(),i=new Bb(e.path.child("")),o=this.docs.Vt(i);o.Nt();){var a=o.Ct(),s=a.value,u=s.zn,c=s.readTime;if(!e.path.j(a.key.path))break;c.F(n)<=0||u instanceof fC&&xC(e,u)&&(r=r.Tt(u.key,u))}return ZC.resolve(r)},t.prototype.al=function(t,e){return ZC.forEach(this.docs,(function(t){return e(t)}))},t.prototype.io=function(t){return new LT(this)},t.prototype.oo=function(t){return ZC.resolve(this.size)},t}(),LT=function(t){function e(e){var n=this;return(n=t.call(this)||this).co=e,n}return Object(sy.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[];return this.Qn.forEach((function(r,i){i&&i.zn?n.push(e.co.jn(t,i.zn,e.Wn(r))):e.co.Hn(r)})),ZC.qn(n)},e.prototype.Yn=function(t,e){return this.co.Jn(t,e)},e.prototype.Xn=function(t,e){return this.co.getEntries(t,e)},e}(JC),MT=function(){function t(t){this.persistence=t,this.hl=new YC((function(t){return Kb(t)}),Qb),this.lastRemoteSnapshotVersion=Lb.min(),this.highestTargetId=0,this.ll=0,this._l=new VO,this.targetCount=0,this.fl=TS.To()}return t.prototype.Ue=function(t,e){return this.hl.forEach((function(t,n){return e(n)})),ZC.resolve()},t.prototype.Po=function(t){return ZC.resolve(this.lastRemoteSnapshotVersion)},t.prototype.yo=function(t){return ZC.resolve(this.ll)},t.prototype.mo=function(t){return this.highestTargetId=this.fl.next(),ZC.resolve(this.highestTargetId)},t.prototype.Vo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),ZC.resolve()},t.prototype.vo=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new TS(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.po=function(t,e){return this.vo(e),this.targetCount+=1,ZC.resolve()},t.prototype.So=function(t,e){return this.vo(e),ZC.resolve()},t.prototype.Do=function(t,e){return this.hl.delete(e.target),this._l.Ia(e.targetId),this.targetCount-=1,ZC.resolve()},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return this.hl.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.hl.delete(a),o.push(r.Co(t,s.targetId)),i++)})),ZC.qn(o).next((function(){return i}))},t.prototype.No=function(t){return ZC.resolve(this.targetCount)},t.prototype.xo=function(t,e){var n=this.hl.get(e)||null;return ZC.resolve(n)},t.prototype.Fo=function(t,e,n){return this._l.wa(e,n),ZC.resolve()},t.prototype.Mo=function(t,e,n){this._l.Ta(e,n);var r=this.persistence.Dr,i=[];return r&&e.forEach((function(e){i.push(r.jr(t,e))})),ZC.qn(i)},t.prototype.Co=function(t,e){return this._l.Ia(e),ZC.resolve()},t.prototype.$o=function(t,e){var n=this._l.Aa(e);return ZC.resolve(n)},t.prototype.zr=function(t,e){return ZC.resolve(this._l.zr(e))},t}(),FT=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.ho=function(t,e){return ZC.resolve(this.dl.get(e))},t.prototype.lo=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:ak(n.createTime)}),ZC.resolve()},t.prototype._o=function(t,e){return ZC.resolve(this.wl.get(e))},t.prototype.fo=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:zE(n.bundledQuery),readTime:ak(n.readTime)}),ZC.resolve()},t}(),VT=function(){function t(t,e){var n=this;this.El={},this.Uo=new oE(0),this.Qo=!1,this.Qo=!0,this.Dr=t(this),this.Yo=new MT(this),this.os=new eS,this.ss=function(t,e){return new jT(t,(function(t){return n.Dr.Tl(t)}))}(this.os),this.serializer=new DE(e),this.Xo=new FT(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Ic=function(){return this.Qo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"lr",{get:function(){return this.Qo},enumerable:!1,configurable:!0}),t.prototype.rc=function(){},t.prototype.oc=function(){},t.prototype.bc=function(){return this.os},t.prototype.yc=function(t){var e=this.El[t.h()];return e||(e=new NT(this.os,this.Dr),this.El[t.h()]=e),e},t.prototype.Vc=function(){return this.Yo},t.prototype.vc=function(){return this.ss},t.prototype.Sc=function(){return this.Xo},t.prototype.runTransaction=function(t,e,n){var r=this;yb("MemoryPersistence","Starting transaction:",t);var i=new UT(this.Uo.next());return this.Dr.Il(),n(i).next((function(t){return r.Dr.ml(i).next((function(){return t}))})).Ln().then((function(t){return i.ns(),t}))},t.prototype.Al=function(t,e){return ZC.Un(Object.values(this.El).map((function(n){return function(){return n.zr(t,e)}})))},t}(),UT=function(t){function e(e){var n=this;return(n=t.call(this)||this).Lo=e,n}return Object(sy.c)(e,t),e}(nE),BT=function(){function t(t){this.persistence=t,this.Rl=new VO,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw bb()},enumerable:!1,configurable:!0}),t.prototype.Oo=function(t,e,n){return this.Rl.Oo(n,e),this.yl.delete(n.toString()),ZC.resolve()},t.prototype.ko=function(t,e,n){return this.Rl.ko(n,e),this.yl.add(n.toString()),ZC.resolve()},t.prototype.jr=function(t,e){return this.yl.add(e.toString()),ZC.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.Ia(e.targetId).forEach((function(t){return n.yl.add(t.toString())}));var r=this.persistence.Vc();return r.$o(t,e.targetId).next((function(t){t.forEach((function(t){return n.yl.add(t.toString())}))})).next((function(){return r.Do(t,e)}))},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.vc().io();return ZC.forEach(this.yl,(function(r){var i=Bb.st(r);return e.Vl(t,i).next((function(t){t||n.Hn(i)}))})).next((function(){return e.Pl=null,n.apply(t)}))},t.prototype.Fc=function(t,e){var n=this;return this.Vl(t,e).next((function(t){t?n.yl.delete(e.toString()):n.yl.add(e.toString())}))},t.prototype.Tl=function(t){return 0},t.prototype.Vl=function(t,e){var n=this;return ZC.Un([function(){return ZC.resolve(n.Rl.zr(e))},function(){return n.persistence.Vc().zr(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),zT=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.lu=function(t){this.bl=t},t.prototype.ou=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),qT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},HT=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(sy.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise((function(i,o){var a=new cb;a.listenOnce(ab.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case ob.NO_ERROR:var e=a.getResponseJson();yb("Connection","XHR received:",JSON.stringify(e)),i(e);break;case ob.TIMEOUT:yb("Connection",'RPC "'+t+'" timed out'),o(new Eb(Cb.DEADLINE_EXCEEDED,"Request time out"));break;case ob.HTTP_ERROR:var n=a.getStatus();if(yb("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Cb).indexOf(e)>=0?e:Cb.UNKNOWN}(r.status);o(new Eb(s,r.message))}else o(new Eb(Cb.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Eb(Cb.UNAVAILABLE,"Connection failed."));break;default:bb()}}finally{yb("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype._u=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new tb,i=rg(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(o.initMessageHeaders,e),Object(ly.l)()||Object(ly.n)()||Object(ly.j)()||Object(ly.k)()||Object(ly.o)()||Object(ly.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");yb("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new zT({pl:function(t){c?yb("Connection","Not sending because WebChannel is closed:",t):(u||(yb("Connection","Opening WebChannel transport."),s.open(),u=!0),yb("Connection","WebChannel sending:",t),s.send(t))},vl:function(){return s.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(s,ub.EventType.OPEN,(function(){c||yb("Connection","WebChannel transport opened.")})),h(s,ub.EventType.CLOSE,(function(){c||(c=!0,yb("Connection","WebChannel transport closed"),l.Nl())})),h(s,ub.EventType.ERROR,(function(t){c||(c=!0,gb("Connection","WebChannel transport errored:",t),l.Nl(new Eb(Cb.UNAVAILABLE,"The operation could not be completed")))})),h(s,ub.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];wb(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){yb("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Jb[t];if(void 0!==e)return nw(e)}(i),a=r.message;void 0===o&&(o=Cb.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.Nl(new Eb(o,a)),s.close()}else yb("Connection","WebChannel received:",n),l.xl(n)}})),h(i,sb.STAT_EVENT,(function(t){10===t.stat?yb("Connection","Detected buffering proxy"):11===t.stat&&yb("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Cl()}),0),l},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.yu=function(t,e,n,r){var i=this.kl(t,e);yb("RestConnection","Sending: ",i,n);var o={};return this.$l(o,r),this.Ll(t,i,o,n).then((function(t){return yb("RestConnection","Received: ",t),t}),(function(e){throw gb("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Vu=function(t,e,n,r){return this.yu(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.1.2",t["Content-Type"]="text/plain",e)for(var n in e.T)e.T.hasOwnProperty(n)&&(t[n]=e.T[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+qT[t]},t}()),WT=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Qu=function(t){this.Kl.push(t)},t.prototype.Ic=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){yb("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){yb("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),GT=function(){function t(){}return t.prototype.Qu=function(t){},t.prototype.Ic=function(){},t}(),KT=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(sy.b)(this,void 0,void 0,(function(){return Object(sy.d)(this,(function(e){switch(e.label){case 0:return this.serializer=$C(t.Fl.t),this.Bh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Ou=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return BS(this.persistence,new TE,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new VT(BT.gl,this.serializer)},t.prototype.jl=function(t){return new ZO},t.prototype.terminate=function(){return Object(sy.b)(this,void 0,void 0,(function(){return Object(sy.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.Bh.Ic()];case 1:return t.sent(),[4,this.persistence.Ic()];case 2:return t.sent(),[2]}}))}))},t}(),QT=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(sy.c)(e,t),e.prototype.initialize=function(e){return Object(sy.b)(this,void 0,void 0,(function(){return Object(sy.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,XS(this.Ou)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,RT(this.Xl.va)];case 4:return n.sent(),[4,wO(this.Xl.$h)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return BS(this.persistence,new TE,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new SE(this.persistence.Dr.cr,t.di)},e.prototype.Gl=function(t){var e=VS(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?EE.er(this.cacheSizeBytes):EE.ir;return new NS(this.synchronizeTabs,e,t.clientId,n,t.di,yE(),mE(),this.serializer,this.Bh,!!this.forceOwnership)},e.prototype.jl=function(t){return new ZO},e}(KT),YT=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(sy.c)(e,t),e.prototype.initialize=function(e){return Object(sy.b)(this,void 0,void 0,(function(){var n,r=this;return Object(sy.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.va,this.Bh instanceof YO?(this.Bh.va={Eh:ST.bind(null,n),Th:AT.bind(null,n),Ih:PT.bind(null,n),gc:xT.bind(null,n),wh:ET.bind(null,n)},[4,this.Bh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.ic((function(t){return Object(sy.b)(r,void 0,void 0,(function(){return Object(sy.d)(this,(function(e){switch(e.label){case 0:return[4,OT(this.Xl.va,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.lr?this.zl.start(this.Ou):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=yE();if(!YO.Gs(e))throw new Eb(Cb.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=VS(t.Fl.t,t.Fl.persistenceKey);return new YO(e,t.di,n,t.clientId,t.Yl)},e}(QT),ZT=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(sy.b)(this,void 0,void 0,(function(){var n=this;return Object(sy.d)(this,(function(r){switch(r.label){case 0:return this.Ou?[3,2]:(this.Ou=t.Ou,this.Bh=t.Bh,this.Mu=this.Zl(e),this.$h=this.t_(e),this.Lh=this.e_(e),this.va=this.n_(e,!t.synchronizeTabs),this.Bh.pu=function(t){return uT(n.va,t,1)},this.$h.ku.s_=wT.bind(null,this.va),[4,IO(this.$h,this.va.Zh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new DO},t.prototype.Zl=function(t){var e=$C(t.Fl.t),n=new HT(t.Fl);return function(t,e,n){return new rO(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,a=this;return e=this.Ou,n=this.Mu,r=t.di,i=function(t){return uT(a.va,t,0)},o=WT.Gs()?new WT:new GT,new oO(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,a){var s=new nT(t,e,n,r,i,o);return a&&(s.Xh=!0),s}(this.Ou,this.$h,this.Lh,this.Bh,t.Yl,t.qh,e)},t.prototype.terminate=function(){return function(t){return Object(sy.b)(this,void 0,void 0,(function(){var e;return Object(sy.d)(this,(function(n){switch(n.label){case 0:return e=kb(t),yb("RemoteStore","RemoteStore shutting down."),e.Bu.add(5),[4,sO(e)];case 1:return n.sent(),e.Uu.Ic(),e.Ku.set("Unknown"),[2]}}))}))}(this.$h)},t}(),JT=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function XT(t,e,n){if(!n)throw new Eb(Cb.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function $T(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Eb(Cb.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function tI(t,e,n,r){if(!0===e&&!0===r)throw new Eb(Cb.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function eI(t){if(!Bb.ot(t))throw new Eb(Cb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function nI(t){if(Bb.ot(t))throw new Eb(Cb.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function rI(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":bb()}function iI(t,e){if("_delegate"in t&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Eb(Cb.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=rI(t);throw new Eb(Cb.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function oI(t,e){if(e<=0)throw new Eb(Cb.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var aI=function(t){this._methodName=t},sI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(sy.c)(e,t),e.prototype.c_=function(t){if(2!==t.u_)throw t.a_(1===t.u_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.en.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(aI);function uI(t,e,n){return new fx({u_:3,h_:e.settings.h_,methodName:t._methodName,l_:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var cI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(sy.c)(e,t),e.prototype.c_=function(t){return new Hk(t.path,new jk)},e.prototype.isEqual=function(t){return t instanceof e},e}(aI),lI=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).__=n,r}return Object(sy.c)(e,t),e.prototype.c_=function(t){var e=uI(this,t,!0),n=this.__.map((function(t){return gx(t,e)})),r=new Lk(n);return new Hk(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(aI),hI=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).__=n,r}return Object(sy.c)(e,t),e.prototype.c_=function(t){var e=uI(this,t,!0),n=this.__.map((function(t){return gx(t,e)})),r=new Fk(n);return new Hk(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(aI),fI=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(sy.c)(e,t),e.prototype.c_=function(t){var e=new Uk(t.serializer,nk(t.serializer,this.f_));return new Hk(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(aI),dI=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Eb(Cb.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Eb(Cb.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.d_=t,this.w_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.d_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.d_===t.d_&&this.w_===t.w_},t.prototype.toJSON=function(){return{latitude:this.d_,longitude:this.w_}},t.prototype.C=function(t){return Db(this.d_,t.d_)||Db(this.w_,t.w_)},t}(),pI=function(){function t(t){this.E_=t}return t.fromBase64String=function(e){try{return new t(Zb.fromBase64String(e))}catch(e){throw new Eb(Cb.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Zb.fromUint8Array(e))},t.prototype.toBase64=function(){return this.E_.toBase64()},t.prototype.toUint8Array=function(){return this.E_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.E_.isEqual(t.E_)},t}(),vI=function(t){this.o_=t},yI=new Map,mI=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Eb(Cb.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Eb(Cb.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,tI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),gI=function(){function t(t,e){this.T_="(lite)",this.I_=new mI({}),this.m_=!1,t instanceof fb?(this.A_=t,this.R_=new Ob):(this.P_=t,this.A_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Eb(Cb.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fb(t.options.projectId)}(t),this.R_=new Tb(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.P_)throw new Eb(Cb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.P_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"g_",{get:function(){return this.m_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y_",{get:function(){return void 0!==this.V_},enumerable:!1,configurable:!0}),t.prototype.p_=function(t){if(this.m_)throw new Eb(Cb.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.I_=new mI(t),void 0!==t.credentials&&(this.R_=function(t){if(!t)return new Ob;switch(t.type){case"gapi":var e=t.client;return wb(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new xb(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Eb(Cb.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.v_=function(){return this.I_},t.prototype.b_=function(){return this.m_=!0,this.I_},t.prototype._delete=function(){return this.V_||(this.V_=this.S_()),this.V_},t.prototype.S_=function(){return function(t){var e=yI.get(t);e&&(yb("ComponentProvider","Removing Datastore"),yI.delete(t),e.terminate())}(this),Promise.resolve()},t}();function _I(){if("undefined"==typeof Uint8Array)throw new Eb(Cb.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function bI(){if("undefined"==typeof atob)throw new Eb(Cb.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var wI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(sy.c)(e,t),e.fromBase64String=function(t){return bI(),new e(pI.fromBase64String(t))},e.fromUint8Array=function(t){return _I(),new e(pI.fromUint8Array(t))},e.prototype.toBase64=function(){return bI(),this.o_.toBase64()},e.prototype.toUint8Array=function(){return _I(),this.o_.toUint8Array()},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(vI),kI=function(){function t(){}return t.prototype.D_=function(t,e){switch(void 0===e&&(e="none"),Lw(t)){case 0:return null;case 1:return t.booleanValue;case 2:return qw(t.integerValue||t.doubleValue);case 3:return this.C_(t.timestampValue);case 4:return this.N_(t,e);case 5:return t.stringValue;case 6:return this.x_(Hw(t.bytesValue));case 7:return this.F_(t.referenceValue);case 8:return this.O_(t.geoPointValue);case 9:return this.M_(t.arrayValue,e);case 10:return this.k_(t.mapValue,e);default:throw bb()}},t.prototype.k_=function(t,e){var n=this,r={};return Pw(t.fields||{},(function(t,i){r[t]=n.D_(i,e)})),r},t.prototype.O_=function(t){return new dI(qw(t.latitude),qw(t.longitude))},t.prototype.M_=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.D_(t,e)}))},t.prototype.N_=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return Rw(n)?t(n):n}(t);return null==n?null:this.D_(n,e);case"estimate":return this.C_(Nw(t));default:return null}},t.prototype.C_=function(t){var e=zw(t);return new jb(e.seconds,e.nanos)},t.prototype.L_=function(t,e){var n=Fb.Y(t);wb(Ak(n));var r=new fb(n.get(1),n.get(3)),i=new Bb(n.B(5));return r.isEqual(e)||mb("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),CI=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(sy.c)(e,t),e.prototype.x_=function(t){return new wI(new pI(t))},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return Zx.B_(e,this.firestore,null)},e}(kI),EI=function(){function t(t,e,n,r,i){this.q_=t,this.U_=e,this.Q_=n,this.K_=r,this.W_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.Q_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new BI(this.q_,this.W_,this.Q_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.K_},t.prototype.data=function(){if(this.K_){if(this.W_){var t=new SI(this.q_,this.U_,this.Q_,this.K_,null);return this.W_.fromFirestore(t)}return this.U_.D_(this.K_.En())}},t.prototype.get=function(t){if(this.K_){var e=this.K_.data().field(OI("DocumentSnapshot.get",t));if(null!==e)return this.U_.D_(e)}},t}(),SI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(sy.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(EI);function OI(t,e){return"string"==typeof e?Ex(t,e):e instanceof vI?e.o_.j_:e.j_}var TI=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Eb(Cb.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.j_=new Ub(t)}return t.prototype.isEqual=function(t){return this.j_.isEqual(t.j_)},t}(),II=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).G_=new _E,r.T_="name"in e?e.name:"[DEFAULT]",r}return Object(sy.c)(e,t),e.prototype.S_=function(){return this.z_||Kx(this),this.z_.terminate()},e}(gI);function xI(t,e,n){var r=this,i=new XC;return t.di.enqueue((function(){return Object(sy.b)(r,void 0,void 0,(function(){var r;return Object(sy.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Ax(t,n)];case 1:return o.sent(),[4,Px(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Cb.FAILED_PRECONDITION||t.code===Cb.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function AI(t){if(t.g_||t.y_)throw new Eb(Cb.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var PI=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this).q_=e,s.H_=e,s.metadata=o,s}return Object(sy.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.K_){if(this.W_){var e=new DI(this.q_,this.U_,this.Q_,this.K_,this.metadata,null);return this.W_.fromFirestore(e,t)}return this.U_.D_(this.K_.En(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.K_){var n=this.K_.data().field(OI("DocumentSnapshot.get",t));if(null!==n)return this.U_.D_(n,e.serverTimestamps)}},e}(EI),DI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(sy.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(PI),RI=function(){function t(t,e,n,r){this.q_=t,this.U_=e,this.J_=r,this.metadata=new tA(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.J_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.J_.docs.forEach((function(r){t.call(e,new DI(n.q_,n.U_,r.key,r,new tA(n.J_.ee.has(r.key),n.J_.fromCache),n.query.W_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.J_.se)throw new Eb(Cb.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Y_&&this.X_===e||(this.Y_=function(t,e){if(t.J_.te.W()){var n=0;return t.J_.docChanges.map((function(e){return{type:"added",doc:new DI(t.q_,t.U_,e.doc.key,e.doc,new tA(t.J_.ee.has(e.doc.key),t.J_.fromCache),t.query.W_),oldIndex:-1,newIndex:n++}}))}var r=t.J_.te;return t.J_.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new DI(t.q_,t.U_,e.doc.key,e.doc,new tA(t.J_.ee.has(e.doc.key),t.J_.fromCache),t.query.W_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:NI(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.X_=e),this.Y_},t}();function NI(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bb()}}function jI(t,e){return t instanceof PI&&e instanceof PI?t.q_===e.q_&&t.Q_.isEqual(e.Q_)&&(null===t.K_?null===e.K_:t.K_.isEqual(e.K_))&&t.W_===e.W_:t instanceof RI&&e instanceof RI&&t.q_===e.q_&&ax(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.J_.isEqual(e.J_)}var LI=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(sy.c)(e,t),e.prototype.x_=function(t){return new pI(t)},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return new BI(this.firestore,null,e)},e}(kI);function MI(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=iI(t,BI);var o=iI(t.firestore,II),a=sx(o);return e instanceof vI&&(e=e.o_),VI(o,("string"==typeof e||e instanceof TI?yx(a,"updateDoc",t.Q_,e,n,r):vx(a,"updateDoc",t.Q_,e)).tf(t.Q_,Gk.exists(!0)))}function FI(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof vI&&(t=t.o_);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||tE(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(tE(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof BI)c=iI(t.firestore,II),l=mC(t.Q_.path),u={next:function(e){i[s]&&i[s](UI(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=iI(t,zI);c=iI(d.firestore,II),l=d.Z_;var p=new LI(c);u={next:function(t){i[s]&&i[s](new RI(c,p,d,t))},error:i[s+1],complete:i[s+2]},tx(t.Z_)}return function(t,e,n,r){var i=this,o=new JT(r),a=new FO(e,o,n);return t.di.Ri((function(){return Object(sy.b)(i,void 0,void 0,(function(){var e;return Object(sy.d)(this,(function(n){switch(n.label){case 0:return e=RO,[4,Fx(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.r_(),t.di.Ri((function(){return Object(sy.b)(i,void 0,void 0,(function(){var e;return Object(sy.d)(this,(function(n){switch(n.label){case 0:return e=NO,[4,Fx(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(Gx(c),l,h,u)}function VI(t,e){return function(t,e){var n=this,r=new XC;return t.di.Ri((function(){return Object(sy.b)(n,void 0,void 0,(function(){var n;return Object(sy.d)(this,(function(i){switch(i.label){case 0:return n=aT,[4,Mx(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Gx(t),e)}function UI(t,e,n){var r=n.docs.get(e.Q_),i=new LI(t);return new PI(t,i,e.Q_,r,new tA(n.hasPendingWrites,n.fromCache),e.W_)}var BI=function(){function t(t,e,n){this.W_=e,this.Q_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"ef",{get:function(){return this.Q_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.Q_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Q_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ex(this.firestore,this.W_,this.Q_.path.q())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.Q_)},t}(),zI=function(){function t(t,e,n){this.W_=e,this.Z_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.Z_)},t}(),qI=function(){};function HI(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.nf(t)}return t}var WI=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).sf=e,i.rf=n,i.cf=r,i.type="where",i}return Object(sy.c)(e,t),e.prototype.nf=function(t){var e=sx(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.tt()){if("array-contains"===o||"array-contains-any"===o)throw new Eb(Cb.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){XI(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(JI(r,t,l[c]));s={arrayValue:{values:u}}}else s=JI(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||XI(a,o),s=mx(n,"where",a,"in"===o||"not-in"===o);var h=PC.create(i,o,s);return function(t,e){if(e.An()){var n=wC(t);if(null!==n&&!n.isEqual(e.field))throw new Eb(Cb.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=bC(t);null!==r&&$I(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Eb(Cb.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.Z_,0,e,t.firestore.A_,this.sf,this.rf,this.cf);return new zI(t.firestore,t.W_,function(t,e){var n=t.filters.concat([e]);return new vC(t.path,t.collectionGroup,t.Tn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.Z_,n))},e}(qI),GI=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).sf=e,r.uf=n,r.type="orderBy",r}return Object(sy.c)(e,t),e.prototype.nf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Eb(Cb.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Eb(Cb.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new HC(e,n);return function(t,e){if(null===bC(t)){var n=wC(t);null!==n&&$I(0,n,e.field)}}(t,r),r}(t.Z_,this.sf,this.uf);return new zI(t.firestore,t.W_,function(t,e){var n=t.Tn.concat([e]);return new vC(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.Z_,e))},e}(qI),KI=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.af=n,i.hf=r,i}return Object(sy.c)(e,t),e.prototype.nf=function(t){return new zI(t.firestore,t.W_,SC(t.Z_,this.af,this.hf))},e}(qI),QI=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.lf=n,i._f=r,i}return Object(sy.c)(e,t),e.prototype.nf=function(t){var e=ZI(t,this.type,this.lf,this._f);return new zI(t.firestore,t.W_,function(t,e){return new vC(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.Z_,e))},e}(qI),YI=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.lf=n,i._f=r,i}return Object(sy.c)(e,t),e.prototype.nf=function(t){var e=ZI(t,this.type,this.lf,this._f);return new zI(t.firestore,t.W_,function(t,e){return new vC(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.Z_,e))},e}(qI);function ZI(t,e,n,r){if(n[0]instanceof vI&&(n[0]=n[0].o_),n[0]instanceof EI)return function(t,e,n,r,i){if(!r)throw new Eb(Cb.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=CC(t);a<s.length;a++){var u=s[a];if(u.field.tt())o.push(Ww(e,r.key));else{var c=r.field(u.field);if(Rw(c))throw new Eb(Cb.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.J();throw new Eb(Cb.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new UC(o,i)}(t.Z_,t.firestore.A_,e,n[0].K_,r);var i=sx(t.firestore);return function(t,e,n,r,i,o){var a=t.Tn;if(i.length>a.length)throw new Eb(Cb.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.tt()){if("string"!=typeof c)throw new Eb(Cb.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!kC(t)&&-1!==c.indexOf("/"))throw new Eb(Cb.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Fb.Y(c));if(!Bb.ot(l))throw new Eb(Cb.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Bb(l);s.push(Ww(e,h))}else{var f=mx(n,r,c);s.push(f)}}return new UC(s,o)}(t.Z_,t.firestore.A_,i,e,n,r)}function JI(t,e,n){if(n instanceof vI&&(n=n.o_),"string"==typeof n){if(""===n)throw new Eb(Cb.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!kC(e)&&-1!==n.indexOf("/"))throw new Eb(Cb.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Fb.Y(n));if(!Bb.ot(r))throw new Eb(Cb.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ww(t,new Bb(r))}if(n instanceof BI)return Ww(t,n.Q_);throw new Eb(Cb.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+rI(n)+".")}function XI(t,e){if(!Array.isArray(t)||0===t.length)throw new Eb(Cb.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Eb(Cb.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function $I(t,e,n){if(!n.isEqual(e))throw new Eb(Cb.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function tx(t){if(_C(t)&&0===t.Tn.length)throw new Eb(Cb.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ex=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,mC(r))||this).firestore=e,i.ef=r,i.type="collection",i}return Object(sy.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Z_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Z_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.ef.q();return t.W()?null:new BI(this.firestore,null,new Bb(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.ef)},e}(zI);function nx(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t instanceof vI&&(t=t.o_),XT("collection","path",e),t instanceof gI){var i=Fb.Y.apply(Fb,Object(sy.g)([e],n));return nI(i),new ex(t,null,i)}if(!(t instanceof BI||t instanceof ex))throw new Eb(Cb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=Fb.Y.apply(Fb,Object(sy.g)([t.path],n)).child(Fb.Y(e));return nI(o),new ex(t.firestore,null,o)}function rx(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t instanceof vI&&(t=t.o_),1===arguments.length&&(e=Pb.D()),XT("doc","path",e),t instanceof gI){var i=Fb.Y.apply(Fb,Object(sy.g)([e],n));return eI(i),new BI(t,null,new Bb(i))}if(!(t instanceof BI||t instanceof ex))throw new Eb(Cb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=t.ef.child(Fb.Y.apply(Fb,Object(sy.g)([e],n)));return eI(o),new BI(t.firestore,t instanceof ex?t.W_:null,new Bb(o))}var ix=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(sy.c)(e,t),e.prototype.x_=function(t){return new pI(t)},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return new BI(this.firestore,null,e)},e}(kI);function ox(t,e){return t instanceof vI&&(t=t.o_),e instanceof vI&&(e=e.o_),(t instanceof BI||t instanceof ex)&&(e instanceof BI||e instanceof ex)&&t.firestore===e.firestore&&t.path===e.path&&t.W_===e.W_}function ax(t,e){return t instanceof vI&&(t=t.o_),e instanceof vI&&(e=e.o_),t instanceof zI&&e instanceof zI&&t.firestore===e.firestore&&OC(t.Z_,e.Z_)&&t.W_===e.W_}function sx(t){var e=t.b_(),n=$C(t.A_);return new dx(t.A_,!!e.ignoreUndefinedProperties,n)}var ux=/^__.*__$/,cx=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.tf=function(t,e){var n=[];return n.push(null!==this.en?new eC(t,this.data,this.en,e):new tC(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new rC(t,this.fieldTransforms)),n},t}(),lx=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.tf=function(t,e){var n=[new eC(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new rC(t,this.fieldTransforms)),n},t}();function hx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bb()}}var fx=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ff(),this.fieldTransforms=i||[],this.en=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u_",{get:function(){return this.settings.u_},enumerable:!1,configurable:!0}),t.prototype.df=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},t.prototype.wf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.df({path:n,l_:!1});return r.Ef(t),r},t.prototype.Tf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.df({path:n,l_:!1});return r.ff(),r},t.prototype.If=function(t){return this.df({path:void 0,l_:!0})},t.prototype.a_=function(t){return Sx(t,this.settings.methodName,this.settings.mf||!1,this.path,this.settings.h_)},t.prototype.contains=function(t){return void 0!==this.en.find((function(e){return t.j(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.j(e.field)}))},t.prototype.ff=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Ef(this.path.get(t))},t.prototype.Ef=function(t){if(0===t.length)throw this.a_("Document fields must not be empty");if(hx(this.u_)&&ux.test(t))throw this.a_('Document fields cannot begin and end with "__"')},t}(),dx=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||$C(t)}return t.prototype.Af=function(t,e,n,r){return void 0===r&&(r=!1),new fx({u_:t,methodName:e,h_:n,path:Ub.X(),l_:!1,mf:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function px(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Af(o.merge||o.mergeFields?2:0,e,n,i);wx("Data must be an object, but it was:",a,r);var s,u,c=_x(r,a);if(o.merge)s=new qk(a.en),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=kx(e,f[h],n);if(!a.contains(d))throw new Eb(Cb.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Ox(l,d)||l.push(d)}s=new qk(l),u=a.fieldTransforms.filter((function(t){return s.un(t.field)}))}else s=null,u=a.fieldTransforms;return new cx(new uC(c),s,u)}function vx(t,e,n,r){var i=t.Af(1,e,n);wx("Data must be an object, but it was:",i,r);var o=[],a=new cC;Pw(r,(function(t,r){var s=Ex(e,t,n);r instanceof vI&&(r=r.o_);var u=i.Tf(s);if(r instanceof sI)o.push(s);else{var c=gx(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new qk(o);return new lx(a.hn(),s,i.fieldTransforms)}function yx(t,e,n,r,i,o){var a=t.Af(1,e,n),s=[kx(e,r,n)],u=[i];if(o.length%2!=0)throw new Eb(Cb.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(kx(e,o[c])),u.push(o[c+1]);for(var l=[],h=new cC,f=s.length-1;f>=0;--f)if(!Ox(l,s[f])){var d=s[f],p=u[f];p instanceof vI&&(p=p.o_);var v=a.Tf(d);if(p instanceof sI)l.push(d);else{var y=gx(p,v);null!=y&&(l.push(d),h.set(d,y))}}var m=new qk(l);return new lx(h.hn(),m,a.fieldTransforms)}function mx(t,e,n,r){return void 0===r&&(r=!1),gx(n,t.Af(r?4:3,e))}function gx(t,e){if(t instanceof vI&&(t=t.o_),bx(t))return wx("Unsupported field value:",e,t),_x(t,e);if(t instanceof aI)return function(t,e){if(!hx(e.u_))throw e.a_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.a_(t._methodName+"() is not currently supported inside arrays");var n=t.c_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.settings.l_&&4!==e.u_)throw e.a_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=gx(o[i],e.If(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof vI&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return nk(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=jb.fromDate(t);return{timestampValue:rk(e.serializer,n)}}if(t instanceof jb){var r=new jb(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:rk(e.serializer,r)}}if(t instanceof dI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof pI)return{bytesValue:ik(e.serializer,t.E_)};if(t instanceof BI){var i=e.t,o=t.firestore.A_;if(!o.isEqual(i))throw e.a_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:sk(t.firestore.A_||e.t,t.Q_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.a_("Unsupported field value: "+rI(t))}(t,e)}function _x(t,e){var n={};return Dw(t)?e.path&&e.path.length>0&&e.en.push(e.path):Pw(t,(function(t,r){var i=gx(r,e.wf(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function bx(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof jb||t instanceof dI||t instanceof pI||t instanceof BI||t instanceof aI)}function wx(t,e,n){if(!bx(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=rI(n);throw e.a_("an object"===r?t+" a custom object":t+" "+r)}}function kx(t,e,n){if(e instanceof vI&&(e=e.o_),e instanceof TI)return e.j_;if("string"==typeof e)return Ex(t,e);throw Sx("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Cx=new RegExp("[~\\*/\\[\\]]");function Ex(t,e,n){if(e.search(Cx)>=0)throw Sx("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(TI.bind.apply(TI,Object(sy.g)([void 0],e.split("."))))).j_}catch(r){throw Sx("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Sx(t,e,n,r,i){var o=r&&!r.W(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Eb(Cb.INVALID_ARGUMENT,(s+=". ")+t+u)}function Ox(t,e){return t.some((function(t){return t.isEqual(e)}))}var Tx=function(){function t(t){this.Mu=t,this.Rf=new Map,this.mutations=[],this.Pf=!1,this.gf=null,this.yf=new Set}return t.prototype.Vf=function(t){return Object(sy.b)(this,void 0,void 0,(function(){var e,n=this;return Object(sy.d)(this,(function(r){switch(r.label){case 0:if(this.pf(),this.mutations.length>0)throw new Eb(Cb.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(sy.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Object(sy.d)(this,(function(u){switch(u.label){case 0:return n=kb(t),r=dk(n.serializer)+"/documents",i={documents:e.map((function(t){return ck(n.serializer,t)}))},[4,n.Vu("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){wb(!!e.found);var n=lk(t,e.found.name),r=ak(e.found.updateTime),i=new uC({mapValue:{fields:e.found.fields}});return new fC(n,r,i,{})}(t,e):"missing"in e?function(t,e){wb(!!e.missing),wb(!!e.readTime);var n=lk(t,e.missing),r=ak(e.readTime);return new dC(n,r)}(t,e):bb()}(n.serializer,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());wb(!!e),s.push(e)})),s)]}}))}))}(this.Mu,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof dC||t instanceof fC?n.vf(t):bb()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.tf(t,this.rn(t))),this.yf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.tf(t,this.bf(t)))}catch(t){this.gf=t}this.yf.add(t.toString())},t.prototype.delete=function(t){this.write([new aC(t,this.rn(t))]),this.yf.add(t.toString())},t.prototype.commit=function(){return Object(sy.b)(this,void 0,void 0,(function(){var t,e=this;return Object(sy.d)(this,(function(n){switch(n.label){case 0:if(this.pf(),this.gf)throw this.gf;return t=this.Rf,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Bb.st(n);e.mutations.push(new sC(r,e.rn(r)))})),[4,function(t,e){return Object(sy.b)(this,void 0,void 0,(function(){var n,r,i;return Object(sy.d)(this,(function(o){switch(o.label){case 0:return n=kb(t),r=dk(n.serializer)+"/documents",i={writes:e.map((function(t){return yk(n.serializer,t)}))},[4,n.yu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Mu,this.mutations)];case 1:return n.sent(),this.Pf=!0,[2]}}))}))},t.prototype.vf=function(t){var e;if(t instanceof fC)e=t.version;else{if(!(t instanceof dC))throw bb();e=Lb.min()}var n=this.Rf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Eb(Cb.ABORTED,"Document version changed between two reads.")}else this.Rf.set(t.key.toString(),e)},t.prototype.rn=function(t){var e=this.Rf.get(t.toString());return!this.yf.has(t.toString())&&e?Gk.updateTime(e):Gk.on()},t.prototype.bf=function(t){var e=this.Rf.get(t.toString());if(!this.yf.has(t.toString())&&e){if(e.isEqual(Lb.min()))throw new Eb(Cb.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gk.updateTime(e)}return Gk.exists(!0)},t.prototype.write=function(t){this.pf(),this.mutations=this.mutations.concat(t)},t.prototype.pf=function(){},t}(),Ix=function(){function t(t,e,n,r){this.di=t,this.Mu=e,this.updateFunction=n,this.Ti=r,this.Sf=5,this.Si=new aE(this.di,"transaction_retry")}return t.prototype.run=function(){this.Df()},t.prototype.Df=function(){var t=this;this.Si.Bs((function(){return Object(sy.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(sy.d)(this,(function(r){return t=new Tx(this.Mu),(e=this.Cf(t))&&e.then((function(e){n.di.Ri((function(){return t.commit().then((function(){n.Ti.resolve(e)})).catch((function(t){n.Nf(t)}))}))})).catch((function(t){n.Nf(t)})),[2]}))}))}))},t.prototype.Cf=function(t){try{var e=this.updateFunction(t);return!zb(e)&&e.catch&&e.then?e:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ti.reject(t),null}},t.prototype.Nf=function(t){var e=this;this.Sf>0&&this.xf(t)?(this.Sf-=1,this.di.Ri((function(){return e.Df(),Promise.resolve()}))):this.Ti.reject(t)},t.prototype.xf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ew(e)}return!1},t}(),xx=function(){function t(t,e,n){var r=this;this.credentials=t,this.di=e,this.Fl=n,this.user=db.UNAUTHENTICATED,this.clientId=Pb.D(),this.Ff=function(){},this.g=new XC,this.credentials.A((function(t){yb("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.Ff(t)),r.g.resolve()}))}return t.prototype.getConfiguration=function(){return Object(sy.b)(this,void 0,void 0,(function(){return Object(sy.d)(this,(function(t){switch(t.label){case 0:return[4,this.g.promise];case 1:return[2,(t.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,qh:100})]}}))}))},t.prototype.Of=function(t){var e=this;this.Ff=t,this.g.promise.then((function(){return e.Ff(e.user)}))},t.prototype.Mf=function(){if(this.di.Ci)throw new Eb(Cb.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.di.Oi();var e=new XC;return this.di.Ni((function(){return Object(sy.b)(t,void 0,void 0,(function(){var t,n;return Object(sy.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.kf?[4,this.kf.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.$f?[4,this.$f.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),e.resolve(),[3,6];case 5:return t=r.sent(),n=bE(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function Ax(t,e){return Object(sy.b)(this,void 0,void 0,(function(){var n,r=this;return Object(sy.d)(this,(function(i){switch(i.label){case 0:return t.di.Li(),yb("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.Of((function(n){return t.di.Mi((function(){return Object(sy.b)(r,void 0,void 0,(function(){return Object(sy.d)(this,(function(t){switch(t.label){case 0:return[4,zS(e.Ou,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.rc((function(){return t.terminate()})),t.$f=e,[2]}}))}))}function Px(t,e){return Object(sy.b)(this,void 0,void 0,(function(){var n,r;return Object(sy.d)(this,(function(i){switch(i.label){case 0:return t.di.Li(),[4,Dx(t)];case 1:return n=i.sent(),yb("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.Of((function(n){return t.di.Mi((function(){return function(t,e){return Object(sy.b)(this,void 0,void 0,(function(){var n,r;return Object(sy.d)(this,(function(i){switch(i.label){case 0:return(n=kb(t)).di.Li(),yb("RemoteStore","RemoteStore received new credentials"),r=pO(n),n.Bu.add(3),[4,sO(n)];case 1:return i.sent(),r&&n.Ku.set("Unknown"),[4,n.ku.s_(e)];case 2:return i.sent(),n.Bu.delete(3),[4,aO(n)];case 3:return i.sent(),[2]}}))}))}(e.$h,n)}))})),t.kf=e,[2]}}))}))}function Dx(t){return Object(sy.b)(this,void 0,void 0,(function(){return Object(sy.d)(this,(function(e){switch(e.label){case 0:return t.$f?[3,2]:(yb("FirestoreClient","Using default OfflineComponentProvider"),[4,Ax(t,new KT)]);case 1:e.sent(),e.label=2;case 2:return[2,t.$f]}}))}))}function Rx(t){return Object(sy.b)(this,void 0,void 0,(function(){return Object(sy.d)(this,(function(e){switch(e.label){case 0:return t.kf?[3,2]:(yb("FirestoreClient","Using default OnlineComponentProvider"),[4,Px(t,new ZT)]);case 1:e.sent(),e.label=2;case 2:return[2,t.kf]}}))}))}function Nx(t){return Dx(t).then((function(t){return t.persistence}))}function jx(t){return Dx(t).then((function(t){return t.Ou}))}function Lx(t){return Rx(t).then((function(t){return t.$h}))}function Mx(t){return Rx(t).then((function(t){return t.va}))}function Fx(t){return Object(sy.b)(this,void 0,void 0,(function(){var e,n;return Object(sy.d)(this,(function(r){switch(r.label){case 0:return[4,Rx(t)];case 1:return e=r.sent(),[2,((n=e.Lh).ta=rT.bind(null,e.va),n.sa=oT.bind(null,e.va),n)]}}))}))}function Vx(t,e,n){var r=this;void 0===n&&(n={});var i=new XC;return t.di.Ri((function(){return Object(sy.b)(r,void 0,void 0,(function(){var r;return Object(sy.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new JT({next:function(o){e.Ri((function(){return NO(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Eb(Cb.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Eb(Cb.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new FO(mC(n.path),o,{includeMetadataChanges:!0,ha:!0});return RO(t,a)},[4,Fx(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.di,e,n,i])]}}))}))})),i.promise}function Ux(t,e,n){var r=this;void 0===n&&(n={});var i=new XC;return t.di.Ri((function(){return Object(sy.b)(r,void 0,void 0,(function(){var r;return Object(sy.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new JT({next:function(n){e.Ri((function(){return NO(t,a)})),n.fromCache&&"server"===r.source?i.reject(new Eb(Cb.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new FO(n,o,{includeMetadataChanges:!0,ha:!0});return RO(t,a)},[4,Fx(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.di,e,n,i])]}}))}))})),i.promise}var Bx=function(){function t(t,e){this.q_=t,this.Lf=e,this.Bf=[],this.qf=!1,this.Uf=sx(t)}return t.prototype.set=function(t,e,n){this.Qf();var r=zx(t,this.q_),i=uA(r.W_,e,n),o=px(this.Uf,"WriteBatch.set",r.Q_,i,null!==r.W_,n);return this.Bf=this.Bf.concat(o.tf(r.Q_,Gk.on())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Qf();var o,a=zx(t,this.q_);return e instanceof vI&&(e=e.o_),o="string"==typeof e||e instanceof TI?yx(this.Uf,"WriteBatch.update",a.Q_,e,n,r):vx(this.Uf,"WriteBatch.update",a.Q_,e),this.Bf=this.Bf.concat(o.tf(a.Q_,Gk.exists(!0))),this},t.prototype.delete=function(t){this.Qf();var e=zx(t,this.q_);return this.Bf=this.Bf.concat(new aC(e.Q_,Gk.on())),this},t.prototype.commit=function(){return this.Qf(),this.qf=!0,this.Bf.length>0?this.Lf(this.Bf):Promise.resolve()},t.prototype.Qf=function(){if(this.qf)throw new Eb(Cb.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function zx(t,e){if(t instanceof vI&&(t=t.o_),t.firestore!==e)throw new Eb(Cb.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var qx=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).q_=e,r}return Object(sy.c)(e,t),e.prototype.get=function(e){var n=this,r=zx(e,this.q_),i=new LI(this.q_);return t.prototype.get.call(this,e).then((function(t){return new PI(n.q_,i,r.Q_,t.K_,new tA(!1,!1),r.W_)}))},e}(function(){function t(t,e){this.q_=t,this.Kf=e,this.Uf=sx(t)}return t.prototype.get=function(t){var e=this,n=zx(t,this.q_),r=new ix(this.q_);return this.Kf.Vf([n.Q_]).then((function(t){if(!t||1!==t.length)return bb();var i=t[0];if(i instanceof dC)return new EI(e.q_,r,n.Q_,null,n.W_);if(i instanceof fC)return new EI(e.q_,r,i.key,i,n.W_);throw bb()}))},t.prototype.set=function(t,e,n){var r=zx(t,this.q_),i=uA(r.W_,e,n),o=px(this.Uf,"Transaction.set",r.Q_,i,null!==r.W_,n);return this.Kf.set(r.Q_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=zx(t,this.q_);return e instanceof vI&&(e=e.o_),o="string"==typeof e||e instanceof TI?yx(this.Uf,"Transaction.update",a.Q_,e,n,r):vx(this.Uf,"Transaction.update",a.Q_,e),this.Kf.update(a.Q_,o),this},t.prototype.delete=function(t){var e=zx(t,this.q_);return this.Kf.delete(e.Q_),this},t}()),Hx=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){AI(t=iI(t,II));var n=Gx(t),r=t.b_(),i=new ZT;return xI(n,i,new QT(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){AI(t=iI(t,II));var e=Gx(t),n=t.b_(),r=new ZT;return xI(e,r,new YT(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.g_&&!t.y_)throw new Eb(Cb.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new XC;return t.G_.Ni((function(){return Object(sy.b)(e,void 0,void 0,(function(){var e;return Object(sy.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(sy.b)(this,void 0,void 0,(function(){return Object(sy.d)(this,(function(e){switch(e.label){case 0:return sE.Gs()?[4,sE.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(VS(t.A_,t.T_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.o_)},t}(),Wx=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Wf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof fb||(i.jf=e),i}return Object(sy.c)(e,t),Object.defineProperty(e.prototype,"A_",{get:function(){return this.o_.A_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.v_()),t)).merge,this.o_.p_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.v_().host&&gb("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.di.enqueue((function(){return Object(sy.b)(e,void 0,void 0,(function(){var e,n;return Object(sy.d)(this,(function(r){switch(r.label){case 0:return[4,Nx(t)];case 1:return e=r.sent(),[4,Lx(t)];case 2:return n=r.sent(),[2,(e.oc(!0),function(t){var e=kb(t);return e.Bu.delete(0),aO(e)}(n))]}}))}))}))}(Gx(iI(this.o_,II)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.di.enqueue((function(){return Object(sy.b)(e,void 0,void 0,(function(){var e,n;return Object(sy.d)(this,(function(r){switch(r.label){case 0:return[4,Nx(t)];case 1:return e=r.sent(),[4,Lx(t)];case 2:return n=r.sent(),[2,(e.oc(!1),function(t){return Object(sy.b)(this,void 0,void 0,(function(){var e;return Object(sy.d)(this,(function(n){switch(n.label){case 0:return(e=kb(t)).Bu.add(0),[4,sO(e)];case 1:return n.sent(),e.Ku.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Gx(iI(this.o_,II)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&tI("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Wf.enableMultiTabIndexedDbPersistence(this):this.Wf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Wf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new XC;return t.di.Ri((function(){return Object(sy.b)(e,void 0,void 0,(function(){var e;return Object(sy.d)(this,(function(r){switch(r.label){case 0:return e=fT,[4,Mx(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Gx(iI(this.o_,II)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new JT(e);return t.di.Ri((function(){return Object(sy.b)(n,void 0,void 0,(function(){var e;return Object(sy.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){kb(t).Zu.add(e),e.next()},[4,Fx(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.di.Ri((function(){return Object(sy.b)(n,void 0,void 0,(function(){var e;return Object(sy.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){kb(t).Zu.delete(e)},[4,Fx(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Gx(t=iI(t,II)),tE(e)?e:{next:e})}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.jf)throw new Eb(Cb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.jf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new aA(this,nx(this.o_,t))}catch(t){throw Jx(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Zx(this,rx(this.o_,t))}catch(t){throw Jx(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new rA(this,function(t,e){if(t=iI(t,gI),XT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Eb(Cb.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new zI(t,null,function(t){return new vC(Fb.X(),t)}(e))}(this.o_,t))}catch(t){throw Jx(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new XC;return t.di.Ri((function(){return Object(sy.b)(n,void 0,void 0,(function(){var n;return Object(sy.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return Rx(t).then((function(t){return t.Mu}))}(t)];case 1:return n=i.sent(),new Ix(t.di,n,e,r).run(),[2]}}))}))})),r.promise}(Gx(t),(function(n){return e(new qx(t,n))}))}(this.o_,(function(n){return t(new Qx(e,n))}))},e.prototype.batch=function(){var t=this;return Gx(this.o_),new Yx(new Bx(this.o_,(function(e){return VI(t.o_,e)})))},e}(vI);function Gx(t){return t.z_||Kx(t),t.z_.Mf(),t.z_}function Kx(t){var e=t.b_(),n=function(t,e,n){return new hb(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.A_,t.T_,e);t.z_=new xx(t.R_,t.G_,n)}var Qx=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(sy.c)(e,t),e.prototype.get=function(t){var e=this,n=sA(t);return this.o_.get(n).then((function(t){return new eA(e.q_,t)}))},e.prototype.set=function(t,e,n){var r=sA(t);return n?($T("Transaction.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=sA(t);return 2===arguments.length?this.o_.update(a,e):(r=this.o_).update.apply(r,Object(sy.g)([a,e,n],i)),this},e.prototype.delete=function(t){var e=sA(t);return this.o_.delete(e),this},e}(vI),Yx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(sy.c)(e,t),e.prototype.set=function(t,e,n){var r=sA(t);return n?($T("WriteBatch.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=sA(t);return 2===arguments.length?this.o_.update(a,e):(r=this.o_).update.apply(r,Object(sy.g)([a,e,n],i)),this},e.prototype.delete=function(t){var e=sA(t);return this.o_.delete(e),this},e.prototype.commit=function(){return this.o_.commit()},e}(vI),Zx=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.U_=new CI(e),r}return Object(sy.c)(e,t),e.Gf=function(t,n,r){if(t.length%2!=0)throw new Eb(Cb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.J()+" has "+t.length);return new e(n,new BI(n.o_,r,new Bb(t)))},e.B_=function(t,n,r){return new e(n,new BI(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new aA(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new aA(this.firestore,nx(this.o_,t))}catch(t){throw Jx(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof vI&&(t=t.o_),t instanceof BI&&ox(this.o_,t)},e.prototype.set=function(t,e){e=$T("DocumentReference.set",e);try{return function(t,e,n){t=iI(t,BI);var r=iI(t.firestore,II),i=uA(t.W_,e,n);return VI(r,px(sx(r),"setDoc",t.Q_,i,null!==t.W_,n).tf(t.Q_,Gk.on()))}(this.o_,t,e)}catch(t){throw Jx(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?MI(this.o_,t):MI.apply(void 0,Object(sy.g)([this.o_,t,e],n))}catch(t){throw Jx(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return VI(iI((t=this.o_).firestore,II),[new aC(t.Q_,Gk.on())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Xx(e),i=$x(e,(function(e){return new eA(t.firestore,new PI(t.firestore.o_,t.U_,e.Q_,e.K_,e.metadata,t.o_.W_))}));return FI(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=iI(t,BI);var e=iI(t.firestore,II),n=Gx(e),r=new LI(e);return function(t,e){var n=this,r=new XC;return t.di.Ri((function(){return Object(sy.b)(n,void 0,void 0,(function(){var n;return Object(sy.d)(this,(function(i){switch(i.label){case 0:return n=function(t){function e(e,n,r){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e,n){return Object(sy.b)(this,void 0,void 0,(function(){var r,i,o;return Object(sy.d)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(t,e){var n=kb(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Bc.cs(t,e)}))}(t,e)];case 1:return(r=a.sent())instanceof fC?n.resolve(r):r instanceof dC?n.resolve(null):n.reject(new Eb(Cb.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=a.sent(),o=bE(i,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}}))}))})),[4,jx(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.Q_).then((function(n){return new PI(e,r,t.Q_,n,new tA(n instanceof fC&&n.an,!0),t.W_)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){t=iI(t,BI);var e=iI(t.firestore,II);return Vx(Gx(e),t.Q_,{source:"server"}).then((function(n){return UI(e,t,n)}))}(this.o_):function(t){t=iI(t,BI);var e=iI(t.firestore,II);return Vx(Gx(e),t.Q_).then((function(n){return UI(e,t,n)}))}(this.o_)).then((function(t){return new eA(e.firestore,new PI(e.firestore.o_,e.U_,t.Q_,t.K_,t.metadata,e.o_.W_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(vI);function Jx(t,e,n){return t.message=t.message.replace(e,n),t}function Xx(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!tE(r))return r}return{}}function $x(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=tE(t[0])?t[0]:tE(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var tA=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),eA=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(sy.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Zx(this.q_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return jI(this.o_,t.o_)},e}(vI),nA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(sy.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(eA),rA=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.U_=new CI(e),r}return Object(sy.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,HI(this.o_,function(t,e,n){var r=e,i=OI("where",t);return new WI(i,r,n)}(t,n,r)))}catch(t){throw Jx(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,HI(this.o_,function(t,e){void 0===e&&(e="asc");var n=e,r=OI("orderBy",t);return new GI(r,n)}(t,n)))}catch(t){throw Jx(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,HI(this.o_,function(t){return oI("limit",t),new KI("limit",t,"F")}(t)))}catch(t){throw Jx(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,HI(this.o_,function(t){return oI("limitToLast",t),new KI("limitToLast",t,"L")}(t)))}catch(t){throw Jx(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,HI(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new QI("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Jx(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,HI(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new QI("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Jx(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,HI(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new YI("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Jx(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,HI(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new YI("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Jx(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return ax(this.o_,t.o_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=iI(t,zI);var e=iI(t.firestore,II),n=Gx(e),r=new LI(e);return function(t,e){var n=this,r=new XC;return t.di.Ri((function(){return Object(sy.b)(n,void 0,void 0,(function(){var n;return Object(sy.d)(this,(function(i){switch(i.label){case 0:return n=function(t){function e(e,n,r){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e,n){return Object(sy.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Object(sy.d)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,YS(t,e,!0)];case 1:return r=c.sent(),i=new $O(e,r.Kc),o=i.bh(r.documents),a=i.Zn(o,!1),n.resolve(a.snapshot),[3,3];case 2:return s=c.sent(),u=bE(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))})),[4,jx(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.Z_).then((function(n){return new RI(e,r,t,n)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){t=iI(t,zI);var e=iI(t.firestore,II),n=Gx(e),r=new LI(e);return Ux(n,t.Z_,{source:"server"}).then((function(n){return new RI(e,r,t,n)}))}(this.o_):function(t){t=iI(t,zI);var e=iI(t.firestore,II),n=Gx(e),r=new LI(e);return tx(t.Z_),Ux(n,t.Z_).then((function(n){return new RI(e,r,t,n)}))}(this.o_)).then((function(t){return new oA(e.firestore,new RI(e.firestore.o_,e.U_,e.o_,t.J_))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Xx(e),i=$x(e,(function(e){return new oA(t.firestore,new RI(t.firestore.o_,t.U_,t.o_,e.J_))}));return FI(this.o_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(vI),iA=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(sy.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new nA(this.q_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),e}(vI),oA=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(sy.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new rA(this.q_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map((function(e){return new nA(t.q_,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map((function(t){return new iA(e.q_,t)}))},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach((function(r){t.call(e,new nA(n.q_,r))}))},e.prototype.isEqual=function(t){return jI(this.o_,t.o_)},e}(vI),aA=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.o_=n,r}return Object(sy.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.o_.parent;return t?new Zx(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Zx(this.firestore,void 0===t?rx(this.o_):rx(this.o_,t))}catch(t){throw Jx(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=iI(t.firestore,II),r=rx(t),i=uA(t.W_,e);return VI(n,px(sx(t.firestore),"addDoc",r.Q_,i,null!==t.W_,{}).tf(r.Q_,Gk.exists(!1))).then((function(){return r}))}(this.o_,t).then((function(t){return new Zx(e.firestore,t)}))},e.prototype.isEqual=function(t){return ox(this.o_,t.o_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(rA);function sA(t){return t instanceof vI&&(t=t.o_),iI(t,BI)}function uA(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var cA,lA=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(TI.bind.apply(TI,Object(sy.g)([void 0],e))))||this}return Object(sy.c)(e,t),e.documentId=function(){return new e(Ub.et().J())},e.prototype.isEqual=function(t){return t instanceof vI&&(t=t.o_),t instanceof TI&&this.o_.j_.isEqual(t.j_)},e}(vI),hA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(sy.c)(e,t),e.serverTimestamp=function(){var t=new cI("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new sI("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lI("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new hI("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new fI("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(vI),fA={Firestore:Wx,GeoPoint:dI,Timestamp:jb,Blob:wI,Transaction:Qx,WriteBatch:Yx,DocumentReference:Zx,DocumentSnapshot:eA,Query:rA,QueryDocumentSnapshot:nA,QuerySnapshot:oA,CollectionReference:aA,FieldPath:lA,FieldValue:hA,setLogLevel:function(t){pb.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new lb.a("firestore",(function(t){return function(t,e){return new Wx(t,new II(t,e),new Hx)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},fA)))})(cA=uy.a),cA.registerVersion("@firebase/firestore","2.0.5"),n("tf+s");var dA=new r.q("angularfire2.auth.use-emulator");function pA(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ha.a;return new Gt.a((function(n){var r;return null!=e?e.schedule((function(){r=t.onSnapshot({includeMetadataChanges:!0},n)})):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}}))}(t,e)}function vA(t,e){return pA(t,e).pipe(Object(ie.a)((function(t){return{payload:t,type:"query"}})))}function yA(t,e){return vA(t,e).pipe(Ve(void 0),$a(),Object(ie.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1],i=r.payload.docChanges(),o=i.map((function(t){return{type:t.type,payload:t}}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((function(t,e){var r=i.find((function(e){return e.doc.ref.isEqual(t.ref)})),a=null==n?void 0:n.payload.docs.find((function(e){return e.ref.isEqual(t.ref)}));r&&JSON.stringify(r.doc.metadata)===JSON.stringify(t.metadata)||!r&&a&&JSON.stringify(a.metadata)===JSON.stringify(t.metadata)||o.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})})),o})))}function mA(t,e,n){return yA(t,n).pipe(Ue((function(t,n){return function(t,e,n){return e.forEach((function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return gA(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return gA(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return gA(t,e.oldIndex,1)}return t}(t,e))})),t}(t,n.map((function(t){return t.payload})),e)}),[]),(function(t){return t.lift(new za(void 0,void 0))}),Object(ie.a)((function(t){return t.map((function(t){return{type:t.type,payload:t}}))})))}function gA(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[e,n].concat(o)),r}function _A(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var bA=function(){function t(e,n,r){_classCallCheck(this,t),this.ref=e,this.query=n,this.afs=r}return _createClass(t,[{key:"stateChanges",value:function(t){var e=yA(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(ie.a)((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})))),e.pipe(Ve(void 0),$a(),ue((function(t){var e=_slicedToArray(t,2),n=e[0];return e[1].length>0||!n})),Object(ie.a)((function(t){var e=_slicedToArray(t,2);e[0];return e[1]})),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Ue((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=_A(t);return mA(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return vA(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ie.a)((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign(Object.assign({},e.data()),_defineProperty({},t.idField,e.id)):e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(zt.a)(this.query.get(t)).pipe(Object(rs.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new wA(this.ref.doc(t),this.afs)}}]),t}(),wA=function(){function t(e,n){_classCallCheck(this,t),this.ref=e,this.afs=n}return _createClass(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=TA(this.ref.collection(t),e),r=n.ref,i=n.query;return new bA(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return pA(this.ref,this.afs.schedulers.outsideAngular).pipe(Ve(void 0),$a(),Object(ie.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1];return r.exists?(null==n?void 0:n.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(ie.a)((function(e){var n=e.payload;return t.idField?Object.assign(Object.assign({},n.data()),_defineProperty({},t.idField,n.id)):n.data()})))}},{key:"get",value:function(t){return Object(zt.a)(this.ref.get(t)).pipe(Object(rs.b)(this.afs.schedulers.insideAngular))}}]),t}(),kA=function(){function t(e,n){_classCallCheck(this,t),this.query=e,this.afs=n}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?yA(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ie.a)((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),ue((function(t){return t.length>0})),this.afs.keepUnstableUntilFirst):yA(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Ue((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=_A(t);return mA(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return vA(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ie.a)((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign(_defineProperty({},t.idField,e.id),e.data()):e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(zt.a)(this.query.get(t)).pipe(Object(rs.b)(this.afs.schedulers.insideAngular))}}]),t}(),CA=new r.q("angularfire2.enableFirestorePersistence"),EA=new r.q("angularfire2.firestore.persistenceSettings"),SA=new r.q("angularfire2.firestore.settings"),OA=new r.q("angularfire2.firestore.use-emulator");function TA(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var IA,xA,AA,PA,DA,RA,NA=((PA=function(){function t(e,n,r,i,o,a,s,u,c){_classCallCheck(this,t),this.schedulers=new oy.d(a),this.keepUnstableUntilFirst=Object(oy.h)(this.schedulers);var l=Object(oy.g)(e,a,n);!ay.a.auth&&c&&Object(oy.j)();var h=u,f=_slicedToArray(Object(oy.f)(l.name+".firestore","AngularFirestore",l,(function(){var t=a.runOutsideAngular((function(){return l.firestore()}));return i&&t.settings(i),h&&t.useEmulator.apply(t,_toConsumableArray(h)),r&&!function(t){return"server"===t}(o)?[t,a.runOutsideAngular((function(){try{return Object(zt.a)(t.enablePersistence(s||void 0).then((function(){return!0}),(function(){return!1})))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(Bt.a)(!1)}}))]:[t,Object(Bt.a)(!1)]}),[i,h,r]),2);this.firestore=f[0],this.persistenceEnabled$=f[1]}return _createClass(t,[{key:"collection",value:function(t,e){var n=TA("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run((function(){return r}));return new bA(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new kA(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run((function(){return e}));return new wA(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||PA)(r.Wb(oy.c),r.Wb(oy.b,8),r.Wb(CA,8),r.Wb(SA,8),r.Wb(r.B),r.Wb(r.z),r.Wb(EA,8),r.Wb(OA,8),r.Wb(dA,8))},PA.\u0275prov=Object(r.Jb)({factory:function(){return new PA(Object(r.Wb)(oy.c),Object(r.Wb)(oy.b,8),Object(r.Wb)(CA,8),Object(r.Wb)(SA,8),Object(r.Wb)(r.B),Object(r.Wb)(r.z),Object(r.Wb)(EA,8),Object(r.Wb)(OA,8),Object(r.Wb)(dA,8))},token:PA,providedIn:"any"}),PA),jA=((AA=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:CA,useValue:!0},{provide:EA,useValue:e}]}}}]),t}()).\u0275mod=r.Lb({type:AA}),AA.\u0275inj=r.Kb({factory:function(t){return new(t||AA)},providers:[NA]}),AA),LA=((xA=function(){function t(e){_classCallCheck(this,t),this.noteMaker=e}return _createClass(t,[{key:"resolve",value:function(){return this.noteMaker.fetchPosts()}}]),t}()).\u0275fac=function(t){return new(t||xA)(r.Wb(jd))},xA.\u0275prov=r.Jb({token:xA,factory:xA.\u0275fac}),xA),MA=((IA=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||IA)},IA.\u0275cmp=r.Hb({type:IA,selectors:[["app-home"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Sb(0,"p"),r.pc(1,"home works!"),r.Rb())},styles:[""]}),IA),FA=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new VA(t,this.project))}}]),t}(),VA=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){this.hasSubscription||this.tryNext(t)}},{key:"tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=new Ee.a(this,e,n),i=this.destination;i.add(r);var o=Object(Jt.a)(this,t,void 0,void 0,r);o!==r&&i.add(o)}},{key:"_complete",value:function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}]),n}(Zt.a),UA=((DA=function(){function t(e){_classCallCheck(this,t),this.auth=e}return _createClass(t,[{key:"intercept",value:function(t,e){return this.auth.user.pipe(Ie(1),function t(e,n){return n?function(r){return r.pipe(t((function(t,r){return Object(zt.a)(e(t,r)).pipe(Object(ie.a)((function(e,i){return n(t,e,r,i)})))})))}:function(t){return t.lift(new FA(e))}}((function(n){if(!n)return e.handle(t);var r=t.clone({params:(new bf).set("auth",n.token)});return e.handle(r)})))}}]),t}()).\u0275fac=function(t){return new(t||DA)(r.Wb(rd))},DA.\u0275prov=r.Jb({token:DA,factory:DA.\u0275fac,providedIn:"root"}),DA),BA=[{path:"",pathMatch:"full",redirectTo:"/home"},{path:"home",component:MA},{path:"notes",component:iy,resolve:{notes:LA}}],zA=((RA=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:RA,bootstrap:[tv]}),RA.\u0275inj=r.Kb({factory:function(t){return new(t||RA)},providers:[LA,{provide:ef,useValue:{hasBackdrop:!0}},{provide:$h,useValue:{}},{provide:qf,useClass:UA,multi:!0}],imports:[[Ut,bh,Gp,Kv,oy.a.initializeApp(i),jA,nd,xi.forRoot(BA),Aa,Pp,Up,Rd,df]]}),RA);Ft().bootstrapModule(zA).catch((function(t){return console.error(t)}))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);
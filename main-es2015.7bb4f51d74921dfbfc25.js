(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var o=Object(r.e)(s.value,2),a=o[1],u=this.normalizeInstanceIdentifier(o[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new o(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),s=n("51Dv"),o=n("lJxs"),a=n("Cfvw");function u(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(u((n,r)=>Object(a.a)(t(n,r)).pipe(Object(o.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new c(t,n)))}class c{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new s.a(this,e,n),o=this.destination;o.add(i);const a=Object(r.a)(this,t,void 0,void 0,i);a!==i&&o.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var u=n("3N8a");class c extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new h(c)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("mCNh"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.1.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("51Dv"),i=n("SeVD"),s=n("HDdC");function o(t,e,n,o,a=new r.a(t,n,o)){if(!a.closed)return e instanceof s.a?e.subscribe(a):Object(i.a)(e)(a)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return bs})),n.d(e,"b",(function(){return Xa})),n.d(e,"c",(function(){return Ka})),n.d(e,"d",(function(){return Ga})),n.d(e,"e",(function(){return Wa})),n.d(e,"f",(function(){return $u})),n.d(e,"g",(function(){return Ru})),n.d(e,"h",(function(){return ns})),n.d(e,"i",(function(){return lu})),n.d(e,"j",(function(){return Ao})),n.d(e,"k",(function(){return nu})),n.d(e,"l",(function(){return jo})),n.d(e,"m",(function(){return _n})),n.d(e,"n",(function(){return Ta})),n.d(e,"o",(function(){return X})),n.d(e,"p",(function(){return y})),n.d(e,"q",(function(){return Y})),n.d(e,"r",(function(){return vs})),n.d(e,"s",(function(){return Jo})),n.d(e,"t",(function(){return Zo})),n.d(e,"u",(function(){return eu})),n.d(e,"v",(function(){return pt})),n.d(e,"w",(function(){return Mu})),n.d(e,"x",(function(){return dt})),n.d(e,"y",(function(){return Au})),n.d(e,"z",(function(){return pu})),n.d(e,"A",(function(){return v})),n.d(e,"B",(function(){return Ya})),n.d(e,"C",(function(){return Za})),n.d(e,"D",(function(){return xa})),n.d(e,"E",(function(){return Ro})),n.d(e,"F",(function(){return Po})),n.d(e,"G",(function(){return No})),n.d(e,"H",(function(){return Mo})),n.d(e,"I",(function(){return ar})),n.d(e,"J",(function(){return _})),n.d(e,"K",(function(){return Vu})),n.d(e,"L",(function(){return ea})),n.d(e,"M",(function(){return Eu})),n.d(e,"N",(function(){return Uo})),n.d(e,"O",(function(){return Fo})),n.d(e,"P",(function(){return ra})),n.d(e,"Q",(function(){return St})),n.d(e,"R",(function(){return xs})),n.d(e,"S",(function(){return ju})),n.d(e,"T",(function(){return Fn})),n.d(e,"U",(function(){return M})),n.d(e,"V",(function(){return ct})),n.d(e,"W",(function(){return Mn})),n.d(e,"X",(function(){return Bu})),n.d(e,"Y",(function(){return Tu})),n.d(e,"Z",(function(){return tu})),n.d(e,"ab",(function(){return is})),n.d(e,"bb",(function(){return ba})),n.d(e,"cb",(function(){return sr})),n.d(e,"db",(function(){return lr})),n.d(e,"eb",(function(){return zn})),n.d(e,"fb",(function(){return Cn})),n.d(e,"gb",(function(){return An})),n.d(e,"hb",(function(){return Nn})),n.d(e,"ib",(function(){return Dn})),n.d(e,"jb",(function(){return jn})),n.d(e,"kb",(function(){return Pn})),n.d(e,"lb",(function(){return ma})),n.d(e,"mb",(function(){return zu})),n.d(e,"nb",(function(){return ga})),n.d(e,"ob",(function(){return ya})),n.d(e,"pb",(function(){return kn})),n.d(e,"qb",(function(){return H})),n.d(e,"rb",(function(){return Cs})),n.d(e,"sb",(function(){return zs})),n.d(e,"tb",(function(){return qs})),n.d(e,"ub",(function(){return Is})),n.d(e,"vb",(function(){return pa})),n.d(e,"wb",(function(){return Wt})),n.d(e,"xb",(function(){return N})),n.d(e,"yb",(function(){return xn})),n.d(e,"zb",(function(){return lo})),n.d(e,"Ab",(function(){return yo})),n.d(e,"Bb",(function(){return xo})),n.d(e,"Cb",(function(){return jr})),n.d(e,"Db",(function(){return js})),n.d(e,"Eb",(function(){return to})),n.d(e,"Fb",(function(){return Va})),n.d(e,"Gb",(function(){return xt})),n.d(e,"Hb",(function(){return Nt})),n.d(e,"Ib",(function(){return O})),n.d(e,"Jb",(function(){return T})),n.d(e,"Kb",(function(){return jt})),n.d(e,"Lb",(function(){return Rt})),n.d(e,"Mb",(function(){return Ps})),n.d(e,"Nb",(function(){return Vs})),n.d(e,"Ob",(function(){return Us})),n.d(e,"Pb",(function(){return Fs})),n.d(e,"Qb",(function(){return gn})),n.d(e,"Rb",(function(){return uo})),n.d(e,"Sb",(function(){return ut})),n.d(e,"Tb",(function(){return Ns})),n.d(e,"Ub",(function(){return $a})),n.d(e,"Vb",(function(){return Rs})),n.d(e,"Wb",(function(){return Bs})),n.d(e,"Xb",(function(){return qa})),n.d(e,"Yb",(function(){return Gs})),n.d(e,"Zb",(function(){return Qs})),n.d(e,"ac",(function(){return Ks})),n.d(e,"bc",(function(){return Ls})),n.d(e,"cc",(function(){return La})),n.d(e,"dc",(function(){return hr})),n.d(e,"ec",(function(){return Dt})),n.d(e,"fc",(function(){return Ma})),n.d(e,"gc",(function(){return Xs})),n.d(e,"hc",(function(){return Ds})),n.d(e,"ic",(function(){return oo})),n.d(e,"jc",(function(){return ao})),n.d(e,"kc",(function(){return Fa}));var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends s.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function m(t){return{toString:t}.toString()}function g(t,e,n){return m(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const y=g("Inject",t=>({token:t})),v=g("Optional"),b=g("Self"),_=g("SkipSelf");var w=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function E(t){for(let e in t)if(t[e]===E)return e;throw Error("Could not find renamed property on target object.")}function S(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function O(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function T(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function I(t){return x(t,t[k])||x(t,t[D])}function x(t,e){return e&&e.token===t?e:null}function C(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(P))?t[A]:null}const k=E({"\u0275prov":E}),A=E({"\u0275inj":E}),j=E({"\u0275provFallback":E}),D=E({ngInjectableDef:E}),P=E({ngInjectorDef:E});function N(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(N).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function R(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const L=E({__forward_ref__:E});function M(t){return t.__forward_ref__=M,t.toString=function(){return N(this())},t}function F(t){return U(t)?t():t}function U(t){return"function"==typeof t&&t.hasOwnProperty(L)&&t.__forward_ref__===M}const V="undefined"!=typeof globalThis&&globalThis,q="undefined"!=typeof window&&window,z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,H=V||B||q||z,$=E({"\u0275cmp":E}),G=E({"\u0275dir":E}),W=E({"\u0275pipe":E}),K=E({"\u0275mod":E}),Q=E({"\u0275loc":E}),J=E({"\u0275fac":E}),Z=E({__NG_ELEMENT_ID__:E});class Y{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=O({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const X=new Y("INJECTOR",-1),tt={},et=/\n/gm,nt=E({provide:String,useValue:E});let rt,it=void 0;function st(t){const e=it;return it=t,e}function ot(t){const e=rt;return rt=t,e}function at(t,e=w.Default){if(void 0===it)throw new Error("inject() must be called from an injection context");return null===it?lt(t,void 0,e):it.get(t,e&w.Optional?null:void 0,e)}function ut(t,e=w.Default){return(rt||at)(F(t),e)}const ct=ut;function lt(t,e,n){const r=I(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&w.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${N(t)}]`)}function ht(t){const e=[];for(let n=0;n<t.length;n++){const r=F(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=w.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof v||"Optional"===i.ngMetadataName||i===v?n|=w.Optional:i instanceof _||"SkipSelf"===i.ngMetadataName||i===_?n|=w.SkipSelf:i instanceof b||"Self"===i.ngMetadataName||i===b?n|=w.Self:t=i instanceof y||i===y?i.token:i}e.push(ut(t,n))}else e.push(ut(r))}return e}class ft{get(t,e=tt){if(e===tt){const e=new Error(`NullInjectorError: No provider for ${N(t)}!`);throw e.name="NullInjectorError",e}return e}}class dt{}class pt{}function mt(t,e){t.forEach(t=>Array.isArray(t)?mt(t,e):e(t))}function gt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function vt(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function bt(t,e,n){let r=wt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function _t(t,e){const n=wt(t,e);if(n>=0)return t[1|n]}function wt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const Et=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),St=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Ot={},Tt=[];let It=0;function xt(t){return m(()=>{const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===Et.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Tt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||St.Emulated,id:"c",styles:t.styles||Tt,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.directives,o=t.features,a=t.pipes;return i.id+=It++,i.inputs=Pt(t.inputs,r),i.outputs=Pt(t.outputs),o&&o.forEach(t=>t(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(Ct):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(kt):null,i})}function Ct(t){return Lt(t)||function(t){return t[G]||null}(t)}function kt(t){return function(t){return t[W]||null}(t)}const At={};function jt(t){const e={type:t.type,bootstrap:t.bootstrap||Tt,declarations:t.declarations||Tt,imports:t.imports||Tt,exports:t.exports||Tt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&m(()=>{At[t.id]=t.type}),e}function Dt(t,e){return m(()=>{const n=Ft(t,!0);n.declarations=e.declarations||Tt,n.imports=e.imports||Tt,n.exports=e.exports||Tt})}function Pt(t,e){if(null==t)return Ot;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const Nt=xt;function Rt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Lt(t){return t[$]||null}function Mt(t,e){return t.hasOwnProperty(J)?t[J]:null}function Ft(t,e){const n=t[K]||null;if(!n&&!0===e)throw new Error(`Type ${N(t)} does not have '\u0275mod' property.`);return n}function Ut(t){return Array.isArray(t)&&"object"==typeof t[1]}function Vt(t){return Array.isArray(t)&&!0===t[1]}function qt(t){return 0!=(8&t.flags)}function zt(t){return 2==(2&t.flags)}function Bt(t){return 1==(1&t.flags)}function Ht(t){return null!==t.template}function $t(t){return 0!=(512&t[2])}let Gt=void 0;function Wt(t){Gt=t}function Kt(t){return!!t.listen}const Qt={createRenderer:(t,e)=>void 0!==Gt?Gt:"undefined"!=typeof document?document:void 0};function Jt(t){for(;Array.isArray(t);)t=t[0];return t}function Zt(t,e){return Jt(e[t+20])}function Yt(t,e){return Jt(e[t.index])}function Xt(t,e){return t.data[e+20]}function te(t,e){const n=e[t];return Ut(n)?n:n[0]}function ee(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ne(t){return 4==(4&t[2])}function re(t){return 128==(128&t[2])}function ie(t,e){return null===t||null==e?null:t[e]}function se(t){t[18]=0}function oe(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const ae={lFrame:Te(null),bindingsEnabled:!0,checkNoChangesMode:!1};function ue(){return ae.bindingsEnabled}function ce(){return ae.lFrame.lView}function le(){return ae.lFrame.tView}function he(){return ae.lFrame.previousOrParentTNode}function fe(t,e){ae.lFrame.previousOrParentTNode=t,ae.lFrame.isParent=e}function de(){return ae.lFrame.isParent}function pe(){ae.lFrame.isParent=!1}function me(){return ae.checkNoChangesMode}function ge(t){ae.checkNoChangesMode=t}function ye(){return ae.lFrame.bindingIndex++}function ve(t,e){const n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,be(e)}function be(t){ae.lFrame.currentDirectiveIndex=t}function _e(){return ae.lFrame.currentQueryIndex}function we(t){ae.lFrame.currentQueryIndex=t}function Ee(t,e){const n=Oe();ae.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Se(t,e){const n=Oe(),r=t[1];ae.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Oe(){const t=ae.lFrame,e=null===t?null:t.child;return null===e?Te(t):e}function Te(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Ie(){const t=ae.lFrame;return ae.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const xe=Ie;function Ce(){const t=Ie();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ke(){return ae.lFrame.selectedIndex}function Ae(t){ae.lFrame.selectedIndex=t}function je(){const t=ae.lFrame;return Xt(t.tView,t.selectedIndex)}function De(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function Pe(t,e,n){Le(t,e,3,n)}function Ne(t,e,n,r){(3&t[2])===n&&Le(t,e,n,r)}function Re(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Le(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(Me(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function Me(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}class Fe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ue(t,e,n){const r=Kt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];qe(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ve(t){return 3===t||4===t||6===t}function qe(t){return 64===t.charCodeAt(0)}function ze(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Be(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Be(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function He(t){return-1!==t}function $e(t){return 32767&t}function Ge(t){return t>>16}function We(t,e){let n=Ge(t),r=e;for(;n>0;)r=r[15],n--;return r}function Ke(t){return"string"==typeof t?t:null==t?"":""+t}function Qe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ke(t)}const Je=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H))();function Ze(t){return t instanceof Function?t():t}let Ye=!0;function Xe(t){const e=Ye;return Ye=t,e}let tn=0;function en(t,e){const n=rn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,nn(r.data,t),nn(e,null),nn(r.blueprint,null));const i=sn(t,e),s=t.injectorIndex;if(He(i)){const t=$e(i),n=We(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function nn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function rn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function sn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function on(t,e,n){!function(t,e,n){let r="string"!=typeof n?n[Z]:n.charCodeAt(0)||0;null==r&&(r=n[Z]=tn++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function an(t,e,n,r=w.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[Z];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){Ee(e,t);try{const t=i();if(null!=t||r&w.Optional)return t;throw new Error(`No provider for ${Qe(n)}!`)}finally{xe()}}else if("number"==typeof i){if(-1===i)return new pn(t,e);let s=null,o=rn(t,e),a=-1,u=r&w.Host?e[16][6]:null;for((-1===o||r&w.SkipSelf)&&(a=-1===o?sn(t,e):e[o+8],dn(r,!1)?(s=e[1],o=$e(a),e=We(a,e)):o=-1);-1!==o;){a=e[o+8];const t=e[1];if(fn(i,o,t.data)){const t=cn(o,e,n,s,r,u);if(t!==un)return t}dn(r,e[1].data[o+8]===u)&&fn(i,o,e)?(s=t,o=$e(a),e=We(a,e)):o=-1}}}if(r&w.Optional&&void 0===i&&(i=null),0==(r&(w.Self|w.Host))){const t=e[9],s=ot(void 0);try{return t?t.get(n,i,r&w.Optional):lt(n,i,r&w.Optional)}finally{ot(s)}}if(r&w.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Qe(n)}]`)}const un={};function cn(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=ln(a,o,n,null==r?zt(a)&&Ye:r!=o&&3===a.type,i&w.Host&&s===a);return null!==u?hn(e,o,u,a):un}function ln(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=65535&s,u=t.directiveStart,c=s>>16,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&Ht(t)&&t.type===n)return u}return null}function hn(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Fe){const o=i;if(o.resolving)throw new Error("Circular dep for "+Qe(s[n]));const a=Xe(o.canSeeViewProviders);let u;o.resolving=!0,o.injectImpl&&(u=ot(o.injectImpl)),Ee(t,r);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{onChanges:r,onInit:i,doCheck:s}=e;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{o.injectImpl&&ot(u),Xe(a),o.resolving=!1,xe()}}return i}function fn(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function dn(t,e){return!(t&w.Self||t&w.Host&&e)}class pn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return an(this._tNode,this._lView,t,void 0,e)}}function mn(t){const e=t;if(U(t))return()=>{const t=mn(F(e));return t?t():null};let n=Mt(e);if(null===n){const t=C(e);n=t&&t.factory}return n||null}function gn(t){return m(()=>{const e=t.prototype.constructor,n=e[J]||mn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[J]||mn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function yn(t){return t.ngDebugContext}function vn(t){return t.ngOriginalError}function bn(t,...e){t.error(...e)}class _n{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||bn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?yn(t)?yn(t):this._findContext(vn(t)):null}_findOriginalError(t){let e=vn(t);for(;e&&vn(e);)e=vn(e);return e}}class wn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class En extends wn{getTypeName(){return"HTML"}}class Sn extends wn{getTypeName(){return"Style"}}class On extends wn{getTypeName(){return"Script"}}class Tn extends wn{getTypeName(){return"URL"}}class In extends wn{getTypeName(){return"ResourceURL"}}function xn(t){return t instanceof wn?t.changingThisBreaksApplicationSecurity:t}function Cn(t,e){const n=kn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function kn(t){return t instanceof wn&&t.getTypeName()||null}function An(t){return new En(t)}function jn(t){return new Sn(t)}function Dn(t){return new On(t)}function Pn(t){return new Tn(t)}function Nn(t){return new In(t)}let Rn=!0,Ln=!1;function Mn(){return Ln=!0,Rn}function Fn(){if(Ln)throw new Error("Cannot enable prod mode after platform setup.");Rn=!1}class Un{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Vn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,qn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function zn(t){return(t=String(t)).match(Vn)||t.match(qn)?t:(Mn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Bn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Hn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const $n=Bn("area,br,col,hr,img,wbr"),Gn=Bn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wn=Bn("rp,rt"),Kn=Hn(Wn,Gn),Qn=Hn($n,Hn(Gn,Bn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hn(Wn,Bn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Kn),Jn=Bn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zn=Bn("srcset"),Yn=Hn(Jn,Zn,Bn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xn=Bn("script,style,template");class tr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Qn.hasOwnProperty(e))return this.sanitizedSomething=!0,!Xn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!Yn.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;Jn[s]&&(o=zn(o)),Zn[s]&&(r=o,o=(r=String(r)).split(",").map(t=>zn(t.trim())).join(", ")),this.buf.push(" ",e,'="',rr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Qn.hasOwnProperty(e)&&!$n.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(rr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const er=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nr=/([^\#-~ |!])/g;function rr(t){return t.replace(/&/g,"&amp;").replace(er,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(nr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ir;function sr(t,e){let n=null;try{ir=ir||new Un(t);let r=e?String(e):"";n=ir.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=ir.getInertBodyElement(r)}while(r!==s);const o=new tr,a=o.sanitizeChildren(or(n)||n);return Mn()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=or(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function or(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const ar=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),ur=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),cr=/^url\(([^)]+)\)$/;function lr(t){if(!(t=String(t).trim()))return"";const e=t.match(cr);return e&&zn(e[1])===e[1]||t.match(ur)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Mn()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}function hr(t){const e=function(){const t=ce();return t&&t[12]}();return e?e.sanitize(ar.URL,t)||"":Cn(t,"URL")?xn(t):zn(Ke(t))}function fr(t,e){t.__ngContext__=e}function dr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function pr(){throw new Error("Cannot mix multi providers and regular providers")}function mr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function gr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==mr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function yr(t){return 0===t.type&&"ng-template"!==t.tagName}function vr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function br(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ve(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!vr(t,u,n)||""===u&&1===e.length){if(_r(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!gr(t.attrs,c,n)){if(_r(r))return!1;o=!0}continue}const l=wr(8&r?"class":u,i,yr(t),n);if(-1===l){if(_r(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==mr(e,c,0)||2&r&&c!==t){if(_r(r))return!1;o=!0}}}}else{if(!o&&!_r(r)&&!_r(u))return!1;if(o&&_r(u))continue;o=!1,r=u|1&r}}return _r(r)||o}function _r(t){return 0==(1&t)}function wr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Er(t,e,n=!1){for(let r=0;r<e.length;r++)if(br(t,e[r],n))return!0;return!1}function Sr(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Or(t,e){return t?":not("+e.trim()+")":e}function Tr(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||_r(o)||(e+=Or(s,i),i=""),r=o,s=s||!_r(r);n++}return""!==i&&(e+=Or(s,i)),e}const Ir={};function xr(t){const e=t[3];return Vt(e)?e[3]:e}function Cr(t){return Ar(t[13])}function kr(t){return Ar(t[4])}function Ar(t){for(;null!==t&&!Vt(t);)t=t[4];return t}function jr(t){Dr(le(),ce(),ke()+t,me())}function Dr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Pe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ne(e,r,0,n)}Ae(n)}function Pr(t,e){return t<<17|e<<2}function Nr(t){return t>>17&32767}function Rr(t){return 2|t}function Lr(t){return(131068&t)>>2}function Mr(t,e){return-131069&t|e<<2}function Fr(t){return 1|t}function Ur(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];we(i),n.contentQueries(2,e[s],s)}}}function Vr(t,e,n){return Kt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function qr(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,se(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function zr(t,e,n,r,i,s){const o=n+20,a=t.data[o]||function(t,e,n,r,i,s){const o=he(),a=de(),u=a?o:o&&o.parent,c=t.data[n]=Zr(0,u&&u!==e?u:null,r,n,i,s);return null===t.firstChild&&(t.firstChild=c),o&&(!a||null!=o.child||null===c.parent&&2!==o.type?a||(o.next=c):o.child=c),c}(t,e,o,r,i,s);return fe(a,!0),a}function Br(t,e,n){Se(e,e[6]);try{const r=t.viewQuery;null!==r&&bi(1,r,n);const i=t.template;null!==i&&Gr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ur(t,e),t.staticViewQueries&&bi(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)pi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Ce()}}function Hr(t,e,n,r){const i=e[2];if(256==(256&i))return;Se(e,e[6]);const s=me();try{se(e),ae.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Gr(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Pe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ne(e,n,0,null),Re(e,0)}if(function(t){for(let e=Cr(t);null!==e;e=kr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&oe(r,1),n[2]|=1024}}}(e),function(t){for(let e=Cr(t);null!==e;e=kr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];re(n)&&Hr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Ur(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Pe(e,n)}else{const n=t.contentHooks;null!==n&&Ne(e,n,1),Re(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,Ae(s),r+=9+n[++t],i=r):r+=o:(null!==o&&(ve(r,i),o(2,e[i])),i++)}}}finally{Ae(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)di(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&bi(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Pe(e,n)}else{const n=t.viewHooks;null!==n&&Ne(e,n,2),Re(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,oe(e[3],-1))}finally{Ce()}}function $r(t,e,n,r){const i=e[10],s=!me(),o=ne(e);try{s&&!o&&i.begin&&i.begin(),o&&Br(t,e,r),Hr(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Gr(t,e,n,r,i){const s=ke();try{Ae(-1),2&r&&e.length>20&&Dr(t,e,0,me()),n(r,i)}finally{Ae(s)}}function Wr(t,e,n){ue()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||en(n,e),fr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Ht(r);s&&ci(e,n,r);const u=hn(e,t,a,n);fr(u,e),null!==o&&li(0,a-i,u,r,0,o),s&&(te(n.index,e)[8]=u)}}(t,e,n,Yt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-20,u=ae.lFrame.currentDirectiveIndex;try{Ae(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];be(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?ri(r,i):o&&s.push(null)}}finally{Ae(-1),be(u)}}(t,e,n))}function Kr(t,e,n=Yt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Qr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Jr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Jr(t,e,n,r,i,s,o,a,u,c){const l=20+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ir);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function Zr(t,e,n,r,i,s){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Yr(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Xr(t,e,n,r,i,s,o,a){const u=Yt(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(Oi(t,n,c,r,i),zt(e)&&function(t,e){const n=te(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.tagName||"",r):i,Kt(s)?s.setProperty(u,r,i):qe(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ti(t,e,n,r){let i=!1;if(ue()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Er(n,o.selectors,!1)&&(i||(i=[]),on(en(n,e),t,o.type),Ht(o)?(2&n.flags&&dr(n),si(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){let r=0;i=!0,ai(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}ii(t,n,s.length);let a=!1,u=!1;for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=ze(n.mergedAttrs,c.hostAttrs),ui(t,e,c),oi(t.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128),!a&&(c.onChanges||c.onInit||c.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),u||!c.onChanges&&!c.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),u=!0),ei(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||yr(e)?null:hi(n,i);s.push(c),o=Yr(n,u,o),a=Yr(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),ni(t,e,r)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=ze(n.mergedAttrs,n.attrs),i}function ei(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function ni(t,e,n){for(let r=0;r<n;r++)e.push(Ir),t.blueprint.push(Ir),t.data.push(null)}function ri(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ii(t,e,n){const r=20-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function si(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function oi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ht(e)&&(n[""]=t)}}function ai(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ui(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Mt(n.type)),i=new Fe(r,Ht(n),null);t.blueprint.push(i),e.push(i)}function ci(t,e,n){const r=Yt(e,t),i=Qr(n),s=t[10],o=mi(t,qr(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n)));t[e.index]=o}function li(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function hi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function fi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function di(t,e){const n=te(e,t);if(re(n)){const t=n[1];80&n[2]?Hr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Cr(e);null!==r;r=kr(r))for(let e=10;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Hr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=te(n[r],e);re(i)&&i[5]>0&&t(i)}}(n)}}function pi(t,e){const n=te(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Br(r,n,n[8])}function mi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function gi(t){for(;t;){t[2]|=64;const e=xr(t);if($t(t)&&!e)return t;t=e}return null}function yi(t,e,n){const r=e[10];r.begin&&r.begin();try{Hr(t,e,t.template,n)}catch(i){throw Si(e,i),i}finally{r.end&&r.end()}}function vi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=ee(n),i=r[1];$r(i,r,i.template,n)}}(t[8])}function bi(t,e,n){we(0),e(t,n)}const _i=(()=>Promise.resolve(null))();function wi(t){return t[7]||(t[7]=[])}function Ei(t){return t.cleanup||(t.cleanup=[])}function Si(t,e){const n=t[9],r=n?n.get(_n,null):null;r&&r.handleError(e)}function Oi(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Ti(t,e){const n=e[3];return-1===t.index?Vt(n)?n:null:n}function Ii(t,e){const n=Ti(t,e);return n?Fi(e[11],n[7]):null}function xi(t,e,n,r,i){if(null!=r){let s,o=!1;Vt(r)?s=r:Ut(r)&&(o=!0,r=r[0]);const a=Jt(r);0===t&&null!==n?null==i?Li(e,n,a):Ri(e,n,a,i||null):1===t&&null!==n?Ri(e,n,a,i||null):2===t?function(t,e,n){const r=Fi(t,e);r&&function(t,e,n,r){Kt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Jt(n)&&xi(e,t,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];Bi(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Ci(t,e,n,r){const i=Ii(t.node,e);i&&Bi(t,e,e[11],n?1:2,i,r)}function ki(t,e){const n=t[9],r=n.indexOf(e);1024&e[2]&&oe(e[3],-1),n.splice(r,1)}function Ai(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&ki(i,r),e>0&&(t[n-1][4]=r[4]);const s=yt(t,10+e);Ci(r[1],r,!1,null);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function ji(t,e){if(!(256&e[2])){const n=e[11];Kt(n)&&n.destroyNode&&Bi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Pi(t[1],t);for(;e;){let n=null;if(Ut(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Ut(e)&&Pi(e[1],e),e=Di(e,t);null===e&&(e=t),Ut(e)&&Pi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Di(t,e){let n;return Ut(t)&&(n=t[6])&&2===n.type?Ti(n,t):t[3]===e?null:t[3]}function Pi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Fe)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):Jt(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Kt(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Vt(e[3])){r!==e[3]&&ki(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function Ni(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?Ii(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Yt(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==St.ShadowDom&&n!==St.Native)return null}return Yt(r,n)}function Ri(t,e,n,r){Kt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Li(t,e,n){Kt(t)?t.appendChild(e,n):e.appendChild(n)}function Mi(t,e,n,r){null!==r?Ri(t,e,n,r):Li(t,e,n)}function Fi(t,e){return Kt(t)?t.parentNode(e):e.parentNode}function Ui(t,e){if(2===t.type){const n=Ti(t,e);return null===n?null:qi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Yt(t,e):null}function Vi(t,e,n,r){const i=Ni(t,r,e);if(null!=i){const t=e[11],s=Ui(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Mi(t,i,n[e],s);else Mi(t,i,n,s)}}function qi(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Yt(n,e);if(0===r)return qi(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Vt(t)?qi(-1,t):Jt(t)}}{const r=e[16],i=r[6],s=xr(r),o=i.projection[n.projection];return null!=o?t(s,o):t(e,n.next)}}return null}(t,r)}return e[7]}function zi(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;o&&0===e&&(a&&fr(Jt(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(zi(t,e,n.child,r,i,s,!1),xi(e,t,i,a,s)):1===u?Hi(t,e,r,n,i,s):xi(e,t,i,a,s)),n=o?n.projectionNext:n.next}}function Bi(t,e,n,r,i,s){zi(n,r,t.node.child,e,i,s,!1)}function Hi(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)xi(e,t,i,a[u],s);else zi(t,e,a,o[3],i,s,!0)}function $i(t,e,n){Kt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Gi(t,e,n){Kt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Wi{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,s=!1){for(;null!==r;){const o=n[r.index];if(null!==o&&i.push(Jt(o)),Vt(o))for(let e=10;e<o.length;e++){const n=o[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],s=e[6].projection[r.projection];if(Array.isArray(s))i.push(...s);else{const n=xr(e);t(n[1],n,s,i,!0)}}r=s?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}ji(this._lView[1],this._lView)}onDestroy(t){var e,n,r;e=this._lView[1],r=t,wi(n=this._lView).push(r),e.firstCreatePass&&Ei(e).push(n[7].length-1,null)}markForCheck(){gi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){yi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ge(!0);try{yi(t,e,n)}finally{ge(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Bi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ki extends Wi{constructor(t){super(t),this._view=t}detectChanges(){vi(this._view)}checkNoChanges(){!function(t){ge(!0);try{vi(t)}finally{ge(!1)}}(this._view)}get context(){return null}}let Qi,Ji,Zi;function Yi(t,e,n){return Qi||(Qi=class extends t{}),new Qi(Yt(e,n))}function Xi(t,e,n,r){return Ji||(Ji=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=qr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Br(e,n,t),new Wi(n)}}),0===n.type?new Ji(r,n,Yi(e,n,r)):null}function ts(t,e,n,r){let i;Zi||(Zi=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Yi(e,this._hostTNode,this._hostView)}get injector(){return new pn(this._hostTNode,this._hostView)}get parentInjector(){const t=sn(this._hostTNode,this._hostView),e=We(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=Ge(t),i=e,s=e[6];for(;r>1;)i=i[15],s=i[6],r--;return s}(t,this._hostView,this._hostTNode);return He(t)&&null!=n?new pn(n,e):new pn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(dt,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Vt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Zi(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],gt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),Ci(r,n,!0,qi(i,this._lContainer)),t.attachToViewContainerRef(this),gt(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);!function(t,e){const n=Ai(t,e);n&&ji(n[1],n)}(this._lContainer,e),yt(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Ai(this._lContainer,e);return n&&null!=yt(this._lContainer[8],e)?new Wi(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[n.index];if(Vt(s))i=s;else{let t;if(4===n.type)t=Jt(s);else if(t=r[11].createComment(""),$t(r)){const e=r[11],i=Yt(n,r);Ri(e,Fi(e,i),t,function(t,e){return Kt(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Vi(r[1],r,t,n);r[n.index]=i=fi(s,r,t,n),mi(r,i)}return new Zi(i,n,r)}function es(t=!1){return function(t,e,n){if(!n&&zt(t)){const n=te(t.index,e);return new Wi(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Wi(e[16],e):null}(he(),ce(),t)}let ns=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>rs(),t})();const rs=es,is=new Y("Set Injector scope."),ss={},os={},as=[];let us=void 0;function cs(){return void 0===us&&(us=new ft),us}function ls(t,e=null,n=null,r){return new hs(t,n,e||cs(),r)}class hs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&mt(e,n=>this.processProvider(n,t,e)),mt([t],t=>this.processInjectorType(t,[],i)),this.records.set(X,ps(void 0,this));const s=this.records.get(is);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:N(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=tt,n=w.Default){this.assertNotDestroyed();const r=st(this);try{if(!(n&w.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Y)&&I(t);e=n&&this.injectableDefInScope(n)?ps(fs(t),ss):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&w.Self?cs():this.parent).get(t,e=n&w.Optional&&e===tt?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(N(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=N(e);if(Array.isArray(e))i=e.map(N).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):N(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(et,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{st(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(N(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=F(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{mt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];mt(r,t=>this.processProvider(t,n,r||as))}}this.injectorDefTypes.add(s),this.records.set(s,ps(r.factory,ss));const a=r.providers;if(null!=a&&!o){const e=t;mt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=gs(t=F(t))?t:F(t&&t.provide);const i=function(t,e,n){return ms(t)?ps(void 0,t.useValue):ps(ds(t,e,n),ss)}(t,e,n);if(gs(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&pr()}else{let e=this.records.get(r);e?void 0===e.multi&&pr():(e=ps(void 0,ss,!0),e.factory=()=>ht(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===os?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(N(t)):e.value===ss&&(e.value=os,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function fs(t){const e=I(t),n=null!==e?e.factory:Mt(t);if(null!==n)return n;const r=C(t);if(null!==r)return r.factory;if(t instanceof Y)throw new Error(`Token ${N(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=vt(e,"?");throw new Error(`Can't resolve all parameters for ${N(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[k]||t[D]||t[j]&&t[j]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ds(t,e,n){let r=void 0;if(gs(t)){const e=F(t);return Mt(e)||fs(e)}if(ms(t))r=()=>F(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ht(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>ut(F(t.useExisting));else{const i=F(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${N(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return Mt(i)||fs(i);r=()=>new i(...ht(t.deps))}var i;return r}function ps(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ms(t){return null!==t&&"object"==typeof t&&nt in t}function gs(t){return"function"==typeof t}const ys=function(t,e,n){return function(t,e=null,n=null,r){const i=ls(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let vs=(()=>{class t{static create(t,e){return Array.isArray(t)?ys(t,e,""):ys(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=tt,t.NULL=new ft,t.\u0275prov=O({token:t,providedIn:"any",factory:()=>ut(X)}),t.__NG_ELEMENT_ID__=-1,t})();const bs=new Y("AnalyzeForEntryComponents");let _s=new Map;const ws=new Set;function Es(t){return"string"==typeof t?t:t.text()}function Ss(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=R(i,t):2==s&&(r=R(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}let Os=null;function Ts(){if(!Os){const t=H.Symbol;if(t&&t.iterator)Os=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Os=n)}}}return Os}function Is(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class xs{constructor(t){this.wrapped=t}static wrap(t){return new xs(t)}static unwrap(t){return xs.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof xs}}function Cs(t){return!!ks(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ts()in t)}function ks(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function As(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function js(t,e,n,r){const i=ce();return As(i,ye(),e)&&(le(),function(t,e,n,r,i,s){const o=Yt(t,e),a=e[11];if(null==r)Kt(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==i?Ke(r):i(r,t.tagName||"",n);Kt(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}(je(),i,t,e,n,r)),js}function Ds(t,e,n,r,i,s,o,a){const u=ce(),c=le(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=zr(e,n[6],t,0,o||null,ie(c,a));ti(e,n,l,ie(c,u)),De(e,l);const h=l.tViews=Jr(2,-1,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=Zr(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,s,o):c.data[l];fe(h,!1);const f=u[11].createComment("");Vi(c,u,f,h),fr(f,u),mi(u,u[l]=fi(f,u,f,h)),Bt(h)&&Wr(c,u,h),null!=o&&Kr(u,h,a)}function Ps(t,e=w.Default){const n=ce();return null==n?ut(t,e):an(he(),n,F(t),e)}function Ns(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ve(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(he(),t)}function Rs(){throw new Error("invalid")}function Ls(t,e,n){const r=ce();return As(r,ye(),e)&&Xr(le(),je(),r,t,e,r[11],n,!1),Ls}function Ms(t,e,n,r,i){const s=i?"class":"style";Oi(t,n,e.inputs[s],s,r)}function Fs(t,e,n,r){const i=ce(),s=le(),o=20+t,a=i[11],u=i[o]=Vr(e,a,ae.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=ie(a,s),c=zr(e,n[6],t,3,i,u);return ti(e,n,c,ie(a,o)),null!==c.attrs&&Ss(c,c.attrs,!1),null!==c.mergedAttrs&&Ss(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,s,i,0,e,n,r):s.data[o];fe(c,!0);const l=c.mergedAttrs;null!==l&&Ue(a,u,l);const h=c.classes;null!==h&&Gi(a,u,h);const f=c.styles;null!==f&&$i(a,u,f),Vi(s,i,u,c),0===ae.lFrame.elementDepthCount&&fr(u,i),ae.lFrame.elementDepthCount++,Bt(c)&&(Wr(s,i,c),function(t,e,n){if(qt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(s,c,i)),null!==r&&Kr(i,c)}function Us(){let t=he();de()?pe():(t=t.parent,fe(t,!1));const e=t;ae.lFrame.elementDepthCount--;const n=le();n.firstCreatePass&&(De(n,t),qt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ms(n,e,ce(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ms(n,e,ce(),e.stylesWithoutHost,!1)}function Vs(t,e,n,r){Fs(t,e,n,r),Us()}function qs(t){return!!t&&"function"==typeof t.then}function zs(t){return!!t&&"function"==typeof t.subscribe}function Bs(t,e,n=!1,r){const i=ce(),s=le(),o=he();return function(t,e,n,r,i,s,o=!1,a){const u=Bt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=wi(e);let h=!0;if(3===r.type){const f=Yt(r,e),d=a?a(f):Ot,p=d.target||f,m=l.length,g=a?t=>a(Jt(t[r.index])).target:r.index;if(Kt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=$s(r,e,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,g,m,m+1)}}else s=$s(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,g,m,o)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),Bs}function Hs(t,e,n){try{return!1!==e(n)}catch(r){return Si(t,r),!1}}function $s(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?te(t.index,e):e;0==(32&e[2])&&gi(o);let a=Hs(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=Hs(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Gs(t=1){return function(t){return(ae.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ae.lFrame.contextLView))[8]}(t)}function Ws(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Er(t,s,!0):Sr(r,s))return i}else n=i}return n}function Ks(t){const e=ce()[16][6];if(!e.projection){const n=e.projection=vt(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Ws(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Qs(t,e=0,n){const r=ce(),i=le(),s=zr(i,r[6],t,1,null,n||null);null===s.projection&&(s.projection=e),pe(),function(t,e,n){Hi(e[11],0,e,n,Ni(t,n,e),Ui(n.parent||e[6],e))}(i,r,s)}const Js=[];function Zs(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Nr(s):Lr(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];Ys(t[a],e)&&(u=!0,t[a+1]=r?Fr(n):Rr(n)),a=r?Nr(n):Lr(n)}u&&(t[n+1]=r?Rr(s):Fr(s))}function Ys(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&wt(t,e)>=0}function Xs(t,e,n){return eo(t,e,n,!1),Xs}function to(t,e){return eo(t,e,null,!0),to}function eo(t,e,n,r){const i=ce(),s=le(),o=function(t){const e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();if(s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[ke()+20],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=ae.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ro(n=no(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=no(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Lr(r))return t[Nr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=no(null,t,e,n[1],r),n=ro(n,e.attrs,r),function(t,e,n,r){t[Nr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=ro(r,t[s].hostAttrs,n);return ro(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Nr(o),u=Lr(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||wt(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Nr(t[a+1]);t[r+1]=Pr(e,a),0!==e&&(t[e+1]=Mr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Pr(a,0),0!==a&&(t[a+1]=Mr(t[a+1],r)),a=r;else t[r+1]=Pr(u,0),0===a?a=r:t[u+1]=Mr(t[u+1],r),u=r;l&&(t[r+1]=Rr(t[r+1])),Zs(t,c,r,!0),Zs(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&wt(s,e)>=0&&(n[r+1]=Fr(n[r+1]))}(e,c,t,r,s),o=Pr(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Ir&&As(i,o,e)){let a;null==n&&(a=function(){const t=ae.lFrame;return null===t?null:t.currentSanitizer}())&&(n=a),function(t,e,n,r,i,s,o,a){if(3!==e.type)return;const u=t.data,c=u[a+1];so(1==(1&c)?io(u,e,n,i,Lr(c),o):void 0)||(so(s)||function(t){return 2==(2&t)}(c)&&(s=io(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Kt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?s?t.removeStyle(n,r,e):n.style.removeProperty(r):s?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,o,Zt(ke(),n),i,s))}(s,s.data[ke()+20],i,i[11],t,i[o+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=N(xn(t)))),t}(e,n),r,o)}}function no(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=ro(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ro(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),bt(t,o,!!n||e[++s]))}return void 0===t?null:t}function io(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===Ir&&(l=c?Js:void 0);let h=c?_t(l,r):u===r?l:void 0;if(s&&!so(h)&&(h=_t(e,r)),so(h)&&(a=h,o))return a;const f=t[i+1];i=o?Nr(f):Lr(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=_t(t,r))}return a}function so(t){return void 0!==t}function oo(t,e=""){const n=ce(),r=le(),i=t+20,s=r.firstCreatePass?zr(r,n[6],t,3,null,null):r.data[i],o=n[i]=function(t,e){return Kt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Vi(r,n,o,s),fe(s,!1)}function ao(t,e,n){const r=ce(),i=function(t,e,n,r){return As(t,ye(),n)?e+Ke(n)+r:Ir}(r,t,e,n);return i!==Ir&&function(t,e,n){const r=Zt(e,t),i=t[11];Kt(i)?i.setValue(r,n):r.textContent=n}(r,ke(),i),ao}function uo(t,e,n){const r=ce();return As(r,ye(),e)&&Xr(le(),je(),r,t,e,r[11],n,!0),uo}function co(t,e){const n=ee(t)[1],r=n.data.length-1;De(n,{directiveStart:r,directiveEnd:r+1})}function lo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Ht(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=ho(t.inputs),e.declaredInputs=ho(t.declaredInputs),e.outputs=ho(t.outputs);const n=i.hostBindings;n&&mo(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&fo(t,s),o&&po(t,o),S(t.inputs,i.inputs),S(t.declaredInputs,i.declaredInputs),S(t.outputs,i.outputs),Ht(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}e.afterContentChecked=e.afterContentChecked||i.afterContentChecked,e.afterContentInit=t.afterContentInit||i.afterContentInit,e.afterViewChecked=t.afterViewChecked||i.afterViewChecked,e.afterViewInit=t.afterViewInit||i.afterViewInit,e.doCheck=t.doCheck||i.doCheck,e.onDestroy=t.onDestroy||i.onDestroy,e.onInit=t.onInit||i.onInit}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===lo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ze(i.hostAttrs,n=ze(n,i.hostAttrs))}}(r)}function ho(t){return t===Ot?{}:t===Tt?[]:t}function fo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function po(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function mo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}class go{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function yo(t){t.type.prototype.ngOnChanges&&(t.setInput=vo,t.onChanges=function(){const t=bo(this),e=t&&t.current;if(e){const n=t.previous;if(n===Ot)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function vo(t,e,n,r){const i=bo(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Ot,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new go(u&&u.currentValue,e,o===Ot),t[r]=e}function bo(t){return t.__ngSimpleChanges__||null}function _o(t,e,n,r,i){if(t=F(t),Array.isArray(t))for(let s=0;s<t.length;s++)_o(t[s],e,n,r,i);else{const s=le(),o=ce();let a=gs(t)?t:F(t.provide),u=ds(t);const c=he(),l=65535&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>16;if(gs(t)||!t.multi){const r=new Fe(u,i,Ps),d=So(a,e,i?l:l+f,h);-1===d?(on(en(c,o),s,a),wo(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=So(a,e,l+f,h),p=So(a,e,l,l+f),m=d>=0&&n[d],g=p>=0&&n[p];if(i&&!g||!i&&!m){on(en(c,o),s,a);const l=function(t,e,n,r,i){const s=new Fe(t,n,Ps);return s.multi=[],s.index=e,s.componentProviders=0,Eo(s,i,r&&!n),s}(i?To:Oo,n.length,i,r,u);!i&&g&&(n[p].providerFactory=l),wo(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(l),o.push(l)}else wo(s,t,d>-1?d:p,Eo(n[i?p:d],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function wo(t,e,n,r){const i=gs(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Eo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function So(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Oo(t,e,n,r){return Io(this.multi,[])}function To(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=hn(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Io(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Io(i,s);return s}function Io(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function xo(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=le();if(r.firstCreatePass){const i=Ht(t);_o(n,r.data,r.blueprint,i,!0),_o(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}yo.ngInherit=!0;class Co{}class ko{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${N(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ao=(()=>{class t{}return t.NULL=new ko,t})(),jo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Do(t),t})();const Do=function(t){return Yi(t,he(),ce())};class Po{}const No=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let Ro=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Lo(),t})();const Lo=function(){const t=ce(),e=te(he().index,t);return function(t){const e=t[11];if(Kt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Ut(e)?e:t)};let Mo=(()=>{class t{}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>null}),t})();class Fo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Uo=new Fo("9.1.12");class Vo{constructor(){}supports(t){return Cs(t)}create(t){return new zo(t)}}const qo=(t,e)=>e;class zo{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||qo}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Go(n,r,i)?e:n,o=Go(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Cs(t))throw new Error(`Error trying to diff '${N(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ts()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Bo(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new $o),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $o),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Bo{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ho{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class $o{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ho,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Go(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Wo{constructor(){}supports(t){return t instanceof Map||ks(t)}create(){return new Ko}}class Ko{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ks(t)))throw new Error(`Error trying to diff '${N(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Qo(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Qo{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Jo=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new v]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>new t([new Vo])}),t})(),Zo=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new v]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>new t([new Wo])}),t})();const Yo=[new Wo],Xo=new Jo([new Vo]),ta=new Zo(Yo);let ea=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>na(t,jo),t})();const na=function(t,e){return Xi(t,e,he(),ce())};let ra=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ia(t,jo),t})();const ia=function(t,e){return ts(t,e,he(),ce())},sa={};class oa extends Ao{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Lt(t);return new ca(e,this.ngModule)}}function aa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ua=new Y("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Je});class ca extends Co{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Tr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return aa(this.componentDef.inputs)}get outputs(){return aa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,sa,i);return s!==sa||r===sa?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Po,Qt),o=i.get(Mo,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Kt(t))return t.selectRootElement(e,n===St.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Vr(u,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),f={components:[],scheduler:Je,clean:_i,playerHandler:null,flags:0},d=Jr(0,-1,null,1,0,null,null,null,null,null),p=qr(null,d,f,l,null,null,s,a,o,i);let m,g;Se(p,null);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=zr(o,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Ss(a,u,!0),null!==t&&(Ue(i,t,u),null!==a.classes&&Gi(i,t,a.classes),null!==a.styles&&$i(i,t,a.styles)));const c=r.createRenderer(t,e),l=qr(n,Qr(e),null,e.onPush?64:16,n[20],a,r,c,void 0);return o.firstCreatePass&&(on(en(a,n),o,e.type),si(o,a),ai(a,n.length,1)),mi(n,l),n[20]=l}(c,this.componentDef,p,s,a);if(c)if(n)Ue(a,c,["ng-version",Uo.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!_r(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ue(a,c,t),e&&e.length>0&&Gi(a,c,e.join(" "))}if(g=Xt(d,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}m=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=he();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ii(t,r,1),ui(t,e,n));const i=hn(e,t,e.length-1,r);fr(i,e);const s=Yt(r,e);return s&&fr(s,e),i}(s,n,e);r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=he();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Ae(a.index-20);const t=n[1];ei(t,e),ni(t,n,e.hostVars),ri(e,o)}return o}(t,this.componentDef,p,f,[co]),Br(d,p,null)}finally{Ce()}const y=new la(this.componentType,m,Yi(jo,g,p),p,g);return n&&!h||(d.node.child=g),y}}class la extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Ki(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=Zr(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new pn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const ha=void 0;var fa=["en",[["a","p"],["AM","PM"],ha],[["AM","PM"],ha,ha],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ha,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ha,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ha,"{1} 'at' {0}",ha],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let da={};function pa(t,e,n){"string"!=typeof e&&(n=e,e=t[ba.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),da[e]=t,n&&(da[e][ba.ExtraData]=n)}function ma(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=va(e);if(n)return n;const r=e.split("-")[0];if(n=va(r),n)return n;if("en"===r)return fa;throw new Error(`Missing locale data for the locale "${t}".`)}function ga(t){return ma(t)[ba.CurrencyCode]||null}function ya(t){return ma(t)[ba.PluralCase]}function va(t){return t in da||(da[t]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[t]),da[t]}const ba=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let _a="en-US";function wa(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(_a=t.toLowerCase().replace(/_/g,"-"))}const Ea=new Map;class Sa extends dt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new oa(this);const n=Ft(t),r=t[Q]||null;r&&wa(r),this._bootstrapComponents=Ze(n.bootstrap),this._r3Injector=ls(t,e,[{provide:dt,useValue:this},{provide:Ao,useValue:this.componentFactoryResolver}],N(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=vs.THROW_IF_NOT_FOUND,n=w.Default){return t===vs||t===dt||t===X?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Oa extends pt{constructor(t){super(),this.moduleType=t,null!==Ft(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${N(e)} vs ${N(e.name)}`)})(t,Ea.get(t),e),Ea.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new Sa(this.moduleType,t)}}class Ta extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}}function Ia(){return this._results[Ts()]()}class xa{constructor(){this.dirty=!0,this._results=[],this.changes=new Ta,this.length=0;const t=Ts(),e=xa.prototype;e[t]||(e[t]=Ia)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ca{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ca(this.queryList)}setDirty(){this.queryList.setDirty()}}class ka{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new ka(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Ha(t,e).matches&&this.queries[e].setDirty()}}class Aa{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class ja{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new ja(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Da{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Da(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,Pa(e,n[r]))}else{const n=this.metadata.predicate;n===ea?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ln(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===jo||r===ra||r===ea&&0===e.type)this.addMatch(e.index,-2);else{const n=ln(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Pa(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Na(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?Yi(jo,t,e):0===t.type?Xi(ea,jo,t,e):null}(e,t):-2===n?function(t,e,n){return n===jo?Yi(jo,e,t):n===ea?Xi(ea,jo,e,t):n===ra?ts(ra,jo,e,t):void 0}(t,e,r):hn(t,t[1],n,e)}function Ra(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Na(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function La(t){const e=ce(),n=le(),r=_e();we(r+1);const i=Ha(n,r);if(t.dirty&&ne(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?function t(e,n,r,i){const s=e.queries.getByIndex(r),o=s.matches;if(null!==o){const a=Ra(e,n,s,r);for(let e=0;e<o.length;e+=2){const r=o[e];if(r>0)i.push(a[e/2]);else{const s=o[e+1],a=n[-r];for(let e=10;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,s,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,s,i)}}}}}return i}(n,e,r,[]):Ra(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function Ma(t,e,n){Ua(le(),ce(),t,e,n,!0)}function Fa(t,e,n){Ua(le(),ce(),t,e,n,!1)}function Ua(t,e,n,r,i,s){t.firstCreatePass&&(Ba(t,new Aa(n,r,s,i),-1),s&&(t.staticViewQueries=!0)),za(t,e)}function Va(t,e,n,r){!function(t,e,n,r,i,s,o,a){t.firstCreatePass&&(Ba(t,new Aa(n,r,!1,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),za(t,e)}(le(),ce(),e,n,r,0,he(),t)}function qa(){return t=ce(),e=_e(),t[19].queries[e].queryList;var t,e}function za(t,e){const n=new xa;!function(t,e,n,r){const i=wi(e);i.push(n),t.firstCreatePass&&Ei(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[19]&&(e[19]=new ka),e[19].queries.push(new Ca(n))}function Ba(t,e,n){null===t.queries&&(t.queries=new ja),t.queries.track(new Da(e,n))}function Ha(t,e){return t.queries.getByIndex(e)}function $a(t=w.Default){const e=es(!0);if(null!=e||t&w.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const Ga=new Y("Application Initializer");let Wa=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();qs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(ut(Ga,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const Ka=new Y("AppId"),Qa={provide:Ka,useFactory:function(){return`${Ja()}${Ja()}${Ja()}`},deps:[]};function Ja(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Za=new Y("Platform Initializer"),Ya=new Y("Platform ID"),Xa=new Y("appBootstrapListener");let tu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const eu=new Y("LocaleId"),nu=new Y("DefaultCurrencyCode");class ru{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const iu=function(t){return new Oa(t)},su=iu,ou=function(t){return Promise.resolve(iu(t))},au=function(t){const e=iu(t),n=Ze(Ft(t).declarations).reduce((t,e)=>{const n=Lt(e);return n&&t.push(new ca(n)),t},[]);return new ru(e,n)},uu=au,cu=function(t){return Promise.resolve(au(t))};let lu=(()=>{class t{constructor(){this.compileModuleSync=su,this.compileModuleAsync=ou,this.compileModuleAndAllComponentsSync=uu,this.compileModuleAndAllComponentsAsync=cu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const hu=new Y("compilerOptions"),fu=(()=>Promise.resolve(0))();function du(t){"undefined"==typeof Zone?fu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class pu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ta(!1),this.onMicrotaskEmpty=new Ta(!1),this.onStable=new Ta(!1),this.onError=new Ta(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=H.requestAnimationFrame,e=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(H,()=>{t.lastRequestAnimationFrameId=-1,vu(t),yu(t)}),vu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return bu(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),_u(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return bu(t),e.invoke(r,i,s,o,a)}finally{_u(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,vu(t),yu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(pu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,gu,mu,mu);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function mu(){}const gu={};function yu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function bu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _u(t){t._nesting--,yu(t)}class wu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ta,this.onMicrotaskEmpty=new Ta,this.onStable=new Ta,this.onError=new Ta}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Eu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pu.assertNotInAngularZone(),du(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())du(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(ut(pu))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})(),Su=(()=>{class t{constructor(){this._applications=new Map,xu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return xu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();class Ou{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Tu(t){xu=t}let Iu,xu=new Ou,Cu=function(t,e,n){const r=t.get(hu,[]).concat(e),i=new Oa(n);if(0===_s.size)return Promise.resolve(i);const s=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(r.map(t=>t.providers));if(0===s.length)return Promise.resolve(i);const o=function(){const t=H.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),a=vs.create({providers:s}).get(o.ResourceLoader);return function(t){const e=[],n=new Map;function r(t){let e=n.get(t);if(!e){const r=(t=>Promise.resolve(a.get(t)))(t);n.set(t,e=r.then(Es))}return e}return _s.forEach((t,n)=>{const i=[];t.templateUrl&&i.push(r(t.templateUrl).then(e=>{t.template=e}));const s=t.styleUrls,o=t.styles||(t.styles=[]),a=t.styles.length;s&&s.forEach((e,n)=>{o.push(""),i.push(r(e).then(r=>{o[a+n]=r,s.splice(s.indexOf(e),1),0==s.length&&(t.styleUrls=void 0)}))});const u=Promise.all(i).then(()=>function(t){ws.delete(t)}(n));e.push(u)}),_s=new Map,Promise.all(e).then(()=>{})}().then(()=>i)};const ku=new Y("AllowMultipleToken");class Au{constructor(t,e){this.name=t,this.token=e}}function ju(t,e,n=[]){const r="Platform: "+e,i=new Y(r);return(e=[])=>{let s=Du();if(!s||s.injector.get(ku,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:is,useValue:"platform"});!function(t){if(Iu&&!Iu.destroyed&&!Iu.injector.get(ku,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Iu=t.get(Pu);const e=t.get(Za,null);e&&e.forEach(t=>t())}(vs.create({providers:t,name:r}))}return function(t){const e=Du();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Du(){return Iu&&!Iu.destroyed?Iu:null}let Pu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new wu:("zone.js"===t?void 0:t)||new pu({enableLongStackTrace:Mn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:pu,useValue:n}];return n.run(()=>{const e=vs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(_n,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Lu(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return qs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Wa);return t.runInitializers(),t.donePromise.then(()=>(wa(i.injector.get(eu,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Nu({},e);return Cu(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Ru);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${N(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(ut(vs))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function Nu(t,e){return Array.isArray(e)?e.reduce(Nu,t):Object.assign(Object.assign({},t),e)}let Ru=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Mn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{pu.assertNotInAngularZone(),du(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{pu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Co?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(dt),i=n.create(vs.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(Eu,null);return s&&i.injector.get(Su).registerApplication(i.location.nativeElement,s),this._loadComponent(i),Mn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Lu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Xa,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Lu(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(ut(pu),ut(tu),ut(vs),ut(_n),ut(Ao),ut(Wa))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function Lu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Mu{}class Fu{}const Uu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Vu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Uu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>qu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>qu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(ut(lu),ut(Fu,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function qu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const zu=function(t){return null},Bu=ju(null,"core",[{provide:Ya,useValue:"unknown"},{provide:Pu,deps:[vs]},{provide:Su,deps:[]},{provide:tu,deps:[]}]),Hu=[{provide:Ru,useClass:Ru,deps:[pu,tu,vs,_n,Ao,Wa]},{provide:ua,deps:[pu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Wa,useClass:Wa,deps:[[new v,Ga]]},{provide:lu,useClass:lu,deps:[]},Qa,{provide:Jo,useFactory:function(){return Xo},deps:[]},{provide:Zo,useFactory:function(){return ta},deps:[]},{provide:eu,useFactory:function(t){return wa(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new y(eu),new v,new _]]},{provide:nu,useValue:"USD"}];let $u=(()=>{class t{constructor(t){}}return t.\u0275mod=jt({type:t}),t.\u0275inj=T({factory:function(e){return new(e||t)(ut(Ru))},providers:Hu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule((function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("SpAZ");function i(...t){return s(t)}function s(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return _})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return u})),n.d(e,"m",(function(){return c})),n.d(e,"n",(function(){return f})),n.d(e,"o",(function(){return m}));var r=n("mrSG");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?v(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new g(i,a,r);return u},t}();function v(t,e){return t.replace(b,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var b=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function S(){}},qgXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i)},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(a))try{a.call(this)}catch(l){e=l instanceof o?u(l.errors):[l]}if(Object(r.a)(c)){let t=-1,n=c.length;for(;++t<n;){const n=c[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(l){e=e||[],l instanceof o?e=e.concat(u(l.errors)):e.push(l)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return I})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return O})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return g})),n.d(e,"j",(function(){return E}));var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.a){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),_=new u.O("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&S("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const E=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(u.W)()&&"undefined"!=typeof console&&console[t](...e)};function O(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:w,deps:[v,u.z,[new u.A,b]]};let I=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({factory:function(e){return new(e||t)(u.Sb(u.B))},providers:[T]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return u}),"PUBLIC"));try{for(var c=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.f)(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=Object(s.h)(Object.keys(e)),m=p.next();!m.done;m=p.next())e[m.value]._addComponent(a)}catch(g){u={error:g}}finally{try{m&&!m.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var v=p;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new m(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(v),e.a=v},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyD1O6sO7uFrwlns1gR1PGfAibtNu_uyHoA",authDomain:"notesapp-b2c5d.firebaseapp.com",projectId:"notesapp-b2c5d",storageBucket:"notesapp-b2c5d.appspot.com",messagingSenderId:"1013442246465",appId:"1:1013442246465:web:470dfefece2912fea653c0"};let s=null;function o(){return s}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Sb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=Object(r.Ib)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Sb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Sb)(a).location;return new _(Object(r.Sb)(u),e&&e.origin||"")}const b=new r.q("appBaseHref");let _=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(u),r.Sb(b,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(u),r.Sb(b,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(y),r.Sb(u))},t.normalizeQueryParams=g,t.joinWithSlash=p,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Ib)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new E(Object(r.Sb)(y),Object(r.Sb)(u))}function O(t){return t.replace(/\/index.html$/,"")}const T=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),I=r.ob;class x{}let C=(()=>{class t extends x{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(I(e||this.locale)(t)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.u))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function k(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let j=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.W)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(lE){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new D(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new D(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.P),r.Mb(r.L),r.Mb(r.s))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class D{constructor(t,e){this.record=t,this.view=e}}let P=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[{provide:x,useClass:C}]}),t})(),N=(()=>{class t{}return t.\u0275prov=Object(r.Ib)({token:t,providedIn:"root",factory:()=>new R(Object(r.Sb)(a),window,Object(r.Sb)(r.m))}),t})();class R{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(lE){return!1}}}class L extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new L,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=F||(F=document.querySelector("base"),F)?F.getAttribute("href"):null;return null==e?null:(n=e,M||(M=document.createElement("a")),M.setAttribute("href",n),"/"===M.pathname.charAt(0)?M.pathname:"/"+M.pathname);var n}resetBaseElement(){F=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return k(document.cookie,t)}}let M,F=null;const U=new r.q("TRANSITION_ID"),V=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[U,a,r.r],multi:!0}];class q{static init(){Object(r.Y)(new q)}addToWindow(t){r.qb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.qb.getAllAngularRootElements=()=>t.getAllRootElements(),r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push(t=>{const e=r.qb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(s)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const z=new r.q("EventManagerPlugins");let B=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(z),r.Sb(r.z))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class H{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let $=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),G=(()=>{class t extends ${constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const W={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},K=/%COMP%/g;function Q(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Q(t,i,n):(i=i.replace(K,t),n.push(i))}return n}function J(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Z=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Y(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new X(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.Q.Native:case r.Q.ShadowDom:return new tt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Q(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(B),r.Sb(G),r.Sb(r.c))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class Y{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(W[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=W[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=W[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.G.DashCase?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,J(n)):this.eventManager.addEventListener(t,e,J(n))}}class X extends Y{constructor(t,e,n,r){super(t),this.component=n;const i=Q(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(K,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(K,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class tt extends Y{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.Q.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=Q(i.id,i.styles,[]);for(let r=0;r<s.length;r++){const t=document.createElement("style");t.textContent=s[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let et=(()=>{class t extends H{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const nt=["alt","control","meta","shift"],rt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},it={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},st={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ot=(()=>{class t extends H{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(nt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&it.hasOwnProperty(e)&&(e=it[e]))}return rt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),nt.forEach(r=>{r!=n&&(0,st[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const at=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){L.makeCurrent(),q.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.wb)(document),document},deps:[]}],ut=Object(r.S)(r.X,"browser",at),ct=[[],{provide:r.ab,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:z,useClass:et,multi:!0,deps:[a,r.z,r.B]},{provide:z,useClass:ot,multi:!0,deps:[a]},[],{provide:Z,useClass:Z,deps:[B,G,r.c]},{provide:r.F,useExisting:Z},{provide:$,useExisting:G},{provide:G,useClass:G,deps:[a]},{provide:r.M,useClass:r.M,deps:[r.z]},{provide:B,useClass:B,deps:[z,r.z]},[]];let lt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:U,useExisting:r.c},V]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)(r.Sb(t,12))},providers:ct,imports:[P,r.f]}),t})();"undefined"!=typeof window&&window;var ht=n("LRne"),ft=n("Cfvw"),dt=n("XNiG"),pt=n("9ppp");class mt extends dt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new pt.a;return this._value}next(t){super.next(this._value=t)}}var gt=n("HDdC");const yt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var vt=n("z+Ro"),bt=n("DH7j"),_t=n("l7GE"),wt=n("ZUHj"),Et=n("yCtX");const St={};class Ot{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Tt(t,this.resultSelector))}}class Tt extends _t.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(St),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(wt.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const s=this.values,o=this.toRespond?s[n]===St?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var It=n("EY2u");function xt(t){return new gt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(ft.a)(n):Object(It.b)()).subscribe(e)})}var Ct=n("lJxs"),kt=n("bHdf");function At(){return Object(kt.a)(1)}var jt=n("7o/Q");function Dt(t,e){return function(n){return n.lift(new Pt(t,e))}}class Pt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Nt(t,this.predicate,this.thisArg))}}class Nt extends jt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Rt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Lt(t){return function(e){return 0===t?Object(It.b)():e.lift(new Mt(t))}}class Mt{constructor(t){if(this.total=t,this.total<0)throw new Rt}call(t,e){return e.subscribe(new Ft(t,this.total))}}class Ft extends jt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Ut(t=zt){return e=>e.lift(new Vt(t))}class Vt{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new qt(t,this.errorFactory))}}class qt extends jt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function zt(){return new yt}function Bt(t=null){return e=>e.lift(new Ht(t))}class Ht{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new $t(t,this.defaultValue))}}class $t extends jt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Gt=n("SpAZ");function Wt(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Dt((e,n)=>t(e,n,r)):Gt.a,Lt(1),n?Bt(e):Ut(()=>new yt))}var Kt=n("51Dv");function Qt(t){return function(e){const n=new Jt(t),r=e.lift(n);return n.caught=r}}class Jt{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Zt(t,this.selector,this.caught))}}class Zt extends _t.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Kt.a(this,void 0,void 0);this.add(r);const i=Object(wt.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function Yt(t){return e=>0===t?Object(It.b)():e.lift(new Xt(t))}class Xt{constructor(t){if(this.total=t,this.total<0)throw new Rt}call(t,e){return e.subscribe(new te(t,this.total))}}class te extends jt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function ee(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Dt((e,n)=>t(e,n,r)):Gt.a,Yt(1),n?Bt(e):Ut(()=>new yt))}var ne=n("5+tZ");class re{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new ie(t,this.predicate,this.thisArg,this.source))}}class ie extends jt.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function se(t,e){return"function"==typeof e?n=>n.pipe(se((n,r)=>Object(ft.a)(t(n,r)).pipe(Object(Ct.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new oe(t))}class oe{constructor(t){this.project=t}call(t,e){return e.subscribe(new ae(t,this.project))}}class ae extends _t.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new Kt.a(this,e,n),s=this.destination;s.add(i),this.innerSubscription=Object(wt.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function ue(...t){return At()(Object(ht.a)(...t))}function ce(...t){const e=t[t.length-1];return Object(vt.a)(e)?(t.pop(),n=>ue(t,n,e)):e=>ue(t,e)}function le(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new he(t,e,n))}}class he{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new fe(t,this.accumulator,this.seed,this.hasSeed))}}class fe extends jt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function de(t,e){return Object(ne.a)(t,e,1)}var pe=n("mCNh"),me=n("vkgz"),ge=n("quSY");class ye{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ve(t,this.callback))}}class ve extends jt.a{constructor(t,e){super(t),this.add(new ge.a(e))}}class be{constructor(t,e){this.id=t,this.url=e}}class _e extends be{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class we extends be{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ee extends be{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Se extends be{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Oe extends be{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Te extends be{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ie extends be{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xe extends be{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ce extends be{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ke{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ae{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class je{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class De{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pe{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ne{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Re{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Le=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Nb(0,"router-outlet")},directives:function(){return[Fr]},encapsulation:2}),t})();class Me{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Fe(t){return new Me(t)}function Ue(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ve(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class qe{constructor(t,e){this.routes=t,this.module=e}}function ze(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Be(r,He(e,r))}}function Be(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&ze(t.children,e)}function He(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function $e(t){const e=t.children&&t.children.map($e),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Le),n}function Ge(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!We(t[i],e[i]))return!1;return!0}function We(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function Ke(t){return Array.prototype.concat.apply([],t)}function Qe(t){return t.length>0?t[t.length-1]:null}function Je(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ze(t){return Object(r.sb)(t)?t:Object(r.tb)(t)?Object(ft.a)(Promise.resolve(t)):Object(ht.a)(t)}function Ye(t,e,n){return n?function(t,e){return Ge(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!nn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>We(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!nn(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!nn(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!nn(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,s)}}(e,n,n.segments)}(t.root,e.root)}class Xe{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fe(this.queryParams)),this._queryParamMap}toString(){return an.serialize(this)}}class tn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Je(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return un(this)}}class en{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Fe(this.parameters)),this._parameterMap}toString(){return pn(this)}}function nn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function rn(t,e){let n=[];return Je(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),Je(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class sn{}class on{parse(t){const e=new bn(t);return new Xe(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return un(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Je(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=rn(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${un(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${ln(e)}=${ln(t)}`).join("&"):`${ln(e)}=${ln(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const an=new on;function un(t){return t.segments.map(t=>pn(t)).join("/")}function cn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ln(t){return cn(t).replace(/%3B/gi,";")}function hn(t){return cn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fn(t){return decodeURIComponent(t)}function dn(t){return fn(t.replace(/\+/g,"%20"))}function pn(t){return`${hn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${hn(t)}=${hn(e[t])}`).join("")}`;var e}const mn=/^[^\/()?;=#]+/;function gn(t){const e=t.match(mn);return e?e[0]:""}const yn=/^[^=?&#]+/,vn=/^[^?&#]+/;class bn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new tn(t,e)),n}parseSegment(){const t=gn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new en(fn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=gn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=gn(this.remaining);t&&(n=t,this.capture(n))}t[fn(e)]=fn(n)}parseQueryParam(t){const e=function(t){const e=t.match(yn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(vn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=dn(e),i=dn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=gn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new tn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class _n{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=wn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=wn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=En(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return En(t,this._root).map(t=>t.value)}}function wn(t,e){if(t===e.value)return e;for(const n of e.children){const e=wn(t,n);if(e)return e}return null}function En(t,e){if(t===e.value)return[e];for(const n of e.children){const r=En(t,n);if(r.length)return r.unshift(e),r}return[]}class Sn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function On(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Tn extends _n{constructor(t,e){super(t),this.snapshot=e,jn(this,t)}toString(){return this.snapshot.toString()}}function In(t,e){const n=function(t,e){const n=new kn([],{},{},"",{},"primary",e,null,t.root,-1,{});return new An("",new Sn(n,[]))}(t,e),r=new mt([new en("",{})]),i=new mt({}),s=new mt({}),o=new mt({}),a=new mt(""),u=new xn(r,i,o,a,s,"primary",e,n.root);return u.snapshot=n.root,new Tn(new Sn(u,[]),n)}class xn{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Ct.a)(t=>Fe(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Ct.a)(t=>Fe(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class kn{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fe(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class An extends _n{constructor(t,e){super(e),this.url=t,jn(this,e)}toString(){return Dn(this._root)}}function jn(t,e){e.value._routerState=t,e.children.forEach(e=>jn(t,e))}function Dn(t){const e=t.children.length>0?` { ${t.children.map(Dn).join(", ")} } `:"";return`${t.value}${e}`}function Pn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ge(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ge(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ge(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ge(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Nn(t,e){return Ge(t.params,e.params)&&function(t,e){return nn(t,e)&&t.every((t,n)=>Ge(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Nn(t.parent,e.parent))}function Rn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ln(t,e,n,r,i){let s={};return r&&Je(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Xe(n.root===t?e:function t(e,n,r){const i={};return Je(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new tn(e.segments,i)}(n.root,t,e),s,i)}class Mn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Rn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Qe(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Un(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function Vn(t,e,n){if(t||(t=new tn([],{})),0===t.segments.length&&t.hasChildren())return qn(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=Un(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!$n(o,a,e))return s;r+=2}else{if(!$n(o,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new tn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new tn(t.segments.slice(r.pathIndex),t.children),qn(e,0,i)}return r.match&&0===i.length?new tn(t.segments,{}):r.match&&!t.hasChildren()?zn(t,e,n):r.match?qn(t,0,i):zn(t,e,n)}function qn(t,e,n){if(0===n.length)return new tn(t.segments,{});{const r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return Je(r,(n,r)=>{null!==n&&(i[r]=Vn(t.children[r],e,n))}),Je(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new tn(t.segments,i)}}function zn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=Bn(n[i].outlets);return new tn(r,t)}if(0===i&&Rn(n[0])){r.push(new en(t.segments[e].path,n[0])),i++;continue}const s=Un(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&Rn(o)?(r.push(new en(s,Hn(o))),i+=2):(r.push(new en(s,{})),i++)}return new tn(r,{})}function Bn(t){const e={};return Je(t,(t,n)=>{null!==t&&(e[n]=zn(new tn([],{}),0,t))}),e}function Hn(t){const e={};return Je(t,(t,n)=>e[n]=""+t),e}function $n(t,e,n){return t==n.path&&Ge(e,n.parameters)}class Gn{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Pn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=On(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Je(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=On(t),i=t.value.component?n.children:e;Je(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=On(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Ne(t.value.snapshot))}),t.children.length&&this.forwardEvent(new De(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Pn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Wn(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Wn(t){Pn(t.value),t.children.forEach(Wn)}function Kn(t){return"function"==typeof t}function Qn(t){return t instanceof Xe}class Jn{constructor(t){this.segmentGroup=t||null}}class Zn{constructor(t){this.urlTree=t}}function Yn(t){return new gt.a(e=>e.error(new Jn(t)))}function Xn(t){return new gt.a(e=>e.error(new Zn(t)))}function tr(t){return new gt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class er{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(Ct.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Qt(t=>{if(t instanceof Zn)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Jn)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(Ct.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Qt(t=>{if(t instanceof Jn)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new tn([],{primary:t}):t;return new Xe(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Ct.a)(t=>new tn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(ht.a)({});const n=[],r=[],i={};return Je(t,(t,s)=>{const o=e(s,t).pipe(Object(Ct.a)(t=>i[s]=t));"primary"===s?n.push(o):r.push(o)}),ht.a.apply(null,n.concat(r)).pipe(At(),Wt(),Object(Ct.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return Object(ht.a)(...n).pipe(Object(Ct.a)(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(Qt(t=>{if(t instanceof Jn)return Object(ht.a)(null);throw t}))),At(),ee(t=>!!t),Qt((t,n)=>{if(t instanceof yt||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(ht.a)(new tn([],{}));throw new Jn(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return sr(r)!==s?Yn(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Yn(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Xn(i):this.lineralizeSegments(n,i).pipe(Object(ne.a)(n=>{const i=new tn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=nr(e,r,i);if(!o)return Yn(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Xn(l):this.lineralizeSegments(r,l).pipe(Object(ne.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Ct.a)(t=>(n._loadedConfig=t,new tn(r,{})))):Object(ht.a)(new tn(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=nr(e,n,r);if(!i)return Yn(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(ne.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>ir(t,e,n)&&"primary"!==sr(n))}(t,n,r)?{segmentGroup:rr(new tn(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==sr(r)&&(n[sr(r)]=new tn([],{}));return n}(r,new tn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>ir(t,e,n))}(t,n,r)?{segmentGroup:rr(new tn(t.segments,function(t,e,n,r){const i={};for(const s of n)ir(t,e,s)&&!r[sr(s)]&&(i[sr(s)]=new tn([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Ct.a)(t=>new tn(s,t))):0===r.length&&0===o.length?Object(ht.a)(new tn(s,{})):this.expandSegment(n,i,r,o,"primary",!0).pipe(Object(Ct.a)(t=>new tn(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(ht.a)(new qe(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(ht.a)(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(ft.a)(r).pipe(Object(Ct.a)(r=>{const i=t.get(r);let s;if(function(t){return t&&Kn(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Kn(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return Ze(s)})).pipe(At(),(i=t=>!0===t,t=>t.lift(new re(i,void 0,t)))):Object(ht.a)(!0);var i}(t.injector,e,n).pipe(Object(ne.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Ct.a)(t=>(e._loadedConfig=t,t))):function(t){return new gt.a(e=>e.error(Ue(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(ht.a)(new qe([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(ht.a)(n);if(r.numberOfChildren>1||!r.children.primary)return tr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Xe(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Je(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Je(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new tn(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function nr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Ve)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function rr(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new tn(t.segments.concat(e.segments),e.children)}return t}function ir(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function sr(t){return t.outlet||"primary"}class or{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ar{constructor(t,e){this.component=t,this.route=e}}function ur(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=On(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!nn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!nn(t.url,e.url)||!Ge(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nn(t,e)||!Ge(t.queryParams,e.queryParams);case"paramsChange":default:return!Nn(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new or(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?u?u.children:null:r,i,s),c&&s.canDeactivateChecks.push(new ar(u&&u.outlet&&u.outlet.component||null,a))}else a&&lr(n,u,s),s.canActivateChecks.push(new or(i)),t(e,null,o.component?u?u.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),Je(o,(t,e)=>lr(t,r.getContext(e),s)),s}(r,e?e._root:null,n,[r.value])}function cr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function lr(t,e,n){const r=On(t),i=t.value;Je(r,(t,r)=>{lr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new ar(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const hr=Symbol("INITIAL_VALUE");function fr(){return se(t=>function(...t){let e=null,n=null;return Object(vt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(bt.a)(t[0])&&(t=t[0]),Object(Et.a)(t,n).lift(new Ot(e))}(...t.map(t=>t.pipe(Yt(1),ce(hr)))).pipe(le((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==hr)return t;if(r===hr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Qn(r))return r}return t},t)},hr),Dt(t=>t!==hr),Object(Ct.a)(t=>Qn(t)?t:!0===t),Yt(1)))}function dr(t,e){return null!==t&&e&&e(new Pe(t)),Object(ht.a)(!0)}function pr(t,e){return null!==t&&e&&e(new je(t)),Object(ht.a)(!0)}function mr(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(ht.a)(!0);const i=r.map(r=>xt(()=>{const i=cr(r,e,n);let s;if(function(t){return t&&Kn(t.canActivate)}(i))s=Ze(i.canActivate(e,t));else{if(!Kn(i))throw new Error("Invalid CanActivate guard");s=Ze(i(e,t))}return s.pipe(ee())}));return Object(ht.a)(i).pipe(fr())}function gr(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>xt(()=>{const i=e.guards.map(i=>{const s=cr(i,e.node,n);let o;if(function(t){return t&&Kn(t.canActivateChild)}(s))o=Ze(s.canActivateChild(r,t));else{if(!Kn(s))throw new Error("Invalid CanActivateChild guard");o=Ze(s(r,t))}return o.pipe(ee())});return Object(ht.a)(i).pipe(fr())}));return Object(ht.a)(i).pipe(fr())}class yr{}class vr{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=wr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new kn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Sn(n,e),i=new An(this.url,r);return this.inheritParamsAndData(i._root),Object(ht.a)(i)}catch(t){return new gt.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Cn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=rn(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof yr))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new yr}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new yr;if((t.outlet||"primary")!==r)throw new yr;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?Qe(n).parameters:{};i=new kn(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Or(t),r,t.component,t,br(e),_r(e)+n.length,Tr(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new yr;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Ve)(n,t,e);if(!r)throw new yr;const i={};Je(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new kn(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Or(t),r,t.component,t,br(e),_r(e)+s.length,Tr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=wr(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Sn(i,t)]}if(0===a.length&&0===c.length)return[new Sn(i,[])];const l=this.processSegment(a,u,c,"primary");return[new Sn(i,l)]}}function br(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function _r(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function wr(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Er(t,e,n)&&"primary"!==Sr(n))}(t,n,r)){const i=new tn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==Sr(s)){const n=new tn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Sr(s)]=n}return i}(t,e,r,new tn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Er(t,e,n))}(t,n,r)){const s=new tn(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Er(t,n,a)&&!i[Sr(a)]){const n=new tn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Sr(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new tn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Er(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Sr(t){return t.outlet||"primary"}function Or(t){return t.data||{}}function Tr(t){return t.resolve||{}}function Ir(t,e,n,r){const i=cr(t,e,r);return Ze(i.resolve?i.resolve(e,n):i(e,n))}function xr(t){return function(e){return e.pipe(se(e=>{const n=t(e);return n?Object(ft.a)(n).pipe(Object(Ct.a)(()=>e)):Object(ft.a)([e])}))}}class Cr{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const kr=new r.q("ROUTES");class Ar{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Ct.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new qe(Ke(r.injector.get(kr)).map($e),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(ft.a)(this.loader.load(t)):Ze(t()).pipe(Object(ne.a)(t=>t instanceof r.v?Object(ht.a)(t):Object(ft.a)(this.compiler.compileModuleAsync(t))))}}class jr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Dr(t){throw t}function Pr(t,e,n){return e.parse("/")}function Nr(t,e){return Object(ht.a)(null)}let Rr=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new dt.a,this.errorHandler=Dr,this.malformedUriErrorHandler=Pr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Nr,afterPreactivation:Nr},this.urlHandlingStrategy=new jr,this.routeReuseStrategy=new Cr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(r.x),this.console=s.get(r.Z);const c=s.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new Xe(new tn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ar(o,a,t=>this.triggerEvent(new ke(t)),t=>this.triggerEvent(new Ae(t))),this.routerState=In(this.currentUrlTree,this.rootComponentType),this.transitions=new mt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Dt(t=>0!==t.id),Object(Ct.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),se(t=>{let n=!1,r=!1;return Object(ht.a)(t).pipe(Object(me.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),se(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(ht.a)(t).pipe(se(t=>{const n=this.transitions.getValue();return e.next(new _e(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?It.a:[t]}),se(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(se(t=>function(t,e,n,r,i){return new er(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(Ct.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(me.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(ne.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new vr(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(Ct.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(me.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(me.a)(t=>{const n=new Oe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new _e(n,this.serializeUrl(r),i,s);e.next(a);const u=In(r,this.rootComponentType).snapshot;return Object(ht.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),It.a}),xr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(me.a)(t=>{const e=new Te(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Ct.a)(t=>Object.assign(Object.assign({},t),{guards:ur(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(ne.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(ht.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(ft.a)(t).pipe(Object(ne.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(ht.a)(!0);const o=s.map(s=>{const o=cr(s,e,i);let a;if(function(t){return t&&Kn(t.canDeactivate)}(o))a=Ze(o.canDeactivate(t,e,n,r));else{if(!Kn(o))throw new Error("Invalid CanDeactivate guard");a=Ze(o(t,e,n,r))}return a.pipe(ee())});return Object(ht.a)(o).pipe(fr())}(t.component,t.route,n,e,r)),ee(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(ne.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(ft.a)(e).pipe(de(e=>Object(ft.a)([pr(e.route.parent,r),dr(e.route,r),gr(t,e.path,n),mr(t,e.route,n)]).pipe(At(),ee(t=>!0!==t,!0))),ee(t=>!0!==t,!0))}(r,s,t,e):Object(ht.a)(n)),Object(Ct.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(me.a)(t=>{if(Qn(t.guardsResult)){const e=Ue(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(me.a)(t=>{const e=new Ie(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Dt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ee(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),xr(t=>{if(t.guards.canActivateChecks.length)return Object(ht.a)(t).pipe(Object(me.a)(t=>{const e=new xe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(Object(ne.a)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;return i.length?Object(ft.a)(i).pipe(de(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(ht.a)({});if(1===i.length){const s=i[0];return Ir(t[s],e,n,r).pipe(Object(Ct.a)(t=>({[s]:t})))}const s={};return Object(ft.a)(i).pipe(Object(ne.a)(i=>Ir(t[i],e,n,r).pipe(Object(Ct.a)(t=>(s[i]=t,t))))).pipe(Wt(),Object(Ct.a)(()=>s))}(t._resolve,t,e,r).pipe(Object(Ct.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Cn(t,n).resolve),null)))}(t.route,r,e,n)),function(t,e){return arguments.length>=2?function(n){return Object(pe.a)(le(t,e),Lt(1),Bt(e))(n)}:function(e){return Object(pe.a)(le((e,n,r)=>t(e,n,r+1)),Lt(1))(e)}}((t,e)=>t),Object(Ct.a)(e=>t)):Object(ht.a)(t)}))}),Object(me.a)(t=>{const e=new Ce(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),xr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Ct.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Sn(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new xn(new mt((i=n.value).url),new mt(i.params),new mt(i.queryParams),new mt(i.fragment),new mt(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new Sn(r,s)}}var i}(t,e._root,n?n._root:void 0);return new Tn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(me.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Ct.a)(t=>(new Gn(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(me.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Ee(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new ye(i))),Qt(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Qn(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Ee(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Se(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var i;return It.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ze(t),this.config=t.map($e),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:s,preserveQueryParams:o,queryParamsHandling:a,preserveFragment:u}=e;Object(r.W)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:s;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=o?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return Ln(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Mn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Je(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Mn(n,e,r)}(n);if(s.toRoot())return Ln(e.root,new tn([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Fn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Fn(n.snapshot._urlSegment,!0,0);const r=Rn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Fn(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?qn(o.segmentGroup,o.index,s.commands):Vn(o.segmentGroup,o.index,s.commands);return Ln(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.W)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Qn(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Qn(t))return Ye(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Ye(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new we(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition();if(s&&"imperative"!==e&&"imperative"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"hashchange"==e&&"popstate"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"popstate"==e&&"hashchange"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o,a,u;i?(o=i.resolve,a=i.reject,u=i.promise):u=new Promise((t,e)=>{o=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){r.Vb()},t.\u0275dir=r.Hb({type:t}),t})();class Lr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Mr,this.attachRef=null}}class Mr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Lr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Fr=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Ur(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Mr),r.Mb(r.P),r.Mb(r.j),r.Tb("name"),r.Mb(r.h))},t.\u0275dir=r.Hb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Ur{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===xn?this.route:t===Mr?this.childContexts:this.parent.get(t,e)}}class Vr{}class qr{preload(t,e){return Object(ht.a)(null)}}let zr=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Ar(e,n,e=>t.triggerEvent(new ke(e)),e=>t.triggerEvent(new Ae(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Dt(t=>t instanceof we),de(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(ft.a)(n).pipe(Object(kt.a)(),Object(Ct.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(ne.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Rr),r.Sb(r.w),r.Sb(r.i),r.Sb(r.r),r.Sb(Vr))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Br=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _e?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof we&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Re&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Re(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){r.Vb()},t.\u0275dir=r.Hb({type:t}),t})();const Hr=new r.q("ROUTER_CONFIGURATION"),$r=new r.q("ROUTER_FORROOT_GUARD"),Gr=[E,{provide:sn,useClass:on},{provide:Rr,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new Rr(null,t,e,n,r,i,s,Ke(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[sn,Mr,E,r.r,r.w,r.i,kr,Hr,[class{},new r.A],[class{},new r.A]]},Mr,{provide:xn,useFactory:function(t){return t.routerState.root},deps:[Rr]},{provide:r.w,useClass:r.K},zr,qr,class{preload(t,e){return e().pipe(Qt(()=>Object(ht.a)(null)))}},{provide:Hr,useValue:{enableTracing:!1}}];function Wr(){return new r.y("Router",Rr)}let Kr=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Gr,Yr(e),{provide:$r,useFactory:Zr,deps:[[Rr,new r.A,new r.J]]},{provide:Hr,useValue:n||{}},{provide:y,useFactory:Jr,deps:[u,[new r.p(b),new r.A],Hr]},{provide:Br,useFactory:Qr,deps:[Rr,N,Hr]},{provide:Vr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:qr},{provide:r.y,multi:!0,useFactory:Wr},[Xr,{provide:r.d,multi:!0,useFactory:ti,deps:[Xr]},{provide:ni,useFactory:ei,deps:[Xr]},{provide:r.b,multi:!0,useExisting:ni}]]}}static forChild(e){return{ngModule:t,providers:[Yr(e)]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)(r.Sb($r,8),r.Sb(Rr,8))}}),t})();function Qr(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Br(t,e,n)}function Jr(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function Zr(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Yr(t){return[{provide:r.a,multi:!0,useValue:t},{provide:kr,multi:!0,useValue:t}]}let Xr=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new dt.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Rr),r=this.injector.get(Hr);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(ht.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Hr),n=this.injector.get(zr),i=this.injector.get(Br),s=this.injector.get(Rr),o=this.injector.get(r.g);t===o.components[0]&&(this.isLegacyEnabled(e)?s.initialNavigation():this.isLegacyDisabled(e)&&s.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.r))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function ti(t){return t.appInitializer.bind(t)}function ei(t){return t.bootstrapListener.bind(t)}const ni=new r.q("Router Initializer");let ri=(()=>{class t{constructor(){this.title="notesAppContentEditable"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Nb(0,"router-outlet")},directives:[Fr],styles:["h1[_ngcontent-%COMP%]{text-align:center}"]}),t})();class ii{constructor(t,e){this.title=t,this.content=e,this.date=new Date,this.id=this.getId()}getId(){return Math.floor(1e7*Math.random())}}class si{}class oi{}class ai{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ai?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ai;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ai?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class ui{encodeKey(t){return ci(t)}encodeValue(t){return ci(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function ci(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class li{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ui,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new li({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function hi(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function fi(t){return"undefined"!=typeof Blob&&t instanceof Blob}function di(t){return"undefined"!=typeof FormData&&t instanceof FormData}class pi{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new ai),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new li,this.urlWithParams=e}serializeBody(){return null===this.body?null:hi(this.body)||fi(this.body)||di(this.body)||"string"==typeof this.body?this.body:this.body instanceof li?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||di(this.body)?null:fi(this.body)?this.body.type||null:hi(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof li?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new pi(e,n,i,{params:u,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}const mi=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class gi{constructor(t,e=200,n="OK"){this.headers=t.headers||new ai,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class yi extends gi{constructor(t={}){super(t),this.type=mi.ResponseHeader}clone(t={}){return new yi({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class vi extends gi{constructor(t={}){super(t),this.type=mi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new vi({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class bi extends gi{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function _i(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let wi=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof pi)r=t;else{let i=void 0;i=n.headers instanceof ai?n.headers:new ai(n.headers);let s=void 0;n.params&&(s=n.params instanceof li?n.params:new li({fromObject:n.params})),r=new pi(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(ht.a)(r).pipe(de(t=>this.handler.handle(t)));if(t instanceof pi||"events"===n.observe)return i;const s=i.pipe(Dt(t=>t instanceof vi));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(Ct.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(Ct.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(Ct.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(Ct.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new li).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,_i(n,e))}post(t,e,n={}){return this.request("POST",t,_i(n,e))}put(t,e,n={}){return this.request("PUT",t,_i(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(si))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class Ei{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Si=new r.q("HTTP_INTERCEPTORS");let Oi=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Ti=/^\)\]\}',?\n/;class Ii{}let xi=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Ci=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new gt.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new ai(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new yi({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(Ti,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new vi({body:u,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new bi({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new bi({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(s()),u=!0);let i={type:mi.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:mi.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:mi.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Ii))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const ki=new r.q("XSRF_COOKIE_NAME"),Ai=new r.q("XSRF_HEADER_NAME");class ji{}let Di=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=k(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a),r.Sb(r.B),r.Sb(ki))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Pi=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(ji),r.Sb(Ai))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Ni=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Si,[]);this.chain=t.reduceRight((t,e)=>new Ei(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(oi),r.Sb(r.r))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Ri=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Pi,useClass:Oi}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:ki,useValue:e.cookieName}:[],e.headerName?{provide:Ai,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[Pi,{provide:Si,useExisting:Pi,multi:!0},{provide:ji,useClass:Di},{provide:ki,useValue:"XSRF-TOKEN"},{provide:Ai,useValue:"X-XSRF-TOKEN"}]}),t})(),Li=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[wi,{provide:si,useClass:Ni},Ci,{provide:oi,useExisting:Ci},xi,{provide:Ii,useExisting:xi}],imports:[[Ri.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),Mi=(()=>{class t{constructor(t){this.http=t,this.$notesChanged=new dt.a,this.notes=[],this.baseUrl="https://notesapp-b2c5d-default-rtdb.firebaseio.com/",this.notesUrl="https://notesapp-b2c5d-default-rtdb.firebaseio.com/notes.json"}addNote(){const t=new ii("Type a title","Type content");this.http.post(this.notesUrl,t).subscribe(t=>{this.fetchPosts().subscribe(t=>{this.notes=t,this.$notesChanged.next(this.notes)})})}onFetchPosts(){this.fetchPosts()}fetchPosts(){return this.http.get(this.notesUrl).pipe(Object(Ct.a)(t=>{const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push(Object.assign(Object.assign({},t[n]),{id:n}));return this.notes=e,this.notes}))}updateNote(t,e,n){this.http.patch(this.baseUrl+"notes/"+t+".json",{title:e.nativeElement.innerText,content:n.nativeElement.innerText}).subscribe(t=>{console.log(t),this.fetchPosts().subscribe(t=>{this.notes=t,this.$notesChanged.next(this.notes)})})}removeNote(t){return this.http.delete(this.baseUrl+"notes/"+t+".json").subscribe(t=>{this.fetchPosts().subscribe(t=>{this.notes=t,this.$notesChanged.next(this.notes)})})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(wi))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Fi=n("D0XW");function Ui(t,e=Fi.a){return n=>n.lift(new Vi(t,e))}class Vi{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new qi(t,this.dueTime,this.scheduler))}}class qi extends jt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(zi,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function zi(t){t.debouncedNext()}function Bi(t){return null!=t&&""+t!="false"}function Hi(t){return t instanceof r.l?t.nativeElement:t}let $i;try{$i="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(lE){$i=!1}let Gi,Wi,Ki=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!$i)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.B,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Sb)(r.B,8))},token:t,providedIn:"root"}),t})(),Qi=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)}}),t})();function Ji(t){return function(){if(null==Gi&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Gi=!0}))}finally{Gi=Gi||!1}return Gi}()?t:!!t.capture}function Zi(t){if(function(){if(null==Wi){const t="undefined"!=typeof document?document.head:null;Wi=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Wi}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Yi(t){return 0===t.buttons}"undefined"!=typeof Element&&Element;const Xi=new r.q("cdk-focus-monitor-default-options"),ts=Ji({passive:!0,capture:!0});let es=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=Yi(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=ns(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=ns(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){if(!this._platform.isBrowser)return Object(ht.a)(null);const n=Hi(t),r=Zi(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject.asObservable();const s={checkChildren:e,subject:new dt.a,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject.asObservable()}stopMonitoring(t){const e=Hi(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=Hi(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=ns(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==ns(t))return;const r=this._getFocusOrigin(t);this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,ts),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,ts)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,ts),t.addEventListener("mousedown",this._documentMousedownListener,ts),t.addEventListener("touchstart",this._documentTouchstartListener,ts),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ts),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ts),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,ts),t.removeEventListener("mousedown",this._documentMousedownListener,ts),t.removeEventListener("touchstart",this._documentTouchstartListener,ts),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.z),r.Sb(Ki),r.Sb(a,8),r.Sb(Xi,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Sb)(r.z),Object(r.Sb)(Ki),Object(r.Sb)(a,8),Object(r.Sb)(Xi,8))},token:t,providedIn:"root"}),t})();function ns(t){return t.composedPath?t.composedPath()[0]:t.target}let rs=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Ki),r.Sb(a))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Sb)(Ki),Object(r.Sb)(a))},token:t,providedIn:"root"}),t})();const is=new r.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.V)(a)}});let ss=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(is,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Sb)(is,8))},token:t,providedIn:"root"}),t})(),os=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)}}),t})();const as=new r.O("9.2.4");class us{}function cs(t,e=null){return{type:2,steps:t,options:e}}function ls(t){return{type:6,styles:t,offset:null}}function hs(t){Promise.resolve(null).then(t)}class fs{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){hs(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class ds{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?hs(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function ps(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ms(t){switch(t.length){case 0:return new fs;case 1:return t[0];default:return new ds(t)}}function gs(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function ys(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&vs(n,"start",t)));break;case"done":t.onDone(()=>r(n&&vs(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&vs(n,"destroy",t)))}}function vs(t,e,n){const r=n.totalTime,i=bs(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function bs(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function _s(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function ws(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Es=(t,e)=>!1,Ss=(t,e)=>!1,Os=(t,e,n)=>[];const Ts=ps();(Ts||"undefined"!=typeof Element)&&(Es=(t,e)=>t.contains(e),Ss=(()=>{if(Ts||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Ss}})(),Os=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let Is=null,xs=!1;function Cs(t){Is||(Is=("undefined"!=typeof document?document.body:null)||{},xs=!!Is.style&&"WebkitAppearance"in Is.style);let e=!0;return Is.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Is.style,!e&&xs)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Is.style),e}const ks=Ss,As=Es,js=Os;function Ds(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Ps=(()=>{class t{validateStyleProperty(t){return Cs(t)}matchesElement(t,e){return ks(t,e)}containsElement(t,e){return As(t,e)}query(t,e,n){return js(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new fs(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Ns=(()=>{class t{}return t.NOOP=new Ps,t})();function Rs(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ls(parseFloat(e[1]),e[2])}function Ls(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Ms(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Ls(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=Ls(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function Fs(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Us(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Fs(t,n);return n}function Vs(t,e,n){return n?e+":"+n+";":""}function qs(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Vs(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Vs(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function zs(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Js(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),ps()&&qs(t))}function Bs(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Js(e);t.style[n]=""}),ps()&&qs(t))}function Hs(t){return Array.isArray(t)?1==t.length?t[0]:cs(t):t}const $s=new RegExp("{{\\s*(.+?)\\s*}}","g");function Gs(t){let e=[];if("string"==typeof t){let n;for(;n=$s.exec(t);)e.push(n[1]);$s.lastIndex=0}return e}function Ws(t,e,n){const r=t.toString(),i=r.replace($s,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function Ks(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Qs=/-+([a-z0-9])/g;function Js(t){return t.replace(Qs,(...t)=>t[1].toUpperCase())}function Zs(t,e){return 0===t||0===e}function Ys(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=to(t,e)}))}}return e}function Xs(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function to(t,e){return window.getComputedStyle(t)[e]}function eo(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(io(i,o)),"<"!=s[0]||"*"==i&&"*"==o||e.push(io(o,i))}(t,n,e)):n.push(t),n}const no=new Set(["true","1"]),ro=new Set(["false","0"]);function io(t,e){const n=no.has(t)||ro.has(t),r=no.has(e)||ro.has(e);return(i,s)=>{let o="*"==t||t==i,a="*"==e||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?no.has(t):ro.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?no.has(e):ro.has(e)),o&&a}}const so=new RegExp("s*:selfs*,?","g");function oo(t,e,n){return new ao(t).build(e,n)}class ao{constructor(t){this._driver=t}build(t,e){const n=new uo(e);return this._resetContextStyleTimingState(n),Xs(this,Hs(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(co(t)){const e=t;Object.keys(e).forEach(t=>{Gs(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Ks(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Xs(this,Hs(t.animation),e);return{type:1,matchers:eo(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:lo(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Xs(this,t,e)),options:lo(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Xs(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:lo(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return ho(Ms(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=ho(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||Ms(r,e),ho(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:ls({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=ls(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(co(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=Gs(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(co(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(co(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Xs(this,Hs(t.animation),e),options:lo(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:lo(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:lo(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(so,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,_s(e.collectedStyles,e.currentQuerySelector,{});const o=Xs(this,Hs(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:lo(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ms(t.timings,e.errors,!0);return{type:12,animation:Xs(this,Hs(t.animation),e),timings:n,options:null}}}class uo{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function co(t){return!Array.isArray(t)&&"object"==typeof t}function lo(t){var e;return t?(t=Fs(t)).params&&(t.params=(e=t.params)?Fs(e):null):t={},t}function ho(t,e,n){return{duration:t,delay:e,easing:n}}function fo(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class po{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const mo=new RegExp(":enter","g"),go=new RegExp(":leave","g");function yo(t,e,n,r,i,s={},o={},a,u,c=[]){return(new vo).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class vo{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new po;const l=new _o(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),Xs(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[fo(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Rs(n.duration):null,s=null!=n.delay?Rs(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Xs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=bo);const t=Rs(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Xs(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Rs(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),Xs(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Ms(e.params?Ws(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Rs(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=bo);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),Xs(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;Xs(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const bo={};class _o{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new wo(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Rs(n.duration)),null!=n.delay&&(r.delay=Rs(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Ws(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new _o(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=bo,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Eo(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(mo,"."+this._enterClassName)).replace(go,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class wo{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new wo(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):Us(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Ws(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=Us(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?Ks(t.values()):[],s=e.size?Ks(e.values()):[];if(n){const t=r[0],e=Fs(t);t.offset=0,e.offset=1,r=[t,e]}return fo(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class Eo extends wo{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=Us(t[0],!1);a.offset=0,i.push(a);const u=Us(t[0],!1);u.offset=So(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=Us(t[r],!1);o.offset=So((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return fo(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function So(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Oo{}class To extends Oo{normalizePropertyName(t,e){return Js(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(Io[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const Io=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function xo(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const Co={};class ko{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||Co,f=this.buildStyles(n,o&&o.params||Co,l),d=a&&a.params||Co,p=this.buildStyles(r,d,l),m=new Set,g=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),d)},_=c?[]:yo(t,e,this.ast.animation,i,s,f,p,b,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return xo(e,this._triggerName,n,r,v,f,p,[],[],g,y,w,l);_.forEach(t=>{const n=t.element,r=_s(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=_s(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const E=Ks(m.values());return xo(e,this._triggerName,n,r,v,f,p,_,E,g,y,w)}}class Ao{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Fs(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=Ws(s,r,e)),n[t]=s})}}),n}}class jo{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Ao(t.style,t.options&&t.options.params||{})}),Do(this.states,"true","1"),Do(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new ko(t,e,this.states))}),this.fallbackTransition=new ko(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Do(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Po=new po;class No{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=oo(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=gs(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=yo(this._driver,e,i,"ng-enter","ng-leave",{},{},n,Po,r),s.forEach(t=>{const e=_s(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=ms(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=bs(e,"","","");return ys(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Ro=[],Lo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Mo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Fo{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Fs(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Uo=new Fo("void");class Vo{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Wo(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=_s(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=_s(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Wo(t,"ng-trigger"),Wo(t,"ng-trigger-"+e),a[e]=Uo),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new zo(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Wo(t,"ng-trigger"),Wo(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new Fo(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=Uo),"void"!==u.value&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Bs(t,n),zs(t,r)})}return}const c=_s(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(Wo(t,"ng-animate-queued"),s.onStart(()=>{Ko(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&ms(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||Uo,o=new Fo("void"),a=new zo(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Lo||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Wo(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=bs(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,ys(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class qo{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Vo(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Bo(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Bo(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Wo(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ko(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(Bo(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Bo(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ms(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Lo,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Wo(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?ms(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new po,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=Go(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n="ng-enter"+p++;d.set(e,n),t.forEach(t=>Wo(t,n))});const m=[],g=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,b=Go(h,Array.from(g));b.forEach((t,e)=>{const n="ng-leave"+p++;v.set(e,n),t.forEach(t=>Wo(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>Ko(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>Ko(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>Bs(i,p.fromStyles)),e.onDestroy(()=>zs(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>Bs(i,p.fromStyles)),e.onDestroy(()=>zs(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>_s(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{_s(E,e,[]).push(t),t.destroy()})});const O=m.filter(t=>Jo(t,a,u)),T=new Map;$o(T,this.driver,y,u,"*").forEach(t=>{Jo(t,a,u)&&O.push(t)});const I=new Map;f.forEach((t,e)=>{$o(I,this.driver,new Set(t),a,"!")}),O.forEach(t=>{const e=T.get(t),n=I.get(t);T.set(t,Object.assign(Object.assign({},e),n))});const x=[],C=[],k={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>zs(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=k;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,I,T);if(s.setRealPlayer(n),t===k)x.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=ms(e)),r.push(s)}}else Bs(e,o.fromStyles),s.onDestroy(()=>zs(e,o.toStyles)),C.push(s),c.has(e)&&r.push(s)}),C.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=ms(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(Ko(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Qo(this,t,r):this.processLeaveNode(t)}return m.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=_s(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}Bs(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new fs(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof ds?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||Ro).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=gs(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new zo(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{_s(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>Wo(t,"ng-animating"));const f=ms(h);return f.onDestroy(()=>{c.forEach(t=>Ko(t,"ng-animating")),zs(a,e.toStyles)}),l.forEach(t=>{_s(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new fs(t.duration,t.delay)}}class zo{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new fs,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>ys(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){_s(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Bo(t){return t&&1===t.nodeType}function Ho(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function $o(t,e,n,r,i){const s=[];n.forEach(t=>s.push(Ho(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Mo,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>Ho(t,s[a++])),o}function Go(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function Wo(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Ko(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Qo(t,e,n){ms(n).onDone(()=>t.processLeaveNode(e))}function Jo(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Zo{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new qo(t,e,n),this._timelineEngine=new No(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=oo(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new jo(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=ws(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=ws(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Yo(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=ta(e[0]),e.length>1&&(r=ta(e[e.length-1]))):e&&(n=ta(e)),n||r?new Xo(t,n,r):null}let Xo=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&zs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(zs(this._element,this._initialStyles),this._endStyles&&(zs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Bs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Bs(this._element,this._endStyles),this._endStyles=null),zs(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function ta(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];ea(i)&&(e=e||{},e[i]=t[i])}return e}function ea(t){return"display"===t||"position"===t}class na{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=ua(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),aa(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),oa(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ra(this._element,this._name,"paused")}resume(){ra(this._element,this._name,"running")}setPosition(t){const e=ia(this._element,this._name);this._position=t*this._duration,aa(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),oa(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=ua(t,"").split(","),r=sa(n,e);r>=0&&(n.splice(r,1),aa(t,"",n.join(",")))}(this._element,this._name))}}function ra(t,e,n){aa(t,"PlayState",n,ia(t,e))}function ia(t,e){const n=ua(t,"");return n.indexOf(",")>0?sa(n.split(","),e):sa([n],e)}function sa(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function oa(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function aa(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function ua(t,e){return t.style["animation"+e]}class ca{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new na(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:to(this.element,n))})}this.currentSnapshot=t}}class la extends fs{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Ds(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class ha{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return Cs(t)}matchesElement(t,e){return ks(t,e)}containsElement(t,e){return As(t,e)}query(t,e,n){return js(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Ds(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.innerHTML=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof ca),u={};Zs(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Ys(t,e,u));if(0==n)return new la(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=Yo(t,e),d=new ca(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class fa{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:to(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class da{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(pa().toString()),this._cssKeyframesDriver=new ha}validateStyleProperty(t){return Cs(t)}matchesElement(t,e){return ks(t,e)}containsElement(t,e){return As(t,e)}query(t,e,n){return js(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof fa);Zs(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=Yo(t,e=Ys(t,e=e.map(t=>Us(t,!1)),u));return new fa(t,e,a,l)}}function pa(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let ma=(()=>{class t extends us{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.Q.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?cs(t):t;return va(this._renderer,null,e,"register",[n]),new ga(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.F),r.Sb(a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class ga extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new ya(this._id,t,e||{},this._renderer)}}class ya{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return va(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function va(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let ba=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new _a("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new wa(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.F),r.Sb(Zo),r.Sb(r.z))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class _a{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class wa extends _a{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Ea=(()=>{class t extends Zo{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a),r.Sb(Ns),r.Sb(Oo))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Sa=new r.q("AnimationModuleType"),Oa=[{provide:Ns,useFactory:function(){return"function"==typeof pa()?new da:new ha}},{provide:Sa,useValue:"BrowserAnimations"},{provide:us,useClass:ma},{provide:Oo,useFactory:function(){return new To}},{provide:Zo,useClass:Ea},{provide:r.F,useFactory:function(t,e,n){return new ba(t,e,n)},deps:[Z,Zo,r.z]}];let Ta=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:Oa,imports:[lt]}),t})();const Ia=new r.O("9.2.4"),xa=new r.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Ca,ka=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return Object(r.W)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Ia.full!==as.full&&console.warn("The Angular Material version ("+Ia.full+") does not match the Angular CDK version ("+as.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)(r.Sb(rs),r.Sb(xa,8),r.Sb(a,8))},imports:[[os],os]}),t})();function Aa(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Bi(t)}}}function ja(t,e){return class extends t{constructor(...t){super(...t),this.color=e}get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),n&&this._elementRef.nativeElement.classList.add("mat-"+n),this._color=n)}}}function Da(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Bi(t)}}}try{Ca="undefined"!=typeof Intl}catch(lE){Ca=!1}class Pa{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Na={enterDuration:450,exitDuration:400},Ra=Ji({passive:!0}),La=["mousedown","touchstart"],Ma=["mouseup","mouseleave","touchend","touchcancel"];class Fa{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Hi(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},Na),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,u=i.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=o-s+"px",c.style.top=a-s+"px",c.style.height=2*s+"px",c.style.width=2*s+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=u+"ms",this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const l=new Pa(this,c,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},u),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},Na),t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=Hi(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(La))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Ma),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Yi(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,Ra)})})}_removeTriggerEvents(){this._triggerElement&&(La.forEach(t=>{this._triggerElement.removeEventListener(t,this,Ra)}),this._pointerUpEventsRegistered&&Ma.forEach(t=>{this._triggerElement.removeEventListener(t,this,Ra)}))}}const Ua=new r.q("mat-ripple-global-options");let Va=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new Fa(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.z),r.Mb(Ki),r.Mb(Ua,8),r.Mb(Sa,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Eb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),qa=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[ka,Qi],ka]}),t})();const za=["mat-button",""],Ba=["*"],Ha=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class $a{constructor(t){this._elementRef=t}}const Ga=ja(Aa(Da($a)));let Wa=(()=>{class t extends Ga{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of Ha)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this._focusMonitor.monitor(this._elementRef,!0),this.isRoundButton&&(this.color="accent")}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(es),r.Mb(Sa,8))},t.\u0275cmp=r.Gb({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&r.kc(Va,!0),2&t&&r.cc(n=r.Xb())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:3,hostBindings:function(t,e){2&t&&(r.Db("disabled",e.disabled||null),r.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.zb],attrs:za,ngContentSelectors:Ba,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.ac(),r.Pb(0,"span",0),r.Zb(1),r.Ob(),r.Nb(2,"div",1),r.Nb(3,"div",2)),2&t&&(r.Cb(2),r.Eb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.bc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[Va],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})(),Ka=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[qa,ka],ka]}),t})();var Qa=n("n6bG");function Ja(t,e,n,r){return Object(Qa.a)(n)&&(r=n,n=void 0),r?Ja(t,e,n).pipe(Object(Ct.a)(t=>Object(bt.a)(t)?r(...t):r(t))):new gt.a(r=>{!function t(e,n,r,i,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,s),o=()=>t.removeEventListener(n,r,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),o=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),o=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,r,i,s)}i.add(o)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}var Za=n("VRyK"),Ya=n("3N8a");class Xa extends Ya.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var tu=n("IjjT");class eu extends tu.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const nu=new eu(Xa);n("7Hc7");class ru{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new iu(t,this.compare,this.keySelector))}}class iu extends jt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}class su{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new ou(t,this.durationSelector))}}class ou extends _t.a{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(wt.a)(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var au=n("Y7HM");function uu(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function cu(t){return e=>e.lift(new lu(t))}class lu{constructor(t){this.notifier=t}call(t,e){const n=new hu(t),r=Object(wt.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class hu extends _t.a{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}function fu(){return t=>t.lift(new du)}class du{call(t,e){return e.subscribe(new pu(t))}}class pu extends jt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}n("qgXg");var mu=n("pxpQ");n("Ylt2");let gu=(()=>{class t{constructor(t,e,n){this._platform=t,this._document=n,e.runOutsideAngular(()=>{const e=this._getWindow();this._change=t.isBrowser?Object(Za.a)(Ja(e,"resize"),Ja(e,"orientationchange")):Object(ht.a)(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(function(t,e=Fi.a){return n=()=>function(t=0,e,n){let r=-1;return Object(au.a)(e)?r=Number(e)<1?1:Number(e):Object(vt.a)(e)&&(n=e),Object(vt.a)(n)||(n=Fi.a),new gt.a(e=>{const i=Object(au.a)(t)?t:+t-n.now();return n.schedule(uu,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new su(n))};var n}(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Ki),r.Sb(r.z),r.Sb(a,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Sb)(Ki),Object(r.Sb)(r.z),Object(r.Sb)(a,8))},token:t,providedIn:"root"}),t})(),yu=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)}}),t})();function vu(t){const{subscriber:e,counter:n,period:r}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}function bu(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function _u(t,e){const n=e?"":"none";bu(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function wu(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function Eu(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function Su(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function Ou(t,e,n){const{top:r,bottom:i,left:s,right:o}=t;return n>=r&&n<=i&&e>=s&&e<=o}function Tu(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function Iu(t,e,n,r){const{top:i,right:s,bottom:o,left:a,width:u,height:c}=t,l=u*e,h=c*e;return r>i-h&&r<o+h&&n>a-l&&n<s+l}class xu{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Su(t)})})}handleScroll(t){const e=t.target,n=this.positions.get(e);if(!n)return null;const r=e===this._document?e.documentElement:e,i=n.scrollPosition;let s,o;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();s=t.top,o=t.left}else s=e.scrollTop,o=e.scrollLeft;const a=i.top-s,u=i.left-o;return this.positions.forEach((t,n)=>{t.clientRect&&e!==n&&r.contains(n)&&Tu(t.clientRect,a,u)}),i.top=s,i.left=o,{top:a,left:u}}}const Cu=Ji({passive:!0}),ku=Ji({passive:!1});class Au{constructor(t,e,n,r,i,s){this._config=e,this._document=n,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new dt.a,this._pointerMoveSubscription=ge.a.EMPTY,this._pointerUpSubscription=ge.a.EMPTY,this._scrollSubscription=ge.a.EMPTY,this._resizeSubscription=ge.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new dt.a,this.started=new dt.a,this.released=new dt.a,this.ended=new dt.a,this.entered=new dt.a,this.exited=new dt.a,this.dropped=new dt.a,this.moved=this._moveEvents.asObservable(),this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=t.target;return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{t.preventDefault();const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){if(!(Date.now()>=this._dragStartTime+this._getDragStartDelay(t)))return void this._endDragSequence(t);this._dropContainer&&this._dropContainer.isDragging()||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n);else{const t=this._activeTransform;t.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:t,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t),this._parentPositions=new xu(n,i),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Bi(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){return this._handles=t.map(t=>Hi(t)),this._handles.forEach(t=>_u(t,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Hi(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,ku),e.addEventListener("touchstart",this._pointerDown,Cu)}),this._initialTransform=void 0,this._rootElement=e),this}withBoundaryElement(t){return this._boundaryElement=t?Hi(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Nu(this._rootElement),Nu(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}enableHandle(t){this._disabledHandles.delete(t)}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._pointerPositionAtLastDirectionChange;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t))}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&Nu(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&Nu(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){this.started.next({source:this}),Ru(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,r=t.parentNode,i=this._preview=this._createPreviewElement(),s=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment("");r.insertBefore(o,t),t.style.display="none",this._document.body.appendChild(r.replaceChild(s,t)),(n=this._document,n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body).appendChild(i),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this._initialContainer=this._initialIndex=void 0;var n;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){e.stopPropagation();const n=this.isDragging(),r=Ru(e),i=!r&&0!==e.button,s=this._rootElement,o=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),n||i||o)return;this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor,s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=Su(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const u=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){this._rootElement.style.display="",this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),i=this._getDragDistance(this._getPointerPositionOnPage(t)),s=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:i}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:i}),e.drop(this,n,this._initialContainer,s,i,this._initialIndex),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e}){let n=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!n&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(n=this._initialContainer),n&&n!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=n,this._dropContainer.enter(this,t,e,n===this._initialContainer&&n.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:n,currentIndex:n.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(t,e),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=ju(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let r;if(n&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,i=t.viewContainer.createEmbeddedView(n,t.context);i.detectChanges(),r=Lu(i,this._document),this._previewRef=i,t.matchSize?Mu(r,e):r.style.transform=ju(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;r=Du(t),Mu(r,t.getBoundingClientRect())}return bu(r.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),_u(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>r.classList.add(t)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=ju(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=Eu(e,"transition-property"),r=n.find(t=>"transform"===t||"all"===t);if(!r)return 0;const i=n.indexOf(r),s=Eu(e,"transition-duration"),o=Eu(e,"transition-delay");return wu(s[i])+wu(o[i])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",n),t(),clearTimeout(r))},r=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=Lu(this._placeholderRef,this._document)):n=Du(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),r=t===this._rootElement?null:t,i=r?r.getBoundingClientRect():n,s=Ru(e)?e.targetTouches[0]:e,o=this._getViewportScrollPosition();return{x:i.left-n.left+(s.pageX-i.left-o.left),y:i.top-n.top+(s.pageY-i.top-o.top)}}_getPointerPositionOnPage(t){const e=Ru(t)?t.touches[0]||t.changedTouches[0]:t,n=this._getViewportScrollPosition();return{x:e.pageX-n.left,y:e.pageY-n.top}}_getConstrainedPointerPosition(t){const e=this.constrainPosition?this.constrainPosition(t,this):t,n=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===n?e.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==n||(e.x=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:n}=this._pickupPositionInElement,r=this._boundaryRect,i=this._previewRect,s=r.top+n,o=r.bottom-(i.height-n);e.x=Pu(e.x,r.left+t,r.right-(i.width-t)),e.y=Pu(e.y,s,o)}return e}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,r=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-i.x),o=Math.abs(n-i.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=e>i.x?1:-1,i.x=e),o>this._config.pointerDirectionChangeThreshold&&(r.y=n>i.y?1:-1,i.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,_u(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,ku),t.removeEventListener("touchstart",this._pointerDown,Cu)}_applyRootElementTransform(t,e){const n=ju(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===r.width&&0===r.height)return;const i=n.left-r.left,s=r.right-n.right,o=n.top-r.top,a=r.bottom-n.bottom;n.width>r.width?(i>0&&(t+=i),s>0&&(t-=s)):t=0,n.height>r.height?(o>0&&(e+=o),a>0&&(e-=a)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Ru(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);this._boundaryRect&&e&&Tu(this._boundaryRect,e.top,e.left)}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}}function ju(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function Du(t){const e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),r=t.querySelectorAll("canvas");e.removeAttribute("id");for(let i=0;i<n.length;i++)n[i].removeAttribute("id");if(r.length){const t=e.querySelectorAll("canvas");for(let e=0;e<r.length;e++){const n=t[e].getContext("2d");n&&n.drawImage(r[e],0,0)}}return e}function Pu(t,e,n){return Math.max(e,Math.min(n,t))}function Nu(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ru(t){return"t"===t.type[0]}function Lu(t,e){const n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];const r=e.createElement("div");return n.forEach(t=>r.appendChild(t)),r}function Mu(t,e){t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.transform=ju(e.left,e.top)}function Fu(t,e){return Math.max(0,Math.min(e,t))}class Uu{constructor(t,e,n,r,i){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=i,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new dt.a,this.entered=new dt.a,this.exited=new dt.a,this.dropped=new dt.a,this.sorted=new dt.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=ge.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new dt.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=Fi.a){return(!Object(au.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=Fi.a),new gt.a(n=>(n.add(e.schedule(vu,t,{subscriber:n,counter:0,period:t})),n))}(0,nu).pipe(cu(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode;1===this._verticalScrollDirection?qu(t,-2):2===this._verticalScrollDirection&&qu(t,2),1===this._horizontalScrollDirection?zu(t,-2):2===this._horizontalScrollDirection&&zu(t,2)})},this.element=Hi(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new xu(n,i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const t=Hi(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach(t=>t._startReceiving(this)),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}enter(t,e,n,r){let i;this.start(),null==r?(i=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===i&&(i=this._getItemIndexFromPointerPosition(t,e,n))):i=r;const s=this._activeDraggables,o=s.indexOf(t),a=t.getPlaceholderElement();let u=s[i];if(u===t&&(u=s[i+1]),o>-1&&s.splice(o,1),u&&!this._dragDropRegistry.isDragging(u)){const e=u.getRootElement();e.parentElement.insertBefore(a,e),s.splice(i,0,t)}else{const r=Hi(this.element);this._shouldEnterAsFirstChild(e,n)?(r.insertBefore(a,s[0].getRootElement()),s.unshift(t)):(r.appendChild(a),s.push(t))}a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,r,i,s){this._reset(),null==s&&(s=n.getItemIndex(t)),this.dropped.next({item:t,currentIndex:e,previousIndex:s,container:this,previousContainer:n,isPointerOverContainer:r,distance:i})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Hi(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?Vu("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,r){if(this.sortingDisabled||!Iu(this._clientRect,.05,e,n))return;const i=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,e,n,r);if(-1===s&&i.length>0)return;const o="horizontal"===this._orientation,a=Vu(i,e=>e.drag===t),u=i[s],c=i[a].clientRect,l=u.clientRect,h=a>s?1:-1;this._previousSwap.drag=u.drag,this._previousSwap.delta=o?r.x:r.y;const f=this._getItemOffsetPx(c,l,h),d=this._getSiblingOffsetPx(a,i,h),p=i.slice();!function(t,e,n){const r=Fu(e,t.length-1),i=Fu(n,t.length-1);if(r===i)return;const s=t[r],o=i<r?-1:1;for(let a=r;a!==i;a+=o)t[a]=t[a+o];t[i]=s}(i,a,s),this.sorted.next({previousIndex:a,currentIndex:s,container:this,item:t}),i.forEach((e,n)=>{if(p[n]===e)return;const r=e.drag===t,i=r?f:d,s=r?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=i,o?(s.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,Tu(e.clientRect,0,i)):(s.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,Tu(e.clientRect,i,0))})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,r=0,i=0;if(this._parentPositions.positions.forEach((s,o)=>{o!==this._document&&s.clientRect&&!n&&Iu(s.clientRect,.05,t,e)&&([r,i]=function(t,e,n,r){const i=Bu(e,r),s=Hu(e,n);let o=0,a=0;if(i){const e=t.scrollTop;1===i?e>0&&(o=1):t.scrollHeight-e>t.clientHeight&&(o=2)}if(s){const e=t.scrollLeft;1===s?e>0&&(a=1):t.scrollWidth-e>t.clientWidth&&(a=2)}return[o,a]}(o,s.clientRect,t,e),(r||i)&&(n=o))}),!r&&!i){const{width:s,height:o}=this._viewportRuler.getViewportSize(),a={width:s,height:o,top:0,right:s,bottom:o,left:0};r=Bu(a,e),i=Hu(a,t),n=window}!n||r===this._verticalScrollDirection&&i===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=r,this._horizontalScrollDirection=i,this._scrollNode=n,(r||i)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheParentPositions(){const t=Hi(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,clientRect:Su(e)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const t=Hi(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,n){const r="horizontal"===this._orientation,i=e[t].clientRect,s=e[t+-1*n];let o=i[r?"width":"height"]*n;if(s){const t=r?"left":"top",e=r?"right":"bottom";-1===n?o-=s.clientRect[t]-i[e]:o+=i[t]-s.clientRect[e]}return o}_getItemOffsetPx(t,e,n){const r="horizontal"===this._orientation;let i=r?e.left-t.left:e.top-t.top;return-1===n&&(i+=r?e.width-t.width:e.height-t.height),i}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,r="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const i=n[n.length-1].clientRect;return r?t>=i.right:e>=i.bottom}{const i=n[0].clientRect;return r?t<=i.left:e<=i.top}}_getItemIndexFromPointerPosition(t,e,n,r){const i="horizontal"===this._orientation;return Vu(this._itemPositions,({drag:s,clientRect:o},a,u)=>{if(s===t)return u.length<2;if(r){const t=i?r.x:r.y;if(s===this._previousSwap.drag&&t===this._previousSwap.delta)return!1}return i?e>=Math.floor(o.left)&&e<Math.floor(o.right):n>=Math.floor(o.top)&&n<Math.floor(o.bottom)})}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return Ou(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(r=>r._canReceive(t,e,n))}_canReceive(t,e,n){if(!Ou(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,n);if(!r)return!1;const i=Hi(this.element);return r===i||i.contains(r)}_startReceiving(t){const e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{Tu(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=Zi(Hi(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}function Vu(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function qu(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function zu(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function Bu(t,e){const{top:n,bottom:r,height:i}=t,s=.05*i;return e>=n-s&&e<=n+s?1:e>=r-s&&e<=r+s?2:0}function Hu(t,e){const{left:n,right:r,width:i}=t,s=.05*i;return e>=n-s&&e<=n+s?1:e>=r-s&&e<=r+s?2:0}const $u=Ji({passive:!1,capture:!0});let Gu=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new dt.a,this.pointerUp=new dt.a,this.scroll=new dt.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.size&&t.preventDefault()},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._preventDefaultWhileDragging,$u)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,$u)}startDragging(t,e){if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){const t=e.type.startsWith("touch"),n=t?"touchend":"mouseup";this._globalListeners.set(t?"touchmove":"mousemove",{handler:t=>this.pointerMove.next(t),options:$u}).set(n,{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:$u}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances.has(t)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.z),r.Sb(a))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Sb)(r.z),Object(r.Sb)(a))},token:t,providedIn:"root"}),t})();const Wu={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Ku=(()=>{class t{constructor(t,e,n,r){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=r}createDrag(t,e=Wu){return new Au(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Uu(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a),r.Sb(r.z),r.Sb(gu),r.Sb(Gu))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Sb)(a),Object(r.Sb)(r.z),Object(r.Sb)(gu),Object(r.Sb)(Gu))},token:t,providedIn:"root"}),t})();const Qu=new r.q("CDK_DRAG_PARENT");let Ju=(()=>{class t{constructor(t,e){this.element=t,this._stateChanges=new dt.a,this._disabled=!1,this._parentDrag=e,_u(t.nativeElement,!1)}get disabled(){return this._disabled}set disabled(t){this._disabled=Bi(t),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(Qu,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]}}),t})(),Zu=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.L))},t.\u0275dir=r.Hb({type:t,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"}}),t})(),Yu=(()=>{class t{constructor(t){this.templateRef=t,this._matchSize=!1}get matchSize(){return this._matchSize}set matchSize(t){this._matchSize=Bi(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.L))},t.\u0275dir=r.Hb({type:t,selectors:[["ng-template","cdkDragPreview",""]],inputs:{matchSize:"matchSize",data:"data"}}),t})();const Xu=new r.q("CDK_DRAG_CONFIG"),tc=new r.q("CDK_DROP_LIST");let ec=(()=>{class t{constructor(t,e,n,i,s,o,a,u,c){this.element=t,this.dropContainer=e,this._document=n,this._ngZone=i,this._viewContainerRef=s,this._dir=a,this._changeDetectorRef=c,this._destroyed=new dt.a,this.started=new r.n,this.released=new r.n,this.ended=new r.n,this.entered=new r.n,this.exited=new r.n,this.dropped=new r.n,this.moved=new gt.a(t=>{const e=this._dragRef.moved.pipe(Object(Ct.a)(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=u.createDrag(t,{dragStartThreshold:o&&null!=o.dragStartThreshold?o.dragStartThreshold:5,pointerDirectionChangeThreshold:o&&null!=o.pointerDirectionChangeThreshold?o.pointerDirectionChangeThreshold:5,zIndex:null==o?void 0:o.zIndex}),this._dragRef.data=this,o&&this._assignDefaults(o),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Bi(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.asObservable().pipe(Yt(1),cu(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(ce(this._handles),Object(me.a)(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._dragRef.withHandles(e)}),se(t=>Object(Za.a)(...t.map(t=>t._stateChanges.pipe(ce(t))))),cu(this._destroyed)).subscribe(t=>{const e=this._dragRef,n=t.element.nativeElement;t.disabled?e.disableHandle(n):e.enableHandle(n)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(t){const e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?nc(t,this.rootElementSelector):t;if(e&&e.nodeType!==this._document.ELEMENT_NODE)throw Error(`cdkDrag must be attached to an element node. Currently attached to "${e.nodeName}".`);this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;if(!t)return null;if("string"==typeof t)return nc(this.element.nativeElement,t);const e=Hi(t);if(Object(r.W)()&&!e.contains(this.element.nativeElement))throw Error("Draggable element is not inside of the node passed into cdkDragBoundary.");return e}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const e=this._dir,n=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,i=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof n&&n?n:function(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}(n),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(i),e&&t.withDirection(e.value)}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:n,constrainPosition:r,previewClass:i,boundaryElement:s,draggingDisabled:o,rootElementSelector:a}=t;this.disabled=null!=o&&o,this.dragStartDelay=n||0,e&&(this.lockAxis=e),r&&(this.constrainPosition=r),i&&(this.previewClass=i),s&&(this.boundaryElement=s),a&&(this.rootElementSelector=a)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(tc,12),r.Mb(a),r.Mb(r.z),r.Mb(r.P),r.Mb(Xu,8),r.Mb(ss,8),r.Mb(Ku),r.Mb(r.h))},t.\u0275dir=r.Hb({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Fb(n,Yu,!0),r.Fb(n,Zu,!0),r.Fb(n,Ju,!0)),2&t&&(r.cc(i=r.Xb())&&(e._previewTemplate=i.first),r.cc(i=r.Xb())&&(e._placeholderTemplate=i.first),r.cc(i=r.Xb())&&(e._handles=i))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&r.Eb("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[r.Bb([{provide:Qu,useExisting:t}]),r.Ab]}),t})();function nc(t,e){let n=t.parentElement;for(;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}let rc=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[Ku],imports:[yu]}),t})();const ic=["title"],sc=["content"],oc=["note"];let ac=(()=>{class t{constructor(t){this.notemaker=t}ngOnInit(){Ja(this.title.nativeElement,"keyup").pipe(Ui(1e3)).subscribe(t=>{this.updateNote(this.note.id,this.title,this.content)}),Ja(this.content.nativeElement,"keyup").pipe(Ui(1e3)).subscribe(t=>{this.updateNote(this.note.id,this.title,this.content)}),Ja(this.title.nativeElement,"click").subscribe(t=>{const e=t.target.innerText;console.log(e),"Type a title"==e&&(this.title.nativeElement.innerText="")}),Ja(this.content.nativeElement,"click").subscribe(t=>{const e=t.target.innerText;console.log(e),"Type content"==e&&(this.content.nativeElement.innerText="")})}updateNote(t,e,n){this.notemaker.updateNote(t,e,n)}removeNote(t){this.notemaker.removeNote(t)}dragEnd(t){console.log(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Mi))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-note"]],viewQuery:function(t,e){var n;1&t&&(r.fc(ic,!0),r.fc(sc,!0),r.fc(oc,!0)),2&t&&(r.cc(n=r.Xb())&&(e.title=n.first),r.cc(n=r.Xb())&&(e.content=n.first),r.cc(n=r.Xb())&&(e.noteContainer=n.first))},inputs:{note:"note"},decls:12,vars:2,consts:[["id","note","cdkDrag",""],[1,"note-buttons-container"],["mat-mini-fab","","color","accent",3,"click"],[1,"material-icons"],[1,"note-text-container"],["contenteditable","true",3,"mousedown"],["title",""],["content",""]],template:function(t,e){1&t&&(r.Pb(0,"article",0),r.Pb(1,"div",1),r.Pb(2,"button",2),r.Wb("click",(function(){return e.removeNote(e.note.id)})),r.Pb(3,"span",3),r.ic(4," delete "),r.Ob(),r.Ob(),r.Ob(),r.Pb(5,"div",4),r.Pb(6,"h3",5,6),r.Wb("mousedown",(function(t){return t.stopPropagation()})),r.ic(8),r.Ob(),r.Pb(9,"p",5,7),r.Wb("mousedown",(function(t){return t.stopPropagation()})),r.ic(11),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.Cb(8),r.jc(" ",e.note.title," "),r.Cb(3),r.jc(" ",e.note.content," "))},directives:[ec,Wa],styles:["#note[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:200px;min-height:200px;background-color:#ff0;word-wrap:break-word;margin:15px;box-shadow:0 5px 15px 5px rgba(0,0,0,.3);position:relative}#note[_ngcontent-%COMP%]   .note-buttons-container[_ngcontent-%COMP%]{background-color:#c2c20b;width:100%;position:relative;height:25px}#note[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{outline:none}#note[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;font-size:.9rem}#note[_ngcontent-%COMP%]   .mat-mini-fab[_ngcontent-%COMP%]{position:absolute;bottom:-8px;right:-8px;transform:scale(.45)}#note[_ngcontent-%COMP%]   .note-text-container[_ngcontent-%COMP%]{padding:0 10px 7px}#note[_ngcontent-%COMP%]   .note-text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}"]}),t})();function uc(t,e){1&t&&r.Nb(0,"app-note",6),2&t&&r.bc("note",e.$implicit)}let cc=(()=>{class t{constructor(t,e){this.route=t,this.notemaker=e,this.isLoading=!1}ngOnInit(){this.notes=this.route.snapshot.data.notes,this.notemaker.$notesChanged.subscribe(t=>{console.log("updating"),console.log(t),this.notes=t})}addNote(){this.notemaker.addNote()}onFetchPosts(){this.notemaker.fetchPosts().subscribe(t=>{this.notes=t})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(xn),r.Mb(Mi))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-notes"]],decls:7,vars:1,consts:[["id","notes"],[1,"button-container"],["mat-fab","","color","warn",3,"click"],[1,"material-icons"],[1,"notes-container"],[3,"note",4,"ngFor","ngForOf"],[3,"note"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"button",2),r.Wb("click",(function(){return e.addNote()})),r.Pb(3,"span",3),r.ic(4," note_add "),r.Ob(),r.Ob(),r.Ob(),r.Pb(5,"div",4),r.hc(6,uc,1,1,"app-note",5),r.Ob(),r.Ob()),2&t&&(r.Cb(6),r.bc("ngForOf",e.notes))},directives:[Wa,j,ac],styles:["#notes[_ngcontent-%COMP%]{height:100vh;flex-wrap:wrap;justify-content:flex-start;align-items:center;display:flex;flex-direction:column;position:relative}#notes[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:20px;width:100%}#notes[_ngcontent-%COMP%]   .mat-fab[_ngcontent-%COMP%]{-webkit-animation:addButton 2s linear infinite alternate;animation:addButton 2s linear infinite alternate}@-webkit-keyframes addButton{0%{transform:scale(.8)}to{transform:scale(1)}}@keyframes addButton{0%{transform:scale(.8)}to{transform:scale(1)}}"]}),t})();var lc=n("spgP"),hc=n("Jgta"),fc=n("mrSG"),dc=n("zIRd"),pc=n("q/0M"),mc=n("qOnz"),gc=function(t,e){return(gc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function yc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var vc,bc="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_c=_c||{},wc=bc||self;function Ec(){}function Sc(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Oc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Tc="closure_uid_"+(1e9*Math.random()>>>0),Ic=0;function xc(t,e,n){return t.call.apply(t.bind,arguments)}function Cc(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function kc(t,e,n){return(kc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xc:Cc).apply(null,arguments)}function Ac(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function jc(){return Date.now()}function Dc(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Pc(){this.j=this.j,this.i=this.i}Pc.prototype.j=!1,Pc.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Tc)&&t[Tc]||(t[Tc]=++Ic)}(this)},Pc.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Nc=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Rc=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function Lc(t){return Array.prototype.concat.apply([],arguments)}function Mc(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Fc(t){return/^[\s\xa0]*$/.test(t)}var Uc,Vc=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function qc(t,e){return-1!=t.indexOf(e)}function zc(t,e){return t<e?-1:t>e?1:0}t:{var Bc=wc.navigator;if(Bc){var Hc=Bc.userAgent;if(Hc){Uc=Hc;break t}}Uc=""}function $c(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Gc(t){var e={};for(var n in t)e[n]=t[n];return e}var Wc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Kc(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Wc.length;s++)n=Wc[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Qc(t){return Qc[" "](t),t}Qc[" "]=Ec;var Jc,Zc,Yc=qc(Uc,"Opera"),Xc=qc(Uc,"Trident")||qc(Uc,"MSIE"),tl=qc(Uc,"Edge"),el=tl||Xc,nl=qc(Uc,"Gecko")&&!(qc(Uc.toLowerCase(),"webkit")&&!qc(Uc,"Edge"))&&!(qc(Uc,"Trident")||qc(Uc,"MSIE"))&&!qc(Uc,"Edge"),rl=qc(Uc.toLowerCase(),"webkit")&&!qc(Uc,"Edge");function il(){var t=wc.document;return t?t.documentMode:void 0}t:{var sl="",ol=(Zc=Uc,nl?/rv:([^\);]+)(\)|;)/.exec(Zc):tl?/Edge\/([\d\.]+)/.exec(Zc):Xc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Zc):rl?/WebKit\/(\S+)/.exec(Zc):Yc?/(?:Version)[ \/]?(\S+)/.exec(Zc):void 0);if(ol&&(sl=ol?ol[1]:""),Xc){var al=il();if(null!=al&&al>parseFloat(sl)){Jc=String(al);break t}}Jc=sl}var ul={};function cl(t){return function(t,e){var n=ul;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Vc(String(Jc)).split("."),r=Vc(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=zc(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||zc(0==o[2].length,0==a[2].length)||zc(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}var ll=wc.document&&Xc&&(il()||parseInt(Jc,10))||void 0,hl=!Xc||9<=Number(ll),fl=Xc&&!cl("9"),dl=function(){if(!wc.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{wc.addEventListener("test",Ec,e),wc.removeEventListener("test",Ec,e)}catch(n){}return t}();function pl(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ml(t,e){if(pl.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(nl){t:{try{Qc(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:gl[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}pl.prototype.b=function(){this.defaultPrevented=!0},Dc(ml,pl);var gl={2:"touch",3:"pen",4:"mouse"};ml.prototype.b=function(){ml.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,fl)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var yl="closure_listenable_"+(1e6*Math.random()|0),vl=0;function bl(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++vl,this.Y=this.Z=!1}function _l(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function wl(t){this.src=t,this.a={},this.b=0}function El(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Nc(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(_l(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Sl(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}wl.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=Sl(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new bl(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var Ol="closure_lm_"+(1e6*Math.random()|0),Tl={};function Il(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}return r=Nl(r),e&&e[yl]?e.wa(n,r,Oc(i)?!!i.capture:!!i,s):xl(e,n,r,!0,i,s)}(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Il(t,e[s],n,r,i);return null}return n=Nl(n),t&&t[yl]?t.va(e,n,Oc(r)?!!r.capture:!!r,i):xl(t,e,n,!1,r,i)}function xl(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Oc(i)?!!i.capture:!!i;if(o&&!hl)return null;var a=Dl(t);if(a||(t[Ol]=a=new wl(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=jl,e=hl?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)dl||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(kl(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Cl(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[yl])El(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(kl(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Dl(e))?(El(n,t),0==n.b&&(n.src=null,e[Ol]=null)):_l(t)}}}function kl(t){return t in Tl?Tl[t]:Tl[t]="on"+t}function Al(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Cl(t),n.call(r,e)}function jl(t,e){if(t.Y)return!0;if(!hl){if(!e)t:{e=["window","event"];for(var n=wc,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Al(t,e=new ml(e,this))}return Al(t,new ml(e,this))}function Dl(t){return(t=t[Ol])instanceof wl?t:null}var Pl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nl(t){return"function"==typeof t?t:(t[Pl]||(t[Pl]=function(e){return t.handleEvent(e)}),t[Pl])}function Rl(){Pc.call(this),this.c=new wl(this),this.J=this,this.C=null}function Ll(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new pl(e,t);else if(e instanceof pl)e.target=e.target||t;else{var i=e;Kc(e=new pl(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=Ml(o,r,!0,e)&&i}if(i=Ml(o=e.a=t,r,!0,e)&&i,i=Ml(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Ml(o=e.a=n[s],r,!1,e)&&i}function Ml(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&El(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Dc(Rl,Pc),Rl.prototype[yl]=!0,(vc=Rl.prototype).addEventListener=function(t,e,n,r){Il(this,t,e,n,r)},vc.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=Oc(i)?!!i.capture:!!i,r=Nl(r),e&&e[yl]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Sl(o=e.a[n],r,i,s))&&(_l(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=Dl(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Sl(n,r,i,s)),(r=-1<e?n[e]:null)&&Cl(r))}(this,t,e,n,r)},vc.G=function(){if(Rl.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)_l(n[r]);delete e.a[t],e.b--}}this.C=null},vc.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},vc.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Fl=wc.JSON.stringify;function Ul(){this.b=this.a=null}var Vl,ql=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Bl}),(function(t){t.reset()}));function zl(){var t=Wl,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Bl(){this.next=this.b=this.a=null}function Hl(t){wc.setTimeout((function(){throw t}),0)}function $l(t,e){Vl||function(){var t=wc.Promise.resolve(void 0);Vl=function(){t.then(Kl)}}(),Gl||(Vl(),Gl=!0),Wl.add(t,e)}Ul.prototype.add=function(t,e){var n=ql.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Bl.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Bl.prototype.reset=function(){this.next=this.b=this.a=null};var Gl=!1,Wl=new Ul;function Kl(){for(var t;t=zl();){try{t.a.call(t.b)}catch(n){Hl(n)}var e=ql;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Gl=!1}function Ql(t,e){Rl.call(this),this.b=t||1,this.a=e||wc,this.f=kc(this.Za,this),this.g=jc()}function Jl(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Zl(t,e,n){if("function"==typeof t)n&&(t=kc(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=kc(t.handleEvent,t)}return 2147483647<Number(e)?-1:wc.setTimeout(t,e||0)}function Yl(t){t.a=Zl((function(){t.a=null,t.c&&(t.c=!1,Yl(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Dc(Ql,Rl),(vc=Ql.prototype).aa=!1,vc.M=null,vc.Za=function(){if(this.aa){var t=jc()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ll(this,"tick"),this.aa&&(Jl(this),this.start()))}},vc.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=jc())},vc.G=function(){Ql.X.G.call(this),Jl(this),delete this.a};var Xl=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}gc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Yl(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(wc.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Pc);function th(t){Pc.call(this),this.b=t,this.a={}}Dc(th,Pc);var eh=[];function nh(t,e,n,r){Array.isArray(n)||(n&&(eh[0]=n.toString()),n=eh);for(var i=0;i<n.length;i++){var s=Il(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function rh(t){$c(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Cl(t)}),t),t.a={}}function ih(){this.a=!0}function sh(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Fl(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}th.prototype.G=function(){th.X.G.call(this),rh(this)},th.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ih.prototype.info=function(){};var oh={},ah=null;function uh(){return ah=ah||new Rl}function ch(t){pl.call(this,oh.Fa,t)}function lh(t){var e=uh();Ll(e,new ch(e,t))}function hh(t,e){pl.call(this,oh.STAT_EVENT,t),this.stat=e}function fh(t){var e=uh();Ll(e,new hh(e,t))}function dh(t){pl.call(this,oh.Ga,t)}function ph(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return wc.setTimeout((function(){t()}),e)}oh.Fa="serverreachability",Dc(ch,pl),oh.STAT_EVENT="statevent",Dc(hh,pl),oh.Ga="timingevent",Dc(dh,pl);var mh={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},gh={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function yh(){}function vh(){}yh.prototype.a=null;var bh,_h={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function wh(){pl.call(this,"d")}function Eh(){pl.call(this,"c")}function Sh(){}function Oh(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new th(this),this.P=Th,this.R=new Ql(t=el?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Dc(wh,pl),Dc(Eh,pl),Dc(Sh,yh),bh=new Sh;var Th=45e3,Ih={},xh={};function Ch(t,e,n){t.H=1,t.i=Jh(Hh(e)),t.j=n,t.I=!0,kh(t,null)}function kh(t,e){t.u=jc(),Dh(t),t.l=Hh(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),lf(n.b,"t",r),t.D=0,t.a=id(t.g,t.g.C?e:null),0<t.O&&(t.F=new Xl(kc(t.Ca,t,t.a),t.O)),nh(t.J,t.a,"readystatechange",t.Xa),e=t.B?Gc(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),lh(1),function(t,e,n,r,i,s){t.info((function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Ah(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=jh(t,n);if(i==xh){4==e&&(t.h=4,fh(14),r=!1),sh(t.c,t.f,null,"[Incomplete Response]");break}if(i==Ih){t.h=4,fh(15),sh(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}sh(t.c,t.f,i,null),Mh(t,i)}4==e&&0==n.length&&(t.h=1,fh(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jf(e),e.F=!0,fh(11))):(sh(t.c,t.f,n,"[Invalid Chunked Response]"),Lh(t),Rh(t))}function jh(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?xh:(n=Number(e.substring(n,r)),isNaN(n)?Ih:(r+=1)+n>e.length?xh:(e=e.substr(r,n),t.D=r+n,e))}function Dh(t){t.T=jc()+t.P,Ph(t,t.P)}function Ph(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ph(kc(t.Va,t),e)}function Nh(t){t.o&&(wc.clearTimeout(t.o),t.o=null)}function Rh(t){0==t.g.v||t.A||Xf(t.g,t)}function Lh(t){Nh(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Jl(t.R),rh(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Mh(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||yf(n.b,t)))if(n.I=t.N,!t.C&&yf(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(BE){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Yf(n),qf(n)}Qf(n),fh(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=ph(kc(n.Sa,n),6e3));if(1>=gf(n.b)&&n.ea){try{n.ea()}catch(BE){}n.ea=void 0}}else ed(n,11)}else if((t.C||n.a==t)&&Yf(n),!Fc(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(qc(l,"spdy")||qc(l,"quic")||qc(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(vf(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Qh(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=jc()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=rd(u,u.C?u.ga:null,u.fa),d.C){bf(u.b,d);var p=d,m=u.D;m&&p.setTimeout(m),p.o&&(Nh(p),Dh(p)),u.a=d}else Kf(u);0<n.g.length&&Hf(n)}else"stop"!=i[0]&&"close"!=i[0]||ed(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?ed(n,7):Vf(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);lh(4)}catch(BE){}}function Fh(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Sc(t)||"string"==typeof t)Rc(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Sc(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Sc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Uh(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Uh)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Vh(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];qh(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)qh(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function qh(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(vc=Oh.prototype).setTimeout=function(t){this.P=t},vc.Xa=function(t){t=t.target;var e=this.F;e&&3==Lf(t)?e.f():this.Ca(t)},vc.Ca=function(t){try{if(t==this.a)t:{var e=Lf(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!el&&!this.a.$())){this.A||4!=e||7==n||lh(8==n||0>=r?3:2),Nh(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fc(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,fh(12),Lh(this),Rh(this);break t}sh(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Mh(this,u)}this.I?(Ah(this,e,s),el&&this.b&&3==e&&(nh(this.J,this.R,"tick",this.Wa),this.R.start())):(sh(this.c,this.f,s,null),Mh(this,s)),4==e&&Lh(this),this.b&&!this.A&&(4==e?Xf(this.g,this):(this.b=!1,Dh(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,fh(12)):(this.h=0,fh(13)),Lh(this),Rh(this)}}}catch(c){}},vc.Wa=function(){if(this.a){var t=Lf(this.a),e=this.a.$();this.D<e.length&&(Nh(this),Ah(this,t,e),this.b&&4!=t&&Dh(this))}},vc.cancel=function(){this.A=!0,Lh(this)},vc.Va=function(){this.o=null;var t=jc();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(lh(3),fh(17)),Lh(this),this.h=2,Rh(this)):Ph(this,this.T-t)},(vc=Uh.prototype).K=function(){Vh(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},vc.L=function(){return Vh(this),this.a.concat()},vc.get=function(t,e){return qh(this.b,t)?this.b[t]:e},vc.set=function(t,e){qh(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},vc.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var zh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Bh(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Bh){this.a=void 0!==e?e:t.a,$h(this,t.f),this.j=t.j,Gh(this,t.c),Wh(this,t.h),this.g=t.g,e=t.b;var n=new of;n.c=e.c,e.a&&(n.a=new Uh(e.a),n.b=e.b),Kh(this,n),this.i=t.i}else t&&(n=String(t).match(zh))?(this.a=!!e,$h(this,n[1]||"",!0),this.j=Zh(n[2]||""),Gh(this,n[3]||"",!0),Wh(this,n[4]),this.g=Zh(n[5]||"",!0),Kh(this,n[6]||"",!0),this.i=Zh(n[7]||"")):(this.a=!!e,this.b=new of(null,this.a))}function Hh(t){return new Bh(t)}function $h(t,e,n){t.f=n?Zh(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Gh(t,e,n){t.c=n?Zh(e,!0):e}function Wh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Kh(t,e,n){e instanceof of?(t.b=e,function(t,e){e&&!t.f&&(af(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(uf(this,e),lf(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Yh(e,rf)),t.b=new of(e,t.a))}function Qh(t,e,n){t.b.set(e,n)}function Jh(t){return Qh(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^jc()).toString(36)),t}function Zh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Yh(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Xh),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Xh(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Bh.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Yh(e,tf,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Yh(e,tf,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Yh(n,"/"==n.charAt(0)?nf:ef,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Yh(n,sf)),t.join("")};var tf=/[#\/\?@]/g,ef=/[#\?:]/g,nf=/[#\?]/g,rf=/[#\?@]/g,sf=/#/g;function of(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function af(t){t.a||(t.a=new Uh,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function uf(t,e){af(t),e=hf(t,e),qh(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,qh((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Vh(t)))}function cf(t,e){return af(t),e=hf(t,e),qh(t.a.b,e)}function lf(t,e,n){uf(t,e),0<n.length&&(t.c=null,t.a.set(hf(t,e),Mc(n)),t.b+=n.length)}function hf(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(vc=of.prototype).add=function(t,e){af(this),this.c=null,t=hf(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},vc.forEach=function(t,e){af(this),this.a.forEach((function(n,r){Rc(n,(function(n){t.call(e,n,r,this)}),this)}),this)},vc.L=function(){af(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},vc.K=function(t){af(this);var e=[];if("string"==typeof t)cf(this,t)&&(e=Lc(e,this.a.get(hf(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Lc(e,t[n])}return e},vc.set=function(t,e){return af(this),this.c=null,cf(this,t=hf(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},vc.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},vc.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var ff=function(){return function(t,e){this.b=t,this.a=e}}();function df(t){this.g=t||pf,t=wc.PerformanceNavigationTiming?0<(t=wc.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(wc.ia&&wc.ia.ya&&wc.ia.ya()&&wc.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var pf=10;function mf(t){return!!t.b||!!t.a&&t.a.size>=t.f}function gf(t){return t.b?1:t.a?t.a.size:0}function yf(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function vf(t,e){t.a?t.a.add(e):t.b=e}function bf(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function _f(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=yc(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Mc(t.c)}function wf(){}function Ef(){this.a=new wf}function Sf(t,e,n){var r=n||"";try{Fh(t,(function(t,n){var i=t;Oc(t)&&(i=Fl(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Of(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}df.prototype.cancel=function(){var t,e;if(this.c=_f(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=yc(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},wf.prototype.stringify=function(t){return wc.JSON.stringify(t,void 0)},wf.prototype.parse=function(t){return wc.JSON.parse(t,void 0)};var Tf=wc.JSON.parse;function If(t){Rl.call(this),this.headers=new Uh,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=xf,this.D=this.F=!1}Dc(If,Rl);var xf="",Cf=/^https?$/i,kf=["POST","PUT"];function Af(t){return"content-type"==t.toLowerCase()}function jf(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Df(t),Nf(t)}function Df(t){t.u||(t.u=!0,Ll(t,"complete"),Ll(t,"error"))}function Pf(t){if(t.b&&void 0!==_c&&(!t.s[1]||4!=Lf(t)||2!=t.W()))if(t.l&&4==Lf(t))Zl(t.za,0,t);else if(Ll(t,"readystatechange"),4==Lf(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(zh)[1]||null;if(!s&&wc.self&&wc.self.location){var o=wc.self.location.protocol;s=o.substr(0,o.length-1)}i=!Cf.test(s?s.toLowerCase():"")}e=i}if(e)Ll(t,"complete"),Ll(t,"success");else{t.h=6;try{var a=2<Lf(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Df(t)}}finally{Nf(t)}}}function Nf(t,e){if(t.a){Rf(t);var n=t.a,r=t.s[0]?Ec:null;t.a=null,t.s=null,e||Ll(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function Rf(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(wc.clearTimeout(t.m),t.m=null)}function Lf(t){return t.a?t.a.readyState:0}function Mf(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return $c(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Qh(t,e,n))}function Ff(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Uf(t){this.pa=0,this.g=[],this.c=new ih,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Ff("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Ff("baseRetryDelayMs",5e3,t),this.Ra=Ff("retryDelaySeedMs",1e4,t),this.Ma=Ff("forwardChannelMaxRetries",2,t),this.ma=Ff("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new df(t&&t.concurrentRequestLimit),this.ka=new Ef,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Vf(t){if(zf(t),3==t.v){var e=t.R++,n=Hh(t.B);Qh(n,"SID",t.J),Qh(n,"RID",e),Qh(n,"TYPE","terminate"),Gf(t,n),(e=new Oh(t,t.c,e,void 0)).H=2,e.i=Jh(Hh(n)),n=!1,wc.navigator&&wc.navigator.sendBeacon&&(n=wc.navigator.sendBeacon(e.i.toString(),"")),!n&&wc.Image&&((new Image).src=e.i,n=!0),n||(e.a=id(e.g,null),e.a.ba(e.i)),e.u=jc(),Dh(e)}nd(t)}function qf(t){t.a&&(Jf(t),t.a.cancel(),t.a=null)}function zf(t){qf(t),t.j&&(wc.clearTimeout(t.j),t.j=null),Yf(t),t.b.cancel(),t.h&&("number"==typeof t.h&&wc.clearTimeout(t.h),t.h=null)}function Bf(t,e){t.g.push(new ff(t.Oa++,e)),3==t.v&&Hf(t)}function Hf(t){mf(t.b)||t.h||(t.h=!0,$l(t.Ba,t),t.u=0)}function $f(t,e){var n;n=e?e.f:t.R++;var r=Hh(t.B);Qh(r,"SID",t.J),Qh(r,"RID",n),Qh(r,"AID",t.P),Gf(t,r),t.i&&t.l&&Mf(r,t.i,t.l),n=new Oh(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Wf(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),vf(t.b,n),Ch(n,r,e)}function Gf(t,e){t.f&&Fh({},(function(t,n){Qh(e,n,t)}))}function Wf(t,e,n){n=Math.min(t.g.length,n);var r=t.f?kc(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{Sf(l,o,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Kf(t){t.a||t.j||(t.T=1,$l(t.Aa,t),t.o=0)}function Qf(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=ph(kc(t.Aa,t),td(t,t.o)),t.o++,0))}function Jf(t){null!=t.s&&(wc.clearTimeout(t.s),t.s=null)}function Zf(t){t.a=new Oh(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Hh(t.la);Qh(e,"RID","rpc"),Qh(e,"SID",t.J),Qh(e,"CI",t.H?"0":"1"),Qh(e,"AID",t.P),Gf(t,e),Qh(e,"TYPE","xmlhttp"),t.i&&t.l&&Mf(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Jh(Hh(e)),n.j=null,n.I=!0,kh(n,t)}function Yf(t){null!=t.m&&(wc.clearTimeout(t.m),t.m=null)}function Xf(t,e){var n=null;if(t.a==e){Yf(t),Jf(t),t.a=null;var r=2}else{if(!yf(t.b,e))return;n=e.s,bf(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=jc()-e.u;var i=t.u;Ll(r=uh(),new dh(r,n,e,i)),Hf(t)}else Kf(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(gf(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=ph(kc(t.Ba,t,e),td(t,t.u)),t.u++,0)))}(t,e)||2==r&&Qf(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:ed(t,5);break;case 4:ed(t,10);break;case 3:ed(t,6);break;default:ed(t,2)}}function td(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function ed(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=kc(t.Ya,t);n||(n=new Bh("//www.google.com/images/cleardot.gif"),wc.location&&"http"==wc.location.protocol||$h(n,"https"),Jh(n)),function(t,e){var n=new ih;if(wc.Image){var r=new Image;r.onload=Ac(Of,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ac(Of,n,r,"TestLoadImage: error",!1,e),r.onabort=Ac(Of,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ac(Of,n,r,"TestLoadImage: timeout",!1,e),wc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else fh(2);t.v=0,t.f&&t.f.ra(e),nd(t),zf(t)}function nd(t){t.v=0,t.I=-1,t.f&&(0==_f(t.b).length&&0==t.g.length||(t.b.c.length=0,Mc(t.g),t.g.length=0),t.f.qa())}function rd(t,e,n){var r=function(t){return t instanceof Bh?Hh(t):new Bh(t,void 0)}(n);if(""!=r.c)e&&Gh(r,e+"."+r.c),Wh(r,r.h);else{var i=wc.location;r=function(t,e,n,r){var i=new Bh(null,void 0);return t&&$h(i,t),e&&Gh(i,e),n&&Wh(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&$c(t.V,(function(t,e){Qh(r,e,t)})),n=t.na,(e=t.A)&&n&&Qh(r,e,n),Qh(r,"VER",t.ha),Gf(t,r),r}function id(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new If(t.Na)).F=t.C,e}function sd(){}function od(){if(Xc&&!(10<=Number(ll)))throw Error("Environmental error: no available transport.")}function ad(t,e){Rl.call(this),this.a=new Uf(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Fc(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fc(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ld(this)}function ud(t){wh.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function cd(){Eh.call(this),this.status=1}function ld(t){this.a=t}(vc=If.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:bh),this.a.onreadystatechange=kc(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void jf(this,s)}t=n||"";var i=new Uh(this.headers);r&&Fh(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Af,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=wc.FormData&&t instanceof wc.FormData,!(0<=Nc(kf,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Rf(this),0<this.o&&((this.D=function(t){return Xc&&cl(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=kc(this.xa,this)):this.m=Zl(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){jf(this,s)}},vc.xa=function(){void 0!==_c&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ll(this,"timeout"),this.abort(8))},vc.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ll(this,"complete"),Ll(this,"abort"),Nf(this))},vc.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Nf(this,!0)),If.X.G.call(this)},vc.za=function(){this.j||(this.A||this.l||this.g?Pf(this):this.Ua())},vc.Ua=function(){Pf(this)},vc.W=function(){try{return 2<Lf(this)?this.a.status:-1}catch(Zc){return-1}},vc.$=function(){try{return this.a?this.a.responseText:""}catch(Zc){return""}},vc.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Tf(e)}},vc.ua=function(){return this.h},vc.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(vc=Uf.prototype).ha=8,vc.v=1,vc.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Oh(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Kc(r=Gc(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Wf(this,n,e),Qh(i=Hh(this.B),"RID",t),Qh(i,"CVER",22),this.A&&Qh(i,"X-HTTP-Session-Id",this.A),Gf(this,i),this.i&&r&&Mf(i,this.i,r),vf(this.b,n),this.Ia&&Qh(i,"TYPE","init"),this.da?(Qh(i,"$req",e),Qh(i,"SID","null"),n.U=!0,Ch(n,i,null)):Ch(n,i,e),this.v=2}}else 3==this.v&&(t?$f(this,t):0==this.g.length||mf(this.b)||$f(this))},vc.Aa=function(){if(this.j=null,Zf(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ph(kc(this.Ta,this),t)}},vc.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,fh(10),qf(this),Zf(this))},vc.Sa=function(){null!=this.m&&(this.m=null,qf(this),Qf(this),fh(19))},vc.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),fh(2)):(this.c.info("Failed to ping google.com"),fh(1))},(vc=sd.prototype).ta=function(){},vc.sa=function(){},vc.ra=function(){},vc.qa=function(){},vc.Ja=function(){},od.prototype.a=function(t,e){return new ad(t,e)},Dc(ad,Rl),ad.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;fh(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=rd(t,null,t.fa),Hf(t)},ad.prototype.close=function(){Vf(this.a)},ad.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Bf(this.a,e)}else this.l?((e={}).__data__=Fl(t),Bf(this.a,e)):Bf(this.a,t)},ad.prototype.G=function(){this.a.f=null,delete this.f,Vf(this.a),delete this.a,ad.X.G.call(this)},Dc(ud,wh),Dc(cd,Eh),Dc(ld,sd),ld.prototype.ta=function(){Ll(this.a,"a")},ld.prototype.sa=function(t){Ll(this.a,new ud(t))},ld.prototype.ra=function(t){Ll(this.a,new cd(t))},ld.prototype.qa=function(){Ll(this.a,"b")},od.prototype.createWebChannel=od.prototype.a,ad.prototype.send=ad.prototype.h,ad.prototype.open=ad.prototype.g,ad.prototype.close=ad.prototype.close,mh.NO_ERROR=0,mh.TIMEOUT=8,mh.HTTP_ERROR=6,gh.COMPLETE="complete",vh.EventType=_h,_h.OPEN="a",_h.CLOSE="b",_h.ERROR="c",_h.MESSAGE="d",Rl.prototype.listen=Rl.prototype.va,If.prototype.listenOnce=If.prototype.wa,If.prototype.getLastError=If.prototype.Qa,If.prototype.getLastErrorCode=If.prototype.ua,If.prototype.getStatus=If.prototype.W,If.prototype.getResponseJson=If.prototype.Pa,If.prototype.getResponseText=If.prototype.$,If.prototype.send=If.prototype.ba;var hd=mh,fd=gh,dd=oh,pd=vh,md=If,gd=n("/6Yf"),yd=function(t,e,n,r,i,s){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},vd=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),bd=function(){function t(t){this.uid=t}return t.prototype.u=function(){return null!=this.uid},t.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();bd.UNAUTHENTICATED=new bd(null),bd.l=new bd("google-credentials-uid"),bd._=new bd("first-party-uid");var _d=new pc.b("@firebase/firestore");function wd(){return _d.logLevel}function Ed(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(_d.logLevel<=pc.a.DEBUG){var r=e.map(Td);_d.debug.apply(_d,Object(fc.g)(["Firestore (8.1.2): "+t],r))}}function Sd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(_d.logLevel<=pc.a.ERROR){var r=e.map(Td);_d.error.apply(_d,Object(fc.g)(["Firestore (8.1.2): "+t],r))}}function Od(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(_d.logLevel<=pc.a.WARN){var r=e.map(Td);_d.warn.apply(_d,Object(fc.g)(["Firestore (8.1.2): "+t],r))}}function Td(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function Id(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.1.2) INTERNAL ASSERTION FAILED: "+t;throw Sd(e),new Error(e)}function xd(t,e){t||Id()}function Cd(t,e){return t}var kd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ad=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(fc.c)(e,t),e}(Error),jd=function(t,e){this.user=e,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+t},Dd=function(){function t(){this.I=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.m=function(){},t.prototype.A=function(t){this.I=t,t(bd.UNAUTHENTICATED)},t.prototype.R=function(){this.I=null},t}(),Pd=function(){function t(t){var e=this;this.P=null,this.currentUser=bd.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){e.V++,e.currentUser=e.p(),e.g=!0,e.I&&e.I(e.currentUser)},this.V=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),t.get().then((function(t){e.auth=t,e.P&&e.auth.addAuthTokenListener(e.P)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.V!==e?(Ed("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(xd("string"==typeof n.accessToken),new jd(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.m=function(){this.forceRefresh=!0},t.prototype.A=function(t){this.I=t,this.g&&t(this.currentUser)},t.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},t.prototype.p=function(){var t=this.auth&&this.auth.getUid();return xd(null===t||"string"==typeof t),new bd(t)},t}(),Nd=function(){function t(t,e){this.v=t,this.S=e,this.type="FirstParty",this.user=bd._}return Object.defineProperty(t.prototype,"T",{get:function(){var t={"X-Goog-AuthUser":this.S},e=this.v.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Rd=function(){function t(t,e){this.v=t,this.S=e}return t.prototype.getToken=function(){return Promise.resolve(new Nd(this.v,this.S))},t.prototype.A=function(t){t(bd._)},t.prototype.R=function(){},t.prototype.m=function(){},t}();function Ld(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Md=function(){function t(){}return t.D=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ld(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Fd(t,e){return t<e?-1:t>e?1:0}function Ud(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Vd(t){return t+"\0"}var qd=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ad(kd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ad(kd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ad(kd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ad(kd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.C=function(t){return this.seconds===t.seconds?Fd(this.nanoseconds,t.nanoseconds):Fd(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),zd=function(){function t(t){this.timestamp=t}return t.N=function(e){return new t(e)},t.min=function(){return new t(new qd(0,0))},t.prototype.F=function(t){return this.timestamp.C(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t}(),Bd=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Id(),void 0===n?n=t.length-e:n>t.length-e&&Id(),this.segments=t,this.offset=e,this.k=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.$(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.L(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.B=function(t){return this.L(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},t.prototype.U=function(){return this.segments[this.offset]},t.prototype.K=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.W=function(){return 0===this.length},t.prototype.j=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.G=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},t.$=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Hd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.H().join("/")},e.prototype.toString=function(){return this.J()},e.Y=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Ad(kd.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.X=function(){return new e([])},e}(Bd),$d=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.Z=function(t){return $d.test(t)},e.prototype.J=function(){return this.H().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.Z(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},e.et=function(){return new e(["__name__"])},e.nt=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Ad(kd.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Ad(kd.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ad(kd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ad(kd.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.X=function(){return new e([])},e}(Bd),Wd=function(){function t(t){this.path=t}return t.st=function(e){return new t(Hd.Y(e))},t.it=function(e){return new t(Hd.Y(e).B(5))},t.prototype.rt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Hd.$(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.$=function(t,e){return Hd.$(t.path,e.path)},t.ot=function(t){return t.length%2==0},t.ct=function(e){return new t(new Hd(e.slice()))},t}();function Kd(t){return null==t}function Qd(t){return 0===t&&1/t==-1/0}function Jd(t){return"number"==typeof t&&Number.isInteger(t)&&!Qd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Zd=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ut=null};function Yd(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Zd(t,e,n,r,i,s,o)}function Xd(t){var e=Cd(t);if(null===e.ut){var n=e.path.J();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.J()+t.op.toString()+Wp(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.J()+t.dir}(t)})).join(","),Kd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Wg(e.startAt)),e.endAt&&(n+="|ub:",n+=Wg(e.endAt)),e.ut=n}return e.ut}function tp(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Yg(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Bp(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Qg(t.startAt,e.startAt)&&Qg(t.endAt,e.endAt)}function ep(t){return Wd.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}var np=function(){function t(t){this.at=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.at)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.at)},t.prototype.ht=function(){return 2*this.at.length},t.prototype.F=function(t){return Fd(this.at,t.at)},t.prototype.isEqual=function(t){return this.at===t.at},t}();np.lt=new np("");var rp,ip,sp=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=zd.min()),void 0===s&&(s=zd.min()),void 0===o&&(o=np.lt),this.target=t,this.targetId=e,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.dt=function(e){return new t(this.target,this.targetId,this._t,e,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.wt=function(e,n){return new t(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Et=function(e){return new t(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,e,this.resumeToken)},t}(),op=function(t){this.count=t};function ap(t){switch(t){case kd.OK:return Id();case kd.CANCELLED:case kd.UNKNOWN:case kd.DEADLINE_EXCEEDED:case kd.RESOURCE_EXHAUSTED:case kd.INTERNAL:case kd.UNAVAILABLE:case kd.UNAUTHENTICATED:return!1;case kd.INVALID_ARGUMENT:case kd.NOT_FOUND:case kd.ALREADY_EXISTS:case kd.PERMISSION_DENIED:case kd.FAILED_PRECONDITION:case kd.ABORTED:case kd.OUT_OF_RANGE:case kd.UNIMPLEMENTED:case kd.DATA_LOSS:return!0;default:return Id()}}function up(t){if(void 0===t)return Sd("GRPC error has no .code"),kd.UNKNOWN;switch(t){case rp.OK:return kd.OK;case rp.CANCELLED:return kd.CANCELLED;case rp.UNKNOWN:return kd.UNKNOWN;case rp.DEADLINE_EXCEEDED:return kd.DEADLINE_EXCEEDED;case rp.RESOURCE_EXHAUSTED:return kd.RESOURCE_EXHAUSTED;case rp.INTERNAL:return kd.INTERNAL;case rp.UNAVAILABLE:return kd.UNAVAILABLE;case rp.UNAUTHENTICATED:return kd.UNAUTHENTICATED;case rp.INVALID_ARGUMENT:return kd.INVALID_ARGUMENT;case rp.NOT_FOUND:return kd.NOT_FOUND;case rp.ALREADY_EXISTS:return kd.ALREADY_EXISTS;case rp.PERMISSION_DENIED:return kd.PERMISSION_DENIED;case rp.FAILED_PRECONDITION:return kd.FAILED_PRECONDITION;case rp.ABORTED:return kd.ABORTED;case rp.OUT_OF_RANGE:return kd.OUT_OF_RANGE;case rp.UNIMPLEMENTED:return kd.UNIMPLEMENTED;case rp.DATA_LOSS:return kd.DATA_LOSS;default:return Id()}}(ip=rp||(rp={}))[ip.OK=0]="OK",ip[ip.CANCELLED=1]="CANCELLED",ip[ip.UNKNOWN=2]="UNKNOWN",ip[ip.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ip[ip.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ip[ip.NOT_FOUND=5]="NOT_FOUND",ip[ip.ALREADY_EXISTS=6]="ALREADY_EXISTS",ip[ip.PERMISSION_DENIED=7]="PERMISSION_DENIED",ip[ip.UNAUTHENTICATED=16]="UNAUTHENTICATED",ip[ip.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ip[ip.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ip[ip.ABORTED=10]="ABORTED",ip[ip.OUT_OF_RANGE=11]="OUT_OF_RANGE",ip[ip.UNIMPLEMENTED=12]="UNIMPLEMENTED",ip[ip.INTERNAL=13]="INTERNAL",ip[ip.UNAVAILABLE=14]="UNAVAILABLE",ip[ip.DATA_LOSS=15]="DATA_LOSS";var cp=function(){function t(t,e){this.$=t,this.root=e||hp.EMPTY}return t.prototype.Tt=function(e,n){return new t(this.$,this.root.Tt(e,n,this.$).copy(null,null,hp.It,null,null))},t.prototype.remove=function(e){return new t(this.$,this.root.remove(e,this.$).copy(null,null,hp.It,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.W();){var n=this.$(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.W();){var r=this.$(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.W=function(){return this.root.W()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.At=function(){return this.root.At()},t.prototype.Rt=function(){return this.root.Rt()},t.prototype.Pt=function(t){return this.root.Pt(t)},t.prototype.forEach=function(t){this.Pt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Pt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.yt=function(){return new lp(this.root,null,this.$,!1)},t.prototype.Vt=function(t){return new lp(this.root,t,this.$,!1)},t.prototype.vt=function(){return new lp(this.root,null,this.$,!0)},t.prototype.bt=function(t){return new lp(this.root,t,this.$,!0)},t}(),lp=function(){function t(t,e,n,r){this.St=r,this.Dt=[];for(var i=1;!t.W();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.St?t.left:t.right;else{if(0===i){this.Dt.push(t);break}this.Dt.push(t),t=this.St?t.right:t.left}}return t.prototype.Ct=function(){var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.St)for(t=t.left;!t.W();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.W();)this.Dt.push(t),t=t.left;return e},t.prototype.Nt=function(){return this.Dt.length>0},t.prototype.xt=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),hp=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.W=function(){return!1},t.prototype.Pt=function(t){return this.left.Pt(t)||t(this.key,this.value)||this.right.Pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.W()?this:this.left.min()},t.prototype.At=function(){return this.min().key},t.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},t.prototype.Tt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Tt(t,e,n))).Ft()},t.prototype.Ot=function(){if(this.left.W())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.Ot(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(e,i.key)){if(i.right.W())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Bt()),t.left.Mt()&&t.left.left.Mt()&&(t=t.$t()),t.left.Mt()&&t.right.Mt()&&(t=t.qt()),t},t.prototype.kt=function(){var t=this.qt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.$t())).Bt()).qt()),t},t.prototype.Lt=function(){var t=this.qt();return t.left.left.Mt()&&(t=(t=t.$t()).qt()),t},t.prototype.Bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.$t=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.qt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.Qt();return Math.pow(2,t)<=this.size+1},t.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw Id();if(this.right.Mt())throw Id();var t=this.left.Qt();if(t!==this.right.Qt())throw Id();return t+(this.Mt()?0:1)},t}();hp.EMPTY=null,hp.RED=!0,hp.It=!1,hp.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Id()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Id()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Id()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Id()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Id()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Tt=function(t,e,n){return new hp(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.W=function(){return!0},t.prototype.Pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.At=function(){return null},t.prototype.Rt=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.Qt=function(){return 0},t}());var fp=function(){function t(t){this.$=t,this.data=new cp(this.$)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.At()},t.prototype.last=function(){return this.data.Rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pt((function(e,n){return t(e),!1}))},t.prototype.Kt=function(t,e){for(var n=this.data.Vt(t[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Wt=function(t,e){var n;for(n=void 0!==e?this.data.Vt(e):this.data.yt();n.Nt();)if(!t(n.Ct().key))return},t.prototype.jt=function(t){var e=this.data.Vt(t);return e.Nt()?e.Ct().key:null},t.prototype.yt=function(){return new dp(this.data.yt())},t.prototype.Vt=function(t){return new dp(this.data.Vt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Tt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.W=function(){return this.data.W()},t.prototype.Gt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),r=e.data.yt();n.Nt();){var i=n.Ct().key,s=r.Ct().key;if(0!==this.$(i,s))return!1}return!0},t.prototype.H=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.$);return n.data=e,n},t}(),dp=function(){function t(t){this.zt=t}return t.prototype.Ct=function(){return this.zt.Ct().key},t.prototype.Nt=function(){return this.zt.Nt()},t}(),pp=new cp(Wd.$);function mp(){return pp}function gp(){return mp()}var yp=new cp(Wd.$);function vp(){return yp}var bp=new cp(Wd.$),_p=new fp(Wd.$);function wp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=_p,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Ep=new fp(Fd);function Sp(){return Ep}var Op=function(){function t(t){this.$=t?function(e,n){return t(e,n)||Wd.$(e.key,n.key)}:function(t,e){return Wd.$(t.key,e.key)},this.Ht=vp(),this.Jt=new cp(this.$)}return t.Yt=function(e){return new t(e.$)},t.prototype.has=function(t){return null!=this.Ht.get(t)},t.prototype.get=function(t){return this.Ht.get(t)},t.prototype.first=function(){return this.Jt.At()},t.prototype.last=function(){return this.Jt.Rt()},t.prototype.W=function(){return this.Jt.W()},t.prototype.indexOf=function(t){var e=this.Ht.get(t);return e?this.Jt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Jt.Pt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ht.Tt(t.key,t),e.Jt.Tt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ht.remove(t),this.Jt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Jt.yt(),r=e.Jt.yt();n.Nt();){var i=n.Ct().key,s=r.Ct().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.$=this.$,r.Ht=e,r.Jt=n,r},t}(),Tp=function(){function t(){this.Xt=new cp(Wd.$)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Xt.get(e);n?0!==t.type&&3===n.type?this.Xt=this.Xt.Tt(e,t):3===t.type&&1!==n.type?this.Xt=this.Xt.Tt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Xt=this.Xt.Tt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Xt=this.Xt.remove(e):1===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):Id():this.Xt=this.Xt.Tt(e,t)},t.prototype.Zt=function(){var t=[];return this.Xt.Pt((function(e,n){t.push(n)})),t},t}(),Ip=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=s,this.ne=o,this.se=a}return t.ie=function(e,n,r,i){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,Op.Yt(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ne===t.ne&&this.ee.isEqual(t.ee)&&Dg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.te.isEqual(t.te)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),xp=function(){function t(t,e,n,r,i){this.ft=t,this.re=e,this.oe=n,this.ce=r,this.ue=i}return t.ae=function(e,n){var r=new Map;return r.set(e,Cp.he(e,n)),new t(zd.min(),r,Sp(),mp(),wp())},t}(),Cp=function(){function t(t,e,n,r,i){this.resumeToken=t,this.le=e,this._e=n,this.fe=r,this.de=i}return t.he=function(e,n){return new t(np.lt,n,wp(),wp(),wp())},t}(),kp=function(t,e,n,r){this.we=t,this.removedTargetIds=e,this.key=n,this.Ee=r},Ap=function(t,e){this.targetId=t,this.Te=e},jp=function(t,e,n,r){void 0===n&&(n=np.lt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Dp=function(){function t(){this.Ie=0,this.me=Rp(),this.Ae=np.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(t.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),t.prototype.Ve=function(t){t.ht()>0&&(this.Pe=!0,this.Ae=t)},t.prototype.pe=function(){var t=wp(),e=wp(),n=wp();return this.me.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Id()}})),new Cp(this.Ae,this.Re,t,e,n)},t.prototype.ve=function(){this.Pe=!1,this.me=Rp()},t.prototype.be=function(t,e){this.Pe=!0,this.me=this.me.Tt(t,e)},t.prototype.Se=function(t){this.Pe=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.Ie+=1},t.prototype.Ce=function(){this.Ie-=1},t.prototype.Ne=function(){this.Pe=!0,this.Re=!0},t}(),Pp=function(){function t(t){this.xe=t,this.Fe=new Map,this.Oe=mp(),this.Me=Np(),this.ke=new fp(Fd)}return t.prototype.$e=function(t){for(var e=0,n=t.we;e<n.length;e++){var r=n[e];t.Ee instanceof vg?this.Le(r,t.Ee):t.Ee instanceof bg&&this.Be(r,t.key,t.Ee)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Be(s[i],t.key,t.Ee)},t.prototype.qe=function(t){var e=this;this.Ue(t,(function(n){var r=e.Qe(n);switch(t.state){case 0:e.Ke(n)&&r.Ve(t.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(t.resumeToken);break;case 2:r.Ce(),r.ge||e.removeTarget(n);break;case 3:e.Ke(n)&&(r.Ne(),r.Ve(t.resumeToken));break;case 4:e.Ke(n)&&(e.We(n),r.Ve(t.resumeToken));break;default:Id()}}))},t.prototype.Ue=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fe.forEach((function(t,r){n.Ke(r)&&e(r)}))},t.prototype.je=function(t){var e=t.targetId,n=t.Te.count,r=this.Ge(e);if(r){var i=r.target;if(ep(i))if(0===n){var s=new Wd(i.path);this.Be(e,s,new bg(s,zd.min()))}else xd(1===n);else this.ze(e)!==n&&(this.We(e),this.ke=this.ke.add(e))}},t.prototype.He=function(t){var e=this,n=new Map;this.Fe.forEach((function(r,i){var s=e.Ge(i);if(s){if(r.le&&ep(s.target)){var o=new Wd(s.target.path);null!==e.Oe.get(o)||e.Je(i,o)||e.Be(i,o,new bg(o,t))}r.ye&&(n.set(i,r.pe()),r.ve())}}));var r=wp();this.Me.forEach((function(t,n){var i=!0;n.Wt((function(t){var n=e.Ge(t);return!n||2===n._t||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new xp(t,n,this.ke,this.Oe,r);return this.Oe=mp(),this.Me=Np(),this.ke=new fp(Fd),i},t.prototype.Le=function(t,e){if(this.Ke(t)){var n=this.Je(t,e.key)?2:0;this.Qe(t).be(e.key,n),this.Oe=this.Oe.Tt(e.key,e),this.Me=this.Me.Tt(e.key,this.Ye(e.key).add(t))}},t.prototype.Be=function(t,e,n){if(this.Ke(t)){var r=this.Qe(t);this.Je(t,e)?r.be(e,1):r.Se(e),this.Me=this.Me.Tt(e,this.Ye(e).delete(t)),n&&(this.Oe=this.Oe.Tt(e,n))}},t.prototype.removeTarget=function(t){this.Fe.delete(t)},t.prototype.ze=function(t){var e=this.Qe(t).pe();return this.xe.Xe(t).size+e._e.size-e.de.size},t.prototype.De=function(t){this.Qe(t).De()},t.prototype.Qe=function(t){var e=this.Fe.get(t);return e||(e=new Dp,this.Fe.set(t,e)),e},t.prototype.Ye=function(t){var e=this.Me.get(t);return e||(e=new fp(Fd),this.Me=this.Me.Tt(t,e)),e},t.prototype.Ke=function(t){var e=null!==this.Ge(t);return e||Ed("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.Fe.get(t);return e&&e.ge?null:this.xe.Ze(t)},t.prototype.We=function(t){var e=this;this.Fe.set(t,new Dp),this.xe.Xe(t).forEach((function(n){e.Be(t,n,null)}))},t.prototype.Je=function(t,e){return this.xe.Xe(t).has(e)},t}();function Np(){return new cp(Wd.$)}function Rp(){return new cp(Wd.$)}function Lp(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mp(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Fp(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Up(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Vp(t){var e=Kp(t.mapValue.fields.__local_write_time__.timestampValue);return new qd(e.seconds,e.nanos)}var qp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zp(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Up(t)?4:10:Id()}function Bp(t,e){var n=zp(t);if(n!==zp(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vp(t).isEqual(Vp(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Kp(t.timestampValue),r=Kp(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Jp(t.bytesValue).isEqual(Jp(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Qp(t.geoPointValue.latitude)===Qp(e.geoPointValue.latitude)&&Qp(t.geoPointValue.longitude)===Qp(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Qp(t.integerValue)===Qp(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Qp(t.doubleValue),r=Qp(e.doubleValue);return n===r?Qd(n)===Qd(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Ud(t.arrayValue.values||[],e.arrayValue.values||[],Bp);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Lp(n)!==Lp(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Bp(n[i],r[i])))return!1;return!0}(t,e);default:return Id()}}function Hp(t,e){return void 0!==(t.values||[]).find((function(t){return Bp(t,e)}))}function $p(t,e){var n=zp(t),r=zp(e);if(n!==r)return Fd(n,r);switch(n){case 0:return 0;case 1:return Fd(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Qp(t.integerValue||t.doubleValue),r=Qp(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Gp(t.timestampValue,e.timestampValue);case 4:return Gp(Vp(t),Vp(e));case 5:return Fd(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Jp(t),r=Jp(e);return n.F(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Fd(n[i],r[i]);if(0!==s)return s}return Fd(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Fd(Qp(t.latitude),Qp(e.latitude));return 0!==n?n:Fd(Qp(t.longitude),Qp(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=$p(n[i],r[i]);if(s)return s}return Fd(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Fd(r[o],s[o]);if(0!==a)return a;var u=$p(n[r[o]],i[s[o]]);if(0!==u)return u}return Fd(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Id()}}function Gp(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Fd(t,e);var n=Kp(t),r=Kp(e),i=Fd(n.seconds,r.seconds);return 0!==i?i:Fd(n.nanos,r.nanos)}function Wp(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Kp(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Jp(e.bytesValue).toBase64():"referenceValue"in e?Wd.it(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,s=e.values||[];i<s.length;i++)r?r=!1:n+=",",n+=t(s[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,s=Object.keys(e.fields||{}).sort();i<s.length;i++){var o=s[i];r?r=!1:n+=",",n+=o+":"+t(e.fields[o])}return n+"}"}(e.mapValue):Id();var n}(t)}function Kp(t){if(xd(!!t),"string"==typeof t){var e=0,n=qp.exec(t);if(xd(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Qp(t.seconds),nanos:Qp(t.nanos)}}function Qp(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Jp(t){return"string"==typeof t?np.fromBase64String(t):np.fromUint8Array(t)}function Zp(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function Yp(t){return!!t&&"integerValue"in t}function Xp(t){return!!t&&"arrayValue"in t}function tm(t){return!!t&&"nullValue"in t}function em(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nm(t){return!!t&&"mapValue"in t}var rm={asc:"ASCENDING",desc:"DESCENDING"},im={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sm=function(t,e){this.t=t,this.tn=e};function om(t){return{integerValue:""+t}}function am(t,e){if(t.tn){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qd(e)?"-0":e}}function um(t,e){return Jd(e)?om(e):am(t,e)}function cm(t,e){return t.tn?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function lm(t,e){return t.tn?e.toBase64():e.toUint8Array()}function hm(t,e){return cm(t,e.M())}function fm(t){return xd(!!t),zd.N(function(t){var e=Kp(t);return new qd(e.seconds,e.nanos)}(t))}function dm(t,e){return function(t){return new Hd(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).J()}function pm(t){var e=Hd.Y(t);return xd(Lm(e)),e}function mm(t,e){return dm(t.t,e.path)}function gm(t,e){var n=pm(e);if(n.get(1)!==t.t.projectId)throw new Ad(kd.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Ad(kd.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Wd(_m(n))}function ym(t,e){return dm(t.t,e)}function vm(t){var e=pm(t);return 4===e.length?Hd.X():_m(e)}function bm(t){return new Hd(["projects",t.t.projectId,"databases",t.t.database]).J()}function _m(t){return xd(t.length>4&&"documents"===t.get(4)),t.B(5)}function wm(t,e,n){return{name:mm(t,e),fields:n.proto.mapValue.fields}}function Em(t,e){var n;if(e instanceof og)n={update:wm(t,e.key,e.value)};else if(e instanceof fg)n={delete:mm(t,e.key)};else if(e instanceof ag)n={update:wm(t,e.key,e.data),updateMask:Rm(e.en)};else if(e instanceof cg)n={transform:{document:mm(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof qm)return{fieldPath:e.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof zm)return{fieldPath:e.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof Hm)return{fieldPath:e.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof Gm)return{fieldPath:e.field.J(),increment:n.nn};throw Id()}(0,t)}))}};else{if(!(e instanceof dg))return Id();n={verify:mm(t,e.key)}}return e.rn.sn||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:hm(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Id()}(t,e.rn)),n}function Sm(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ym.updateTime(fm(t.updateTime)):void 0!==t.exists?Ym.exists(t.exists):Ym.on()}(e.currentDocument):Ym.on();if(e.update){var r=gm(t,e.update.name),i=new pg({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Qm((t.fieldPaths||[]).map((function(t){return Gd.nt(t)})))}(e.updateMask);return new ag(r,i,s,n)}return new og(r,i,n)}if(e.delete){var o=gm(t,e.delete);return new fg(o,n)}if(e.transform){var a=gm(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(xd("REQUEST_TIME"===e.setToServerValue),n=new qm):"appendMissingElements"in e?n=new zm(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Hm(e.removeAllFromArray.values||[]):"increment"in e?n=new Gm(t,e.increment):Id();var r=Gd.nt(e.fieldPath);return new Jm(r,n)}(t,e)}));return xd(!0===n.exists),new cg(a,u)}if(e.verify){var c=gm(t,e.verify);return new dg(c,n)}return Id()}function Om(t,e){return{documents:[ym(t,e.path)]}}function Tm(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ym(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ym(t,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(em(t.value))return{unaryFilter:{field:jm(t.field),op:"IS_NAN"}};if(tm(t.value))return{unaryFilter:{field:jm(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(em(t.value))return{unaryFilter:{field:jm(t.field),op:"IS_NOT_NAN"}};if(tm(t.value))return{unaryFilter:{field:jm(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jm(t.field),op:Am(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:jm(t.field),direction:km(t.dir)}}(t)}))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.tn||Kd(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=xm(e.startAt)),e.endAt&&(n.structuredQuery.endAt=xm(e.endAt)),n}function Im(t){var e=vm(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xd(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[Nm(e)]:void 0!==e.fieldFilter?[Pm(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Id():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Jg(Dm(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Kd(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Cm(n.startAt));var l=null;return n.endAt&&(l=Cm(n.endAt)),Eg(e,i,a,o,u,"F",c,l)}function xm(t){return{before:t.before,values:t.position}}function Cm(t){return new Gg(t.values||[],!!t.before)}function km(t){return rm[t]}function Am(t){return im[t]}function jm(t){return{fieldPath:t.J()}}function Dm(t){return Gd.nt(t.fieldPath)}function Pm(t){return Mg.create(Dm(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Id()}}(t.fieldFilter.op),t.fieldFilter.value)}function Nm(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Dm(t.unaryFilter.field);return Mg.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Dm(t.unaryFilter.field);return Mg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Dm(t.unaryFilter.field);return Mg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Dm(t.unaryFilter.field);return Mg.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Id()}}function Rm(t){var e=[];return t.fields.forEach((function(t){return e.push(t.J())})),{fieldPaths:e}}function Lm(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Mm=function(){this.cn=void 0};function Fm(t,e,n){return t instanceof qm?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof zm?Bm(t,e):t instanceof Hm?$m(t,e):function(t,e){var n=Vm(t,e),r=Wm(n)+Wm(t.nn);return Yp(n)&&Yp(t.nn)?om(r):am(t.serializer,r)}(t,e)}function Um(t,e,n){return t instanceof zm?Bm(t,e):t instanceof Hm?$m(t,e):n}function Vm(t,e){return t instanceof Gm?Yp(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var qm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e}(Mm),zm=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(fc.c)(e,t),e}(Mm);function Bm(t,e){for(var n=Km(e),r=function(t){n.some((function(e){return Bp(e,t)}))||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Hm=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(fc.c)(e,t),e}(Mm);function $m(t,e){for(var n=Km(e),r=function(t){n=n.filter((function(e){return!Bp(e,t)}))},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Gm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.nn=n,r}return Object(fc.c)(e,t),e}(Mm);function Wm(t){return Qp(t.integerValue||t.doubleValue)}function Km(t){return Xp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Qm=function(){function t(t){this.fields=t,t.sort(Gd.$)}return t.prototype.un=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].j(t))return!0;return!1},t.prototype.isEqual=function(t){return Ud(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Jm=function(t,e){this.field=t,this.transform=e},Zm=function(t,e){this.version=t,this.transformResults=e},Ym=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.on=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Xm(t,e){return void 0!==t.updateTime?e instanceof vg&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof vg}var tg=function(){};function eg(t,e,n){return t instanceof og?function(t,e,n){return new vg(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof ag?function(t,e,n){if(!Xm(t.rn,e))return new _g(t.key,n.version);var r=ug(t,e);return new vg(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof cg?function(t,e,n){if(xd(null!=n.transformResults),!Xm(t.rn,e))return new _g(t.key,n.version);var r=lg(0,e),i=function(t,e,n){var r=[];xd(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof vg&&(a=e.field(s.field)),r.push(Um(o,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),s=n.version,o=hg(t,r.data(),i);return new vg(t.key,s,o,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new bg(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function ng(t,e,n,r){return t instanceof og?function(t,e){if(!Xm(t.rn,e))return e;var n=sg(e);return new vg(t.key,n,t.value,{an:!0})}(t,e):t instanceof ag?function(t,e){if(!Xm(t.rn,e))return e;var n=sg(e),r=ug(t,e);return new vg(t.key,n,r,{an:!0})}(t,e):t instanceof cg?function(t,e,n,r){if(!Xm(t.rn,e))return e;var i=lg(0,e),s=function(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,c=null;n instanceof vg&&(c=n.field(a.field)),null===c&&r instanceof vg&&(c=r.field(a.field)),i.push(Fm(u,c,e))}return i}(t.fieldTransforms,n,e,r),o=hg(t,i.data(),s);return new vg(t.key,i.version,o,{an:!0})}(t,e,r,n):function(t,e){return Xm(t.rn,e)?new bg(t.key,zd.min()):e}(t,e)}function rg(t,e){return t instanceof cg?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e instanceof vg?e.field(s.field):void 0,a=Vm(s.transform,o||null);null!=a&&(n=null==n?(new mg).set(s.field,a):n.set(s.field,a))}return n?n.hn():null}(t,e):null}function ig(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.rn.isEqual(e.rn)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.en.isEqual(e.en):2!==t.type||Ud(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof zm&&e instanceof zm||t instanceof Hm&&e instanceof Hm?Ud(t.elements,e.elements,Bp):t instanceof Gm&&e instanceof Gm?Bp(t.nn,e.nn):t instanceof qm&&e instanceof qm}(t.transform,e.transform)}(t,e)})))}function sg(t){return t instanceof vg?t.version:zd.min()}var og=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.rn=r,i.type=0,i}return Object(fc.c)(e,t),e}(tg),ag=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.en=r,s.rn=i,s.type=1,s}return Object(fc.c)(e,t),e}(tg);function ug(t,e){return function(t,e){var n=new mg(e);return t.en.fields.forEach((function(e){if(!e.W()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.hn()}(t,e instanceof vg?e.data():pg.empty())}var cg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.rn=Ym.exists(!0),r}return Object(fc.c)(e,t),e}(tg);function lg(t,e){return e}function hg(t,e,n){for(var r=new mg(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.hn()}var fg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=3,r}return Object(fc.c)(e,t),e}(tg),dg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=4,r}return Object(fc.c)(e,t),e}(tg),pg=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.W())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!nm(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.K()])||null},t.prototype.isEqual=function(t){return Bp(this.proto,t.proto)},t}(),mg=function(){function t(t){void 0===t&&(t=pg.empty()),this.ln=t,this._n=new Map}return t.prototype.set=function(t,e){return this.fn(t,e),this},t.prototype.delete=function(t){return this.fn(t,null),this},t.prototype.fn=function(t,e){for(var n=this._n,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===zp(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.K(),e)},t.prototype.hn=function(){var t=this.dn(Gd.X(),this._n);return null!=t?new pg(t):this.ln},t.prototype.dn=function(t,e){var n=this,r=!1,i=this.ln.field(t),s=nm(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var o=n.dn(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)})),r?{mapValue:{fields:s}}:null},t}();function gg(t){var e=[];return Mp(t.fields||{},(function(t,n){var r=new Gd([t]);if(nm(n)){var i=gg(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)})),new Qm(e)}var yg=function(t,e){this.key=t,this.version=e},vg=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).wn=r,s.an=!!i.an,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(fc.c)(e,t),e.prototype.field=function(t){return this.wn.field(t)},e.prototype.data=function(){return this.wn},e.prototype.En=function(){return this.wn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.an===t.an&&this.hasCommittedMutations===t.hasCommittedMutations&&this.wn.isEqual(t.wn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(yg),bg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(fc.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(yg),_g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(yg),wg=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Tn=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.In=null,this.mn=null};function Eg(t,e,n,r,i,s,o,a){return new wg(t,e,n,r,i,s,o,a)}function Sg(t){return new wg(t)}function Og(t){return!Kd(t.limit)&&"F"===t.limitType}function Tg(t){return!Kd(t.limit)&&"L"===t.limitType}function Ig(t){return t.Tn.length>0?t.Tn[0].field:null}function xg(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.An())return r.field}return null}function Cg(t){return null!==t.collectionGroup}function kg(t){var e=Cd(t);if(null===e.In){e.In=[];var n=xg(e),r=Ig(e);if(null!==n&&null===r)n.tt()||e.In.push(new Jg(n)),e.In.push(new Jg(Gd.et(),"asc"));else{for(var i=!1,s=0,o=e.Tn;s<o.length;s++){var a=o[s];e.In.push(a),a.field.tt()&&(i=!0)}if(!i){var u=e.Tn.length>0?e.Tn[e.Tn.length-1].dir:"asc";e.In.push(new Jg(Gd.et(),u))}}}return e.In}function Ag(t){var e=Cd(t);if(!e.mn)if("F"===e.limitType)e.mn=Yd(e.path,e.collectionGroup,kg(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=kg(e);r<i.length;r++){var s=i[r];n.push(new Jg(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Gg(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Gg(e.startAt.position,!e.startAt.before):null;e.mn=Yd(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.mn}function jg(t,e,n){return new wg(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dg(t,e){return tp(Ag(t),Ag(e))&&t.limitType===e.limitType}function Pg(t){return Xd(Ag(t))+"|lt:"+t.limitType}function Ng(t){return"Query(target="+function(t){var e=t.path.J();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.J()+" "+e.op+" "+Wp(e.value);var e})).join(", ")+"]"),Kd(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.J()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Wg(t.startAt)),t.endAt&&(e+=", endAt: "+Wg(t.endAt)),"Target("+e+")"}(Ag(t))+"; limitType="+t.limitType+")"}function Rg(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.rt(t.collectionGroup)&&t.path.j(n):Wd.ot(t.path)?t.path.isEqual(n):t.path.G(n)}(t,e)&&function(t,e){for(var n=0,r=t.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Kg(t.startAt,kg(t),e)||t.endAt&&Kg(t.endAt,kg(t),e))}(t,e)}function Lg(t){return function(e,n){for(var r=!1,i=0,s=kg(t);i<s.length;i++){var o=s[i],a=Zg(o,e,n);if(0!==a)return a;r=r||o.field.tt()}return 0}}var Mg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(fc.c)(e,t),e.create=function(t,n,r){return t.tt()?"in"===n||"not-in"===n?this.Rn(t,n,r):new Fg(t,n,r):"array-contains"===n?new zg(t,r):"in"===n?new Bg(t,r):"not-in"===n?new Hg(t,r):"array-contains-any"===n?new $g(t,r):new e(t,n,r)},e.Rn=function(t,e,n){return"in"===e?new Ug(t,n):new Vg(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Pn($p(e,this.value)):null!==e&&zp(this.value)===zp(e)&&this.Pn($p(e,this.value))},e.prototype.Pn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Id()}},e.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Fg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Wd.it(r.referenceValue),i}return Object(fc.c)(e,t),e.prototype.matches=function(t){var e=Wd.$(t.key,this.key);return this.Pn(e)},e}(Mg),Ug=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=qg(0,n),r}return Object(fc.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Mg),Vg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=qg(0,n),r}return Object(fc.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Mg);function qg(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Wd.it(t.referenceValue)}))}var zg=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(fc.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Xp(e)&&Hp(e.arrayValue,this.value)},e}(Mg),Bg=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(fc.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Hp(this.value.arrayValue,e)},e}(Mg),Hg=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(fc.c)(e,t),e.prototype.matches=function(t){if(Hp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Hp(this.value.arrayValue,e)},e}(Mg),$g=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(fc.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Xp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Hp(e.value.arrayValue,t)}))},e}(Mg),Gg=function(t,e){this.position=t,this.before=e};function Wg(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Wp(t)})).join(",")}function Kg(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.tt()?Wd.$(Wd.it(o.referenceValue),n.key):$p(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Qg(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Bp(t.position[n],e.position[n]))return!1;return!0}var Jg=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Zg(t,e,n){var r=t.field.tt()?Wd.$(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?$p(r,i):Id()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Id()}}function Yg(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Xg=function(){function t(t,e,n,r){this.batchId=t,this.gn=e,this.baseMutations=n,this.mutations=r}return t.prototype.yn=function(t,e,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=eg(s,e,r[i]))}return e},t.prototype.pn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=ng(i,e,e,this.gn))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var u=a[o];u.key.isEqual(t)&&(e=ng(u,e,s,this.gn))}return e},t.prototype.vn=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.pn(r.key,t.get(r.key));i&&(n=n.Tt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),wp())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ud(this.mutations,t.mutations,(function(t,e){return ig(t,e)}))&&Ud(this.baseMutations,t.baseMutations,(function(t,e){return ig(t,e)}))},t}(),ty=function(){function t(t,e,n,r){this.batch=t,this.bn=e,this.Vn=n,this.Sn=r}return t.from=function(e,n,r){xd(e.mutations.length===r.length);for(var i=bp,s=e.mutations,o=0;o<s.length;o++)i=i.Tt(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),ey=function(){function t(t,e){this.Dn=t,this.Cn=e,this.Nn={}}return t.prototype.get=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.Cn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Dn(t),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.Nn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],t))return 1===n.length?delete this.Nn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Mp(this.Nn,(function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}}))},t.prototype.W=function(){return Fp(this.Nn)},t}(),ny=function(){function t(t){var e=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,t((function(t){e.On=!0,e.result=t,e.xn&&e.xn(t)}),(function(t){e.On=!0,e.error=t,e.Fn&&e.Fn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Mn&&Id(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(e,this.result):new t((function(t,i){r.xn=function(n){r.$n(e,n).next(t,i)},r.Fn=function(e){r.kn(n,e).next(t,i)}}))},t.prototype.Ln=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.$n=function(e,n){return e?this.Bn((function(){return e(n)})):t.resolve(n)},t.prototype.kn=function(e,n){return e?this.Bn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.qn=function(e){return new t((function(t,n){var r=0,i=0,s=!1;e.forEach((function(e){++r,e.next((function(){++i,s&&i===r&&t()}),(function(t){return n(t)}))})),s=!0,i===r&&t()}))},t.Un=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.qn(r)},t}(),ry=function(){function t(){this.Qn=new ey((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Kn=!1}return t.prototype.Wn=function(t){var e=this.Qn.get(t);return e?e.readTime:zd.min()},t.prototype.jn=function(t,e){this.Gn(),this.Qn.set(t.key,{zn:t,readTime:e})},t.prototype.Hn=function(t,e){void 0===e&&(e=null),this.Gn(),this.Qn.set(t,{zn:null,readTime:e})},t.prototype.Jn=function(t,e){this.Gn();var n=this.Qn.get(e);return void 0!==n?ny.resolve(n.zn):this.Yn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.Gn(),this.Kn=!0,this.Zn(t)},t.prototype.Gn=function(){},t}(),iy=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function sy(t){return new sm(t,!0)}function oy(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var ay="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",uy=function(){function t(){this.ts=[]}return t.prototype.es=function(t){this.ts.push(t)},t.prototype.ns=function(){this.ts.forEach((function(t){return t()}))},t}(),cy=function(){function t(t,e,n){this.ss=t,this.rs=e,this.os=n}return t.prototype.cs=function(t,e){var n=this;return this.rs.us(t,e).next((function(r){return n.hs(t,e,r)}))},t.prototype.hs=function(t,e,n){return this.ss.Jn(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].pn(e,t);return t}))},t.prototype.ls=function(t,e,n){var r=gp();return e.forEach((function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].pn(t,e);r=r.Tt(t,e)})),r},t.prototype._s=function(t,e){var n=this;return this.ss.getEntries(t,e).next((function(e){return n.fs(t,e)}))},t.prototype.fs=function(t,e){var n=this;return this.rs.ds(t,e).next((function(r){var i=n.ls(t,e,r),s=mp();return i.forEach((function(t,e){e||(e=new bg(t,zd.min())),s=s.Tt(t,e)})),s}))},t.prototype.ws=function(t,e,n){return function(t){return Wd.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Es(t,e.path):Cg(e)?this.Ts(t,e,n):this.Is(t,e,n)},t.prototype.Es=function(t,e){return this.cs(t,new Wd(e)).next((function(t){var e=vp();return t instanceof vg&&(e=e.Tt(t.key,t)),e}))},t.prototype.Ts=function(t,e,n){var r=this,i=e.collectionGroup,s=vp();return this.os.As(t,i).next((function(o){return ny.forEach(o,(function(o){var a=function(t,e){return new wg(e,null,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.Is(t,a,n).next((function(t){t.forEach((function(t,e){s=s.Tt(t,e)}))}))})).next((function(){return s}))}))},t.prototype.Is=function(t,e,n){var r,i,s=this;return this.ss.ws(t,e,n).next((function(n){return r=n,s.rs.Rs(t,e)})).next((function(e){return s.Ps(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c),h=ng(u,l,l,s.gn);r=h instanceof vg?r.Tt(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Rg(e,n)||(r=r.remove(t))})),r}))},t.prototype.Ps=function(t,e,n){for(var r=wp(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof ag&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ss.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof vg&&(c=c.Tt(t,e))})),c}))},t}(),ly=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.gs=n,this.ys=r}return t.Vs=function(e,n){for(var r=wp(),i=wp(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),hy=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ps=function(t){return n.vs(t)},this.bs=function(t){return e.Ss(t)})}return t.prototype.vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.bs&&this.bs(t),t},t}();hy.Ds=-1;var fy=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=t,this.Ns=e,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ms=0},t.prototype.Ls=function(){this.Ms=this.Os},t.prototype.Bs=function(t){var e=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&Ed("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ks=this.Cs.Us(this.Ns,i,(function(){return e.$s=Date.now(),t()})),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},t.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},t.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},t.prototype.qs=function(){return(Math.random()-.5)*this.Ms},t}(),dy=function(){function t(e,n,r){this.name=e,this.version=n,this.Ws=r,12.2===t.js(Object(mc.g)())&&Sd("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Ed("SimpleDb","Removing database:",t),by(window.indexedDB.deleteDatabase(t)).Ln()},t.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(t.zs())return!0;var e=Object(mc.g)(),n=t.js(e),r=0<n&&n<10,i=t.Hs(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.zs=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Js)},t.Ys=function(t,e){return t.store(e)},t.js=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Hs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Xs=function(t){return Object(fc.b)(this,void 0,void 0,(function(){var e,n=this;return Object(fc.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Ed("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new my(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Ad(kd.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new my(t,n))},i.onupgradeneeded=function(t){Ed("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Ws.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Ed("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(t){return n.Zs(t)}),this.db)]}}))}))},t.prototype.ti=function(t){this.Zs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(fc.b)(this,void 0,void 0,(function(){var i,s,o,a,u;return Object(fc.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(fc.d)(this,(function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Xs(t)];case 2:return a.db=h.sent(),e=yy.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch((function(t){return e.abort(t),ny.reject(t)})).Ln(),u={},o.catch((function(){})),[4,e.ei];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return Ed("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),py=function(){function t(t){this.ni=t,this.si=!1,this.ii=null}return Object.defineProperty(t.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ni=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.si=!0},t.prototype.oi=function(t){this.ii=t},t.prototype.delete=function(){return by(this.ni.delete())},t}(),my=function(t){function e(e,n){var r=this;return(r=t.call(this,kd.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(fc.c)(e,t),e}(Ad);function gy(t){return"IndexedDbTransactionError"===t.name}var yy=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ci=new iy,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){e.error?n.ci.reject(new my(t,e.error)):n.ci.resolve()},this.transaction.onerror=function(e){var r=wy(e.target.error);n.ci.reject(new my(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new my(n,e)}},Object.defineProperty(t.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ci.reject(t),this.aborted||(Ed("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new vy(e)},t}(),vy=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ed("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ed("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),by(n)},t.prototype.add=function(t){return Ed("SimpleDb","ADD",this.store.name,t,t),by(this.store.add(t))},t.prototype.get=function(t){var e=this;return by(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Ed("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Ed("SimpleDb","DELETE",this.store.name,t),by(this.store.delete(t))},t.prototype.count=function(){return Ed("SimpleDb","COUNT",this.store.name),by(this.store.count())},t.prototype.ui=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ai(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.hi=function(t,e){Ed("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.li=!1;var r=this.cursor(n);return this.ai(r,(function(t,e,n){return n.delete()}))},t.prototype._i=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ai(r,e)},t.prototype.fi=function(t){var e=this.cursor({});return new ny((function(n,r){e.onerror=function(t){var e=wy(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.ai=function(t,e){var n=[];return new ny((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new py(i),o=e(i.primaryKey,i.value,s);if(o instanceof ny){var a=o.catch((function(t){return s.done(),ny.reject(t)}));n.push(a)}s.On?r():null===s.ri?i.continue():i.continue(s.ri)}else r()}})).next((function(){return ny.qn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.li?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function by(t){return new ny((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=wy(t.target.error);n(e)}}))}var _y=!1;function wy(t){var e=dy.js(Object(mc.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ad("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return _y||(_y=!0,setTimeout((function(){throw r}),0)),r}}return t}function Ey(){return"undefined"!=typeof window?window:null}function Sy(){return"undefined"!=typeof document?document:null}var Oy=function(){function t(t,e,n,r,i){this.di=t,this.Ns=e,this.wi=n,this.op=r,this.Ei=i,this.Ti=new iy,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch((function(t){}))}return t.Ii=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.mi=setTimeout((function(){return e.Ai()}),t)},t.prototype.Ks=function(){return this.Ai()},t.prototype.cancel=function(t){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new Ad(kd.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Ai=function(){var t=this;this.di.Ri((function(){return null!==t.mi?(t.clearTimeout(),t.op().then((function(e){return t.Ti.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},t}(),Ty=function(){function t(){var t=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new fy(this,"async_queue_retry"),this.Di=function(){var e=Sy();e&&Ed("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Si.Qs()};var e=Sy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(t.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t){this.enqueue(t)},t.prototype.Ni=function(t){this.xi(),this.Fi(t)},t.prototype.Oi=function(){if(!this.yi){this.yi=!0;var t=Sy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Di)}},t.prototype.enqueue=function(t){return this.xi(),this.yi?new Promise((function(t){})):this.Fi(t)},t.prototype.Mi=function(t){var e=this;this.Ri((function(){return e.gi.push(t),e.ki()}))},t.prototype.ki=function(){return Object(fc.b)(this,void 0,void 0,(function(){var t,e=this;return Object(fc.d)(this,(function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!gy(t=n.sent()))throw t;return Ed("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gi.length>0&&this.Si.Bs((function(){return e.ki()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Fi=function(t){var e=this,n=this.Pi.then((function(){return e.vi=!0,t().catch((function(t){throw e.pi=t,e.vi=!1,Sd("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.vi=!1,t}))}));return this.Pi=n,n},t.prototype.Us=function(t,e,n){var r=this;this.xi(),this.bi.indexOf(t)>-1&&(e=0);var i=Oy.Ii(this,t,e,n,(function(t){return r.$i(t)}));return this.Vi.push(i),i},t.prototype.xi=function(){this.pi&&Id()},t.prototype.Li=function(){},t.prototype.Bi=function(){return Object(fc.b)(this,void 0,void 0,(function(){var t;return Object(fc.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Pi];case 1:e.sent(),e.label=2;case 2:if(t!==this.Pi)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.qi=function(t){for(var e=0,n=this.Vi;e<n.length;e++)if(n[e].Ns===t)return!0;return!1},t.prototype.Ui=function(t){var e=this;return this.Bi().then((function(){e.Vi.sort((function(t,e){return t.wi-e.wi}));for(var n=0,r=e.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ns===t)break}return e.Bi()}))},t.prototype.Qi=function(t){this.bi.push(t)},t.prototype.$i=function(t){var e=this.Vi.indexOf(t);this.Vi.splice(e,1)},t}();function Iy(t,e){if(Sd("AsyncQueue",e+": "+t),gy(t))return new Ad(kd.UNAVAILABLE,e+": "+t);throw t}function xy(t,e){var n=t[1],r=e[1],i=Fd(t[0],e[0]);return 0===i?Fd(n,r):i}var Cy=function(){function t(t){this.Ki=t,this.buffer=new fp(xy),this.Wi=0}return t.prototype.ji=function(){return++this.Wi},t.prototype.Gi=function(t){var e=[t,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();xy(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ky={zi:!1,Hi:0,Ji:0,Yi:0},Ay=function(){function t(t,e,n){this.Xi=t,this.Zi=e,this.tr=n}return t.er=function(e){return new t(e,t.nr,t.sr)},t}();Ay.nr=10,Ay.sr=1e3,Ay.ir=new Ay(41943040,Ay.nr,Ay.sr),Ay.rr=new Ay(-1,0,0);var jy=function(){function t(t,e){this.cr=t,this.di=e,this.ur=!1,this.ar=null}return t.prototype.start=function(t){-1!==this.cr.params.Xi&&this.hr(t)},t.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(t.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),t.prototype.hr=function(t){var e=this,n=this.ur?3e5:6e4;Ed("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,(function(){return Object(fc.b)(e,void 0,void 0,(function(){var e;return Object(fc.d)(this,(function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return gy(e=n.sent())?(Ed("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,sb(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Dy=function(){function t(t,e){this.dr=t,this.params=e}return t.prototype.wr=function(t,e){return this.dr.Er(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Tr=function(t,e){var n=this;if(0===e)return ny.resolve(hy.Ds);var r=new Cy(e);return this.dr.Ue(t,(function(t){return r.Gi(t.sequenceNumber)})).next((function(){return n.dr.Ir(t,(function(t){return r.Gi(t)}))})).next((function(){return r.maxValue}))},t.prototype.mr=function(t,e,n){return this.dr.mr(t,e,n)},t.prototype.Ar=function(t,e){return this.dr.Ar(t,e)},t.prototype.Rr=function(t,e){var n=this;return-1===this.params.Xi?(Ed("LruGarbageCollector","Garbage collection skipped; disabled"),ny.resolve(ky)):this.Pr(t).next((function(r){return r<n.params.Xi?(Ed("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Xi),ky):n.gr(t,e)}))},t.prototype.Pr=function(t){return this.dr.Pr(t)},t.prototype.gr=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.wr(t,this.params.Zi).next((function(e){return e>c.params.tr?(Ed("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.tr+" from "+e),r=c.params.tr):r=e,s=Date.now(),c.Tr(t,r)})).next((function(r){return n=r,o=Date.now(),c.mr(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.Ar(t,n)})).next((function(t){return u=Date.now(),wd()<=pc.a.DEBUG&&Ed("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),ny.resolve({zi:!0,Hi:r,Ji:i,Yi:t})}))},t}(),Py=function(){function t(){}return t.prototype.yr=function(t){this.Vr=t},t.prototype.ws=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Tn.length||1===t.Tn.length&&t.Tn[0].field.tt())}(e)||n.isEqual(zd.min())?this.pr(t,e):this.Vr._s(t,r).next((function(s){var o=i.vr(e,s);return(Og(e)||Tg(e))&&i.br(e.limitType,o,r,n)?i.pr(t,e):(wd()<=pc.a.DEBUG&&Ed("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ng(e)),i.Vr.ws(t,e,n).next((function(t){return o.forEach((function(e){t=t.Tt(e.key,e)})),t})))}))},t.prototype.vr=function(t,e){var n=new fp(Lg(t));return e.forEach((function(e,r){r instanceof vg&&Rg(t,r)&&(n=n.add(r))})),n},t.prototype.br=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},t.prototype.pr=function(t,e){return wd()<=pc.a.DEBUG&&Ed("QueryEngine","Using full collection scan to execute query:",Ng(e)),this.Vr.ws(t,e,zd.min())},t}();function Ny(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ly(e)),e=Ry(t.get(n),e);return Ly(e)}function Ry(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Ly(t){return t+"\x01\x01"}function My(t){var e=t.length;if(xd(e>=2),2===e)return xd("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Hd.X();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Id(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Id()}s=o+2}return new Hd(r)}var Fy=function(t){this.Sr=t};function Uy(t,e){if(e.document)return function(t,e,n){var r=gm(t,e.name),i=fm(e.updateTime),s=new pg({mapValue:{fields:e.fields}});return new vg(r,i,s,{hasCommittedMutations:!!n})}(t.Sr,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Wd.ct(e.noDocument.path),r=Hy(e.noDocument.readTime);return new bg(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Wd.ct(e.unknownDocument.path),s=Hy(e.unknownDocument.version);return new _g(i,s)}return Id()}function Vy(t,e,n){var r=qy(n),i=e.key.path.q().H();if(e instanceof vg){var s=function(t,e){return{name:mm(t,e.key),fields:e.En().mapValue.fields,updateTime:cm(t,e.version.M())}}(t.Sr,e);return new yv(null,null,s,e.hasCommittedMutations,r,i)}if(e instanceof bg){var o=e.key.path.H(),a=By(e.version),u=e.hasCommittedMutations;return new yv(null,new mv(o,a),null,u,r,i)}if(e instanceof _g){var c=e.key.path.H(),l=By(e.version);return new yv(new gv(c,l),null,null,!0,r,i)}return Id()}function qy(t){var e=t.M();return[e.seconds,e.nanoseconds]}function zy(t){var e=new qd(t[0],t[1]);return zd.N(e)}function By(t){var e=t.M();return new lv(e.seconds,e.nanoseconds)}function Hy(t){var e=new qd(t.seconds,t.nanoseconds);return zd.N(e)}function $y(t,e){var n=(e.baseMutations||[]).map((function(e){return Sm(t.Sr,e)})),r=e.mutations.map((function(e){return Sm(t.Sr,e)})),i=qd.fromMillis(e.localWriteTimeMs);return new Xg(e.batchId,i,n,r)}function Gy(t){var e,n,r=Hy(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Hy(t.lastLimboFreeSnapshotVersion):zd.min();return void 0!==t.query.documents?(xd(1===(n=t.query).documents.length),e=Ag(Sg(vm(n.documents[0])))):e=function(t){return Ag(Im(t))}(t.query),new sp(e,t.targetId,0,t.lastListenSequenceNumber,r,i,np.fromBase64String(t.resumeToken))}function Wy(t,e){var n,r=By(e.ft),i=By(e.lastLimboFreeSnapshotVersion);n=ep(e.target)?Om(t.Sr,e.target):Tm(t.Sr,e.target);var s=e.resumeToken.toBase64();return new bv(e.targetId,Xd(e.target),r,s,e.sequenceNumber,i,n)}function Ky(t){var e=Im({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?jg(e,e.limit,"L"):e}var Qy=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.os=n,this.Dr=r,this.Cr={}}return t.Nr=function(e,n,r,i){return xd(""!==e.uid),new t(e.u()?e.uid:"",n,r,i)},t.prototype.Fr=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yy(t)._i({index:dv.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Or=function(t,e,n,r){var i=this,s=Xy(t),o=Yy(t);return o.add({}).next((function(a){xd("number"==typeof a);for(var u=new Xg(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Em(t.Sr,e)})),i=n.mutations.map((function(e){return Em(t.Sr,e)}));return new dv(e,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new fp((function(t,e){return Fd(t.J(),e.J())})),f=0,d=r;f<d.length;f++){var p=d[f],m=pv.key(i.userId,p.key.path,a);h=h.add(p.key.path.q()),l.push(o.put(c)),l.push(s.put(m,pv.PLACEHOLDER))}return h.forEach((function(e){l.push(i.os.Mr(t,e))})),t.es((function(){i.Cr[a]=u.keys()})),ny.qn(l).next((function(){return u}))}))},t.prototype.kr=function(t,e){var n=this;return Yy(t).get(e).next((function(t){return t?(xd(t.userId===n.userId),$y(n.serializer,t)):null}))},t.prototype.$r=function(t,e){var n=this;return this.Cr[e]?ny.resolve(this.Cr[e]):this.kr(t,e).next((function(t){if(t){var r=t.keys();return n.Cr[e]=r,r}return null}))},t.prototype.Lr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Yy(t)._i({index:dv.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(xd(e.batchId>=r),s=$y(n.serializer,e)),i.done()})).next((function(){return s}))},t.prototype.Br=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Yy(t)._i({index:dv.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.qr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yy(t).ui(dv.userMutationsIndex,n).next((function(t){return t.map((function(t){return $y(e.serializer,t)}))}))},t.prototype.us=function(t,e){var n=this,r=pv.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Xy(t)._i({range:i},(function(r,i,o){var a=r[0],u=r[2],c=My(r[1]);if(a===n.userId&&e.path.isEqual(c))return Yy(t).get(u).next((function(t){if(!t)throw Id();xd(t.userId===n.userId),s.push($y(n.serializer,t))}));o.done()})).next((function(){return s}))},t.prototype.ds=function(t,e){var n=this,r=new fp(Fd),i=[];return e.forEach((function(e){var s=pv.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Xy(t)._i({range:o},(function(t,i,s){var o=t[0],a=t[2],u=My(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()}));i.push(a)})),ny.qn(i).next((function(){return n.Ur(t,r)}))},t.prototype.Rs=function(t,e){var n=this,r=e.path,i=r.length+1,s=pv.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new fp(Fd);return Xy(t)._i({range:o},(function(t,e,s){var o=t[0],u=t[2],c=My(t[1]);o===n.userId&&r.j(c)?c.length===i&&(a=a.add(u)):s.done()})).next((function(){return n.Ur(t,a)}))},t.prototype.Ur=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Yy(t).get(e).next((function(t){if(null===t)throw Id();xd(t.userId===n.userId),r.push($y(n.serializer,t))})))})),ny.qn(i).next((function(){return r}))},t.prototype.Qr=function(t,e){var n=this;return Zy(t.Kr,this.userId,e).next((function(r){return t.es((function(){n.Wr(e.batchId)})),ny.forEach(r,(function(e){return n.Dr.jr(t,e)}))}))},t.prototype.Wr=function(t){delete this.Cr[t]},t.prototype.Gr=function(t){var e=this;return this.Fr(t).next((function(n){if(!n)return ny.resolve();var r=IDBKeyRange.lowerBound(pv.prefixForUser(e.userId)),i=[];return Xy(t)._i({range:r},(function(t,n,r){if(t[0]===e.userId){var s=My(t[1]);i.push(s)}else r.done()})).next((function(){xd(0===i.length)}))}))},t.prototype.zr=function(t,e){return Jy(t,this.userId,e)},t.prototype.Hr=function(t){var e=this;return tv(t).get(this.userId).next((function(t){return t||new fv(e.userId,-1,"")}))},t}();function Jy(t,e,n){var r=pv.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Xy(t)._i({range:s,li:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()})).next((function(){return o}))}function Zy(t,e,n){var r=t.store(dv.store),i=t.store(pv.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r._i({range:o},(function(t,e,n){return a++,n.delete()}));s.push(u.next((function(){xd(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=pv.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return ny.qn(s).next((function(){return c}))}function Yy(t){return Vv.Ys(t,dv.store)}function Xy(t){return Vv.Ys(t,pv.store)}function tv(t){return Vv.Ys(t,fv.store)}var ev=function(){function t(t,e){this.serializer=t,this.os=e}return t.prototype.jn=function(t,e,n){return iv(t).put(sv(e),n)},t.prototype.Hn=function(t,e){var n=iv(t),r=sv(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Jr(t,r)}))},t.prototype.Jn=function(t,e){var n=this;return iv(t).get(sv(e)).next((function(t){return n.Yr(t)}))},t.prototype.Xr=function(t,e){var n=this;return iv(t).get(sv(e)).next((function(t){var e=n.Yr(t);return e?{zn:e,size:ov(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=gp();return this.Zr(t,e,(function(t,e){var i=n.Yr(e);r=r.Tt(t,i)})).next((function(){return r}))},t.prototype.eo=function(t,e){var n=this,r=gp(),i=new cp(Wd.$);return this.Zr(t,e,(function(t,e){var s=n.Yr(e);s?(r=r.Tt(t,s),i=i.Tt(t,ov(e))):(r=r.Tt(t,null),i=i.Tt(t,0))})).next((function(){return{no:r,so:i}}))},t.prototype.Zr=function(t,e,n){if(e.W())return ny.resolve();var r=IDBKeyRange.bound(e.first().path.H(),e.last().path.H()),i=e.yt(),s=i.Ct();return iv(t)._i({range:r},(function(t,e,r){for(var o=Wd.ct(t);s&&Wd.$(s,o)<0;)n(s,null),s=i.Ct();s&&s.isEqual(o)&&(n(s,e),s=i.Nt()?i.Ct():null),s?r.oi(s.path.H()):r.done()})).next((function(){for(;s;)n(s,null),s=i.Nt()?i.Ct():null}))},t.prototype.ws=function(t,e,n){var r=this,i=vp(),s=e.path.length+1,o={};if(n.isEqual(zd.min())){var a=e.path.H();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.H(),c=qy(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=yv.collectionReadTimeIndex}return iv(t)._i(o,(function(t,n,o){if(t.length===s){var a=Uy(r.serializer,n);e.path.j(a.key.path)?a instanceof vg&&Rg(e,a)&&(i=i.Tt(a.key,a)):o.done()}})).next((function(){return i}))},t.prototype.io=function(t){return new nv(this,!!t&&t.ro)},t.prototype.oo=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return rv(t).get(vv.key).next((function(t){return xd(!!t),t}))},t.prototype.Jr=function(t,e){return rv(t).put(vv.key,e)},t.prototype.Yr=function(t){if(t){var e=Uy(this.serializer,t);return e instanceof bg&&e.version.isEqual(zd.min())?null:e}return null},t}(),nv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).co=e,r.ro=n,r.uo=new ey((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(fc.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[],r=0,i=new fp((function(t,e){return Fd(t.J(),e.J())}));return this.Qn.forEach((function(s,o){var a=e.uo.get(s);if(o.zn){var u=Vy(e.co.serializer,o.zn,e.Wn(s));i=i.add(s.path.q());var c=ov(u);r+=c-a,n.push(e.co.jn(t,s,u))}else if(r-=a,e.ro){var l=Vy(e.co.serializer,new bg(s,zd.min()),e.Wn(s));n.push(e.co.jn(t,s,l))}else n.push(e.co.Hn(t,s))})),i.forEach((function(r){n.push(e.co.os.Mr(t,r))})),n.push(this.co.updateMetadata(t,r)),ny.qn(n)},e.prototype.Yn=function(t,e){var n=this;return this.co.Xr(t,e).next((function(t){return null===t?(n.uo.set(e,0),null):(n.uo.set(e,t.size),t.zn)}))},e.prototype.Xn=function(t,e){var n=this;return this.co.eo(t,e).next((function(t){var e=t.no;return t.so.forEach((function(t,e){n.uo.set(t,e)})),e}))},e}(ry);function rv(t){return Vv.Ys(t,vv.store)}function iv(t){return Vv.Ys(t,yv.store)}function sv(t){return t.path.H()}function ov(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Id();e=t.noDocument}return JSON.stringify(e).length}var av=function(){function t(){this.ao=new uv}return t.prototype.Mr=function(t,e){return this.ao.add(e),ny.resolve()},t.prototype.As=function(t,e){return ny.resolve(this.ao.getEntries(e))},t}(),uv=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.K(),n=t.q(),r=this.index[e]||new fp(Hd.$),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.K(),n=t.q(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new fp(Hd.$)).H()},t}(),cv=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;xd(n<r&&n>=0&&r<=11);var s=new yy("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(hv.store)}(t),function(t){t.createObjectStore(fv.store,{keyPath:fv.keyPath}),t.createObjectStore(dv.store,{keyPath:dv.keyPath,autoIncrement:!0}).createIndex(dv.userMutationsIndex,dv.userMutationsKeyPath,{unique:!0}),t.createObjectStore(pv.store)}(t),Sv(t),function(t){t.createObjectStore(yv.store)}(t));var o=ny.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(_v.store),t.deleteObjectStore(bv.store),t.deleteObjectStore(wv.store)}(t),Sv(t)),o=o.next((function(){return function(t){var e=t.store(wv.store),n=new wv(0,0,zd.min().M(),0);return e.put(wv.key,n)}(s)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(dv.store).ui().next((function(n){t.deleteObjectStore(dv.store),t.createObjectStore(dv.store,{keyPath:dv.keyPath,autoIncrement:!0}).createIndex(dv.userMutationsIndex,dv.userMutationsKeyPath,{unique:!0});var r=e.store(dv.store),i=n.map((function(t){return r.put(t)}));return ny.qn(i)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(Ov.store,{keyPath:Ov.keyPath})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.removeAcknowledgedMutations(s)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(vv.store)}(t),i.addDocumentGlobal(s)}))),n<7&&r>=7&&(o=o.next((function(){return i.ensureSequenceNumbers(s)}))),n<8&&r>=8&&(o=o.next((function(){return i.createCollectionParentIndex(t,s)}))),n<9&&r>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(yv.store);e.createIndex(yv.readTimeIndex,yv.readTimeIndexPath,{unique:!1}),e.createIndex(yv.collectionReadTimeIndex,yv.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.rewriteCanonicalIds(s)}))),n<11&&r>=11&&(o=o.next((function(){!function(t){t.createObjectStore(Tv.store,{keyPath:Tv.keyPath})}(t),function(t){t.createObjectStore(Iv.store,{keyPath:Iv.keyPath})}(t)}))),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(yv.store)._i((function(t,n){e+=ov(n)})).next((function(){var n=new vv(e);return t.store(vv.store).put(vv.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(fv.store),r=t.store(dv.store);return n.ui().next((function(n){return ny.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui(dv.userMutationsIndex,i).next((function(r){return ny.forEach(r,(function(r){xd(r.userId===n.userId);var i=$y(e.serializer,r);return Zy(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(_v.store),n=t.store(yv.store);return t.store(wv.store).get(wv.key).next((function(t){var r=[];return n._i((function(n,i){var s=new Hd(n),o=function(t){return[0,Ny(t)]}(s);r.push(e.get(o).next((function(n){return n?ny.resolve():function(n){return e.put(new _v(0,Ny(n),t.highestListenSequenceNumber))}(s)})))})).next((function(){return ny.qn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Ev.store,{keyPath:Ev.keyPath});var n=e.store(Ev.store),r=new uv,i=function(t){if(r.add(t)){var e=t.K(),i=t.q();return n.put({collectionId:e,parent:Ny(i)})}};return e.store(yv.store)._i({li:!0},(function(t,e){var n=new Hd(t);return i(n.q())})).next((function(){return e.store(pv.store)._i({li:!0},(function(t,e){var n=My(t[1]);return i(n.q())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(bv.store);return n._i((function(t,r){var i=Gy(r),s=Wy(e.serializer,i);return n.put(s)}))},t}(),lv=function(t,e){this.seconds=t,this.nanoseconds=e},hv=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};hv.store="owner",hv.key="owner";var fv=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};fv.store="mutationQueues",fv.keyPath="userId";var dv=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};dv.store="mutations",dv.keyPath="batchId",dv.userMutationsIndex="userMutationsIndex",dv.userMutationsKeyPath=["userId","batchId"];var pv=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ny(e)]},t.key=function(t,e,n){return[t,Ny(e),n]},t}();pv.store="documentMutations",pv.PLACEHOLDER=new pv;var mv=function(t,e){this.path=t,this.readTime=e},gv=function(t,e){this.path=t,this.version=e},yv=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};yv.store="remoteDocuments",yv.readTimeIndex="readTimeIndex",yv.readTimeIndexPath="readTime",yv.collectionReadTimeIndex="collectionReadTimeIndex",yv.collectionReadTimeIndexPath=["parentPath","readTime"];var vv=function(t){this.byteSize=t};vv.store="remoteDocumentGlobal",vv.key="remoteDocumentGlobalKey";var bv=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};bv.store="targets",bv.keyPath="targetId",bv.queryTargetsIndexName="queryTargetsIndex",bv.queryTargetsKeyPath=["canonicalId","targetId"];var _v=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};_v.store="targetDocuments",_v.keyPath=["targetId","path"],_v.documentTargetsIndex="documentTargetsIndex",_v.documentTargetsKeyPath=["path","targetId"];var wv=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};wv.key="targetGlobalKey",wv.store="targetGlobal";var Ev=function(t,e){this.collectionId=t,this.parent=e};function Sv(t){t.createObjectStore(_v.store,{keyPath:_v.keyPath}).createIndex(_v.documentTargetsIndex,_v.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(bv.store,{keyPath:bv.keyPath}).createIndex(bv.queryTargetsIndexName,bv.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(wv.store)}Ev.store="collectionParents",Ev.keyPath=["collectionId","parent"];var Ov=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ov.store="clientMetadata",Ov.keyPath="clientId";var Tv=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Tv.store="bundles",Tv.keyPath="bundleId";var Iv=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Iv.store="namedQueries",Iv.keyPath="name";var xv=Object(fc.g)(Object(fc.g)(Object(fc.g)(Object(fc.g)([fv.store,dv.store,pv.store,yv.store,bv.store,hv.store,wv.store,_v.store],[Ov.store]),[vv.store]),[Ev.store]),[Tv.store,Iv.store]),Cv=function(){function t(t){this.serializer=t}return t.prototype.ho=function(t,e){return kv(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Hy(e.createTime),version:e.version};var e}))},t.prototype.lo=function(t,e){return kv(t).put({bundleId:(n=e).id,createTime:By(fm(n.createTime)),version:n.version});var n},t.prototype._o=function(t,e){return Av(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Ky(e.bundledQuery),readTime:Hy(e.readTime)};var e}))},t.prototype.fo=function(t,e){return Av(t).put(function(t){return{name:t.name,readTime:By(fm(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function kv(t){return Vv.Ys(t,Tv.store)}function Av(t){return Vv.Ys(t,Iv.store)}var jv=function(){function t(){this.wo=new uv}return t.prototype.Mr=function(t,e){var n=this;if(!this.wo.has(e)){var r=e.K(),i=e.q();t.es((function(){n.wo.add(e)}));var s={collectionId:r,parent:Ny(i)};return Dv(t).put(s)}return ny.resolve()},t.prototype.As=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Vd(e),""],!1,!0);return Dv(t).ui(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(My(s.parent))}return n}))},t}();function Dv(t){return Vv.Ys(t,Ev.store)}var Pv=function(){function t(t){this.Eo=t}return t.prototype.next=function(){return this.Eo+=2,this.Eo},t.To=function(){return new t(0)},t.Io=function(){return new t(-1)},t}(),Nv=function(){function t(t,e){this.Dr=t,this.serializer=e}return t.prototype.mo=function(t){var e=this;return this.Ao(t).next((function(n){var r=new Pv(n.highestTargetId);return n.highestTargetId=r.next(),e.Ro(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Po=function(t){return this.Ao(t).next((function(t){return zd.N(new qd(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.yo=function(t){return this.Ao(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Vo=function(t,e,n){var r=this;return this.Ao(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ro(t,i)}))},t.prototype.po=function(t,e){var n=this;return this.vo(t,e).next((function(){return n.Ao(t).next((function(r){return r.targetCount+=1,n.bo(e,r),n.Ro(t,r)}))}))},t.prototype.So=function(t,e){return this.vo(t,e)},t.prototype.Do=function(t,e){var n=this;return this.Co(t,e.targetId).next((function(){return Rv(t).delete(e.targetId)})).next((function(){return n.Ao(t)})).next((function(e){return xd(e.targetCount>0),e.targetCount-=1,n.Ro(t,e)}))},t.prototype.mr=function(t,e,n){var r=this,i=0,s=[];return Rv(t)._i((function(o,a){var u=Gy(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.Do(t,u)))})).next((function(){return ny.qn(s)})).next((function(){return i}))},t.prototype.Ue=function(t,e){return Rv(t)._i((function(t,n){var r=Gy(n);e(r)}))},t.prototype.Ao=function(t){return Lv(t).get(wv.key).next((function(t){return xd(null!==t),t}))},t.prototype.Ro=function(t,e){return Lv(t).put(wv.key,e)},t.prototype.vo=function(t,e){return Rv(t).put(Wy(this.serializer,e))},t.prototype.bo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.No=function(t){return this.Ao(t).next((function(t){return t.targetCount}))},t.prototype.xo=function(t,e){var n=Xd(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Rv(t)._i({range:r,index:bv.queryTargetsIndexName},(function(t,n,r){var s=Gy(n);tp(e,s.target)&&(i=s,r.done())})).next((function(){return i}))},t.prototype.Fo=function(t,e,n){var r=this,i=[],s=Mv(t);return e.forEach((function(e){var o=Ny(e.path);i.push(s.put(new _v(n,o))),i.push(r.Dr.Oo(t,n,e))})),ny.qn(i)},t.prototype.Mo=function(t,e,n){var r=this,i=Mv(t);return ny.forEach(e,(function(e){var s=Ny(e.path);return ny.qn([i.delete([n,s]),r.Dr.ko(t,n,e)])}))},t.prototype.Co=function(t,e){var n=Mv(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.$o=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Mv(t),i=wp();return r._i({range:n,li:!0},(function(t,e,n){var r=My(t[1]),s=new Wd(r);i=i.add(s)})).next((function(){return i}))},t.prototype.zr=function(t,e){var n=Ny(e.path),r=IDBKeyRange.bound([n],[Vd(n)],!1,!0),i=0;return Mv(t)._i({index:_v.documentTargetsIndex,li:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ze=function(t,e){return Rv(t).get(e).next((function(t){return t?Gy(t):null}))},t}();function Rv(t){return Vv.Ys(t,bv.store)}function Lv(t){return Vv.Ys(t,wv.store)}function Mv(t){return Vv.Ys(t,_v.store)}var Fv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Uv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kr=e,r.Lo=n,r}return Object(fc.c)(e,t),e}(uy),Vv=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Cs=s,this.window=o,this.document=a,this.Bo=c,this.qo=l,this.Uo=null,this.Qo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ko=null,this.inForeground=!1,this.Wo=null,this.jo=null,this.Go=Number.NEGATIVE_INFINITY,this.zo=function(t){return Promise.resolve()},!t.Gs())throw new Ad(kd.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Dr=new Bv(this,i),this.Ho=n+"main",this.serializer=new Fy(u),this.Jo=new dy(this.Ho,11,new cv(this.serializer)),this.Yo=new Nv(this.Dr,this.serializer),this.os=new jv,this.ss=function(t,e){return new ev(t,e)}(this.serializer,this.os),this.Xo=new Cv(this.serializer),this.window&&this.window.localStorage?this.Zo=this.window.localStorage:(this.Zo=null,!1===l&&Sd("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ys=function(t,e){if(t instanceof Uv)return dy.Ys(t.Kr,e);throw Id()},t.prototype.start=function(){var t=this;return this.tc().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ad(kd.FAILED_PRECONDITION,Fv);return t.ec(),t.nc(),t.sc(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Yo.yo(e)}))})).then((function(e){t.Uo=new hy(e,t.Bo)})).then((function(){t.Qo=!0})).catch((function(e){return t.Jo&&t.Jo.close(),Promise.reject(e)}))},t.prototype.ic=function(t){var e=this;return this.zo=function(n){return Object(fc.b)(e,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){return this.lr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.rc=function(t){var e=this;this.Jo.ti((function(n){return Object(fc.b)(e,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.oc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Cs.Ri((function(){return Object(fc.b)(e,void 0,void 0,(function(){return Object(fc.d)(this,(function(t){switch(t.label){case 0:return this.lr?[4,this.tc()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.tc=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return zv(e).put(new Ov(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.cc(e).next((function(e){e||(t.isPrimary=!1,t.Cs.Mi((function(){return t.zo(!1)})))}))})).next((function(){return t.uc(e)})).next((function(n){return t.isPrimary&&!n?t.ac(e).next((function(){return!1})):!!n&&t.hc(e).next((function(){return!0}))}))})).catch((function(e){if(gy(e))return Ed("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ed("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Cs.Mi((function(){return t.zo(e)})),t.isPrimary=e}))},t.prototype.cc=function(t){var e=this;return qv(t).get(hv.key).next((function(t){return ny.resolve(e.lc(t))}))},t.prototype._c=function(t){return zv(t).delete(this.clientId)},t.prototype.fc=function(){return Object(fc.b)(this,void 0,void 0,(function(){var e,n,r,i=this;return Object(fc.d)(this,(function(s){switch(s.label){case 0:return!this.isPrimary||this.dc(this.Go,18e5)?[3,2]:(this.Go=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Ys(e,Ov.store);return n.ui().next((function(t){var e=i.wc(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return ny.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=s.sent(),this.Zo)for(n=0,r=e;n<r.length;n++)this.Zo.removeItem(this.Ec(r[n].clientId));s.label=2;case 2:return[2]}}))}))},t.prototype.sc=function(){var t=this;this.jo=this.Cs.Us("client_metadata_refresh",4e3,(function(){return t.tc().then((function(){return t.fc()})).then((function(){return t.sc()}))}))},t.prototype.lc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.uc=function(t){var e=this;return this.qo?ny.resolve(!0):qv(t).get(hv.key).next((function(n){if(null!==n&&e.dc(n.leaseTimestampMs,5e3)&&!e.Tc(n.ownerId)){if(e.lc(n)&&e.networkEnabled)return!0;if(!e.lc(n)){if(!n.allowTabSynchronization)throw new Ad(kd.FAILED_PRECONDITION,Fv);return!1}}return!(!e.networkEnabled||!e.inForeground)||zv(t).ui().next((function(t){return void 0===e.wc(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Ed("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Ic=function(){return Object(fc.b)(this,void 0,void 0,(function(){var t=this;return Object(fc.d)(this,(function(e){switch(e.label){case 0:return this.Qo=!1,this.mc(),this.jo&&(this.jo.cancel(),this.jo=null),this.Ac(),this.Rc(),[4,this.Jo.runTransaction("shutdown","readwrite",[hv.store,Ov.store],(function(e){var n=new Uv(e,hy.Ds);return t.ac(n).next((function(){return t._c(n)}))}))];case 1:return e.sent(),this.Jo.close(),this.Pc(),[2]}}))}))},t.prototype.wc=function(t,e){var n=this;return t.filter((function(t){return n.dc(t.updateTimeMs,e)&&!n.Tc(t.clientId)}))},t.prototype.gc=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return zv(e).ui().next((function(e){return t.wc(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"lr",{get:function(){return this.Qo},enumerable:!1,configurable:!0}),t.prototype.yc=function(t){return Qy.Nr(t,this.serializer,this.os,this.Dr)},t.prototype.Vc=function(){return this.Yo},t.prototype.vc=function(){return this.ss},t.prototype.bc=function(){return this.os},t.prototype.Sc=function(){return this.Xo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Ed("IndexedDbPersistence","Starting transaction:",t),this.Jo.runTransaction(t,"readonly"===e?"readonly":"readwrite",xv,(function(s){return r=new Uv(s,i.Uo?i.Uo.next():hy.Ds),"readwrite-primary"===e?i.cc(r).next((function(t){return!!t||i.uc(r)})).next((function(e){if(!e)throw Sd("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Cs.Mi((function(){return i.zo(!1)})),new Ad(kd.FAILED_PRECONDITION,ay);return n(r)})).next((function(t){return i.hc(r).next((function(){return t}))})):i.Dc(r).next((function(){return n(r)}))})).then((function(t){return r.ns(),t}))},t.prototype.Dc=function(t){var e=this;return qv(t).get(hv.key).next((function(t){if(null!==t&&e.dc(t.leaseTimestampMs,5e3)&&!e.Tc(t.ownerId)&&!e.lc(t)&&!(e.qo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ad(kd.FAILED_PRECONDITION,Fv)}))},t.prototype.hc=function(t){var e=new hv(this.clientId,this.allowTabSynchronization,Date.now());return qv(t).put(hv.key,e)},t.Gs=function(){return dy.Gs()},t.prototype.ac=function(t){var e=this,n=qv(t);return n.get(hv.key).next((function(t){return e.lc(t)?(Ed("IndexedDbPersistence","Releasing primary lease."),n.delete(hv.key)):ny.resolve()}))},t.prototype.dc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Sd("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.ec=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Wo=function(){t.Cs.Ri((function(){return t.inForeground="visible"===t.document.visibilityState,t.tc()}))},this.document.addEventListener("visibilitychange",this.Wo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Ac=function(){this.Wo&&(this.document.removeEventListener("visibilitychange",this.Wo),this.Wo=null)},t.prototype.nc=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ko=function(){e.mc(),e.Cs.Ri((function(){return e.Ic()}))},this.window.addEventListener("unload",this.Ko))},t.prototype.Rc=function(){this.Ko&&(this.window.removeEventListener("unload",this.Ko),this.Ko=null)},t.prototype.Tc=function(t){var e;try{var n=null!==(null===(e=this.Zo)||void 0===e?void 0:e.getItem(this.Ec(t)));return Ed("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Sd("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.mc=function(){if(this.Zo)try{this.Zo.setItem(this.Ec(this.clientId),String(Date.now()))}catch(t){Sd("Failed to set zombie client id.",t)}},t.prototype.Pc=function(){if(this.Zo)try{this.Zo.removeItem(this.Ec(this.clientId))}catch(t){}},t.prototype.Ec=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function qv(t){return Vv.Ys(t,hv.store)}function zv(t){return Vv.Ys(t,Ov.store)}var Bv=function(){function t(t,e){this.db=t,this.cr=new Dy(this,e)}return t.prototype.Er=function(t){var e=this.Cc(t);return this.db.Vc().No(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Cc=function(t){var e=0;return this.Ir(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ue=function(t,e){return this.db.Vc().Ue(t,e)},t.prototype.Ir=function(t,e){return this.Nc(t,(function(t,n){return e(n)}))},t.prototype.Oo=function(t,e,n){return Hv(t,n)},t.prototype.ko=function(t,e,n){return Hv(t,n)},t.prototype.mr=function(t,e,n){return this.db.Vc().mr(t,e,n)},t.prototype.jr=function(t,e){return Hv(t,e)},t.prototype.xc=function(t,e){return function(t,e){var n=!1;return tv(t).fi((function(r){return Jy(t,r,e).next((function(t){return t&&(n=!0),ny.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Ar=function(t,e){var n=this,r=this.db.vc().io(),i=[],s=0;return this.Nc(t,(function(o,a){if(a<=e){var u=n.xc(t,o).next((function(e){if(!e)return s++,r.Jn(t,o).next((function(){return r.Hn(o),Mv(t).delete([0,Ny(o.path)])}))}));i.push(u)}})).next((function(){return ny.qn(i)})).next((function(){return r.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.dt(t.Lo);return this.db.Vc().So(t,n)},t.prototype.Fc=function(t,e){return Hv(t,e)},t.prototype.Nc=function(t,e){var n,r=Mv(t),i=hy.Ds;return r._i({index:_v.documentTargetsIndex},(function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==hy.Ds&&e(new Wd(My(n)),i),i=o,n=s):i=hy.Ds})).next((function(){i!==hy.Ds&&e(new Wd(My(n)),i)}))},t.prototype.Pr=function(t){return this.db.vc().oo(t)},t}();function Hv(t,e){return Mv(t).put(function(t,e){return new _v(0,Ny(t.path),e)}(e,t.Lo))}function $v(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Gv=function(){function t(t,e,n,r){this.persistence=t,this.Oc=e,this.serializer=r,this.Mc=new cp(Fd),this.kc=new ey((function(t){return Xd(t)}),tp),this.$c=zd.min(),this.rs=t.yc(n),this.Lc=t.vc(),this.Yo=t.Vc(),this.Bc=new cy(this.Lc,this.rs,this.persistence.bc()),this.Xo=t.Sc(),this.Oc.yr(this.Bc)}return t.prototype._r=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Rr(n,e.Mc)}))},t}();function Wv(t,e,n,r){return new Gv(t,e,n,r)}function Kv(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(fc.d)(this,(function(o){switch(o.label){case 0:return n=Cd(t),r=n.rs,i=n.Bc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var s;return n.rs.qr(t).next((function(o){return s=o,r=n.persistence.yc(e),i=new cy(n.Lc,r,n.persistence.bc()),r.qr(t)})).next((function(e){for(var n=[],r=[],o=wp(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i._s(t,o).next((function(t){return{qc:t,Uc:n,Qc:r}}))}))}))];case 1:return s=o.sent(),[2,(n.rs=r,n.Bc=i,n.Oc.yr(n.Bc),s)]}}))}))}function Qv(t,e){var n=Cd(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Lc.io({ro:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=ny.resolve();return s.forEach((function(t){o=o.next((function(){return r.Jn(e,t)})).next((function(e){var s=e,o=n.Sn.get(t);xd(null!==o),(!s||s.version.F(o)<0)&&(s=i.yn(t,s,n))&&r.jn(s,n.bn)}))})),o.next((function(){return t.rs.Qr(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.rs.Gr(t)})).next((function(){return n.Bc._s(t,r)}))}))}function Jv(t){var e=Cd(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Yo.Po(t)}))}function Zv(t,e){var n=Cd(t),r=e.ft,i=n.Mc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var s=n.Lc.io({ro:!0});i=n.Mc;var o=[];e.re.forEach((function(e,s){var a=i.get(s);if(a){o.push(n.Yo.Mo(t,e.de,s).next((function(){return n.Yo.Fo(t,e._e,s)})));var u=e.resumeToken;if(u.ht()>0){var c=a.wt(u,r).dt(t.Lo);i=i.Tt(s,c),function(t,e,n){return xd(e.resumeToken.ht()>0),0===t.resumeToken.ht()||e.ft.O()-t.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(a,c,e)&&o.push(n.Yo.So(t,c))}}}));var a=mp();if(e.ce.forEach((function(r,i){e.ue.has(r)&&o.push(n.persistence.Dr.Fc(t,r))})),o.push(function(t,e,n,r,i){var s=wp();return n.forEach((function(t){return s=s.add(t)})),e.getEntries(t,s).next((function(t){var i=mp();return n.forEach((function(n,s){var o=t.get(n),a=r;s instanceof bg&&s.version.isEqual(zd.min())?(e.Hn(n,a),i=i.Tt(n,s)):null==o||s.version.F(o.version)>0||0===s.version.F(o.version)&&o.hasPendingWrites?(e.jn(s,a),i=i.Tt(n,s)):Ed("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),i}))}(t,s,e.ce,r).next((function(t){a=t}))),!r.isEqual(zd.min())){var u=n.Yo.Po(t).next((function(e){return n.Yo.Vo(t,t.Lo,r)}));o.push(u)}return ny.qn(o).next((function(){return s.apply(t)})).next((function(){return n.Bc.fs(t,a)}))})).then((function(t){return n.Mc=i,t}))}function Yv(t,e){var n=Cd(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.rs.Lr(t,e)}))}function Xv(t,e){var n=Cd(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Yo.xo(t,e).next((function(i){return i?ny.resolve(r=i):n.Yo.mo(t).next((function(i){return r=new sp(e,i,0,t.Lo),n.Yo.po(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Mc.get(t.targetId);return(null===r||t.ft.F(r.ft)>0)&&(n.Mc=n.Mc.Tt(t.targetId,t),n.kc.set(e,t.targetId)),t}))}function tb(t,e,n){return Object(fc.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(fc.d)(this,(function(a){switch(a.label){case 0:r=Cd(t),i=r.Mc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,(function(t){return r.persistence.Dr.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!gy(o=a.sent()))throw o;return Ed("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Mc=r.Mc.remove(e),r.kc.delete(i.target),[2]}}))}))}function eb(t,e,n){var r=Cd(t),i=zd.min(),s=wp();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Cd(t),i=r.kc.get(n);return void 0!==i?ny.resolve(r.Mc.get(i)):r.Yo.xo(e,n)}(r,t,Ag(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Yo.$o(t,e.targetId).next((function(t){s=t}))})).next((function(){return r.Oc.ws(t,e,n?i:zd.min(),n?s:wp())})).next((function(t){return{documents:t,Kc:s}}))}))}function nb(t,e){var n=Cd(t),r=Cd(n.Yo),i=n.Mc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ze(t,e).next((function(t){return t?t.target:null}))}))}function rb(t){var e=Cd(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Cd(t),i=mp(),s=qy(n),o=iv(e),a=IDBKeyRange.lowerBound(s,!0);return o._i({index:yv.readTimeIndex,range:a},(function(t,e){var n=Uy(r.serializer,e);i=i.Tt(n.key,n),s=e.readTime})).next((function(){return{Wc:i,readTime:zy(s)}}))}(e.Lc,t,e.$c)})).then((function(t){var n=t.Wc;return e.$c=t.readTime,n}))}function ib(t){return Object(fc.b)(this,void 0,void 0,(function(){var e;return Object(fc.d)(this,(function(n){return[2,(e=Cd(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=iv(t),n=zd.min();return e._i({index:yv.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=zy(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$c=t}))]}))}))}function sb(t){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){if(t.code!==kd.FAILED_PRECONDITION||t.message!==ay)throw t;return Ed("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var ob=function(){function t(t,e,n,r,i,s){this.Cs=t,this.jc=n,this.Gc=r,this.zc=i,this.listener=s,this.state=0,this.Hc=0,this.Jc=null,this.stream=null,this.Si=new fy(t,e)}return t.prototype.Yc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Xc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Zc()},t.prototype.stop=function(){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(t){switch(t.label){case 0:return this.Yc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.tu=function(){this.state=0,this.Si.reset()},t.prototype.eu=function(){var t=this;this.Xc()&&null===this.Jc&&(this.Jc=this.Cs.Us(this.jc,6e4,(function(){return t.nu()})))},t.prototype.su=function(t){this.iu(),this.stream.send(t)},t.prototype.nu=function(){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(t){return this.Xc()?[2,this.close(0)]:[2]}))}))},t.prototype.iu=function(){this.Jc&&(this.Jc.cancel(),this.Jc=null)},t.prototype.close=function(t,e){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(n){switch(n.label){case 0:return this.iu(),this.Si.cancel(),this.Hc++,3!==t?this.Si.reset():e&&e.code===kd.RESOURCE_EXHAUSTED?(Sd(e.toString()),Sd("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):e&&e.code===kd.UNAUTHENTICATED&&this.zc.m(),null!==this.stream&&(this.ru(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ou(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ru=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.cu(this.Hc),n=this.Hc;this.zc.getToken().then((function(e){t.Hc===n&&t.uu(e)}),(function(n){e((function(){var e=new Ad(kd.UNKNOWN,"Fetching auth token failed: "+n.message);return t.au(e)}))}))},t.prototype.uu=function(t){var e=this,n=this.cu(this.Hc);this.stream=this.hu(t),this.stream.lu((function(){n((function(){return e.state=2,e.listener.lu()}))})),this.stream.ou((function(t){n((function(){return e.au(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Zc=function(){var t=this;this.state=4,this.Si.Bs((function(){return Object(fc.b)(t,void 0,void 0,(function(){return Object(fc.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.au=function(t){return Ed("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.cu=function(t){var e=this;return function(n){e.Cs.Ri((function(){return e.Hc===t?n():(Ed("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),ab=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).serializer=i,o}return Object(fc.c)(e,t),e.prototype.hu=function(t){return this.Gc._u("Listen",t)},e.prototype.onMessage=function(t){this.Si.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Id()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.tn?(xd(void 0===e||"string"==typeof e),np.fromBase64String(e||"")):(xd(void 0===e||e instanceof Uint8Array),np.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){var e=void 0===t.code?kd.UNKNOWN:up(t.code);return new Ad(e,t.message||"")}(o);n=new jp(r,i,s,a||null)}else if("documentChange"in e){var u=e.documentChange,c=gm(t,u.document.name),l=fm(u.document.updateTime),h=new pg({mapValue:{fields:u.document.fields}}),f=new vg(c,l,h,{});n=new kp(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=gm(t,d.document),m=d.readTime?fm(d.readTime):zd.min(),g=new bg(p,m);n=new kp([],d.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){var y=e.documentRemove,v=gm(t,y.document);n=new kp([],y.removedTargetIds||[],v,null)}else{if(!("filter"in e))return Id();var b=e.filter,_=new op(b.count||0);n=new Ap(b.targetId,_)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return zd.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?zd.min():e.readTime?fm(e.readTime):zd.min()}(t);return this.listener.fu(e,n)},e.prototype.du=function(t){var e={};e.database=bm(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=ep(r)?{documents:Om(t,r)}:{query:Tm(t,r)}).targetId=e.targetId,e.resumeToken.ht()>0?n.resumeToken=lm(t,e.resumeToken):e.ft.F(zd.min())>0&&(n.readTime=cm(t,e.ft.M())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Id()}}(0,e._t);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.su(e)},e.prototype.wu=function(t){var e={};e.database=bm(this.serializer),e.removeTarget=t,this.su(e)},e}(ob),ub=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).serializer=i,o.Eu=!1,o}return Object(fc.c)(e,t),Object.defineProperty(e.prototype,"Tu",{get:function(){return this.Eu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Eu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ru=function(){this.Eu&&this.Iu([])},e.prototype.hu=function(t){return this.Gc._u("Write",t)},e.prototype.onMessage=function(t){if(xd(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Eu){this.Si.reset();var e=function(t,e){return t&&t.length>0?(xd(void 0!==e),t.map((function(t){return function(t,e){var n=fm(t.updateTime?t.updateTime:e);n.isEqual(zd.min())&&(n=fm(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Zm(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=fm(t.commitTime);return this.listener.mu(n,e)}return xd(!t.writeResults||0===t.writeResults.length),this.Eu=!0,this.listener.Au()},e.prototype.Ru=function(){var t={};t.database=bm(this.serializer),this.su(t)},e.prototype.Iu=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Em(e.serializer,t)}))};this.su(n)},e}(ob),cb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Gc=n,i.serializer=r,i.Pu=!1,i}return Object(fc.c)(e,t),e.prototype.gu=function(){if(this.Pu)throw new Ad(kd.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.yu=function(t,e,n){var r=this;return this.gu(),this.credentials.getToken().then((function(i){return r.Gc.yu(t,e,n,i)})).catch((function(t){throw t.code===kd.UNAUTHENTICATED&&r.credentials.m(),t}))},e.prototype.Vu=function(t,e,n){var r=this;return this.gu(),this.credentials.getToken().then((function(i){return r.Gc.Vu(t,e,n,i)})).catch((function(t){throw t.code===kd.UNAUTHENTICATED&&r.credentials.m(),t}))},e.prototype.terminate=function(){this.Pu=!1},e}((function(){})),lb=function(){function t(t,e){this.di=t,this.pu=e,this.state="Unknown",this.vu=0,this.bu=null,this.Su=!0}return t.prototype.Du=function(){var t=this;0===this.vu&&(this.Cu("Unknown"),this.bu=this.di.Us("online_state_timeout",1e4,(function(){return t.bu=null,t.Nu("Backend didn't respond within 10 seconds."),t.Cu("Offline"),Promise.resolve()})))},t.prototype.xu=function(t){"Online"===this.state?this.Cu("Unknown"):(this.vu++,this.vu>=1&&(this.Fu(),this.Nu("Connection failed 1 times. Most recent error: "+t.toString()),this.Cu("Offline")))},t.prototype.set=function(t){this.Fu(),this.vu=0,"Online"===t&&(this.Su=!1),this.Cu(t)},t.prototype.Cu=function(t){t!==this.state&&(this.state=t,this.pu(t))},t.prototype.Nu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Su?(Sd(e),this.Su=!1):Ed("OnlineStateTracker",e)},t.prototype.Fu=function(){null!==this.bu&&(this.bu.cancel(),this.bu=null)},t}(),hb=function(t,e,n,r,i){var s=this;this.Ou=t,this.Mu=e,this.di=n,this.ku={},this.$u=[],this.Lu=new Map,this.Bu=new Set,this.qu=[],this.Uu=i,this.Uu.Qu((function(t){n.Ri((function(){return Object(fc.b)(s,void 0,void 0,(function(){return Object(fc.d)(this,(function(t){switch(t.label){case 0:return _b(this)?(Ed("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(fc.b)(this,void 0,void 0,(function(){var e;return Object(fc.d)(this,(function(n){switch(n.label){case 0:return(e=Cd(t)).Bu.add(4),[4,db(e)];case 1:return n.sent(),e.Ku.set("Unknown"),e.Bu.delete(4),[4,fb(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Ku=new lb(n,r)};function fb(t){return Object(fc.b)(this,void 0,void 0,(function(){var e,n;return Object(fc.d)(this,(function(r){switch(r.label){case 0:if(!_b(t))return[3,4];e=0,n=t.qu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function db(t){return Object(fc.b)(this,void 0,void 0,(function(){var e,n;return Object(fc.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.qu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function pb(t,e){var n=Cd(t);n.Lu.has(e.targetId)||(n.Lu.set(e.targetId,e),bb(n)?vb(n):Rb(n).Xc()&&gb(n,e))}function mb(t,e){var n=Cd(t),r=Rb(n);n.Lu.delete(e),r.Xc()&&yb(n,e),0===n.Lu.size&&(r.Xc()?r.eu():_b(n)&&n.Ku.set("Unknown"))}function gb(t,e){t.Wu.De(e.targetId),Rb(t).du(e)}function yb(t,e){t.Wu.De(e),Rb(t).wu(e)}function vb(t){t.Wu=new Pp({Xe:function(e){return t.ku.Xe(e)},Ze:function(e){return t.Lu.get(e)||null}}),Rb(t).start(),t.Ku.Du()}function bb(t){return _b(t)&&!Rb(t).Yc()&&t.Lu.size>0}function _b(t){return 0===Cd(t).Bu.size}function wb(t){t.Wu=void 0}function Eb(t){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){return t.Lu.forEach((function(e,n){gb(t,e)})),[2]}))}))}function Sb(t,e){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(n){return wb(t),bb(t)?(t.Ku.xu(e),vb(t)):t.Ku.set("Unknown"),[2]}))}))}function Ob(t,e,n){return Object(fc.b)(this,void 0,void 0,(function(){var r,i,s;return Object(fc.d)(this,(function(o){switch(o.label){case 0:if(t.Ku.set("Online"),!(e instanceof jp&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(fc.d)(this,(function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Lu.has(s=i[r])?[4,t.ku.ju(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Lu.delete(s),t.Wu.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Ed("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Tb(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof kp?t.Wu.$e(e):e instanceof Ap?t.Wu.je(e):t.Wu.qe(e),n.isEqual(zd.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,Jv(t.Ou)];case 8:return i=o.sent(),n.F(i)>=0?[4,function(t,e){var n=t.Wu.He(e);return n.re.forEach((function(n,r){if(n.resumeToken.ht()>0){var i=t.Lu.get(r);i&&t.Lu.set(r,i.wt(n.resumeToken,e))}})),n.oe.forEach((function(e){var n=t.Lu.get(e);if(n){t.Lu.set(e,n.wt(np.lt,n.ft)),yb(t,e);var r=new sp(n.target,e,1,n.sequenceNumber);gb(t,r)}})),t.ku.Gu(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Ed("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Tb(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))}function Tb(t,e,n){return Object(fc.b)(this,void 0,void 0,(function(){var r=this;return Object(fc.d)(this,(function(i){switch(i.label){case 0:if(!gy(e))throw e;return t.Bu.add(1),[4,db(t)];case 1:return i.sent(),t.Ku.set("Offline"),n||(n=function(){return Jv(t.Ou)}),t.di.Mi((function(){return Object(fc.b)(r,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){switch(e.label){case 0:return Ed("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Bu.delete(1),[4,fb(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Ib(t,e){return e().catch((function(n){return Tb(t,n,e)}))}function xb(t){return Object(fc.b)(this,void 0,void 0,(function(){var e,n,r,i,s;return Object(fc.d)(this,(function(o){switch(o.label){case 0:e=Cd(t),n=Lb(e),r=e.$u.length>0?e.$u[e.$u.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return _b(t)&&t.$u.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,Yv(e.Ou,r)];case 3:return null===(i=o.sent())?(0===e.$u.length&&n.eu(),[3,7]):(r=i.batchId,function(t,e){t.$u.push(e);var n=Lb(t);n.Xc()&&n.Tu&&n.Iu(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Tb(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Cb(e)&&kb(e),[2]}}))}))}function Cb(t){return _b(t)&&!Lb(t).Yc()&&t.$u.length>0}function kb(t){Lb(t).start()}function Ab(t){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){return Lb(t).Ru(),[2]}))}))}function jb(t){return Object(fc.b)(this,void 0,void 0,(function(){var e,n,r;return Object(fc.d)(this,(function(i){for(e=Lb(t),n=0,r=t.$u;n<r.length;n++)e.Iu(r[n].mutations);return[2]}))}))}function Db(t,e,n){return Object(fc.b)(this,void 0,void 0,(function(){var r,i;return Object(fc.d)(this,(function(s){switch(s.label){case 0:return r=t.$u.shift(),i=ty.from(r,e,n),[4,Ib(t,(function(){return t.ku.zu(i)}))];case 1:return s.sent(),[4,xb(t)];case 2:return s.sent(),[2]}}))}))}function Pb(t,e){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(n){switch(n.label){case 0:return e&&Lb(t).Tu?[4,function(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r;return Object(fc.d)(this,(function(i){switch(i.label){case 0:return ap(r=e.code)&&r!==kd.ABORTED?(n=t.$u.shift(),Lb(t).tu(),[4,Ib(t,(function(){return t.ku.Hu(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,xb(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Cb(t)&&kb(t),[2]}}))}))}function Nb(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n;return Object(fc.d)(this,(function(r){switch(r.label){case 0:return n=Cd(t),e?(n.Bu.delete(2),[4,fb(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Bu.add(2),[4,db(n)]);case 3:r.sent(),n.Ku.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Rb(t){var e=this;return t.Ju||(t.Ju=function(t,e,n){var r=Cd(t);return r.gu(),new ab(e,r.Gc,r.credentials,r.serializer,n)}(t.Mu,t.di,{lu:Eb.bind(null,t),ou:Sb.bind(null,t),fu:Ob.bind(null,t)}),t.qu.push((function(n){return Object(fc.b)(e,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){switch(e.label){case 0:return n?(t.Ju.tu(),bb(t)?vb(t):t.Ku.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ju.stop()];case 2:e.sent(),wb(t),e.label=3;case 3:return[2]}}))}))}))),t.Ju}function Lb(t){var e=this;return t.Yu||(t.Yu=function(t,e,n){var r=Cd(t);return r.gu(),new ub(e,r.Gc,r.credentials,r.serializer,n)}(t.Mu,t.di,{lu:Ab.bind(null,t),ou:Pb.bind(null,t),Au:jb.bind(null,t),mu:Db.bind(null,t)}),t.qu.push((function(n){return Object(fc.b)(e,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){switch(e.label){case 0:return n?(t.Yu.tu(),[4,xb(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Yu.stop()];case 3:e.sent(),t.$u.length>0&&(Ed("RemoteStore","Stopping write stream with "+t.$u.length+" pending writes"),t.$u=[]),e.label=4;case 4:return[2]}}))}))}))),t.Yu}var Mb=function(){this.Xu=void 0,this.listeners=[]},Fb=function(){this.queries=new ey((function(t){return Pg(t)}),Dg),this.onlineState="Unknown",this.Zu=new Set};function Ub(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u;return Object(fc.d)(this,(function(c){switch(c.label){case 0:if(n=Cd(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Mb),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.ta(r)];case 2:return o.Xu=c.sent(),[3,4];case 3:return a=c.sent(),u=Iy(a,"Initialization of query '"+Ng(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.ea(n.onlineState),s.Xu&&e.na(s.Xu)&&Bb(n),[2]}}))}))}function Vb(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(fc.d)(this,(function(a){return n=Cd(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.sa(r))]:[2]}))}))}function qb(t,e){for(var n=Cd(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].na(o)&&(r=!0);a.Xu=o}}r&&Bb(n)}function zb(t,e,n){var r=Cd(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Bb(t){t.Zu.forEach((function(t){t.next()}))}var Hb=function(){function t(t,e,n){this.query=t,this.ia=e,this.ra=!1,this.oa=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.na=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Ip(t.query,t.docs,t.te,e,t.ee,t.fromCache,t.ne,!0)}var s=!1;return this.ra?this.ca(t)&&(this.ia.next(t),s=!0):this.ua(t,this.onlineState)&&(this.aa(t),s=!0),this.oa=t,s},t.prototype.onError=function(t){this.ia.error(t)},t.prototype.ea=function(t){this.onlineState=t;var e=!1;return this.oa&&!this.ra&&this.ua(this.oa,t)&&(this.aa(this.oa),e=!0),e},t.prototype.ua=function(t,e){return!t.fromCache||!(this.options.ha&&"Offline"!==e||t.docs.W()&&"Offline"!==e)},t.prototype.ca=function(t){return t.docChanges.length>0||!!(t.ne||this.oa&&this.oa.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.aa=function(t){t=Ip.ie(t.query,t.docs,t.ee,t.fromCache),this.ra=!0,this.ia.next(t)},t}(),$b=function(){function t(){this.la=new fp(Gb._a),this.fa=new fp(Gb.da)}return t.prototype.W=function(){return this.la.W()},t.prototype.Oo=function(t,e){var n=new Gb(t,e);this.la=this.la.add(n),this.fa=this.fa.add(n)},t.prototype.wa=function(t,e){var n=this;t.forEach((function(t){return n.Oo(t,e)}))},t.prototype.ko=function(t,e){this.Ea(new Gb(t,e))},t.prototype.Ta=function(t,e){var n=this;t.forEach((function(t){return n.ko(t,e)}))},t.prototype.Ia=function(t){var e=this,n=new Wd(new Hd([])),r=new Gb(n,t),i=new Gb(n,t+1),s=[];return this.fa.Kt([r,i],(function(t){e.Ea(t),s.push(t.key)})),s},t.prototype.ma=function(){var t=this;this.la.forEach((function(e){return t.Ea(e)}))},t.prototype.Ea=function(t){this.la=this.la.delete(t),this.fa=this.fa.delete(t)},t.prototype.Aa=function(t){var e=new Wd(new Hd([])),n=new Gb(e,t),r=new Gb(e,t+1),i=wp();return this.fa.Kt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.zr=function(t){var e=new Gb(t,0),n=this.la.jt(e);return null!==n&&t.isEqual(n.key)},t}(),Gb=function(){function t(t,e){this.key=t,this.Ra=e}return t._a=function(t,e){return Wd.$(t.key,e.key)||Fd(t.Ra,e.Ra)},t.da=function(t,e){return Fd(t.Ra,e.Ra)||Wd.$(t.key,e.key)},t}();function Wb(t,e){return"firestore_clients_"+t+"_"+e}function Kb(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.u()&&(r+="_"+e.uid),r}function Qb(t,e){return"firestore_targets_"+t+"_"+e}var Jb=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Pa=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new Ad(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(Sd("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ga=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Zb=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Pa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new Ad(r.error.code,r.error.message)),i?new t(e,r.state,s):(Sd("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ga=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Yb=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Pa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Sp(),o=0;i&&o<r.activeTargetIds.length;++o)i=Jd(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Sd("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Xb=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Pa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Sd("SharedClientState","Failed to parse online state: "+e),null)},t}(),t_=function(){function t(){this.activeTargetIds=Sp()}return t.prototype.ya=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Va=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ga=function(){var t={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),e_=function(){function t(t,e,n,r,i){this.window=t,this.Cs=e,this.persistenceKey=n,this.pa=r,this.va=null,this.pu=null,this.ps=null,this.ba=this.Sa.bind(this),this.Da=new cp(Fd),this.lr=!1,this.Ca=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Na=Wb(this.persistenceKey,this.pa),this.xa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Da=this.Da.Tt(this.pa,new t_),this.Fa=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Oa=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Ma=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.ka=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.$a=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ba)}return t.Gs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(fc.b)(this,void 0,void 0,(function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(fc.d)(this,(function(h){switch(h.label){case 0:return[4,this.va.gc()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.pa&&(i=this.getItem(Wb(this.persistenceKey,r)))&&(s=Yb.Pa(r,i))&&(this.Da=this.Da.Tt(s.clientId,s));for(this.La(),(o=this.storage.getItem(this.ka))&&(a=this.Ba(o))&&this.qa(a),u=0,c=this.Ca;u<c.length;u++)this.Sa(c[u]);return this.Ca=[],this.window.addEventListener("unload",(function(){return l.Ic()})),this.lr=!0,[2]}}))}))},t.prototype.Ss=function(t){this.setItem(this.xa,JSON.stringify(t))},t.prototype.Ua=function(){return this.Qa(this.Da)},t.prototype.Ka=function(t){var e=!1;return this.Da.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Wa=function(t){this.ja(t,"pending")},t.prototype.Ga=function(t,e,n){this.ja(t,e,n),this.za(t)},t.prototype.Ha=function(t){var e="not-current";if(this.Ka(t)){var n=this.storage.getItem(Qb(this.persistenceKey,t));if(n){var r=Zb.Pa(t,n);r&&(e=r.state)}}return this.Ja.ya(t),this.La(),e},t.prototype.Ya=function(t){this.Ja.Va(t),this.La()},t.prototype.Xa=function(t){return this.Ja.activeTargetIds.has(t)},t.prototype.Za=function(t){this.removeItem(Qb(this.persistenceKey,t))},t.prototype.th=function(t,e,n){this.eh(t,e,n)},t.prototype.nh=function(t,e,n){var r=this;e.forEach((function(t){r.za(t)})),this.currentUser=t,n.forEach((function(t){r.Wa(t)}))},t.prototype.sh=function(t){this.ih(t)},t.prototype.rh=function(){this.oh()},t.prototype.Ic=function(){this.lr&&(this.window.removeEventListener("storage",this.ba),this.removeItem(this.Na),this.lr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ed("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ed("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ed("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Sa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Ed("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Na)return void Sd("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi((function(){return Object(fc.b)(e,void 0,void 0,(function(){var t,e,r,i,s,o;return Object(fc.d)(this,(function(a){if(this.lr){if(null!==n.key)if(this.Fa.test(n.key)){if(null==n.newValue)return t=this.uh(n.key),[2,this.ah(t,null)];if(e=this.hh(n.key,n.newValue))return[2,this.ah(e.clientId,e)]}else if(this.Oa.test(n.key)){if(null!==n.newValue&&(r=this.lh(n.key,n.newValue)))return[2,this._h(r)]}else if(this.Ma.test(n.key)){if(null!==n.newValue&&(i=this.fh(n.key,n.newValue)))return[2,this.dh(i)]}else if(n.key===this.ka){if(null!==n.newValue&&(s=this.Ba(n.newValue)))return[2,this.qa(s)]}else if(n.key===this.xa)(o=function(t){var e=hy.Ds;if(null!=t)try{var n=JSON.parse(t);xd("number"==typeof n),e=n}catch(t){Sd("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==hy.Ds&&this.ps(o);else if(n.key===this.$a)return[2,this.va.wh()]}else this.Ca.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ja",{get:function(){return this.Da.get(this.pa)},enumerable:!1,configurable:!0}),t.prototype.La=function(){this.setItem(this.Na,this.Ja.ga())},t.prototype.ja=function(t,e,n){var r=new Jb(this.currentUser,t,e,n),i=Kb(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ga())},t.prototype.za=function(t){var e=Kb(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ih=function(t){this.storage.setItem(this.ka,JSON.stringify({clientId:this.pa,onlineState:t}))},t.prototype.eh=function(t,e,n){var r=Qb(this.persistenceKey,t),i=new Zb(t,e,n);this.setItem(r,i.ga())},t.prototype.oh=function(){this.setItem(this.$a,"value-not-used")},t.prototype.uh=function(t){var e=this.Fa.exec(t);return e?e[1]:null},t.prototype.hh=function(t,e){var n=this.uh(t);return Yb.Pa(n,e)},t.prototype.lh=function(t,e){var n=this.Oa.exec(t),r=Number(n[1]);return Jb.Pa(new bd(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fh=function(t,e){var n=this.Ma.exec(t),r=Number(n[1]);return Zb.Pa(r,e)},t.prototype.Ba=function(t){return Xb.Pa(t)},t.prototype._h=function(t){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.va.Eh(t.batchId,t.state,t.error)]:(Ed("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.dh=function(t){return this.va.Th(t.targetId,t.state,t.error)},t.prototype.ah=function(t,e){var n=this,r=e?this.Da.Tt(t,e):this.Da.remove(t),i=this.Qa(this.Da),s=this.Qa(r),o=[],a=[];return s.forEach((function(t){i.has(t)||o.push(t)})),i.forEach((function(t){s.has(t)||a.push(t)})),this.va.Ih(o,a).then((function(){n.Da=r}))},t.prototype.qa=function(t){this.Da.get(t.clientId)&&this.pu(t.onlineState)},t.prototype.Qa=function(t){var e=Sp();return t.forEach((function(t,n){e=e.Gt(n.activeTargetIds)})),e},t}(),n_=function(){function t(){this.mh=new t_,this.Ah={},this.pu=null,this.ps=null}return t.prototype.Wa=function(t){},t.prototype.Ga=function(t,e,n){},t.prototype.Ha=function(t){return this.mh.ya(t),this.Ah[t]||"not-current"},t.prototype.th=function(t,e,n){this.Ah[t]=e},t.prototype.Ya=function(t){this.mh.Va(t)},t.prototype.Xa=function(t){return this.mh.activeTargetIds.has(t)},t.prototype.Za=function(t){delete this.Ah[t]},t.prototype.Ua=function(){return this.mh.activeTargetIds},t.prototype.Ka=function(t){return this.mh.activeTargetIds.has(t)},t.prototype.start=function(){return this.mh=new t_,Promise.resolve()},t.prototype.nh=function(t,e,n){},t.prototype.sh=function(t){},t.prototype.Ic=function(){},t.prototype.Ss=function(t){},t.prototype.rh=function(){},t}(),r_=function(t){this.key=t},i_=function(t){this.key=t},s_=function(){function t(t,e){this.query=t,this.Rh=e,this.Ph=null,this.le=!1,this.gh=wp(),this.ee=wp(),this.yh=Lg(t),this.Vh=new Op(this.yh)}return Object.defineProperty(t.prototype,"ph",{get:function(){return this.Rh},enumerable:!1,configurable:!0}),t.prototype.bh=function(t,e){var n=this,r=e?e.Sh:new Tp,i=e?e.Vh:this.Vh,s=e?e.ee:this.ee,o=i,a=!1,u=Og(this.query)&&i.size===this.query.limit?i.last():null,c=Tg(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pt((function(t,e){var l=i.get(t),h=e instanceof vg?e:null;h&&(h=Rg(n.query,h)?h:null);var f=!!l&&n.ee.has(l.key),d=!!h&&(h.an||n.ee.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Dh(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.yh(h,u)>0||c&&n.yh(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),Og(this.query)||Tg(this.query))for(;o.size>this.query.limit;){var l=Og(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Vh:o,Sh:r,br:a,ee:s}},t.prototype.Dh=function(t,e){return t.an&&e.hasCommittedMutations&&!e.an},t.prototype.Zn=function(t,e,n){var r=this,i=this.Vh;this.Vh=t.Vh,this.ee=t.ee;var s=t.Sh.Zt();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Id()}};return n(t)-n(e)}(t.type,e.type)||r.yh(t.doc,e.doc)})),this.Ch(n);var o=e?this.Nh():[],a=0===this.gh.size&&this.le?1:0,u=a!==this.Ph;return this.Ph=a,0!==s.length||u?{snapshot:new Ip(this.query,t.Vh,i,s,t.ee,0===a,u,!1),xh:o}:{xh:o}},t.prototype.ea=function(t){return this.le&&"Offline"===t?(this.le=!1,this.Zn({Vh:this.Vh,Sh:new Tp,ee:this.ee,br:!1},!1)):{xh:[]}},t.prototype.Fh=function(t){return!this.Rh.has(t)&&!!this.Vh.has(t)&&!this.Vh.get(t).an},t.prototype.Ch=function(t){var e=this;t&&(t._e.forEach((function(t){return e.Rh=e.Rh.add(t)})),t.fe.forEach((function(t){})),t.de.forEach((function(t){return e.Rh=e.Rh.delete(t)})),this.le=t.le)},t.prototype.Nh=function(){var t=this;if(!this.le)return[];var e=this.gh;this.gh=wp(),this.Vh.forEach((function(e){t.Fh(e.key)&&(t.gh=t.gh.add(e.key))}));var n=[];return e.forEach((function(e){t.gh.has(e)||n.push(new i_(e))})),this.gh.forEach((function(t){e.has(t)||n.push(new r_(t))})),n},t.prototype.Oh=function(t){this.Rh=t.Kc,this.gh=wp();var e=this.bh(t.documents);return this.Zn(e,!0)},t.prototype.Mh=function(){return Ip.ie(this.query,this.Vh,this.ee,0===this.Ph)},t}(),o_=function(t,e,n){this.query=t,this.targetId=e,this.view=n},a_=function(t){this.key=t,this.kh=!1},u_=function(){function t(t,e,n,r,i,s){this.Ou=t,this.$h=e,this.Lh=n,this.Bh=r,this.currentUser=i,this.qh=s,this.Uh={},this.Qh=new ey((function(t){return Pg(t)}),Dg),this.Kh=new Map,this.Wh=[],this.jh=new cp(Wd.$),this.Gh=new Map,this.zh=new $b,this.Hh={},this.Jh=new Map,this.Yh=Pv.Io(),this.onlineState="Unknown",this.Xh=void 0}return Object.defineProperty(t.prototype,"Zh",{get:function(){return!0===this.Xh},enumerable:!1,configurable:!0}),t}();function c_(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(fc.d)(this,(function(a){switch(a.label){case 0:return n=F_(t),(i=n.Qh.get(e))?(n.Bh.Ha(i.targetId),r=i.view.Mh(),[3,4]):[3,1];case 1:return[4,Xv(n.Ou,Ag(e))];case 2:return s=a.sent(),o=n.Bh.Ha(s.targetId),[4,l_(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.Zh&&pb(n.$h,s),a.label=4;case 4:return[2,r]}}))}))}function l_(t,e,n,r){return Object(fc.b)(this,void 0,void 0,(function(){var i,s,o,a,u,c;return Object(fc.d)(this,(function(l){switch(l.label){case 0:return t.tl=function(e,n,r){return function(t,e,n,r){return Object(fc.b)(this,void 0,void 0,(function(){var i,s,o;return Object(fc.d)(this,(function(a){switch(a.label){case 0:return(i=e.view.bh(n)).br?[4,eb(t.Ou,e.query,!1).then((function(t){return e.view.bh(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.re.get(e.targetId),o=e.view.Zn(i,t.Zh,s),[2,(S_(t,e.targetId,o.xh),o.snapshot)]}}))}))}(t,e,n,r)},[4,eb(t.Ou,e,!0)];case 1:return i=l.sent(),s=new s_(e,i.Kc),o=s.bh(i.documents),a=Cp.he(n,r&&"Offline"!==t.onlineState),u=s.Zn(o,t.Zh,a),S_(t,n,u.xh),c=new o_(e,n,s),[2,(t.Qh.set(e,c),t.Kh.has(n)?t.Kh.get(n).push(e):t.Kh.set(n,[e]),u.snapshot)]}}))}))}function h_(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i;return Object(fc.d)(this,(function(s){switch(s.label){case 0:return n=Cd(t),r=n.Qh.get(e),(i=n.Kh.get(r.targetId)).length>1?[2,(n.Kh.set(r.targetId,i.filter((function(t){return!Dg(t,e)}))),void n.Qh.delete(e))]:n.Zh?(n.Bh.Ya(r.targetId),n.Bh.Ka(r.targetId)?[3,2]:[4,tb(n.Ou,r.targetId,!1).then((function(){n.Bh.Za(r.targetId),mb(n.$h,r.targetId),w_(n,r.targetId)})).catch(sb)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return w_(n,r.targetId),[4,tb(n.Ou,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}}))}))}function f_(t,e,n){return Object(fc.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(fc.d)(this,(function(a){switch(a.label){case 0:r=U_(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Cd(t),i=qd.now(),s=e.reduce((function(t,e){return t.add(e.key)}),wp());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Bc._s(t,s).next((function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=rg(c,n.get(c.key));null!=l&&o.push(new ag(c.key,l,gg(l.proto.mapValue),Ym.exists(!0)))}return r.rs.Or(t,i,o,e)}))})).then((function(t){var e=t.vn(n);return{batchId:t.batchId,Qn:e}}))}(r.Ou,e)];case 2:return i=a.sent(),r.Bh.Wa(i.batchId),function(t,e,n){var r=t.Hh[t.currentUser.h()];r||(r=new cp(Fd)),r=r.Tt(e,n),t.Hh[t.currentUser.h()]=r}(r,i.batchId,n),[4,I_(r,i.Qn)];case 3:return a.sent(),[4,xb(r.$h)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=Iy(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}}))}))}function d_(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r;return Object(fc.d)(this,(function(i){switch(i.label){case 0:n=Cd(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Zv(n.Ou,e)];case 2:return r=i.sent(),e.re.forEach((function(t,e){var r=n.Gh.get(e);r&&(xd(t._e.size+t.fe.size+t.de.size<=1),t._e.size>0?r.kh=!0:t.fe.size>0?xd(r.kh):t.de.size>0&&(xd(r.kh),r.kh=!1))})),[4,I_(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,sb(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function p_(t,e,n){var r=Cd(t);if(r.Zh&&0===n||!r.Zh&&1===n){var i=[];r.Qh.forEach((function(t,n){var r=n.view.ea(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Cd(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].ea(e)&&(r=!0)})),r&&Bb(n)}(r.Lh,e),i.length&&r.Uh.fu(i),r.onlineState=e,r.Zh&&r.Bh.sh(e)}}function m_(t,e,n){return Object(fc.b)(this,void 0,void 0,(function(){var r,i,s,o,a,u;return Object(fc.d)(this,(function(c){switch(c.label){case 0:return(r=Cd(t)).Bh.th(e,"rejected",n),i=r.Gh.get(e),(s=i&&i.key)?(o=(o=new cp(Wd.$)).Tt(s,new bg(s,zd.min())),a=wp().add(s),u=new xp(zd.min(),new Map,new fp(Fd),o,a),[4,d_(r,u)]):[3,2];case 1:return c.sent(),r.jh=r.jh.remove(s),r.Gh.delete(e),T_(r),[3,4];case 2:return[4,tb(r.Ou,e,!1).then((function(){return w_(r,e,n)})).catch(sb)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function g_(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i;return Object(fc.d)(this,(function(s){switch(s.label){case 0:n=Cd(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Qv(n.Ou,e)];case 2:return i=s.sent(),__(n,r,null),b_(n,r),n.Bh.Ga(r,"acknowledged"),[4,I_(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,sb(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function y_(t,e,n){return Object(fc.b)(this,void 0,void 0,(function(){var r,i;return Object(fc.d)(this,(function(s){switch(s.label){case 0:r=Cd(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=Cd(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.rs.kr(t,e).next((function(e){return xd(null!==e),r=e.keys(),n.rs.Qr(t,e)})).next((function(){return n.rs.Gr(t)})).next((function(){return n.Bc._s(t,r)}))}))}(r.Ou,e)];case 2:return i=s.sent(),__(r,e,n),b_(r,e),r.Bh.Ga(e,"rejected",n),[4,I_(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,sb(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function v_(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(fc.d)(this,(function(a){switch(a.label){case 0:_b((n=Cd(t)).$h)||Ed("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Cd(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.rs.Br(t)}))}(n.Ou)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Jh.get(r)||[]).push(e),n.Jh.set(r,i),[3,4]);case 3:return s=a.sent(),o=Iy(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}}))}))}function b_(t,e){(t.Jh.get(e)||[]).forEach((function(t){t.resolve()})),t.Jh.delete(e)}function __(t,e,n){var r=Cd(t),i=r.Hh[r.currentUser.h()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Hh[r.currentUser.h()]=i}}function w_(t,e,n){void 0===n&&(n=null),t.Bh.Ya(e);for(var r=0,i=t.Kh.get(e);r<i.length;r++){var s=i[r];t.Qh.delete(s),n&&t.Uh.el(s,n)}t.Kh.delete(e),t.Zh&&t.zh.Ia(e).forEach((function(e){t.zh.zr(e)||E_(t,e)}))}function E_(t,e){var n=t.jh.get(e);null!==n&&(mb(t.$h,n),t.jh=t.jh.remove(e),t.Gh.delete(n),T_(t))}function S_(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof r_?(t.zh.Oo(s.key,e),O_(t,s)):s instanceof i_?(Ed("SyncEngine","Document no longer in limbo: "+s.key),t.zh.ko(s.key,e),t.zh.zr(s.key)||E_(t,s.key)):Id()}}function O_(t,e){var n=e.key;t.jh.get(n)||(Ed("SyncEngine","New document in limbo: "+n),t.Wh.push(n),T_(t))}function T_(t){for(;t.Wh.length>0&&t.jh.size<t.qh;){var e=t.Wh.shift(),n=t.Yh.next();t.Gh.set(n,new a_(e)),t.jh=t.jh.Tt(e,n),pb(t.$h,new sp(Ag(Sg(e.path)),n,2,hy.Ds))}}function I_(t,e,n){return Object(fc.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(fc.d)(this,(function(a){switch(a.label){case 0:return r=Cd(t),i=[],s=[],o=[],r.Qh.W()?[3,3]:(r.Qh.forEach((function(t,a){o.push(r.tl(a,e,n).then((function(t){if(t){r.Zh&&r.Bh.th(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=ly.Vs(a.targetId,t);s.push(e)}})))})),[4,Promise.all(o)]);case 1:return a.sent(),r.Uh.fu(i),[4,function(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u,c;return Object(fc.d)(this,(function(l){switch(l.label){case 0:n=Cd(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return ny.forEach(e,(function(e){return ny.forEach(e.gs,(function(r){return n.persistence.Dr.Oo(t,e.targetId,r)})).next((function(){return ny.forEach(e.ys,(function(r){return n.persistence.Dr.ko(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!gy(r=l.sent()))throw r;return Ed("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Mc.get(a),c=u.Et(u.ft),n.Mc=n.Mc.Tt(a,c));return[2]}}))}))}(r.Ou,s)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function x_(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r;return Object(fc.d)(this,(function(i){switch(i.label){case 0:return(n=Cd(t)).currentUser.isEqual(e)?[3,3]:(Ed("SyncEngine","User change. New user:",e.h()),[4,Kv(n.Ou,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Jh.forEach((function(t){t.forEach((function(t){t.reject(new Ad(kd.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Jh.clear()}(n),n.Bh.nh(e,r.Uc,r.Qc),[4,I_(n,r.qc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function C_(t,e){var n=Cd(t),r=n.Gh.get(e);if(r&&r.kh)return wp().add(r.key);var i=wp(),s=n.Kh.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Qh.get(a[o]);i=i.Gt(u.view.ph)}return i}function k_(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i;return Object(fc.d)(this,(function(s){switch(s.label){case 0:return[4,eb((n=Cd(t)).Ou,e.query,!0)];case 1:return r=s.sent(),i=e.view.Oh(r),[2,(n.Zh&&S_(n,e.targetId,i.xh),i)]}}))}))}function A_(t){return Object(fc.b)(this,void 0,void 0,(function(){var e;return Object(fc.d)(this,(function(n){return[2,rb((e=Cd(t)).Ou).then((function(t){return I_(e,t)}))]}))}))}function j_(t,e,n,r){return Object(fc.b)(this,void 0,void 0,(function(){var i,s;return Object(fc.d)(this,(function(o){switch(o.label){case 0:return[4,function(t,e){var n=Cd(t),r=Cd(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.$r(t,e).next((function(e){return e?n.Bc._s(t,e):ny.resolve(null)}))}))}((i=Cd(t)).Ou,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,xb(i.$h)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(__(i,e,r||null),b_(i,e),function(t,e){Cd(Cd(t).rs).Wr(e)}(i.Ou,e)):Id(),o.label=4;case 4:return[4,I_(i,s)];case 5:return o.sent(),[3,7];case 6:Ed("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}}))}))}function D_(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u;return Object(fc.d)(this,(function(c){switch(c.label){case 0:return F_(n=Cd(t)),U_(n),!0!==e||!0===n.Xh?[3,3]:(r=n.Bh.Ua(),[4,P_(n,r.H())]);case 1:return i=c.sent(),n.Xh=!0,[4,Nb(n.$h,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)pb(n.$h,o[s]);return[3,7];case 3:return!1!==e||!1===n.Xh?[3,7]:(a=[],u=Promise.resolve(),n.Kh.forEach((function(t,e){n.Bh.Xa(e)?a.push(e):u=u.then((function(){return w_(n,e),tb(n.Ou,e,!0)})),mb(n.$h,e)})),[4,u]);case 4:return c.sent(),[4,P_(n,a)];case 5:return c.sent(),function(t){var e=Cd(t);e.Gh.forEach((function(t,n){mb(e.$h,n)})),e.zh.ma(),e.Gh=new Map,e.jh=new cp(Wd.$)}(n),n.Xh=!1,[4,Nb(n.$h,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function P_(t,e,n){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u,c,l,h,f,d,p;return Object(fc.d)(this,(function(m){switch(m.label){case 0:n=Cd(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(u=void 0,(c=n.Kh.get(a=o[s]))&&0!==c.length?[4,Xv(n.Ou,Ag(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(f=n.Qh.get(h[l]),[4,k_(n,f)]):[3,6];case 4:(d=m.sent()).snapshot&&i.push(d.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,nb(n.Ou,a)];case 8:return p=m.sent(),[4,Xv(n.Ou,p)];case 9:return u=m.sent(),[4,l_(n,N_(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Uh.fu(i),r)]}}))}))}function N_(t){return Eg(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function R_(t){var e=Cd(t);return Cd(Cd(e.Ou).persistence).gc()}function L_(t,e,n,r){return Object(fc.b)(this,void 0,void 0,(function(){var i,s,o;return Object(fc.d)(this,(function(a){switch(a.label){case 0:return(i=Cd(t)).Xh?(Ed("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Kh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,rb(i.Ou)];case 3:return s=a.sent(),o=xp.ae(e,"current"===n),[4,I_(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,tb(i.Ou,e,!0)];case 6:return a.sent(),w_(i,e,r),[3,8];case 7:Id(),a.label=8;case 8:return[2]}}))}))}function M_(t,e,n){return Object(fc.b)(this,void 0,void 0,(function(){var r,i,s,o,a,u,c,l,h;return Object(fc.d)(this,(function(f){switch(f.label){case 0:if(!(r=F_(t)).Xh)return[3,10];i=0,s=e,f.label=1;case 1:return i<s.length?r.Kh.has(o=s[i])?(Ed("SyncEngine","Adding an already active target "+o),[3,5]):[4,nb(r.Ou,o)]:[3,6];case 2:return a=f.sent(),[4,Xv(r.Ou,a)];case 3:return u=f.sent(),[4,l_(r,N_(a),u.targetId,!1)];case 4:f.sent(),pb(r.$h,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(fc.d)(this,(function(e){switch(e.label){case 0:return r.Kh.has(t)?[4,tb(r.Ou,t,!1).then((function(){mb(r.$h,t),w_(r,t)})).catch(sb)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function F_(t){var e=Cd(t);return e.$h.ku.Gu=d_.bind(null,e),e.$h.ku.Xe=C_.bind(null,e),e.$h.ku.ju=m_.bind(null,e),e.Uh.fu=qb.bind(null,e.Lh),e.Uh.el=zb.bind(null,e.Lh),e}function U_(t){var e=Cd(t);return e.$h.ku.zu=g_.bind(null,e),e.$h.ku.Hu=y_.bind(null,e),e}var V_=function(){function t(t,e){this.os=t,this.Dr=e,this.rs=[],this.nl=1,this.sl=new fp(Gb._a)}return t.prototype.Fr=function(t){return ny.resolve(0===this.rs.length)},t.prototype.Or=function(t,e,n,r){var i=this.nl;this.nl++;var s=new Xg(i,e,n,r);this.rs.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.sl=this.sl.add(new Gb(u.key,i)),this.os.Mr(t,u.key.path.q())}return ny.resolve(s)},t.prototype.kr=function(t,e){return ny.resolve(this.il(e))},t.prototype.Lr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return ny.resolve(this.rs.length>r?this.rs[r]:null)},t.prototype.Br=function(){return ny.resolve(0===this.rs.length?-1:this.nl-1)},t.prototype.qr=function(t){return ny.resolve(this.rs.slice())},t.prototype.us=function(t,e){var n=this,r=new Gb(e,0),i=new Gb(e,Number.POSITIVE_INFINITY),s=[];return this.sl.Kt([r,i],(function(t){var e=n.il(t.Ra);s.push(e)})),ny.resolve(s)},t.prototype.ds=function(t,e){var n=this,r=new fp(Fd);return e.forEach((function(t){var e=new Gb(t,0),i=new Gb(t,Number.POSITIVE_INFINITY);n.sl.Kt([e,i],(function(t){r=r.add(t.Ra)}))})),ny.resolve(this.ol(r))},t.prototype.Rs=function(t,e){var n=e.path,r=n.length+1,i=n;Wd.ot(i)||(i=i.child(""));var s=new Gb(new Wd(i),0),o=new fp(Fd);return this.sl.Wt((function(t){var e=t.key.path;return!!n.j(e)&&(e.length===r&&(o=o.add(t.Ra)),!0)}),s),ny.resolve(this.ol(o))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.il(t);null!==r&&n.push(r)})),n},t.prototype.Qr=function(t,e){var n=this;xd(0===this.cl(e.batchId,"removed")),this.rs.shift();var r=this.sl;return ny.forEach(e.mutations,(function(i){var s=new Gb(i.key,e.batchId);return r=r.delete(s),n.Dr.jr(t,i.key)})).next((function(){n.sl=r}))},t.prototype.Wr=function(t){},t.prototype.zr=function(t,e){var n=new Gb(e,0),r=this.sl.jt(n);return ny.resolve(e.isEqual(r&&r.key))},t.prototype.Gr=function(t){return ny.resolve()},t.prototype.cl=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.rs.length?0:t-this.rs[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.rs.length?null:this.rs[e]},t}(),q_=function(){function t(t,e){this.os=t,this.ul=e,this.docs=new cp(Wd.$),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ul(e);return this.docs=this.docs.Tt(r,{zn:e,size:o,readTime:n}),this.size+=o-s,this.os.Mr(t,r.path.q())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Jn=function(t,e){var n=this.docs.get(e);return ny.resolve(n?n.zn:null)},t.prototype.getEntries=function(t,e){var n=this,r=gp();return e.forEach((function(t){var e=n.docs.get(t);r=r.Tt(t,e?e.zn:null)})),ny.resolve(r)},t.prototype.ws=function(t,e,n){for(var r=vp(),i=new Wd(e.path.child("")),s=this.docs.Vt(i);s.Nt();){var o=s.Ct(),a=o.value,u=a.zn,c=a.readTime;if(!e.path.j(o.key.path))break;c.F(n)<=0||u instanceof vg&&Rg(e,u)&&(r=r.Tt(u.key,u))}return ny.resolve(r)},t.prototype.al=function(t,e){return ny.forEach(this.docs,(function(t){return e(t)}))},t.prototype.io=function(t){return new z_(this)},t.prototype.oo=function(t){return ny.resolve(this.size)},t}(),z_=function(t){function e(e){var n=this;return(n=t.call(this)||this).co=e,n}return Object(fc.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[];return this.Qn.forEach((function(r,i){i&&i.zn?n.push(e.co.jn(t,i.zn,e.Wn(r))):e.co.Hn(r)})),ny.qn(n)},e.prototype.Yn=function(t,e){return this.co.Jn(t,e)},e.prototype.Xn=function(t,e){return this.co.getEntries(t,e)},e}(ry),B_=function(){function t(t){this.persistence=t,this.hl=new ey((function(t){return Xd(t)}),tp),this.lastRemoteSnapshotVersion=zd.min(),this.highestTargetId=0,this.ll=0,this._l=new $b,this.targetCount=0,this.fl=Pv.To()}return t.prototype.Ue=function(t,e){return this.hl.forEach((function(t,n){return e(n)})),ny.resolve()},t.prototype.Po=function(t){return ny.resolve(this.lastRemoteSnapshotVersion)},t.prototype.yo=function(t){return ny.resolve(this.ll)},t.prototype.mo=function(t){return this.highestTargetId=this.fl.next(),ny.resolve(this.highestTargetId)},t.prototype.Vo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),ny.resolve()},t.prototype.vo=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new Pv(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.po=function(t,e){return this.vo(e),this.targetCount+=1,ny.resolve()},t.prototype.So=function(t,e){return this.vo(e),ny.resolve()},t.prototype.Do=function(t,e){return this.hl.delete(e.target),this._l.Ia(e.targetId),this.targetCount-=1,ny.resolve()},t.prototype.mr=function(t,e,n){var r=this,i=0,s=[];return this.hl.forEach((function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.hl.delete(o),s.push(r.Co(t,a.targetId)),i++)})),ny.qn(s).next((function(){return i}))},t.prototype.No=function(t){return ny.resolve(this.targetCount)},t.prototype.xo=function(t,e){var n=this.hl.get(e)||null;return ny.resolve(n)},t.prototype.Fo=function(t,e,n){return this._l.wa(e,n),ny.resolve()},t.prototype.Mo=function(t,e,n){this._l.Ta(e,n);var r=this.persistence.Dr,i=[];return r&&e.forEach((function(e){i.push(r.jr(t,e))})),ny.qn(i)},t.prototype.Co=function(t,e){return this._l.Ia(e),ny.resolve()},t.prototype.$o=function(t,e){var n=this._l.Aa(e);return ny.resolve(n)},t.prototype.zr=function(t,e){return ny.resolve(this._l.zr(e))},t}(),H_=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.ho=function(t,e){return ny.resolve(this.dl.get(e))},t.prototype.lo=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:fm(n.createTime)}),ny.resolve()},t.prototype._o=function(t,e){return ny.resolve(this.wl.get(e))},t.prototype.fo=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:Ky(n.bundledQuery),readTime:fm(n.readTime)}),ny.resolve()},t}(),$_=function(){function t(t,e){var n=this;this.El={},this.Uo=new hy(0),this.Qo=!1,this.Qo=!0,this.Dr=t(this),this.Yo=new B_(this),this.os=new av,this.ss=function(t,e){return new q_(t,(function(t){return n.Dr.Tl(t)}))}(this.os),this.serializer=new Fy(e),this.Xo=new H_(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Ic=function(){return this.Qo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"lr",{get:function(){return this.Qo},enumerable:!1,configurable:!0}),t.prototype.rc=function(){},t.prototype.oc=function(){},t.prototype.bc=function(){return this.os},t.prototype.yc=function(t){var e=this.El[t.h()];return e||(e=new V_(this.os,this.Dr),this.El[t.h()]=e),e},t.prototype.Vc=function(){return this.Yo},t.prototype.vc=function(){return this.ss},t.prototype.Sc=function(){return this.Xo},t.prototype.runTransaction=function(t,e,n){var r=this;Ed("MemoryPersistence","Starting transaction:",t);var i=new G_(this.Uo.next());return this.Dr.Il(),n(i).next((function(t){return r.Dr.ml(i).next((function(){return t}))})).Ln().then((function(t){return i.ns(),t}))},t.prototype.Al=function(t,e){return ny.Un(Object.values(this.El).map((function(n){return function(){return n.zr(t,e)}})))},t}(),G_=function(t){function e(e){var n=this;return(n=t.call(this)||this).Lo=e,n}return Object(fc.c)(e,t),e}(uy),W_=function(){function t(t){this.persistence=t,this.Rl=new $b,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw Id()},enumerable:!1,configurable:!0}),t.prototype.Oo=function(t,e,n){return this.Rl.Oo(n,e),this.yl.delete(n.toString()),ny.resolve()},t.prototype.ko=function(t,e,n){return this.Rl.ko(n,e),this.yl.add(n.toString()),ny.resolve()},t.prototype.jr=function(t,e){return this.yl.add(e.toString()),ny.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.Ia(e.targetId).forEach((function(t){return n.yl.add(t.toString())}));var r=this.persistence.Vc();return r.$o(t,e.targetId).next((function(t){t.forEach((function(t){return n.yl.add(t.toString())}))})).next((function(){return r.Do(t,e)}))},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.vc().io();return ny.forEach(this.yl,(function(r){var i=Wd.st(r);return e.Vl(t,i).next((function(t){t||n.Hn(i)}))})).next((function(){return e.Pl=null,n.apply(t)}))},t.prototype.Fc=function(t,e){var n=this;return this.Vl(t,e).next((function(t){t?n.yl.delete(e.toString()):n.yl.add(e.toString())}))},t.prototype.Tl=function(t){return 0},t.prototype.Vl=function(t,e){var n=this;return ny.Un([function(){return ny.resolve(n.Rl.zr(e))},function(){return n.persistence.Vc().zr(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),K_=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.lu=function(t){this.bl=t},t.prototype.ou=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),Q_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},J_=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(fc.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise((function(i,s){var o=new md;o.listenOnce(fd.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case hd.NO_ERROR:var e=o.getResponseJson();Ed("Connection","XHR received:",JSON.stringify(e)),i(e);break;case hd.TIMEOUT:Ed("Connection",'RPC "'+t+'" timed out'),s(new Ad(kd.DEADLINE_EXCEEDED,"Request time out"));break;case hd.HTTP_ERROR:var n=o.getStatus();if(Ed("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(kd).indexOf(e)>=0?e:kd.UNKNOWN}(r.status);s(new Ad(a,r.message))}else s(new Ad(kd.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Ad(kd.UNAVAILABLE,"Connection failed."));break;default:Id()}}finally{Ed("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);o.send(e,"POST",a,n,15)}))},e.prototype._u=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new od,i=uh(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(s.initMessageHeaders,e),Object(mc.l)()||Object(mc.n)()||Object(mc.j)()||Object(mc.k)()||Object(mc.o)()||Object(mc.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Ed("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new K_({pl:function(t){c?Ed("Connection","Not sending because WebChannel is closed:",t):(u||(Ed("Connection","Opening WebChannel transport."),a.open(),u=!0),Ed("Connection","WebChannel sending:",t),a.send(t))},vl:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,pd.EventType.OPEN,(function(){c||Ed("Connection","WebChannel transport opened.")})),h(a,pd.EventType.CLOSE,(function(){c||(c=!0,Ed("Connection","WebChannel transport closed"),l.Nl())})),h(a,pd.EventType.ERROR,(function(t){c||(c=!0,Od("Connection","WebChannel transport errored:",t),l.Nl(new Ad(kd.UNAVAILABLE,"The operation could not be completed")))})),h(a,pd.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];xd(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Ed("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=rp[t];if(void 0!==e)return up(e)}(i),o=r.message;void 0===s&&(s=kd.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Nl(new Ad(s,o)),a.close()}else Ed("Connection","WebChannel received:",n),l.xl(n)}})),h(i,dd.STAT_EVENT,(function(t){10===t.stat?Ed("Connection","Detected buffering proxy"):11===t.stat&&Ed("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Cl()}),0),l},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.yu=function(t,e,n,r){var i=this.kl(t,e);Ed("RestConnection","Sending: ",i,n);var s={};return this.$l(s,r),this.Ll(t,i,s,n).then((function(t){return Ed("RestConnection","Received: ",t),t}),(function(e){throw Od("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Vu=function(t,e,n,r){return this.yu(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.1.2",t["Content-Type"]="text/plain",e)for(var n in e.T)e.T.hasOwnProperty(n)&&(t[n]=e.T[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+Q_[t]},t}()),Z_=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Qu=function(t){this.Kl.push(t)},t.prototype.Ic=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){Ed("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){Ed("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Y_=function(){function t(){}return t.prototype.Qu=function(t){},t.prototype.Ic=function(){},t}(),X_=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){switch(e.label){case 0:return this.serializer=sy(t.Fl.t),this.Bh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Ou=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Wv(this.persistence,new Py,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new $_(W_.gl,this.serializer)},t.prototype.jl=function(t){return new n_},t.prototype.terminate=function(){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.Bh.Ic()];case 1:return t.sent(),[4,this.persistence.Ic()];case 2:return t.sent(),[2]}}))}))},t}(),tw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(fc.c)(e,t),e.prototype.initialize=function(e){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,ib(this.Ou)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,U_(this.Xl.va)];case 4:return n.sent(),[4,xb(this.Xl.$h)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return Wv(this.persistence,new Py,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new jy(this.persistence.Dr.cr,t.di)},e.prototype.Gl=function(t){var e=$v(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?Ay.er(this.cacheSizeBytes):Ay.ir;return new Vv(this.synchronizeTabs,e,t.clientId,n,t.di,Ey(),Sy(),this.serializer,this.Bh,!!this.forceOwnership)},e.prototype.jl=function(t){return new n_},e}(X_),ew=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(fc.c)(e,t),e.prototype.initialize=function(e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r=this;return Object(fc.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.va,this.Bh instanceof e_?(this.Bh.va={Eh:j_.bind(null,n),Th:L_.bind(null,n),Ih:M_.bind(null,n),gc:R_.bind(null,n),wh:A_.bind(null,n)},[4,this.Bh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.ic((function(t){return Object(fc.b)(r,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){switch(e.label){case 0:return[4,D_(this.Xl.va,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.lr?this.zl.start(this.Ou):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=Ey();if(!e_.Gs(e))throw new Ad(kd.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=$v(t.Fl.t,t.Fl.persistenceKey);return new e_(e,t.di,n,t.clientId,t.Yl)},e}(tw),nw=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n=this;return Object(fc.d)(this,(function(r){switch(r.label){case 0:return this.Ou?[3,2]:(this.Ou=t.Ou,this.Bh=t.Bh,this.Mu=this.Zl(e),this.$h=this.t_(e),this.Lh=this.e_(e),this.va=this.n_(e,!t.synchronizeTabs),this.Bh.pu=function(t){return p_(n.va,t,1)},this.$h.ku.s_=x_.bind(null,this.va),[4,Nb(this.$h,this.va.Zh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new Fb},t.prototype.Zl=function(t){var e=sy(t.Fl.t),n=new J_(t.Fl);return function(t,e,n){return new cb(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Ou,n=this.Mu,r=t.di,i=function(t){return p_(o.va,t,0)},s=Z_.Gs()?new Z_:new Y_,new hb(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var a=new u_(t,e,n,r,i,s);return o&&(a.Xh=!0),a}(this.Ou,this.$h,this.Lh,this.Bh,t.Yl,t.qh,e)},t.prototype.terminate=function(){return function(t){return Object(fc.b)(this,void 0,void 0,(function(){var e;return Object(fc.d)(this,(function(n){switch(n.label){case 0:return e=Cd(t),Ed("RemoteStore","RemoteStore shutting down."),e.Bu.add(5),[4,db(e)];case 1:return n.sent(),e.Uu.Ic(),e.Ku.set("Unknown"),[2]}}))}))}(this.$h)},t}(),rw=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function iw(t,e,n){if(!n)throw new Ad(kd.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function sw(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ad(kd.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ow(t,e,n,r){if(!0===e&&!0===r)throw new Ad(kd.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function aw(t){if(!Wd.ot(t))throw new Ad(kd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function uw(t){if(Wd.ot(t))throw new Ad(kd.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function cw(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Id()}function lw(t,e){if("_delegate"in t&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ad(kd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=cw(t);throw new Ad(kd.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function hw(t,e){if(e<=0)throw new Ad(kd.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var fw=function(t){this._methodName=t},dw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e.prototype.c_=function(t){if(2!==t.u_)throw t.a_(1===t.u_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.en.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(fw);function pw(t,e,n){return new vE({u_:3,h_:e.settings.h_,methodName:t._methodName,l_:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var mw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e.prototype.c_=function(t){return new Jm(t.path,new qm)},e.prototype.isEqual=function(t){return t instanceof e},e}(fw),gw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).__=n,r}return Object(fc.c)(e,t),e.prototype.c_=function(t){var e=pw(this,t,!0),n=this.__.map((function(t){return OE(t,e)})),r=new zm(n);return new Jm(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(fw),yw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).__=n,r}return Object(fc.c)(e,t),e.prototype.c_=function(t){var e=pw(this,t,!0),n=this.__.map((function(t){return OE(t,e)})),r=new Hm(n);return new Jm(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(fw),vw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(fc.c)(e,t),e.prototype.c_=function(t){var e=new Gm(t.serializer,um(t.serializer,this.f_));return new Jm(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(fw),bw=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ad(kd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ad(kd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.d_=t,this.w_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.d_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.d_===t.d_&&this.w_===t.w_},t.prototype.toJSON=function(){return{latitude:this.d_,longitude:this.w_}},t.prototype.C=function(t){return Fd(this.d_,t.d_)||Fd(this.w_,t.w_)},t}(),_w=function(){function t(t){this.E_=t}return t.fromBase64String=function(e){try{return new t(np.fromBase64String(e))}catch(e){throw new Ad(kd.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(np.fromUint8Array(e))},t.prototype.toBase64=function(){return this.E_.toBase64()},t.prototype.toUint8Array=function(){return this.E_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.E_.isEqual(t.E_)},t}(),ww=function(t){this.o_=t},Ew=new Map,Sw=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ad(kd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ad(kd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,ow("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Ow=function(){function t(t,e){this.T_="(lite)",this.I_=new Sw({}),this.m_=!1,t instanceof vd?(this.A_=t,this.R_=new Dd):(this.P_=t,this.A_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ad(kd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vd(t.options.projectId)}(t),this.R_=new Pd(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.P_)throw new Ad(kd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.P_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"g_",{get:function(){return this.m_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y_",{get:function(){return void 0!==this.V_},enumerable:!1,configurable:!0}),t.prototype.p_=function(t){if(this.m_)throw new Ad(kd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.I_=new Sw(t),void 0!==t.credentials&&(this.R_=function(t){if(!t)return new Dd;switch(t.type){case"gapi":var e=t.client;return xd(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Rd(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Ad(kd.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.v_=function(){return this.I_},t.prototype.b_=function(){return this.m_=!0,this.I_},t.prototype._delete=function(){return this.V_||(this.V_=this.S_()),this.V_},t.prototype.S_=function(){return function(t){var e=Ew.get(t);e&&(Ed("ComponentProvider","Removing Datastore"),Ew.delete(t),e.terminate())}(this),Promise.resolve()},t}();function Tw(){if("undefined"==typeof Uint8Array)throw new Ad(kd.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Iw(){if("undefined"==typeof atob)throw new Ad(kd.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var xw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e.fromBase64String=function(t){return Iw(),new e(_w.fromBase64String(t))},e.fromUint8Array=function(t){return Tw(),new e(_w.fromUint8Array(t))},e.prototype.toBase64=function(){return Iw(),this.o_.toBase64()},e.prototype.toUint8Array=function(){return Tw(),this.o_.toUint8Array()},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(ww),Cw=function(){function t(){}return t.prototype.D_=function(t,e){switch(void 0===e&&(e="none"),zp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Qp(t.integerValue||t.doubleValue);case 3:return this.C_(t.timestampValue);case 4:return this.N_(t,e);case 5:return t.stringValue;case 6:return this.x_(Jp(t.bytesValue));case 7:return this.F_(t.referenceValue);case 8:return this.O_(t.geoPointValue);case 9:return this.M_(t.arrayValue,e);case 10:return this.k_(t.mapValue,e);default:throw Id()}},t.prototype.k_=function(t,e){var n=this,r={};return Mp(t.fields||{},(function(t,i){r[t]=n.D_(i,e)})),r},t.prototype.O_=function(t){return new bw(Qp(t.latitude),Qp(t.longitude))},t.prototype.M_=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.D_(t,e)}))},t.prototype.N_=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return Up(n)?t(n):n}(t);return null==n?null:this.D_(n,e);case"estimate":return this.C_(Vp(t));default:return null}},t.prototype.C_=function(t){var e=Kp(t);return new qd(e.seconds,e.nanos)},t.prototype.L_=function(t,e){var n=Hd.Y(t);xd(Lm(n));var r=new vd(n.get(1),n.get(3)),i=new Wd(n.B(5));return r.isEqual(e)||Sd("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),kw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(fc.c)(e,t),e.prototype.x_=function(t){return new xw(new _w(t))},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return nS.B_(e,this.firestore,null)},e}(Cw),Aw=function(){function t(t,e,n,r,i){this.q_=t,this.U_=e,this.Q_=n,this.K_=r,this.W_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.Q_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ww(this.q_,this.W_,this.Q_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.K_},t.prototype.data=function(){if(this.K_){if(this.W_){var t=new jw(this.q_,this.U_,this.Q_,this.K_,null);return this.W_.fromFirestore(t)}return this.U_.D_(this.K_.En())}},t.prototype.get=function(t){if(this.K_){var e=this.K_.data().field(Dw("DocumentSnapshot.get",t));if(null!==e)return this.U_.D_(e)}},t}(),jw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Aw);function Dw(t,e){return"string"==typeof e?AE(t,e):e instanceof ww?e.o_.j_:e.j_}var Pw=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ad(kd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.j_=new Gd(t)}return t.prototype.isEqual=function(t){return this.j_.isEqual(t.j_)},t}(),Nw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).G_=new Ty,r.T_="name"in e?e.name:"[DEFAULT]",r}return Object(fc.c)(e,t),e.prototype.S_=function(){return this.z_||XE(this),this.z_.terminate()},e}(Ow);function Rw(t,e,n){var r=this,i=new iy;return t.di.enqueue((function(){return Object(fc.b)(r,void 0,void 0,(function(){var r;return Object(fc.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,LE(t,n)];case 1:return s.sent(),[4,ME(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===kd.FAILED_PRECONDITION||t.code===kd.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Lw(t){if(t.g_||t.y_)throw new Ad(kd.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Mw=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).q_=e,a.H_=e,a.metadata=s,a}return Object(fc.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.K_){if(this.W_){var e=new Fw(this.q_,this.U_,this.Q_,this.K_,this.metadata,null);return this.W_.fromFirestore(e,t)}return this.U_.D_(this.K_.En(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.K_){var n=this.K_.data().field(Dw("DocumentSnapshot.get",t));if(null!==n)return this.U_.D_(n,e.serverTimestamps)}},e}(Aw),Fw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Mw),Uw=function(){function t(t,e,n,r){this.q_=t,this.U_=e,this.J_=r,this.metadata=new oS(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.J_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.J_.docs.forEach((function(r){t.call(e,new Fw(n.q_,n.U_,r.key,r,new oS(n.J_.ee.has(r.key),n.J_.fromCache),n.query.W_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.J_.se)throw new Ad(kd.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Y_&&this.X_===e||(this.Y_=function(t,e){if(t.J_.te.W()){var n=0;return t.J_.docChanges.map((function(e){return{type:"added",doc:new Fw(t.q_,t.U_,e.doc.key,e.doc,new oS(t.J_.ee.has(e.doc.key),t.J_.fromCache),t.query.W_),oldIndex:-1,newIndex:n++}}))}var r=t.J_.te;return t.J_.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Fw(t.q_,t.U_,e.doc.key,e.doc,new oS(t.J_.ee.has(e.doc.key),t.J_.fromCache),t.query.W_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Vw(e.type),doc:n,oldIndex:i,newIndex:s}}))}(this,e),this.X_=e),this.Y_},t}();function Vw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Id()}}function qw(t,e){return t instanceof Mw&&e instanceof Mw?t.q_===e.q_&&t.Q_.isEqual(e.Q_)&&(null===t.K_?null===e.K_:t.K_.isEqual(e.K_))&&t.W_===e.W_:t instanceof Uw&&e instanceof Uw&&t.q_===e.q_&&fE(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.J_.isEqual(e.J_)}var zw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(fc.c)(e,t),e.prototype.x_=function(t){return new _w(t)},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return new Ww(this.firestore,null,e)},e}(Cw);function Bw(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=lw(t,Ww);var s=lw(t.firestore,Nw),o=dE(s);return e instanceof ww&&(e=e.o_),$w(s,("string"==typeof e||e instanceof Pw?EE(o,"updateDoc",t.Q_,e,n,r):wE(o,"updateDoc",t.Q_,e)).tf(t.Q_,Ym.exists(!0)))}function Hw(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof ww&&(t=t.o_);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||oy(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(oy(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Ww)c=lw(t.firestore,Nw),l=Sg(t.Q_.path),u={next:function(e){i[a]&&i[a](Gw(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=lw(t,Kw);c=lw(d.firestore,Nw),l=d.Z_;var p=new zw(c);u={next:function(t){i[a]&&i[a](new Uw(c,p,d,t))},error:i[a+1],complete:i[a+2]},oE(t.Z_)}return function(t,e,n,r){var i=this,s=new rw(r),o=new Hb(e,s,n);return t.di.Ri((function(){return Object(fc.b)(i,void 0,void 0,(function(){var e;return Object(fc.d)(this,(function(n){switch(n.label){case 0:return e=Ub,[4,HE(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))})),function(){s.r_(),t.di.Ri((function(){return Object(fc.b)(i,void 0,void 0,(function(){var e;return Object(fc.d)(this,(function(n){switch(n.label){case 0:return e=Vb,[4,HE(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))}))}}(YE(c),l,h,u)}function $w(t,e){return function(t,e){var n=this,r=new iy;return t.di.Ri((function(){return Object(fc.b)(n,void 0,void 0,(function(){var n;return Object(fc.d)(this,(function(i){switch(i.label){case 0:return n=f_,[4,BE(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(YE(t),e)}function Gw(t,e,n){var r=n.docs.get(e.Q_),i=new zw(t);return new Mw(t,i,e.Q_,r,new oS(n.hasPendingWrites,n.fromCache),e.W_)}var Ww=function(){function t(t,e,n){this.W_=e,this.Q_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"ef",{get:function(){return this.Q_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.Q_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Q_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new aE(this.firestore,this.W_,this.Q_.path.q())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.Q_)},t}(),Kw=function(){function t(t,e,n){this.W_=e,this.Z_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.Z_)},t}(),Qw=function(){};function Jw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.nf(t)}return t}var Zw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).sf=e,i.rf=n,i.cf=r,i.type="where",i}return Object(fc.c)(e,t),e.prototype.nf=function(t){var e=dE(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.tt()){if("array-contains"===s||"array-contains-any"===s)throw new Ad(kd.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){iE(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(rE(r,t,l[c]));a={arrayValue:{values:u}}}else a=rE(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||iE(o,s),a=SE(n,"where",o,"in"===s||"not-in"===s);var h=Mg.create(i,s,a);return function(t,e){if(e.An()){var n=xg(t);if(null!==n&&!n.isEqual(e.field))throw new Ad(kd.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Ig(t);null!==r&&sE(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Ad(kd.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.Z_,0,e,t.firestore.A_,this.sf,this.rf,this.cf);return new Kw(t.firestore,t.W_,function(t,e){var n=t.filters.concat([e]);return new wg(t.path,t.collectionGroup,t.Tn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.Z_,n))},e}(Qw),Yw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).sf=e,r.uf=n,r.type="orderBy",r}return Object(fc.c)(e,t),e.prototype.nf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Ad(kd.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ad(kd.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Jg(e,n);return function(t,e){if(null===Ig(t)){var n=xg(t);null!==n&&sE(0,n,e.field)}}(t,r),r}(t.Z_,this.sf,this.uf);return new Kw(t.firestore,t.W_,function(t,e){var n=t.Tn.concat([e]);return new wg(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.Z_,e))},e}(Qw),Xw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.af=n,i.hf=r,i}return Object(fc.c)(e,t),e.prototype.nf=function(t){return new Kw(t.firestore,t.W_,jg(t.Z_,this.af,this.hf))},e}(Qw),tE=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.lf=n,i._f=r,i}return Object(fc.c)(e,t),e.prototype.nf=function(t){var e=nE(t,this.type,this.lf,this._f);return new Kw(t.firestore,t.W_,function(t,e){return new wg(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.Z_,e))},e}(Qw),eE=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.lf=n,i._f=r,i}return Object(fc.c)(e,t),e.prototype.nf=function(t){var e=nE(t,this.type,this.lf,this._f);return new Kw(t.firestore,t.W_,function(t,e){return new wg(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.Z_,e))},e}(Qw);function nE(t,e,n,r){if(n[0]instanceof ww&&(n[0]=n[0].o_),n[0]instanceof Aw)return function(t,e,n,r,i){if(!r)throw new Ad(kd.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=kg(t);o<a.length;o++){var u=a[o];if(u.field.tt())s.push(Zp(e,r.key));else{var c=r.field(u.field);if(Up(c))throw new Ad(kd.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.J();throw new Ad(kd.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new Gg(s,i)}(t.Z_,t.firestore.A_,e,n[0].K_,r);var i=dE(t.firestore);return function(t,e,n,r,i,s){var o=t.Tn;if(i.length>o.length)throw new Ad(kd.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.tt()){if("string"!=typeof c)throw new Ad(kd.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Cg(t)&&-1!==c.indexOf("/"))throw new Ad(kd.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Hd.Y(c));if(!Wd.ot(l))throw new Ad(kd.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Wd(l);a.push(Zp(e,h))}else{var f=SE(n,r,c);a.push(f)}}return new Gg(a,s)}(t.Z_,t.firestore.A_,i,e,n,r)}function rE(t,e,n){if(n instanceof ww&&(n=n.o_),"string"==typeof n){if(""===n)throw new Ad(kd.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cg(e)&&-1!==n.indexOf("/"))throw new Ad(kd.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Hd.Y(n));if(!Wd.ot(r))throw new Ad(kd.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Zp(t,new Wd(r))}if(n instanceof Ww)return Zp(t,n.Q_);throw new Ad(kd.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+cw(n)+".")}function iE(t,e){if(!Array.isArray(t)||0===t.length)throw new Ad(kd.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ad(kd.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function sE(t,e,n){if(!n.isEqual(e))throw new Ad(kd.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function oE(t){if(Tg(t)&&0===t.Tn.length)throw new Ad(kd.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var aE=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Sg(r))||this).firestore=e,i.ef=r,i.type="collection",i}return Object(fc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Z_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Z_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.ef.q();return t.W()?null:new Ww(this.firestore,null,new Wd(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.ef)},e}(Kw);function uE(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t instanceof ww&&(t=t.o_),iw("collection","path",e),t instanceof Ow){var i=Hd.Y.apply(Hd,Object(fc.g)([e],n));return uw(i),new aE(t,null,i)}if(!(t instanceof Ww||t instanceof aE))throw new Ad(kd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=Hd.Y.apply(Hd,Object(fc.g)([t.path],n)).child(Hd.Y(e));return uw(s),new aE(t.firestore,null,s)}function cE(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t instanceof ww&&(t=t.o_),1===arguments.length&&(e=Md.D()),iw("doc","path",e),t instanceof Ow){var i=Hd.Y.apply(Hd,Object(fc.g)([e],n));return aw(i),new Ww(t,null,new Wd(i))}if(!(t instanceof Ww||t instanceof aE))throw new Ad(kd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=t.ef.child(Hd.Y.apply(Hd,Object(fc.g)([e],n)));return aw(s),new Ww(t.firestore,t instanceof aE?t.W_:null,new Wd(s))}var lE=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(fc.c)(e,t),e.prototype.x_=function(t){return new _w(t)},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return new Ww(this.firestore,null,e)},e}(Cw);function hE(t,e){return t instanceof ww&&(t=t.o_),e instanceof ww&&(e=e.o_),(t instanceof Ww||t instanceof aE)&&(e instanceof Ww||e instanceof aE)&&t.firestore===e.firestore&&t.path===e.path&&t.W_===e.W_}function fE(t,e){return t instanceof ww&&(t=t.o_),e instanceof ww&&(e=e.o_),t instanceof Kw&&e instanceof Kw&&t.firestore===e.firestore&&Dg(t.Z_,e.Z_)&&t.W_===e.W_}function dE(t){var e=t.b_(),n=sy(t.A_);return new bE(t.A_,!!e.ignoreUndefinedProperties,n)}var pE=/^__.*__$/,mE=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.tf=function(t,e){var n=[];return n.push(null!==this.en?new ag(t,this.data,this.en,e):new og(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new cg(t,this.fieldTransforms)),n},t}(),gE=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.tf=function(t,e){var n=[new ag(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new cg(t,this.fieldTransforms)),n},t}();function yE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Id()}}var vE=function(){function t(t,e,n,r,i,s){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ff(),this.fieldTransforms=i||[],this.en=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u_",{get:function(){return this.settings.u_},enumerable:!1,configurable:!0}),t.prototype.df=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},t.prototype.wf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.df({path:n,l_:!1});return r.Ef(t),r},t.prototype.Tf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.df({path:n,l_:!1});return r.ff(),r},t.prototype.If=function(t){return this.df({path:void 0,l_:!0})},t.prototype.a_=function(t){return jE(t,this.settings.methodName,this.settings.mf||!1,this.path,this.settings.h_)},t.prototype.contains=function(t){return void 0!==this.en.find((function(e){return t.j(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.j(e.field)}))},t.prototype.ff=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Ef(this.path.get(t))},t.prototype.Ef=function(t){if(0===t.length)throw this.a_("Document fields must not be empty");if(yE(this.u_)&&pE.test(t))throw this.a_('Document fields cannot begin and end with "__"')},t}(),bE=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||sy(t)}return t.prototype.Af=function(t,e,n,r){return void 0===r&&(r=!1),new vE({u_:t,methodName:e,h_:n,path:Gd.X(),l_:!1,mf:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function _E(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Af(s.merge||s.mergeFields?2:0,e,n,i);xE("Data must be an object, but it was:",o,r);var a,u,c=TE(r,o);if(s.merge)a=new Qm(o.en),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=CE(e,f[h],n);if(!o.contains(d))throw new Ad(kd.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");DE(l,d)||l.push(d)}a=new Qm(l),u=o.fieldTransforms.filter((function(t){return a.un(t.field)}))}else a=null,u=o.fieldTransforms;return new mE(new pg(c),a,u)}function wE(t,e,n,r){var i=t.Af(1,e,n);xE("Data must be an object, but it was:",i,r);var s=[],o=new mg;Mp(r,(function(t,r){var a=AE(e,t,n);r instanceof ww&&(r=r.o_);var u=i.Tf(a);if(r instanceof dw)s.push(a);else{var c=OE(r,u);null!=c&&(s.push(a),o.set(a,c))}}));var a=new Qm(s);return new gE(o.hn(),a,i.fieldTransforms)}function EE(t,e,n,r,i,s){var o=t.Af(1,e,n),a=[CE(e,r,n)],u=[i];if(s.length%2!=0)throw new Ad(kd.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(CE(e,s[c])),u.push(s[c+1]);for(var l=[],h=new mg,f=a.length-1;f>=0;--f)if(!DE(l,a[f])){var d=a[f],p=u[f];p instanceof ww&&(p=p.o_);var m=o.Tf(d);if(p instanceof dw)l.push(d);else{var g=OE(p,m);null!=g&&(l.push(d),h.set(d,g))}}var y=new Qm(l);return new gE(h.hn(),y,o.fieldTransforms)}function SE(t,e,n,r){return void 0===r&&(r=!1),OE(n,t.Af(r?4:3,e))}function OE(t,e){if(t instanceof ww&&(t=t.o_),IE(t))return xE("Unsupported field value:",e,t),TE(t,e);if(t instanceof fw)return function(t,e){if(!yE(e.u_))throw e.a_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.a_(t._methodName+"() is not currently supported inside arrays");var n=t.c_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.settings.l_&&4!==e.u_)throw e.a_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=OE(s[i],e.If(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof ww&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return um(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=qd.fromDate(t);return{timestampValue:cm(e.serializer,n)}}if(t instanceof qd){var r=new qd(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:cm(e.serializer,r)}}if(t instanceof bw)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof _w)return{bytesValue:lm(e.serializer,t.E_)};if(t instanceof Ww){var i=e.t,s=t.firestore.A_;if(!s.isEqual(i))throw e.a_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:dm(t.firestore.A_||e.t,t.Q_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.a_("Unsupported field value: "+cw(t))}(t,e)}function TE(t,e){var n={};return Fp(t)?e.path&&e.path.length>0&&e.en.push(e.path):Mp(t,(function(t,r){var i=OE(r,e.wf(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function IE(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof qd||t instanceof bw||t instanceof _w||t instanceof Ww||t instanceof fw)}function xE(t,e,n){if(!IE(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=cw(n);throw e.a_("an object"===r?t+" a custom object":t+" "+r)}}function CE(t,e,n){if(e instanceof ww&&(e=e.o_),e instanceof Pw)return e.j_;if("string"==typeof e)return AE(t,e);throw jE("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var kE=new RegExp("[~\\*/\\[\\]]");function AE(t,e,n){if(e.search(kE)>=0)throw jE("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Pw.bind.apply(Pw,Object(fc.g)([void 0],e.split("."))))).j_}catch(r){throw jE("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function jE(t,e,n,r,i){var s=r&&!r.W(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new Ad(kd.INVALID_ARGUMENT,(a+=". ")+t+u)}function DE(t,e){return t.some((function(t){return t.isEqual(e)}))}var PE=function(){function t(t){this.Mu=t,this.Rf=new Map,this.mutations=[],this.Pf=!1,this.gf=null,this.yf=new Set}return t.prototype.Vf=function(t){return Object(fc.b)(this,void 0,void 0,(function(){var e,n=this;return Object(fc.d)(this,(function(r){switch(r.label){case 0:if(this.pf(),this.mutations.length>0)throw new Ad(kd.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a;return Object(fc.d)(this,(function(u){switch(u.label){case 0:return n=Cd(t),r=bm(n.serializer)+"/documents",i={documents:e.map((function(t){return mm(n.serializer,t)}))},[4,n.Vu("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){xd(!!e.found);var n=gm(t,e.found.name),r=fm(e.found.updateTime),i=new pg({mapValue:{fields:e.found.fields}});return new vg(n,r,i,{})}(t,e):"missing"in e?function(t,e){xd(!!e.missing),xd(!!e.readTime);var n=gm(t,e.missing),r=fm(e.readTime);return new bg(n,r)}(t,e):Id()}(n.serializer,t);o.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=o.get(t.toString());xd(!!e),a.push(e)})),a)]}}))}))}(this.Mu,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof bg||t instanceof vg?n.vf(t):Id()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.tf(t,this.rn(t))),this.yf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.tf(t,this.bf(t)))}catch(t){this.gf=t}this.yf.add(t.toString())},t.prototype.delete=function(t){this.write([new fg(t,this.rn(t))]),this.yf.add(t.toString())},t.prototype.commit=function(){return Object(fc.b)(this,void 0,void 0,(function(){var t,e=this;return Object(fc.d)(this,(function(n){switch(n.label){case 0:if(this.pf(),this.gf)throw this.gf;return t=this.Rf,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Wd.st(n);e.mutations.push(new dg(r,e.rn(r)))})),[4,function(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i;return Object(fc.d)(this,(function(s){switch(s.label){case 0:return n=Cd(t),r=bm(n.serializer)+"/documents",i={writes:e.map((function(t){return Em(n.serializer,t)}))},[4,n.yu("Commit",r,i)];case 1:return s.sent(),[2]}}))}))}(this.Mu,this.mutations)];case 1:return n.sent(),this.Pf=!0,[2]}}))}))},t.prototype.vf=function(t){var e;if(t instanceof vg)e=t.version;else{if(!(t instanceof bg))throw Id();e=zd.min()}var n=this.Rf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ad(kd.ABORTED,"Document version changed between two reads.")}else this.Rf.set(t.key.toString(),e)},t.prototype.rn=function(t){var e=this.Rf.get(t.toString());return!this.yf.has(t.toString())&&e?Ym.updateTime(e):Ym.on()},t.prototype.bf=function(t){var e=this.Rf.get(t.toString());if(!this.yf.has(t.toString())&&e){if(e.isEqual(zd.min()))throw new Ad(kd.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ym.updateTime(e)}return Ym.exists(!0)},t.prototype.write=function(t){this.pf(),this.mutations=this.mutations.concat(t)},t.prototype.pf=function(){},t}(),NE=function(){function t(t,e,n,r){this.di=t,this.Mu=e,this.updateFunction=n,this.Ti=r,this.Sf=5,this.Si=new fy(this.di,"transaction_retry")}return t.prototype.run=function(){this.Df()},t.prototype.Df=function(){var t=this;this.Si.Bs((function(){return Object(fc.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(fc.d)(this,(function(r){return t=new PE(this.Mu),(e=this.Cf(t))&&e.then((function(e){n.di.Ri((function(){return t.commit().then((function(){n.Ti.resolve(e)})).catch((function(t){n.Nf(t)}))}))})).catch((function(t){n.Nf(t)})),[2]}))}))}))},t.prototype.Cf=function(t){try{var e=this.updateFunction(t);return!Kd(e)&&e.catch&&e.then?e:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ti.reject(t),null}},t.prototype.Nf=function(t){var e=this;this.Sf>0&&this.xf(t)?(this.Sf-=1,this.di.Ri((function(){return e.Df(),Promise.resolve()}))):this.Ti.reject(t)},t.prototype.xf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ap(e)}return!1},t}(),RE=function(){function t(t,e,n){var r=this;this.credentials=t,this.di=e,this.Fl=n,this.user=bd.UNAUTHENTICATED,this.clientId=Md.D(),this.Ff=function(){},this.g=new iy,this.credentials.A((function(t){Ed("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.Ff(t)),r.g.resolve()}))}return t.prototype.getConfiguration=function(){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(t){switch(t.label){case 0:return[4,this.g.promise];case 1:return[2,(t.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,qh:100})]}}))}))},t.prototype.Of=function(t){var e=this;this.Ff=t,this.g.promise.then((function(){return e.Ff(e.user)}))},t.prototype.Mf=function(){if(this.di.Ci)throw new Ad(kd.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.di.Oi();var e=new iy;return this.di.Ni((function(){return Object(fc.b)(t,void 0,void 0,(function(){var t,n;return Object(fc.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.kf?[4,this.kf.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.$f?[4,this.$f.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Iy(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function LE(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r=this;return Object(fc.d)(this,(function(i){switch(i.label){case 0:return t.di.Li(),Ed("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.Of((function(n){return t.di.Mi((function(){return Object(fc.b)(r,void 0,void 0,(function(){return Object(fc.d)(this,(function(t){switch(t.label){case 0:return[4,Kv(e.Ou,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.rc((function(){return t.terminate()})),t.$f=e,[2]}}))}))}function ME(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r;return Object(fc.d)(this,(function(i){switch(i.label){case 0:return t.di.Li(),[4,FE(t)];case 1:return n=i.sent(),Ed("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.Of((function(n){return t.di.Mi((function(){return function(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r;return Object(fc.d)(this,(function(i){switch(i.label){case 0:return(n=Cd(t)).di.Li(),Ed("RemoteStore","RemoteStore received new credentials"),r=_b(n),n.Bu.add(3),[4,db(n)];case 1:return i.sent(),r&&n.Ku.set("Unknown"),[4,n.ku.s_(e)];case 2:return i.sent(),n.Bu.delete(3),[4,fb(n)];case 3:return i.sent(),[2]}}))}))}(e.$h,n)}))})),t.kf=e,[2]}}))}))}function FE(t){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){switch(e.label){case 0:return t.$f?[3,2]:(Ed("FirestoreClient","Using default OfflineComponentProvider"),[4,LE(t,new X_)]);case 1:e.sent(),e.label=2;case 2:return[2,t.$f]}}))}))}function UE(t){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){switch(e.label){case 0:return t.kf?[3,2]:(Ed("FirestoreClient","Using default OnlineComponentProvider"),[4,ME(t,new nw)]);case 1:e.sent(),e.label=2;case 2:return[2,t.kf]}}))}))}function VE(t){return FE(t).then((function(t){return t.persistence}))}function qE(t){return FE(t).then((function(t){return t.Ou}))}function zE(t){return UE(t).then((function(t){return t.$h}))}function BE(t){return UE(t).then((function(t){return t.va}))}function HE(t){return Object(fc.b)(this,void 0,void 0,(function(){var e,n;return Object(fc.d)(this,(function(r){switch(r.label){case 0:return[4,UE(t)];case 1:return e=r.sent(),[2,((n=e.Lh).ta=c_.bind(null,e.va),n.sa=h_.bind(null,e.va),n)]}}))}))}function $E(t,e,n){var r=this;void 0===n&&(n={});var i=new iy;return t.di.Ri((function(){return Object(fc.b)(r,void 0,void 0,(function(){var r;return Object(fc.d)(this,(function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new rw({next:function(s){e.Ri((function(){return Vb(t,o)}));var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Ad(kd.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Ad(kd.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Hb(Sg(n.path),s,{includeMetadataChanges:!0,ha:!0});return Ub(t,o)},[4,HE(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.di,e,n,i])]}}))}))})),i.promise}function GE(t,e,n){var r=this;void 0===n&&(n={});var i=new iy;return t.di.Ri((function(){return Object(fc.b)(r,void 0,void 0,(function(){var r;return Object(fc.d)(this,(function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new rw({next:function(n){e.Ri((function(){return Vb(t,o)})),n.fromCache&&"server"===r.source?i.reject(new Ad(kd.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Hb(n,s,{includeMetadataChanges:!0,ha:!0});return Ub(t,o)},[4,HE(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.di,e,n,i])]}}))}))})),i.promise}var WE=function(){function t(t,e){this.q_=t,this.Lf=e,this.Bf=[],this.qf=!1,this.Uf=dE(t)}return t.prototype.set=function(t,e,n){this.Qf();var r=KE(t,this.q_),i=pS(r.W_,e,n),s=_E(this.Uf,"WriteBatch.set",r.Q_,i,null!==r.W_,n);return this.Bf=this.Bf.concat(s.tf(r.Q_,Ym.on())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Qf();var s,o=KE(t,this.q_);return e instanceof ww&&(e=e.o_),s="string"==typeof e||e instanceof Pw?EE(this.Uf,"WriteBatch.update",o.Q_,e,n,r):wE(this.Uf,"WriteBatch.update",o.Q_,e),this.Bf=this.Bf.concat(s.tf(o.Q_,Ym.exists(!0))),this},t.prototype.delete=function(t){this.Qf();var e=KE(t,this.q_);return this.Bf=this.Bf.concat(new fg(e.Q_,Ym.on())),this},t.prototype.commit=function(){return this.Qf(),this.qf=!0,this.Bf.length>0?this.Lf(this.Bf):Promise.resolve()},t.prototype.Qf=function(){if(this.qf)throw new Ad(kd.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function KE(t,e){if(t instanceof ww&&(t=t.o_),t.firestore!==e)throw new Ad(kd.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var QE=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).q_=e,r}return Object(fc.c)(e,t),e.prototype.get=function(e){var n=this,r=KE(e,this.q_),i=new zw(this.q_);return t.prototype.get.call(this,e).then((function(t){return new Mw(n.q_,i,r.Q_,t.K_,new oS(!1,!1),r.W_)}))},e}(function(){function t(t,e){this.q_=t,this.Kf=e,this.Uf=dE(t)}return t.prototype.get=function(t){var e=this,n=KE(t,this.q_),r=new lE(this.q_);return this.Kf.Vf([n.Q_]).then((function(t){if(!t||1!==t.length)return Id();var i=t[0];if(i instanceof bg)return new Aw(e.q_,r,n.Q_,null,n.W_);if(i instanceof vg)return new Aw(e.q_,r,i.key,i,n.W_);throw Id()}))},t.prototype.set=function(t,e,n){var r=KE(t,this.q_),i=pS(r.W_,e,n),s=_E(this.Uf,"Transaction.set",r.Q_,i,null!==r.W_,n);return this.Kf.set(r.Q_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=KE(t,this.q_);return e instanceof ww&&(e=e.o_),s="string"==typeof e||e instanceof Pw?EE(this.Uf,"Transaction.update",o.Q_,e,n,r):wE(this.Uf,"Transaction.update",o.Q_,e),this.Kf.update(o.Q_,s),this},t.prototype.delete=function(t){var e=KE(t,this.q_);return this.Kf.delete(e.Q_),this},t}()),JE=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Lw(t=lw(t,Nw));var n=YE(t),r=t.b_(),i=new nw;return Rw(n,i,new tw(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Lw(t=lw(t,Nw));var e=YE(t),n=t.b_(),r=new nw;return Rw(e,r,new ew(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.g_&&!t.y_)throw new Ad(kd.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new iy;return t.G_.Ni((function(){return Object(fc.b)(e,void 0,void 0,(function(){var e;return Object(fc.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){switch(e.label){case 0:return dy.Gs()?[4,dy.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}($v(t.A_,t.T_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.o_)},t}(),ZE=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Wf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof vd||(i.jf=e),i}return Object(fc.c)(e,t),Object.defineProperty(e.prototype,"A_",{get:function(){return this.o_.A_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.v_()),t)).merge,this.o_.p_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.v_().host&&Od("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.di.enqueue((function(){return Object(fc.b)(e,void 0,void 0,(function(){var e,n;return Object(fc.d)(this,(function(r){switch(r.label){case 0:return[4,VE(t)];case 1:return e=r.sent(),[4,zE(t)];case 2:return n=r.sent(),[2,(e.oc(!0),function(t){var e=Cd(t);return e.Bu.delete(0),fb(e)}(n))]}}))}))}))}(YE(lw(this.o_,Nw)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.di.enqueue((function(){return Object(fc.b)(e,void 0,void 0,(function(){var e,n;return Object(fc.d)(this,(function(r){switch(r.label){case 0:return[4,VE(t)];case 1:return e=r.sent(),[4,zE(t)];case 2:return n=r.sent(),[2,(e.oc(!1),function(t){return Object(fc.b)(this,void 0,void 0,(function(){var e;return Object(fc.d)(this,(function(n){switch(n.label){case 0:return(e=Cd(t)).Bu.add(0),[4,db(e)];case 1:return n.sent(),e.Ku.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(YE(lw(this.o_,Nw)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&ow("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Wf.enableMultiTabIndexedDbPersistence(this):this.Wf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Wf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new iy;return t.di.Ri((function(){return Object(fc.b)(e,void 0,void 0,(function(){var e;return Object(fc.d)(this,(function(r){switch(r.label){case 0:return e=v_,[4,BE(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(YE(lw(this.o_,Nw)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new rw(e);return t.di.Ri((function(){return Object(fc.b)(n,void 0,void 0,(function(){var e;return Object(fc.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Cd(t).Zu.add(e),e.next()},[4,HE(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.di.Ri((function(){return Object(fc.b)(n,void 0,void 0,(function(){var e;return Object(fc.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Cd(t).Zu.delete(e)},[4,HE(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(YE(t=lw(t,Nw)),oy(e)?e:{next:e})}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.jf)throw new Ad(kd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.jf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new fS(this,uE(this.o_,t))}catch(t){throw rS(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new nS(this,cE(this.o_,t))}catch(t){throw rS(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new cS(this,function(t,e){if(t=lw(t,Ow),iw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ad(kd.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Kw(t,null,function(t){return new wg(Hd.X(),t)}(e))}(this.o_,t))}catch(t){throw rS(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new iy;return t.di.Ri((function(){return Object(fc.b)(n,void 0,void 0,(function(){var n;return Object(fc.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return UE(t).then((function(t){return t.Mu}))}(t)];case 1:return n=i.sent(),new NE(t.di,n,e,r).run(),[2]}}))}))})),r.promise}(YE(t),(function(n){return e(new QE(t,n))}))}(this.o_,(function(n){return t(new tS(e,n))}))},e.prototype.batch=function(){var t=this;return YE(this.o_),new eS(new WE(this.o_,(function(e){return $w(t.o_,e)})))},e}(ww);function YE(t){return t.z_||XE(t),t.z_.Mf(),t.z_}function XE(t){var e=t.b_(),n=function(t,e,n){return new yd(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.A_,t.T_,e);t.z_=new RE(t.R_,t.G_,n)}var tS=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(fc.c)(e,t),e.prototype.get=function(t){var e=this,n=dS(t);return this.o_.get(n).then((function(t){return new aS(e.q_,t)}))},e.prototype.set=function(t,e,n){var r=dS(t);return n?(sw("Transaction.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=dS(t);return 2===arguments.length?this.o_.update(o,e):(r=this.o_).update.apply(r,Object(fc.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=dS(t);return this.o_.delete(e),this},e}(ww),eS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e.prototype.set=function(t,e,n){var r=dS(t);return n?(sw("WriteBatch.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=dS(t);return 2===arguments.length?this.o_.update(o,e):(r=this.o_).update.apply(r,Object(fc.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=dS(t);return this.o_.delete(e),this},e.prototype.commit=function(){return this.o_.commit()},e}(ww),nS=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.U_=new kw(e),r}return Object(fc.c)(e,t),e.Gf=function(t,n,r){if(t.length%2!=0)throw new Ad(kd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.J()+" has "+t.length);return new e(n,new Ww(n.o_,r,new Wd(t)))},e.B_=function(t,n,r){return new e(n,new Ww(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new fS(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new fS(this.firestore,uE(this.o_,t))}catch(t){throw rS(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof ww&&(t=t.o_),t instanceof Ww&&hE(this.o_,t)},e.prototype.set=function(t,e){e=sw("DocumentReference.set",e);try{return function(t,e,n){t=lw(t,Ww);var r=lw(t.firestore,Nw),i=pS(t.W_,e,n);return $w(r,_E(dE(r),"setDoc",t.Q_,i,null!==t.W_,n).tf(t.Q_,Ym.on()))}(this.o_,t,e)}catch(t){throw rS(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Bw(this.o_,t):Bw.apply(void 0,Object(fc.g)([this.o_,t,e],n))}catch(t){throw rS(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return $w(lw((t=this.o_).firestore,Nw),[new fg(t.Q_,Ym.on())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=iS(e),i=sS(e,(function(e){return new aS(t.firestore,new Mw(t.firestore.o_,t.U_,e.Q_,e.K_,e.metadata,t.o_.W_))}));return Hw(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=lw(t,Ww);var e=lw(t.firestore,Nw),n=YE(e),r=new zw(e);return function(t,e){var n=this,r=new iy;return t.di.Ri((function(){return Object(fc.b)(n,void 0,void 0,(function(){var n;return Object(fc.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(fc.b)(this,void 0,void 0,(function(){var r,i,s;return Object(fc.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Cd(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Bc.cs(t,e)}))}(t,e)];case 1:return(r=o.sent())instanceof vg?n.resolve(r):r instanceof bg?n.resolve(null):n.reject(new Ad(kd.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=o.sent(),s=Iy(i,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,qE(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.Q_).then((function(n){return new Mw(e,r,t.Q_,n,new oS(n instanceof vg&&n.an,!0),t.W_)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){t=lw(t,Ww);var e=lw(t.firestore,Nw);return $E(YE(e),t.Q_,{source:"server"}).then((function(n){return Gw(e,t,n)}))}(this.o_):function(t){t=lw(t,Ww);var e=lw(t.firestore,Nw);return $E(YE(e),t.Q_).then((function(n){return Gw(e,t,n)}))}(this.o_)).then((function(t){return new aS(e.firestore,new Mw(e.firestore.o_,e.U_,t.Q_,t.K_,t.metadata,e.o_.W_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(ww);function rS(t,e,n){return t.message=t.message.replace(e,n),t}function iS(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!oy(r))return r}return{}}function sS(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=oy(t[0])?t[0]:oy(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var oS=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),aS=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(fc.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new nS(this.q_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return qw(this.o_,t.o_)},e}(ww),uS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(aS),cS=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.U_=new kw(e),r}return Object(fc.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Jw(this.o_,function(t,e,n){var r=e,i=Dw("where",t);return new Zw(i,r,n)}(t,n,r)))}catch(t){throw rS(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Jw(this.o_,function(t,e){void 0===e&&(e="asc");var n=e,r=Dw("orderBy",t);return new Yw(r,n)}(t,n)))}catch(t){throw rS(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Jw(this.o_,function(t){return hw("limit",t),new Xw("limit",t,"F")}(t)))}catch(t){throw rS(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Jw(this.o_,function(t){return hw("limitToLast",t),new Xw("limitToLast",t,"L")}(t)))}catch(t){throw rS(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Jw(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tE("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw rS(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Jw(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tE("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw rS(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Jw(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new eE("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw rS(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Jw(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new eE("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw rS(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return fE(this.o_,t.o_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=lw(t,Kw);var e=lw(t.firestore,Nw),n=YE(e),r=new zw(e);return function(t,e){var n=this,r=new iy;return t.di.Ri((function(){return Object(fc.b)(n,void 0,void 0,(function(){var n;return Object(fc.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(fc.b)(this,void 0,void 0,(function(){var r,i,s,o,a,u;return Object(fc.d)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,eb(t,e,!0)];case 1:return r=c.sent(),i=new s_(e,r.Kc),s=i.bh(r.documents),o=i.Zn(s,!1),n.resolve(o.snapshot),[3,3];case 2:return a=c.sent(),u=Iy(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,qE(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.Z_).then((function(n){return new Uw(e,r,t,n)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){t=lw(t,Kw);var e=lw(t.firestore,Nw),n=YE(e),r=new zw(e);return GE(n,t.Z_,{source:"server"}).then((function(n){return new Uw(e,r,t,n)}))}(this.o_):function(t){t=lw(t,Kw);var e=lw(t.firestore,Nw),n=YE(e),r=new zw(e);return oE(t.Z_),GE(n,t.Z_).then((function(n){return new Uw(e,r,t,n)}))}(this.o_)).then((function(t){return new hS(e.firestore,new Uw(e.firestore.o_,e.U_,e.o_,t.J_))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=iS(e),i=sS(e,(function(e){return new hS(t.firestore,new Uw(t.firestore.o_,t.U_,t.o_,e.J_))}));return Hw(this.o_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(ww),lS=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(fc.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new uS(this.q_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),e}(ww),hS=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(fc.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new cS(this.q_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map((function(e){return new uS(t.q_,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map((function(t){return new lS(e.q_,t)}))},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach((function(r){t.call(e,new uS(n.q_,r))}))},e.prototype.isEqual=function(t){return qw(this.o_,t.o_)},e}(ww),fS=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.o_=n,r}return Object(fc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.o_.parent;return t?new nS(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new nS(this.firestore,void 0===t?cE(this.o_):cE(this.o_,t))}catch(t){throw rS(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=lw(t.firestore,Nw),r=cE(t),i=pS(t.W_,e);return $w(n,_E(dE(t.firestore),"addDoc",r.Q_,i,null!==t.W_,{}).tf(r.Q_,Ym.exists(!1))).then((function(){return r}))}(this.o_,t).then((function(t){return new nS(e.firestore,t)}))},e.prototype.isEqual=function(t){return hE(this.o_,t.o_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(cS);function dS(t){return t instanceof ww&&(t=t.o_),lw(t,Ww)}function pS(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var mS,gS=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Pw.bind.apply(Pw,Object(fc.g)([void 0],e))))||this}return Object(fc.c)(e,t),e.documentId=function(){return new e(Gd.et().J())},e.prototype.isEqual=function(t){return t instanceof ww&&(t=t.o_),t instanceof Pw&&this.o_.j_.isEqual(t.j_)},e}(ww),yS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e.serverTimestamp=function(){var t=new mw("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new dw("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gw("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yw("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new vw("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(ww),vS={Firestore:ZE,GeoPoint:bw,Timestamp:qd,Blob:xw,Transaction:tS,WriteBatch:eS,DocumentReference:nS,DocumentSnapshot:aS,Query:cS,QueryDocumentSnapshot:uS,QuerySnapshot:hS,CollectionReference:fS,FieldPath:gS,FieldValue:yS,setLogLevel:function(t){_d.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new gd.a("firestore",(function(t){return function(t,e){return new ZE(t,new Nw(t,e),new JE)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},vS)))})(mS=dc.a),mS.registerVersion("@firebase/firestore","2.0.5"),n("tf+s");const bS=new r.q("angularfire2.auth.use-emulator");function _S(t,e){return function(t,e=Fi.a){return new gt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function wS(t,e){return _S(t,e).pipe(Object(Ct.a)(t=>({payload:t,type:"query"})))}function ES(t,e){return wS(t,e).pipe(ce(void 0),fu(),Object(Ct.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function SS(t,e,n){return ES(t,n).pipe(le((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return OS(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return OS(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return OS(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new ru(void 0,void 0)),Object(Ct.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function OS(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function TS(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class IS{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=ES(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Ct.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(ce(void 0),fu(),Dt(([t,e])=>e.length>0||!t),Object(Ct.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(le((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=TS(t);return SS(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return wS(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ct.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ft.a)(this.query.get(t)).pipe(Object(mu.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new xS(this.ref.doc(t),this.afs)}}class xS{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=PS(n,e);return new IS(r,i,this.afs)}snapshotChanges(){return _S(this.ref,this.afs.schedulers.outsideAngular).pipe(ce(void 0),fu(),Object(Ct.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Ct.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(ft.a)(this.ref.get(t)).pipe(Object(mu.b)(this.afs.schedulers.insideAngular))}}class CS{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?ES(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ct.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Dt(t=>t.length>0),this.afs.keepUnstableUntilFirst):ES(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(le((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=TS(t);return SS(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return wS(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ct.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ft.a)(this.query.get(t)).pipe(Object(mu.b)(this.afs.schedulers.insideAngular))}}const kS=new r.q("angularfire2.enableFirestorePersistence"),AS=new r.q("angularfire2.firestore.persistenceSettings"),jS=new r.q("angularfire2.firestore.settings"),DS=new r.q("angularfire2.firestore.use-emulator");function PS(t,e=(t=>t)){return{query:e(t),ref:t}}let NS=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new lc.d(s),this.keepUnstableUntilFirst=Object(lc.h)(this.schedulers);const c=Object(lc.g)(t,s,e);!hc.a.auth&&u&&Object(lc.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(lc.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!function(t){return"server"===t}(i)){const e=()=>{try{return Object(ft.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(ht.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(ht.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=PS(n,e),s=this.schedulers.ngZone.run(()=>r);return new IS(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new CS(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new xS(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(lc.c),r.Sb(lc.b,8),r.Sb(kS,8),r.Sb(jS,8),r.Sb(r.B),r.Sb(r.z),r.Sb(AS,8),r.Sb(DS,8),r.Sb(bS,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Sb)(lc.c),Object(r.Sb)(lc.b,8),Object(r.Sb)(kS,8),Object(r.Sb)(jS,8),Object(r.Sb)(r.B),Object(r.Sb)(r.z),Object(r.Sb)(AS,8),Object(r.Sb)(DS,8),Object(r.Sb)(bS,8))},token:t,providedIn:"any"}),t})(),RS=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:kS,useValue:!0},{provide:AS,useValue:e}]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[NS]}),t})(),LS=(()=>{class t{constructor(t){this.noteMaker=t}resolve(){return this.noteMaker.fetchPosts()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Mi))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const MS=[{path:"",pathMatch:"full",redirectTo:"/notes"},{path:"notes",component:cc,resolve:{notes:LS}}];let FS=(()=>{class t{}return t.\u0275mod=r.Kb({type:t,bootstrap:[ri]}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[LS],imports:[[lt,Ta,Ka,rc,lc.a.initializeApp(i),RS,Li,Kr.forRoot(MS)]]}),t})();ut().bootstrapModule(FS).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);
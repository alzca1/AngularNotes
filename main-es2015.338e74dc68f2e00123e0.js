(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var o=Object(r.e)(s.value,2),a=o[1],u=this.normalizeInstanceIdentifier(o[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new o(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),s=n("51Dv"),o=n("lJxs"),a=n("Cfvw");function u(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(u((n,r)=>Object(a.a)(t(n,r)).pipe(Object(o.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new c(t,n)))}class c{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new s.a(this,e,n),o=this.destination;o.add(i);const a=Object(r.a)(this,t,void 0,void 0,i);a!==i&&o.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var u=n("3N8a");class c extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(c)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("mCNh"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.1.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("EY2u"),i=n("LRne"),s=n("HDdC");let o=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(r.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("51Dv"),i=n("SeVD"),s=n("HDdC");function o(t,e,n,o,a=new r.a(t,n,o)){if(!a.closed)return e instanceof s.a?e.subscribe(a):Object(i.a)(e)(a)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return Ss})),n.d(e,"b",(function(){return bu})),n.d(e,"c",(function(){return fu})),n.d(e,"d",(function(){return hu})),n.d(e,"e",(function(){return du})),n.d(e,"f",(function(){return lc})),n.d(e,"g",(function(){return tc})),n.d(e,"h",(function(){return as})),n.d(e,"i",(function(){return ku})),n.d(e,"j",(function(){return Ho})),n.d(e,"k",(function(){return wu})),n.d(e,"l",(function(){return Wo})),n.d(e,"m",(function(){return Cn})),n.d(e,"n",(function(){return qa})),n.d(e,"o",(function(){return X})),n.d(e,"p",(function(){return y})),n.d(e,"q",(function(){return J})),n.d(e,"r",(function(){return Cs})),n.d(e,"s",(function(){return la})),n.d(e,"t",(function(){return ha})),n.d(e,"u",(function(){return vu})),n.d(e,"v",(function(){return pt})),n.d(e,"w",(function(){return nc})),n.d(e,"x",(function(){return ft})),n.d(e,"y",(function(){return Qu})),n.d(e,"z",(function(){return Ru})),n.d(e,"A",(function(){return b})),n.d(e,"B",(function(){return yu})),n.d(e,"C",(function(){return gu})),n.d(e,"D",(function(){return za})),n.d(e,"E",(function(){return Qo})),n.d(e,"F",(function(){return Go})),n.d(e,"G",(function(){return Ko})),n.d(e,"H",(function(){return Zo})),n.d(e,"I",(function(){return lr})),n.d(e,"J",(function(){return v})),n.d(e,"K",(function(){return sc})),n.d(e,"L",(function(){return ma})),n.d(e,"M",(function(){return qu})),n.d(e,"N",(function(){return Xo})),n.d(e,"O",(function(){return Jo})),n.d(e,"P",(function(){return ya})),n.d(e,"Q",(function(){return Ct})),n.d(e,"R",(function(){return Ds})),n.d(e,"S",(function(){return Yu})),n.d(e,"T",(function(){return qn})),n.d(e,"U",(function(){return L})),n.d(e,"V",(function(){return ct})),n.d(e,"W",(function(){return Un})),n.d(e,"X",(function(){return uc})),n.d(e,"Y",(function(){return Hu})),n.d(e,"Z",(function(){return _u})),n.d(e,"ab",(function(){return cs})),n.d(e,"bb",(function(){return Ra})),n.d(e,"cb",(function(){return ur})),n.d(e,"db",(function(){return fr})),n.d(e,"eb",(function(){return Wn})),n.d(e,"fb",(function(){return Pn})),n.d(e,"gb",(function(){return Rn})),n.d(e,"hb",(function(){return Ln})),n.d(e,"ib",(function(){return jn})),n.d(e,"jb",(function(){return Nn})),n.d(e,"kb",(function(){return Mn})),n.d(e,"lb",(function(){return ka})),n.d(e,"mb",(function(){return ac})),n.d(e,"nb",(function(){return Aa})),n.d(e,"ob",(function(){return Pa})),n.d(e,"pb",(function(){return Dn})),n.d(e,"qb",(function(){return H})),n.d(e,"rb",(function(){return Rs})),n.d(e,"sb",(function(){return Js})),n.d(e,"tb",(function(){return Zs})),n.d(e,"ub",(function(){return Ps})),n.d(e,"vb",(function(){return Ta})),n.d(e,"wb",(function(){return Gt})),n.d(e,"xb",(function(){return N})),n.d(e,"yb",(function(){return An})),n.d(e,"zb",(function(){return Oo})),n.d(e,"Ab",(function(){return Po})),n.d(e,"Bb",(function(){return qo})),n.d(e,"Cb",(function(){return Nr})),n.d(e,"Db",(function(){return Ls})),n.d(e,"Eb",(function(){return fo})),n.d(e,"Fb",(function(){return to})),n.d(e,"Gb",(function(){return nu})),n.d(e,"Hb",(function(){return It})),n.d(e,"Ib",(function(){return Nt})),n.d(e,"Jb",(function(){return S})),n.d(e,"Kb",(function(){return O})),n.d(e,"Lb",(function(){return Pt})),n.d(e,"Mb",(function(){return jt})),n.d(e,"Nb",(function(){return Us})),n.d(e,"Ob",(function(){return Gs})),n.d(e,"Pb",(function(){return Qs})),n.d(e,"Qb",(function(){return Ks})),n.d(e,"Rb",(function(){return $s})),n.d(e,"Sb",(function(){return Ws})),n.d(e,"Tb",(function(){return Ys})),n.d(e,"Ub",(function(){return _n})),n.d(e,"Vb",(function(){return Eo})),n.d(e,"Wb",(function(){return ut})),n.d(e,"Xb",(function(){return qs})),n.d(e,"Yb",(function(){return lu})),n.d(e,"Zb",(function(){return Bs})),n.d(e,"ac",(function(){return Xs})),n.d(e,"bc",(function(){return su})),n.d(e,"cc",(function(){return io})),n.d(e,"dc",(function(){return ao})),n.d(e,"ec",(function(){return oo})),n.d(e,"fc",(function(){return zs})),n.d(e,"gc",(function(){return Va})),n.d(e,"hc",(function(){return Ua})),n.d(e,"ic",(function(){return Ja})),n.d(e,"jc",(function(){return Vs})),n.d(e,"kc",(function(){return he})),n.d(e,"lc",(function(){return pr})),n.d(e,"mc",(function(){return Dt})),n.d(e,"nc",(function(){return ru})),n.d(e,"oc",(function(){return Xa})),n.d(e,"pc",(function(){return ho})),n.d(e,"qc",(function(){return Fs})),n.d(e,"rc",(function(){return cu})),n.d(e,"sc",(function(){return _o})),n.d(e,"tc",(function(){return vo})),n.d(e,"uc",(function(){return wo})),n.d(e,"vc",(function(){return Co})),n.d(e,"wc",(function(){return tu}));var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends s.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const d=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function m(t){return{toString:t}.toString()}function g(t,e,n){return m(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const y=g("Inject",t=>({token:t})),b=g("Optional"),_=g("Self"),v=g("SkipSelf");var w=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function E(t){for(let e in t)if(t[e]===E)return e;throw Error("Could not find renamed property on target object.")}function C(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function O(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function x(t){return I(t,t[k])||I(t,t[D])}function I(t,e){return e&&e.token===t?e:null}function T(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(R))?t[A]:null}const k=E({"\u0275prov":E}),A=E({"\u0275inj":E}),P=E({"\u0275provFallback":E}),D=E({ngInjectableDef:E}),R=E({ngInjectorDef:E});function N(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(N).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function j(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const M=E({__forward_ref__:E});function L(t){return t.__forward_ref__=L,t.toString=function(){return N(this())},t}function F(t){return V(t)?t():t}function V(t){return"function"==typeof t&&t.hasOwnProperty(M)&&t.__forward_ref__===L}const U="undefined"!=typeof globalThis&&globalThis,q="undefined"!=typeof window&&window,B="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,z="undefined"!=typeof global&&global,H=U||z||q||B,W=E({"\u0275cmp":E}),$=E({"\u0275dir":E}),G=E({"\u0275pipe":E}),K=E({"\u0275mod":E}),Q=E({"\u0275loc":E}),Y=E({"\u0275fac":E}),Z=E({__NG_ELEMENT_ID__:E});class J{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=S({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const X=new J("INJECTOR",-1),tt={},et=/\n/gm,nt=E({provide:String,useValue:E});let rt,it=void 0;function st(t){const e=it;return it=t,e}function ot(t){const e=rt;return rt=t,e}function at(t,e=w.Default){if(void 0===it)throw new Error("inject() must be called from an injection context");return null===it?lt(t,void 0,e):it.get(t,e&w.Optional?null:void 0,e)}function ut(t,e=w.Default){return(rt||at)(F(t),e)}const ct=ut;function lt(t,e,n){const r=x(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&w.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${N(t)}]`)}function ht(t){const e=[];for(let n=0;n<t.length;n++){const r=F(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=w.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof b||"Optional"===i.ngMetadataName||i===b?n|=w.Optional:i instanceof v||"SkipSelf"===i.ngMetadataName||i===v?n|=w.SkipSelf:i instanceof _||"Self"===i.ngMetadataName||i===_?n|=w.Self:t=i instanceof y||i===y?i.token:i}e.push(ut(t,n))}else e.push(ut(r))}return e}class dt{get(t,e=tt){if(e===tt){const e=new Error(`NullInjectorError: No provider for ${N(t)}!`);throw e.name="NullInjectorError",e}return e}}class ft{}class pt{}function mt(t,e){t.forEach(t=>Array.isArray(t)?mt(t,e):e(t))}function gt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bt(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function _t(t,e,n){let r=wt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function vt(t,e){const n=wt(t,e);if(n>=0)return t[1|n]}function wt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const Et=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),Ct=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),St={},Ot=[];let xt=0;function It(t){return m(()=>{const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===Et.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ot,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ct.Emulated,id:"c",styles:t.styles||Ot,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.directives,o=t.features,a=t.pipes;return i.id+=xt++,i.inputs=Rt(t.inputs,r),i.outputs=Rt(t.outputs),o&&o.forEach(t=>t(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(Tt):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(kt):null,i})}function Tt(t){return Mt(t)||function(t){return t[$]||null}(t)}function kt(t){return function(t){return t[G]||null}(t)}const At={};function Pt(t){const e={type:t.type,bootstrap:t.bootstrap||Ot,declarations:t.declarations||Ot,imports:t.imports||Ot,exports:t.exports||Ot,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&m(()=>{At[t.id]=t.type}),e}function Dt(t,e){return m(()=>{const n=Ft(t,!0);n.declarations=e.declarations||Ot,n.imports=e.imports||Ot,n.exports=e.exports||Ot})}function Rt(t,e){if(null==t)return St;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const Nt=It;function jt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Mt(t){return t[W]||null}function Lt(t,e){return t.hasOwnProperty(Y)?t[Y]:null}function Ft(t,e){const n=t[K]||null;if(!n&&!0===e)throw new Error(`Type ${N(t)} does not have '\u0275mod' property.`);return n}function Vt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ut(t){return Array.isArray(t)&&!0===t[1]}function qt(t){return 0!=(8&t.flags)}function Bt(t){return 2==(2&t.flags)}function zt(t){return 1==(1&t.flags)}function Ht(t){return null!==t.template}function Wt(t){return 0!=(512&t[2])}let $t=void 0;function Gt(t){$t=t}function Kt(t){return!!t.listen}const Qt={createRenderer:(t,e)=>void 0!==$t?$t:"undefined"!=typeof document?document:void 0};function Yt(t){for(;Array.isArray(t);)t=t[0];return t}function Zt(t,e){return Yt(e[t+20])}function Jt(t,e){return Yt(e[t.index])}function Xt(t,e){return t.data[e+20]}function te(t,e){const n=e[t];return Vt(n)?n:n[0]}function ee(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ne(t){return 4==(4&t[2])}function re(t){return 128==(128&t[2])}function ie(t,e){return null===t||null==e?null:t[e]}function se(t){t[18]=0}function oe(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const ae={lFrame:Te(null),bindingsEnabled:!0,checkNoChangesMode:!1};function ue(){return ae.bindingsEnabled}function ce(){return ae.lFrame.lView}function le(){return ae.lFrame.tView}function he(t){ae.lFrame.contextLView=t}function de(){return ae.lFrame.previousOrParentTNode}function fe(t,e){ae.lFrame.previousOrParentTNode=t,ae.lFrame.isParent=e}function pe(){return ae.lFrame.isParent}function me(){ae.lFrame.isParent=!1}function ge(){return ae.checkNoChangesMode}function ye(t){ae.checkNoChangesMode=t}function be(){const t=ae.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function _e(){return ae.lFrame.bindingIndex++}function ve(t,e){const n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,we(e)}function we(t){ae.lFrame.currentDirectiveIndex=t}function Ee(t){const e=ae.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function Ce(){return ae.lFrame.currentQueryIndex}function Se(t){ae.lFrame.currentQueryIndex=t}function Oe(t,e){const n=Ie();ae.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function xe(t,e){const n=Ie(),r=t[1];ae.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Ie(){const t=ae.lFrame,e=null===t?null:t.child;return null===e?Te(t):e}function Te(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function ke(){const t=ae.lFrame;return ae.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const Ae=ke;function Pe(){const t=ke();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function De(){return ae.lFrame.selectedIndex}function Re(t){ae.lFrame.selectedIndex=t}function Ne(){const t=ae.lFrame;return Xt(t.tView,t.selectedIndex)}function je(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function Me(t,e,n){Ve(t,e,3,n)}function Le(t,e,n,r){(3&t[2])===n&&Ve(t,e,n,r)}function Fe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ve(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(Ue(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function Ue(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}class qe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Be(t,e,n){const r=Kt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];He(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function ze(t){return 3===t||4===t||6===t}function He(t){return 64===t.charCodeAt(0)}function We(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||$e(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function $e(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Ge(t){return-1!==t}function Ke(t){return 32767&t}function Qe(t){return t>>16}function Ye(t,e){let n=Qe(t),r=e;for(;n>0;)r=r[15],n--;return r}function Ze(t){return"string"==typeof t?t:null==t?"":""+t}function Je(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ze(t)}const Xe=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H))();function tn(t){return t instanceof Function?t():t}let en=!0;function nn(t){const e=en;return en=t,e}let rn=0;function sn(t,e){const n=an(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,on(r.data,t),on(e,null),on(r.blueprint,null));const i=un(t,e),s=t.injectorIndex;if(Ge(i)){const t=Ke(i),n=Ye(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function on(t,e){t.push(0,0,0,0,0,0,0,0,e)}function an(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function un(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function cn(t,e,n){!function(t,e,n){let r="string"!=typeof n?n[Z]:n.charCodeAt(0)||0;null==r&&(r=n[Z]=rn++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function ln(t,e,n,r=w.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[Z];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){Oe(e,t);try{const t=i();if(null!=t||r&w.Optional)return t;throw new Error(`No provider for ${Je(n)}!`)}finally{Ae()}}else if("number"==typeof i){if(-1===i)return new yn(t,e);let s=null,o=an(t,e),a=-1,u=r&w.Host?e[16][6]:null;for((-1===o||r&w.SkipSelf)&&(a=-1===o?un(t,e):e[o+8],gn(r,!1)?(s=e[1],o=Ke(a),e=Ye(a,e)):o=-1);-1!==o;){a=e[o+8];const t=e[1];if(mn(i,o,t.data)){const t=dn(o,e,n,s,r,u);if(t!==hn)return t}gn(r,e[1].data[o+8]===u)&&mn(i,o,e)?(s=t,o=Ke(a),e=Ye(a,e)):o=-1}}}if(r&w.Optional&&void 0===i&&(i=null),0==(r&(w.Self|w.Host))){const t=e[9],s=ot(void 0);try{return t?t.get(n,i,r&w.Optional):lt(n,i,r&w.Optional)}finally{ot(s)}}if(r&w.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Je(n)}]`)}const hn={};function dn(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=fn(a,o,n,null==r?Bt(a)&&en:r!=o&&3===a.type,i&w.Host&&s===a);return null!==u?pn(e,o,u,a):hn}function fn(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=65535&s,u=t.directiveStart,c=s>>16,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&Ht(t)&&t.type===n)return u}return null}function pn(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof qe){const o=i;if(o.resolving)throw new Error("Circular dep for "+Je(s[n]));const a=nn(o.canSeeViewProviders);let u;o.resolving=!0,o.injectImpl&&(u=ot(o.injectImpl)),Oe(t,r);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{onChanges:r,onInit:i,doCheck:s}=e;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{o.injectImpl&&ot(u),nn(a),o.resolving=!1,Ae()}}return i}function mn(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function gn(t,e){return!(t&w.Self||t&w.Host&&e)}class yn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return ln(this._tNode,this._lView,t,void 0,e)}}function bn(t){const e=t;if(V(t))return()=>{const t=bn(F(e));return t?t():null};let n=Lt(e);if(null===n){const t=T(e);n=t&&t.factory}return n||null}function _n(t){return m(()=>{const e=t.prototype.constructor,n=e[Y]||bn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Y]||bn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function vn(t){return t.ngDebugContext}function wn(t){return t.ngOriginalError}function En(t,...e){t.error(...e)}class Cn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||En}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?vn(t)?vn(t):this._findContext(wn(t)):null}_findOriginalError(t){let e=wn(t);for(;e&&wn(e);)e=wn(e);return e}}class Sn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class On extends Sn{getTypeName(){return"HTML"}}class xn extends Sn{getTypeName(){return"Style"}}class In extends Sn{getTypeName(){return"Script"}}class Tn extends Sn{getTypeName(){return"URL"}}class kn extends Sn{getTypeName(){return"ResourceURL"}}function An(t){return t instanceof Sn?t.changingThisBreaksApplicationSecurity:t}function Pn(t,e){const n=Dn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Dn(t){return t instanceof Sn&&t.getTypeName()||null}function Rn(t){return new On(t)}function Nn(t){return new xn(t)}function jn(t){return new In(t)}function Mn(t){return new Tn(t)}function Ln(t){return new kn(t)}let Fn=!0,Vn=!1;function Un(){return Vn=!0,Fn}function qn(){if(Vn)throw new Error("Cannot enable prod mode after platform setup.");Fn=!1}class Bn{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const zn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Hn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Wn(t){return(t=String(t)).match(zn)||t.match(Hn)?t:(Un()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function $n(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Gn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Kn=$n("area,br,col,hr,img,wbr"),Qn=$n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Yn=$n("rp,rt"),Zn=Gn(Yn,Qn),Jn=Gn(Kn,Gn(Qn,$n("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gn(Yn,$n("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zn),Xn=$n("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tr=$n("srcset"),er=Gn(Xn,tr,$n("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$n("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nr=$n("script,style,template");class rr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Jn.hasOwnProperty(e))return this.sanitizedSomething=!0,!nr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!er.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;Xn[s]&&(o=Wn(o)),tr[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Wn(t.trim())).join(", ")),this.buf.push(" ",e,'="',or(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Jn.hasOwnProperty(e)&&!Kn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(or(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const ir=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sr=/([^\#-~ |!])/g;function or(t){return t.replace(/&/g,"&amp;").replace(ir,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(sr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ar;function ur(t,e){let n=null;try{ar=ar||new Bn(t);let r=e?String(e):"";n=ar.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=ar.getInertBodyElement(r)}while(r!==s);const o=new rr,a=o.sanitizeChildren(cr(n)||n);return Un()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=cr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function cr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const lr=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),hr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),dr=/^url\(([^)]+)\)$/;function fr(t){if(!(t=String(t).trim()))return"";const e=t.match(dr);return e&&Wn(e[1])===e[1]||t.match(hr)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Un()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}function pr(t){const e=function(){const t=ce();return t&&t[12]}();return e?e.sanitize(lr.URL,t)||"":Pn(t,"URL")?An(t):Wn(Ze(t))}function mr(t,e){t.__ngContext__=e}function gr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function yr(){throw new Error("Cannot mix multi providers and regular providers")}function br(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function _r(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==br(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function vr(t){return 0===t.type&&"ng-template"!==t.tagName}function wr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function Er(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(ze(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!wr(t,u,n)||""===u&&1===e.length){if(Cr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!_r(t.attrs,c,n)){if(Cr(r))return!1;o=!0}continue}const l=Sr(8&r?"class":u,i,vr(t),n);if(-1===l){if(Cr(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==br(e,c,0)||2&r&&c!==t){if(Cr(r))return!1;o=!0}}}}else{if(!o&&!Cr(r)&&!Cr(u))return!1;if(o&&Cr(u))continue;o=!1,r=u|1&r}}return Cr(r)||o}function Cr(t){return 0==(1&t)}function Sr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Or(t,e,n=!1){for(let r=0;r<e.length;r++)if(Er(t,e[r],n))return!0;return!1}function xr(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Ir(t,e){return t?":not("+e.trim()+")":e}function Tr(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Cr(o)||(e+=Ir(s,i),i=""),r=o,s=s||!Cr(r);n++}return""!==i&&(e+=Ir(s,i)),e}const kr={};function Ar(t){const e=t[3];return Ut(e)?e[3]:e}function Pr(t){return Rr(t[13])}function Dr(t){return Rr(t[4])}function Rr(t){for(;null!==t&&!Ut(t);)t=t[4];return t}function Nr(t){jr(le(),ce(),De()+t,ge())}function jr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Me(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Le(e,r,0,n)}Re(n)}function Mr(t,e){return t<<17|e<<2}function Lr(t){return t>>17&32767}function Fr(t){return 2|t}function Vr(t){return(131068&t)>>2}function Ur(t,e){return-131069&t|e<<2}function qr(t){return 1|t}function Br(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];Se(i),n.contentQueries(2,e[s],s)}}}function zr(t,e,n){return Kt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Hr(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,se(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Wr(t,e,n,r,i,s){const o=n+20,a=t.data[o]||function(t,e,n,r,i,s){const o=de(),a=pe(),u=a?o:o&&o.parent,c=t.data[n]=ei(0,u&&u!==e?u:null,r,n,i,s);return null===t.firstChild&&(t.firstChild=c),o&&(!a||null!=o.child||null===c.parent&&2!==o.type?a||(o.next=c):o.child=c),c}(t,e,o,r,i,s);return fe(a,!0),a}function $r(t,e,n){xe(e,e[6]);try{const r=t.viewQuery;null!==r&&Ci(1,r,n);const i=t.template;null!==i&&Qr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Br(t,e),t.staticViewQueries&&Ci(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)bi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Pe()}}function Gr(t,e,n,r){const i=e[2];if(256==(256&i))return;xe(e,e[6]);const s=ge();try{se(e),ae.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Qr(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Me(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Le(e,n,0,null),Fe(e,0)}if(function(t){for(let e=Pr(t);null!==e;e=Dr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&oe(r,1),n[2]|=1024}}}(e),function(t){for(let e=Pr(t);null!==e;e=Dr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];re(n)&&Gr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Br(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Me(e,n)}else{const n=t.contentHooks;null!==n&&Le(e,n,1),Fe(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,Re(s),r+=9+n[++t],i=r):r+=o:(null!==o&&(ve(r,i),o(2,e[i])),i++)}}}finally{Re(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)yi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Ci(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Me(e,n)}else{const n=t.viewHooks;null!==n&&Le(e,n,2),Fe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,oe(e[3],-1))}finally{Pe()}}function Kr(t,e,n,r){const i=e[10],s=!ge(),o=ne(e);try{s&&!o&&i.begin&&i.begin(),o&&$r(t,e,r),Gr(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Qr(t,e,n,r,i){const s=De();try{Re(-1),2&r&&e.length>20&&jr(t,e,0,ge()),n(r,i)}finally{Re(s)}}function Yr(t,e,n){if(qt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Zr(t,e,n){ue()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||sn(n,e),mr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Ht(r);s&&fi(e,n,r);const u=pn(e,t,a,n);mr(u,e),null!==o&&pi(0,a-i,u,r,0,o),s&&(te(n.index,e)[8]=u)}}(t,e,n,Jt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-20,u=ae.lFrame.currentDirectiveIndex;try{Re(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];we(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?ai(r,i):o&&s.push(null)}}finally{Re(-1),we(u)}}(t,e,n))}function Jr(t,e,n=Jt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Xr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ti(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ti(t,e,n,r,i,s,o,a,u,c){const l=20+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:kr);return n}(l,h);return d[1]={type:t,id:e,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function ei(t,e,n,r,i,s){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ni(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ri(t,e,n,r,i,s,o,a){const u=Jt(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(ki(t,n,c,r,i),Bt(e)&&function(t,e){const n=te(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.tagName||"",r):i,Kt(s)?s.setProperty(u,r,i):He(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ii(t,e,n,r){let i=!1;if(ue()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Or(n,o.selectors,!1)&&(i||(i=[]),cn(sn(n,e),t,o.type),Ht(o)?(2&n.flags&&gr(n),ci(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){let r=0;i=!0,hi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}ui(t,n,s.length);let a=!1,u=!1;for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=We(n.mergedAttrs,c.hostAttrs),di(t,e,c),li(t.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128),!a&&(c.onChanges||c.onInit||c.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),u||!c.onChanges&&!c.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),u=!0),si(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||vr(e)?null:mi(n,i);s.push(c),o=ni(n,u,o),a=ni(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),oi(t,e,r)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=We(n.mergedAttrs,n.attrs),i}function si(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function oi(t,e,n){for(let r=0;r<n;r++)e.push(kr),t.blueprint.push(kr),t.data.push(null)}function ai(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ui(t,e,n){const r=20-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function ci(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function li(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ht(e)&&(n[""]=t)}}function hi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function di(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Lt(n.type)),i=new qe(r,Ht(n),null);t.blueprint.push(i),e.push(i)}function fi(t,e,n){const r=Jt(e,t),i=Xr(n),s=t[10],o=_i(t,Hr(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n)));t[e.index]=o}function pi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function mi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function gi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function yi(t,e){const n=te(e,t);if(re(n)){const t=n[1];80&n[2]?Gr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Pr(e);null!==r;r=Dr(r))for(let e=10;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Gr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=te(n[r],e);re(i)&&i[5]>0&&t(i)}}(n)}}function bi(t,e){const n=te(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),$r(r,n,n[8])}function _i(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function vi(t){for(;t;){t[2]|=64;const e=Ar(t);if(Wt(t)&&!e)return t;t=e}return null}function wi(t,e,n){const r=e[10];r.begin&&r.begin();try{Gr(t,e,t.template,n)}catch(i){throw Ti(e,i),i}finally{r.end&&r.end()}}function Ei(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=ee(n),i=r[1];Kr(i,r,i.template,n)}}(t[8])}function Ci(t,e,n){Se(0),e(t,n)}const Si=(()=>Promise.resolve(null))();function Oi(t){return t[7]||(t[7]=[])}function xi(t){return t.cleanup||(t.cleanup=[])}function Ii(t,e,n){return(null===t||Ht(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Ti(t,e){const n=t[9],r=n?n.get(Cn,null):null;r&&r.handleError(e)}function ki(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Ai(t,e){const n=e[3];return-1===t.index?Ut(n)?n:null:n}function Pi(t,e){const n=Ai(t,e);return n?zi(e[11],n[7]):null}function Di(t,e,n,r,i){if(null!=r){let s,o=!1;Ut(r)?s=r:Vt(r)&&(o=!0,r=r[0]);const a=Yt(r);0===t&&null!==n?null==i?qi(e,n,a):Ui(e,n,a,i||null):1===t&&null!==n?Ui(e,n,a,i||null):2===t?function(t,e,n){const r=zi(t,e);r&&function(t,e,n,r){Kt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Yt(n)&&Di(e,t,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];Ki(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Ri(t,e,n,r){const i=Pi(t.node,e);i&&Ki(t,e,e[11],n?1:2,i,r)}function Ni(t,e){const n=t[9],r=n.indexOf(e);1024&e[2]&&oe(e[3],-1),n.splice(r,1)}function ji(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Ni(i,r),e>0&&(t[n-1][4]=r[4]);const s=yt(t,10+e);Ri(r[1],r,!1,null);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Mi(t,e){if(!(256&e[2])){const n=e[11];Kt(n)&&n.destroyNode&&Ki(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Fi(t[1],t);for(;e;){let n=null;if(Vt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Vt(e)&&Fi(e[1],e),e=Li(e,t);null===e&&(e=t),Vt(e)&&Fi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Li(t,e){let n;return Vt(t)&&(n=t[6])&&2===n.type?Ai(n,t):t[3]===e?null:t[3]}function Fi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof qe)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):Yt(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Kt(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Ut(e[3])){r!==e[3]&&Ni(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function Vi(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?Pi(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Jt(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==Ct.ShadowDom&&n!==Ct.Native)return null}return Jt(r,n)}function Ui(t,e,n,r){Kt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function qi(t,e,n){Kt(t)?t.appendChild(e,n):e.appendChild(n)}function Bi(t,e,n,r){null!==r?Ui(t,e,n,r):qi(t,e,n)}function zi(t,e){return Kt(t)?t.parentNode(e):e.parentNode}function Hi(t,e){if(2===t.type){const n=Ai(t,e);return null===n?null:$i(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Jt(t,e):null}function Wi(t,e,n,r){const i=Vi(t,r,e);if(null!=i){const t=e[11],s=Hi(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Bi(t,i,n[e],s);else Bi(t,i,n,s)}}function $i(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Jt(n,e);if(0===r)return $i(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Ut(t)?$i(-1,t):Yt(t)}}{const r=e[16],i=r[6],s=Ar(r),o=i.projection[n.projection];return null!=o?t(s,o):t(e,n.next)}}return null}(t,r)}return e[7]}function Gi(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;o&&0===e&&(a&&mr(Yt(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Gi(t,e,n.child,r,i,s,!1),Di(e,t,i,a,s)):1===u?Qi(t,e,r,n,i,s):Di(e,t,i,a,s)),n=o?n.projectionNext:n.next}}function Ki(t,e,n,r,i,s){Gi(n,r,t.node.child,e,i,s,!1)}function Qi(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Di(e,t,i,a[u],s);else Gi(t,e,a,o[3],i,s,!0)}function Yi(t,e,n){Kt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Zi(t,e,n){Kt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Ji{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,s=!1){for(;null!==r;){const o=n[r.index];if(null!==o&&i.push(Yt(o)),Ut(o))for(let e=10;e<o.length;e++){const n=o[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],s=e[6].projection[r.projection];if(Array.isArray(s))i.push(...s);else{const n=Ar(e);t(n[1],n,s,i,!0)}}r=s?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Mi(this._lView[1],this._lView)}onDestroy(t){var e,n,r;e=this._lView[1],r=t,Oi(n=this._lView).push(r),e.firstCreatePass&&xi(e).push(n[7].length-1,null)}markForCheck(){vi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){wi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ye(!0);try{wi(t,e,n)}finally{ye(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Ki(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Xi extends Ji{constructor(t){super(t),this._view=t}detectChanges(){Ei(this._view)}checkNoChanges(){!function(t){ye(!0);try{Ei(t)}finally{ye(!1)}}(this._view)}get context(){return null}}let ts,es,ns;function rs(t,e,n){return ts||(ts=class extends t{}),new ts(Jt(e,n))}function is(t,e,n,r){return es||(es=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Hr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),$r(e,n,t),new Ji(n)}}),0===n.type?new es(r,n,rs(e,n,r)):null}function ss(t,e,n,r){let i;ns||(ns=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return rs(e,this._hostTNode,this._hostView)}get injector(){return new yn(this._hostTNode,this._hostView)}get parentInjector(){const t=un(this._hostTNode,this._hostView),e=Ye(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=Qe(t),i=e,s=e[6];for(;r>1;)i=i[15],s=i[6],r--;return s}(t,this._hostView,this._hostTNode);return Ge(t)&&null!=n?new yn(n,e):new yn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(ft,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ut(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ns(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],gt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),Ri(r,n,!0,$i(i,this._lContainer)),t.attachToViewContainerRef(this),gt(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);!function(t,e){const n=ji(t,e);n&&Mi(n[1],n)}(this._lContainer,e),yt(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=ji(this._lContainer,e);return n&&null!=yt(this._lContainer[8],e)?new Ji(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[n.index];if(Ut(s))i=s;else{let t;if(4===n.type)t=Yt(s);else if(t=r[11].createComment(""),Wt(r)){const e=r[11],i=Jt(n,r);Ui(e,zi(e,i),t,function(t,e){return Kt(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Wi(r[1],r,t,n);r[n.index]=i=gi(s,r,t,n),_i(r,i)}return new ns(i,n,r)}function os(t=!1){return function(t,e,n){if(!n&&Bt(t)){const n=te(t.index,e);return new Ji(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Ji(e[16],e):null}(de(),ce(),t)}let as=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>us(),t})();const us=os,cs=new J("Set Injector scope."),ls={},hs={},ds=[];let fs=void 0;function ps(){return void 0===fs&&(fs=new dt),fs}function ms(t,e=null,n=null,r){return new gs(t,n,e||ps(),r)}class gs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&mt(e,n=>this.processProvider(n,t,e)),mt([t],t=>this.processInjectorType(t,[],i)),this.records.set(X,_s(void 0,this));const s=this.records.get(cs);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:N(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=tt,n=w.Default){this.assertNotDestroyed();const r=st(this);try{if(!(n&w.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof J)&&x(t);e=n&&this.injectableDefInScope(n)?_s(ys(t),ls):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&w.Self?ps():this.parent).get(t,e=n&w.Optional&&e===tt?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(N(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=N(e);if(Array.isArray(e))i=e.map(N).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):N(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(et,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{st(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(N(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=F(t)))return!1;let r=T(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=T(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{mt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];mt(r,t=>this.processProvider(t,n,r||ds))}}this.injectorDefTypes.add(s),this.records.set(s,_s(r.factory,ls));const a=r.providers;if(null!=a&&!o){const e=t;mt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=ws(t=F(t))?t:F(t&&t.provide);const i=function(t,e,n){return vs(t)?_s(void 0,t.useValue):_s(bs(t,e,n),ls)}(t,e,n);if(ws(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&yr()}else{let e=this.records.get(r);e?void 0===e.multi&&yr():(e=_s(void 0,ls,!0),e.factory=()=>ht(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===hs?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(N(t)):e.value===ls&&(e.value=hs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ys(t){const e=x(t),n=null!==e?e.factory:Lt(t);if(null!==n)return n;const r=T(t);if(null!==r)return r.factory;if(t instanceof J)throw new Error(`Token ${N(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=bt(e,"?");throw new Error(`Can't resolve all parameters for ${N(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[k]||t[D]||t[P]&&t[P]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function bs(t,e,n){let r=void 0;if(ws(t)){const e=F(t);return Lt(e)||ys(e)}if(vs(t))r=()=>F(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ht(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>ut(F(t.useExisting));else{const i=F(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${N(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return Lt(i)||ys(i);r=()=>new i(...ht(t.deps))}var i;return r}function _s(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function vs(t){return null!==t&&"object"==typeof t&&nt in t}function ws(t){return"function"==typeof t}const Es=function(t,e,n){return function(t,e=null,n=null,r){const i=ms(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Cs=(()=>{class t{static create(t,e){return Array.isArray(t)?Es(t,e,""):Es(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=tt,t.NULL=new dt,t.\u0275prov=S({token:t,providedIn:"any",factory:()=>ut(X)}),t.__NG_ELEMENT_ID__=-1,t})();const Ss=new J("AnalyzeForEntryComponents");let Os=new Map;const xs=new Set;function Is(t){return"string"==typeof t?t:t.text()}function Ts(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=j(i,t):2==s&&(r=j(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}let ks=null;function As(){if(!ks){const t=H.Symbol;if(t&&t.iterator)ks=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ks=n)}}}return ks}function Ps(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class Ds{constructor(t){this.wrapped=t}static wrap(t){return new Ds(t)}static unwrap(t){return Ds.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ds}}function Rs(t){return!!Ns(t)&&(Array.isArray(t)||!(t instanceof Map)&&As()in t)}function Ns(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function js(t,e,n){return t[e]=n}function Ms(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ls(t,e,n,r){const i=ce();return Ms(i,_e(),e)&&(le(),function(t,e,n,r,i,s){const o=Jt(t,e),a=e[11];if(null==r)Kt(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==i?Ze(r):i(r,t.tagName||"",n);Kt(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}(Ne(),i,t,e,n,r)),Ls}function Fs(t,e,n,r,i,s,o,a){const u=ce(),c=le(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Wr(e,n[6],t,0,o||null,ie(c,a));ii(e,n,l,ie(c,u)),je(e,l);const h=l.tViews=ti(2,-1,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),d=ei(0,null,2,-1,null,null);return d.injectorIndex=l.injectorIndex,h.node=d,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,s,o):c.data[l];fe(h,!1);const d=u[11].createComment("");Wi(c,u,d,h),mr(d,u),_i(u,u[l]=gi(d,u,d,h)),zt(h)&&Zr(c,u,h),null!=o&&Jr(u,h,a)}function Vs(t){return function(t,e){return t[e+20]}(ae.lFrame.contextLView,t)}function Us(t,e=w.Default){const n=ce();return null==n?ut(t,e):ln(de(),n,F(t),e)}function qs(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(ze(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(de(),t)}function Bs(){throw new Error("invalid")}function zs(t,e,n){const r=ce();return Ms(r,_e(),e)&&ri(le(),Ne(),r,t,e,r[11],n,!1),zs}function Hs(t,e,n,r,i){const s=i?"class":"style";ki(t,n,e.inputs[s],s,r)}function Ws(t,e,n,r){const i=ce(),s=le(),o=20+t,a=i[11],u=i[o]=zr(e,a,ae.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=ie(a,s),c=Wr(e,n[6],t,3,i,u);return ii(e,n,c,ie(a,o)),null!==c.attrs&&Ts(c,c.attrs,!1),null!==c.mergedAttrs&&Ts(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,s,i,0,e,n,r):s.data[o];fe(c,!0);const l=c.mergedAttrs;null!==l&&Be(a,u,l);const h=c.classes;null!==h&&Zi(a,u,h);const d=c.styles;null!==d&&Yi(a,u,d),Wi(s,i,u,c),0===ae.lFrame.elementDepthCount&&mr(u,i),ae.lFrame.elementDepthCount++,zt(c)&&(Zr(s,i,c),Yr(s,c,i)),null!==r&&Jr(i,c)}function $s(){let t=de();pe()?me():(t=t.parent,fe(t,!1));const e=t;ae.lFrame.elementDepthCount--;const n=le();n.firstCreatePass&&(je(n,t),qt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Hs(n,e,ce(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Hs(n,e,ce(),e.stylesWithoutHost,!1)}function Gs(t,e,n,r){Ws(t,e,n,r),$s()}function Ks(t,e,n){const r=ce(),i=le(),s=t+20,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=ie(s,r),a=Wr(e,n[6],t,4,"ng-container",o);return null!==o&&Ts(a,o,!0),ii(e,n,a,ie(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[s];fe(o,!0);const a=r[s]=r[11].createComment("");Wi(i,r,a,o),mr(a,r),zt(o)&&(Zr(i,r,o),Yr(i,o,r)),null!=n&&Jr(r,o)}function Qs(){let t=de();const e=le();pe()?me():(t=t.parent,fe(t,!1)),e.firstCreatePass&&(je(e,t),qt(t)&&e.queries.elementEnd(t))}function Ys(){return ce()}function Zs(t){return!!t&&"function"==typeof t.then}function Js(t){return!!t&&"function"==typeof t.subscribe}function Xs(t,e,n=!1,r){const i=ce(),s=le(),o=de();return eo(s,i,i[11],o,t,e,n,r),Xs}function to(t,e,n=!1,r){const i=de(),s=ce(),o=le();return eo(o,s,Ii(Ee(o.data),i,s),i,t,e,n,r),to}function eo(t,e,n,r,i,s,o=!1,a){const u=zt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Oi(e);let h=!0;if(3===r.type){const d=Jt(r,e),f=a?a(d):St,p=f.target||d,m=l.length,g=a?t=>a(Yt(t[r.index])).target:r.index;if(Kt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=ro(r,e,s,!1);const t=n.listen(f.name||p,i,s);l.push(s,t),c&&c.push(i,g,m,m+1)}}else s=ro(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,g,m,o)}const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}function no(t,e,n){try{return!1!==e(n)}catch(r){return Ti(t,r),!1}}function ro(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?te(t.index,e):e;0==(32&e[2])&&vi(o);let a=no(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=no(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function io(t=1){return function(t){return(ae.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ae.lFrame.contextLView))[8]}(t)}function so(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Or(t,s,!0):xr(r,s))return i}else n=i}return n}function oo(t){const e=ce()[16][6];if(!e.projection){const n=e.projection=bt(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?so(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function ao(t,e=0,n){const r=ce(),i=le(),s=Wr(i,r[6],t,1,null,n||null);null===s.projection&&(s.projection=e),me(),function(t,e,n){Qi(e[11],0,e,n,Vi(t,n,e),Hi(n.parent||e[6],e))}(i,r,s)}const uo=[];function co(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Lr(s):Vr(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];lo(t[a],e)&&(u=!0,t[a+1]=r?qr(n):Fr(n)),a=r?Lr(n):Vr(n)}u&&(t[n+1]=r?Fr(s):qr(s))}function lo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&wt(t,e)>=0}function ho(t,e,n){return po(t,e,n,!1),ho}function fo(t,e){return po(t,e,null,!0),fo}function po(t,e,n,r){const i=ce(),s=le(),o=function(t){const e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();if(s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[De()+20],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=Ee(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=go(n=mo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=mo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Vr(r))return t[Lr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=mo(null,t,e,n[1],r),n=go(n,e.attrs,r),function(t,e,n,r){t[Lr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=go(r,t[s].hostAttrs,n);return go(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Lr(o),u=Vr(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||wt(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Lr(t[a+1]);t[r+1]=Mr(e,a),0!==e&&(t[e+1]=Ur(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Mr(a,0),0!==a&&(t[a+1]=Ur(t[a+1],r)),a=r;else t[r+1]=Mr(u,0),0===a?a=r:t[u+1]=Ur(t[u+1],r),u=r;l&&(t[r+1]=Fr(t[r+1])),co(t,c,r,!0),co(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&wt(s,e)>=0&&(n[r+1]=qr(n[r+1]))}(e,c,t,r,s),o=Mr(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==kr&&Ms(i,o,e)){let a;null==n&&(a=function(){const t=ae.lFrame;return null===t?null:t.currentSanitizer}())&&(n=a),function(t,e,n,r,i,s,o,a){if(3!==e.type)return;const u=t.data,c=u[a+1];bo(1==(1&c)?yo(u,e,n,i,Vr(c),o):void 0)||(bo(s)||function(t){return 2==(2&t)}(c)&&(s=yo(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Kt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?s?t.removeStyle(n,r,e):n.style.removeProperty(r):s?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,o,Zt(De(),n),i,s))}(s,s.data[De()+20],i,i[11],t,i[o+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=N(An(t)))),t}(e,n),r,o)}}function mo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=go(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function go(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),_t(t,o,!!n||e[++s]))}return void 0===t?null:t}function yo(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===kr&&(l=c?uo:void 0);let h=c?vt(l,r):u===r?l:void 0;if(s&&!bo(h)&&(h=vt(e,r)),bo(h)&&(a=h,o))return a;const d=t[i+1];i=o?Lr(d):Vr(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=vt(t,r))}return a}function bo(t){return void 0!==t}function _o(t,e=""){const n=ce(),r=le(),i=t+20,s=r.firstCreatePass?Wr(r,n[6],t,3,null,null):r.data[i],o=n[i]=function(t,e){return Kt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Wi(r,n,o,s),fe(s,!1)}function vo(t){return wo("",t,""),vo}function wo(t,e,n){const r=ce(),i=function(t,e,n,r){return Ms(t,_e(),n)?e+Ze(n)+r:kr}(r,t,e,n);return i!==kr&&function(t,e,n){const r=Zt(e,t),i=t[11];Kt(i)?i.setValue(r,n):r.textContent=n}(r,De(),i),wo}function Eo(t,e,n){const r=ce();return Ms(r,_e(),e)&&ri(le(),Ne(),r,t,e,r[11],n,!0),Eo}function Co(t,e,n){const r=ce();if(Ms(r,_e(),e)){const i=le(),s=Ne();ri(i,s,r,t,e,Ii(Ee(i.data),s,r),n,!0)}return Co}function So(t,e){const n=ee(t)[1],r=n.data.length-1;je(n,{directiveStart:r,directiveEnd:r+1})}function Oo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Ht(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=xo(t.inputs),e.declaredInputs=xo(t.declaredInputs),e.outputs=xo(t.outputs);const n=i.hostBindings;n&&ko(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Io(t,s),o&&To(t,o),C(t.inputs,i.inputs),C(t.declaredInputs,i.declaredInputs),C(t.outputs,i.outputs),Ht(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}e.afterContentChecked=e.afterContentChecked||i.afterContentChecked,e.afterContentInit=t.afterContentInit||i.afterContentInit,e.afterViewChecked=t.afterViewChecked||i.afterViewChecked,e.afterViewInit=t.afterViewInit||i.afterViewInit,e.doCheck=t.doCheck||i.doCheck,e.onDestroy=t.onDestroy||i.onDestroy,e.onInit=t.onInit||i.onInit}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Oo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=We(i.hostAttrs,n=We(n,i.hostAttrs))}}(r)}function xo(t){return t===St?{}:t===Ot?[]:t}function Io(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function To(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function ko(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}class Ao{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Po(t){t.type.prototype.ngOnChanges&&(t.setInput=Do,t.onChanges=function(){const t=Ro(this),e=t&&t.current;if(e){const n=t.previous;if(n===St)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function Do(t,e,n,r){const i=Ro(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:St,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new Ao(u&&u.currentValue,e,o===St),t[r]=e}function Ro(t){return t.__ngSimpleChanges__||null}function No(t,e,n,r,i){if(t=F(t),Array.isArray(t))for(let s=0;s<t.length;s++)No(t[s],e,n,r,i);else{const s=le(),o=ce();let a=ws(t)?t:F(t.provide),u=bs(t);const c=de(),l=65535&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>16;if(ws(t)||!t.multi){const r=new qe(u,i,Us),f=Lo(a,e,i?l:l+d,h);-1===f?(cn(sn(c,o),s,a),jo(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=Lo(a,e,l+d,h),p=Lo(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){cn(sn(c,o),s,a);const l=function(t,e,n,r,i){const s=new qe(t,n,Us);return s.multi=[],s.index=e,s.componentProviders=0,Mo(s,i,r&&!n),s}(i?Vo:Fo,n.length,i,r,u);!i&&g&&(n[p].providerFactory=l),jo(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(l),o.push(l)}else jo(s,t,f>-1?f:p,Mo(n[i?p:f],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function jo(t,e,n,r){const i=ws(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Mo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Lo(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Fo(t,e,n,r){return Uo(this.multi,[])}function Vo(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=pn(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Uo(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Uo(i,s);return s}function Uo(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function qo(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=le();if(r.firstCreatePass){const i=Ht(t);No(n,r.data,r.blueprint,i,!0),No(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}Po.ngInherit=!0;class Bo{}class zo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${N(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ho=(()=>{class t{}return t.NULL=new zo,t})(),Wo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>$o(t),t})();const $o=function(t){return rs(t,de(),ce())};class Go{}const Ko=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let Qo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Yo(),t})();const Yo=function(){const t=ce(),e=te(de().index,t);return function(t){const e=t[11];if(Kt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Vt(e)?e:t)};let Zo=(()=>{class t{}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>null}),t})();class Jo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Xo=new Jo("9.1.12");class ta{constructor(){}supports(t){return Rs(t)}create(t){return new na(t)}}const ea=(t,e)=>e;class na{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ea}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<oa(n,r,i)?e:n,o=oa(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Rs(t))throw new Error(`Error trying to diff '${N(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Ps(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Ps(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[As()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Ps(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Ps(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Ps(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ps(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ra(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new sa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ra{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ia{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Ps(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class sa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ia,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class aa{constructor(){}supports(t){return t instanceof Map||Ns(t)}create(){return new ua}}class ua{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ns(t)))throw new Error(`Error trying to diff '${N(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ca(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Ps(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ca{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let la=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new v,new b]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t([new ta])}),t})(),ha=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new v,new b]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t([new aa])}),t})();const da=[new aa],fa=new la([new ta]),pa=new ha(da);let ma=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ga(t,Wo),t})();const ga=function(t,e){return is(t,e,de(),ce())};let ya=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ba(t,Wo),t})();const ba=function(t,e){return ss(t,e,de(),ce())},_a={};class va extends Ho{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Mt(t);return new Ca(e,this.ngModule)}}function wa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ea=new J("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Xe});class Ca extends Bo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Tr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return wa(this.componentDef.inputs)}get outputs(){return wa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,_a,i);return s!==_a||r===_a?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Go,Qt),o=i.get(Zo,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Kt(t))return t.selectRootElement(e,n===Ct.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):zr(u,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),d={components:[],scheduler:Xe,clean:Si,playerHandler:null,flags:0},f=ti(0,-1,null,1,0,null,null,null,null,null),p=Hr(null,f,d,l,null,null,s,a,o,i);let m,g;xe(p,null);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Wr(o,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Ts(a,u,!0),null!==t&&(Be(i,t,u),null!==a.classes&&Zi(i,t,a.classes),null!==a.styles&&Yi(i,t,a.styles)));const c=r.createRenderer(t,e),l=Hr(n,Xr(e),null,e.onPush?64:16,n[20],a,r,c,void 0);return o.firstCreatePass&&(cn(sn(a,n),o,e.type),ci(o,a),hi(a,n.length,1)),_i(n,l),n[20]=l}(c,this.componentDef,p,s,a);if(c)if(n)Be(a,c,["ng-version",Xo.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Cr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Be(a,c,t),e&&e.length>0&&Zi(a,c,e.join(" "))}if(g=Xt(f,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}m=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=de();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ui(t,r,1),di(t,e,n));const i=pn(e,t,e.length-1,r);mr(i,e);const s=Jt(r,e);return s&&mr(s,e),i}(s,n,e);r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=de();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Re(a.index-20);const t=n[1];si(t,e),oi(t,n,e.hostVars),ai(e,o)}return o}(t,this.componentDef,p,d,[So]),$r(f,p,null)}finally{Pe()}const y=new Sa(this.componentType,m,rs(Wo,g,p),p,g);return n&&!h||(f.node.child=g),y}}class Sa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Xi(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=ei(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new yn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Oa=void 0;var xa=["en",[["a","p"],["AM","PM"],Oa],[["AM","PM"],Oa,Oa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Oa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Oa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Oa,"{1} 'at' {0}",Oa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ia={};function Ta(t,e,n){"string"!=typeof e&&(n=e,e=t[Ra.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Ia[e]=t,n&&(Ia[e][Ra.ExtraData]=n)}function ka(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Da(e);if(n)return n;const r=e.split("-")[0];if(n=Da(r),n)return n;if("en"===r)return xa;throw new Error(`Missing locale data for the locale "${t}".`)}function Aa(t){return ka(t)[Ra.CurrencyCode]||null}function Pa(t){return ka(t)[Ra.PluralCase]}function Da(t){return t in Ia||(Ia[t]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[t]),Ia[t]}const Ra=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let Na="en-US";function ja(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Na=t.toLowerCase().replace(/_/g,"-"))}const Ma=new Map;class La extends ft{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new va(this);const n=Ft(t),r=t[Q]||null;r&&ja(r),this._bootstrapComponents=tn(n.bootstrap),this._r3Injector=ms(t,e,[{provide:ft,useValue:this},{provide:Ho,useValue:this.componentFactoryResolver}],N(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Cs.THROW_IF_NOT_FOUND,n=w.Default){return t===Cs||t===ft||t===X?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Fa extends pt{constructor(t){super(),this.moduleType=t,null!==Ft(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${N(e)} vs ${N(e.name)}`)})(t,Ma.get(t),e),Ma.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new La(this.moduleType,t)}}function Va(t,e,n){const r=be()+t,i=ce();return i[r]===kr?js(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Ua(t,e,n,r){return function(t,e,n,r,i,s){const o=e+n;return Ms(t,o,i)?js(t,o+1,s?r.call(s,i):r(i)):function(t,e){const n=t[e];return n===kr?void 0:n}(t,o+1)}(ce(),be(),t,e,n,r)}class qa extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}}function Ba(){return this._results[As()]()}class za{constructor(){this.dirty=!0,this._results=[],this.changes=new qa,this.length=0;const t=As(),e=za.prototype;e[t]||(e[t]=Ba)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ha{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ha(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wa{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Wa(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==uu(t,e).matches&&this.queries[e].setDirty()}}class $a{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Ga{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ga(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ka{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ka(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,Qa(e,n[r]))}else{const n=this.metadata.predicate;n===ma?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,fn(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Wo||r===ya||r===ma&&0===e.type)this.addMatch(e.index,-2);else{const n=fn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Qa(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ya(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?rs(Wo,t,e):0===t.type?is(ma,Wo,t,e):null}(e,t):-2===n?function(t,e,n){return n===Wo?rs(Wo,e,t):n===ma?is(ma,Wo,e,t):n===ya?ss(ya,Wo,e,t):void 0}(t,e,r):pn(t,t[1],n,e)}function Za(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Ya(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Ja(t){const e=ce(),n=le(),r=Ce();Se(r+1);const i=uu(n,r);if(t.dirty&&ne(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?function t(e,n,r,i){const s=e.queries.getByIndex(r),o=s.matches;if(null!==o){const a=Za(e,n,s,r);for(let e=0;e<o.length;e+=2){const r=o[e];if(r>0)i.push(a[e/2]);else{const s=o[e+1],a=n[-r];for(let e=10;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,s,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,s,i)}}}}}return i}(n,e,r,[]):Za(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function Xa(t,e,n){eu(le(),ce(),t,e,n,!0)}function tu(t,e,n){eu(le(),ce(),t,e,n,!1)}function eu(t,e,n,r,i,s){t.firstCreatePass&&(au(t,new $a(n,r,s,i),-1),s&&(t.staticViewQueries=!0)),ou(t,e)}function nu(t,e,n,r){iu(le(),ce(),e,n,r,!1,de(),t)}function ru(t,e,n,r){iu(le(),ce(),e,n,r,!0,de(),t)}function iu(t,e,n,r,i,s,o,a){t.firstCreatePass&&(au(t,new $a(n,r,s,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),s&&(t.staticContentQueries=!0)),ou(t,e)}function su(){return t=ce(),e=Ce(),t[19].queries[e].queryList;var t,e}function ou(t,e){const n=new za;!function(t,e,n,r){const i=Oi(e);i.push(n),t.firstCreatePass&&xi(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[19]&&(e[19]=new Wa),e[19].queries.push(new Ha(n))}function au(t,e,n){null===t.queries&&(t.queries=new Ga),t.queries.track(new Ka(e,n))}function uu(t,e){return t.queries.getByIndex(e)}function cu(t,e){return is(ma,Wo,t,e)}function lu(t=w.Default){const e=os(!0);if(null!=e||t&w.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const hu=new J("Application Initializer");let du=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Zs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(ut(hu,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const fu=new J("AppId"),pu={provide:fu,useFactory:function(){return`${mu()}${mu()}${mu()}`},deps:[]};function mu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gu=new J("Platform Initializer"),yu=new J("Platform ID"),bu=new J("appBootstrapListener");let _u=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const vu=new J("LocaleId"),wu=new J("DefaultCurrencyCode");class Eu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Cu=function(t){return new Fa(t)},Su=Cu,Ou=function(t){return Promise.resolve(Cu(t))},xu=function(t){const e=Cu(t),n=tn(Ft(t).declarations).reduce((t,e)=>{const n=Mt(e);return n&&t.push(new Ca(n)),t},[]);return new Eu(e,n)},Iu=xu,Tu=function(t){return Promise.resolve(xu(t))};let ku=(()=>{class t{constructor(){this.compileModuleSync=Su,this.compileModuleAsync=Ou,this.compileModuleAndAllComponentsSync=Iu,this.compileModuleAndAllComponentsAsync=Tu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Au=new J("compilerOptions"),Pu=(()=>Promise.resolve(0))();function Du(t){"undefined"==typeof Zone?Pu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ru{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qa(!1),this.onMicrotaskEmpty=new qa(!1),this.onStable=new qa(!1),this.onError=new qa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=H.requestAnimationFrame,e=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(H,()=>{t.lastRequestAnimationFrameId=-1,Lu(t),Mu(t)}),Lu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return Fu(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),Vu(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return Fu(t),e.invoke(r,i,s,o,a)}finally{Vu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Lu(t),Mu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ru.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ru.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,ju,Nu,Nu);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Nu(){}const ju={};function Mu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Lu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Fu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Vu(t){t._nesting--,Mu(t)}class Uu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qa,this.onMicrotaskEmpty=new qa,this.onStable=new qa,this.onError=new qa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let qu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ru.assertNotInAngularZone(),Du(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Du(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(ut(Ru))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})(),Bu=(()=>{class t{constructor(){this._applications=new Map,$u.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return $u.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();class zu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Hu(t){$u=t}let Wu,$u=new zu,Gu=function(t,e,n){const r=t.get(Au,[]).concat(e),i=new Fa(n);if(0===Os.size)return Promise.resolve(i);const s=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(r.map(t=>t.providers));if(0===s.length)return Promise.resolve(i);const o=function(){const t=H.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),a=Cs.create({providers:s}).get(o.ResourceLoader);return function(t){const e=[],n=new Map;function r(t){let e=n.get(t);if(!e){const r=(t=>Promise.resolve(a.get(t)))(t);n.set(t,e=r.then(Is))}return e}return Os.forEach((t,n)=>{const i=[];t.templateUrl&&i.push(r(t.templateUrl).then(e=>{t.template=e}));const s=t.styleUrls,o=t.styles||(t.styles=[]),a=t.styles.length;s&&s.forEach((e,n)=>{o.push(""),i.push(r(e).then(r=>{o[a+n]=r,s.splice(s.indexOf(e),1),0==s.length&&(t.styleUrls=void 0)}))});const u=Promise.all(i).then(()=>function(t){xs.delete(t)}(n));e.push(u)}),Os=new Map,Promise.all(e).then(()=>{})}().then(()=>i)};const Ku=new J("AllowMultipleToken");class Qu{constructor(t,e){this.name=t,this.token=e}}function Yu(t,e,n=[]){const r="Platform: "+e,i=new J(r);return(e=[])=>{let s=Zu();if(!s||s.injector.get(Ku,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:cs,useValue:"platform"});!function(t){if(Wu&&!Wu.destroyed&&!Wu.injector.get(Ku,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Wu=t.get(Ju);const e=t.get(gu,null);e&&e.forEach(t=>t())}(Cs.create({providers:t,name:r}))}return function(t){const e=Zu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Zu(){return Wu&&!Wu.destroyed?Wu:null}let Ju=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Uu:("zone.js"===t?void 0:t)||new Ru({enableLongStackTrace:Un(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Ru,useValue:n}];return n.run(()=>{const e=Cs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Cn,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>ec(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return Zs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(du);return t.runInitializers(),t.donePromise.then(()=>(ja(i.injector.get(vu,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Xu({},e);return Gu(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(tc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${N(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(ut(Cs))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Xu(t,e){return Array.isArray(e)?e.reduce(Xu,t):Object.assign(Object.assign({},t),e)}let tc=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Un(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ru.assertNotInAngularZone(),Du(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ru.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,d);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Bo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ft),i=n.create(Cs.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(qu,null);return s&&i.injector.get(Bu).registerApplication(i.location.nativeElement,s),this._loadComponent(i),Un()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;ec(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(bu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),ec(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(ut(Ru),ut(_u),ut(Cs),ut(Cn),ut(Ho),ut(du))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function ec(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class nc{}class rc{}const ic={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let sc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||ic}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>oc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>oc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(ut(ku),ut(rc,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function oc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const ac=function(t){return null},uc=Yu(null,"core",[{provide:yu,useValue:"unknown"},{provide:Ju,deps:[Cs]},{provide:Bu,deps:[]},{provide:_u,deps:[]}]),cc=[{provide:tc,useClass:tc,deps:[Ru,_u,Cs,Cn,Ho,du]},{provide:Ea,deps:[Ru],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:du,useClass:du,deps:[[new b,hu]]},{provide:ku,useClass:ku,deps:[]},pu,{provide:la,useFactory:function(){return fa},deps:[]},{provide:ha,useFactory:function(){return pa},deps:[]},{provide:vu,useFactory:function(t){return ja(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new y(vu),new b,new v]]},{provide:wu,useValue:"USD"}];let lc=(()=>{class t{constructor(t){}}return t.\u0275mod=Pt({type:t}),t.\u0275inj=O({factory:function(e){return new(e||t)(ut(tc))},providers:cc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule((function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("SpAZ");function i(...t){return s(t)}function s(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return a}));var r=n("7o/Q"),i=n("WMd4");function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return f}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return f})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return u})),n.d(e,"m",(function(){return c})),n.d(e,"n",(function(){return d})),n.d(e,"o",(function(){return m}));var r=n("mrSG");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?b(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new g(i,a,r);return u},t}();function b(t,e){return t.replace(_,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var _=/\{\$([^}]+)}/g;function v(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function C(){}},qgXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i)},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(a))try{a.call(this)}catch(l){e=l instanceof o?u(l.errors):[l]}if(Object(r.a)(c)){let t=-1,n=c.length;for(;++t<n;){const n=c[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(l){e=e||[],l instanceof o?e=e.concat(u(l.errors)):e.push(l)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return x})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return S})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return g})),n.d(e,"j",(function(){return E}));var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.a){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new u.q("angularfire2.app.options"),_=new u.q("angularfire2.app.nameOrConfig"),v=new u.O("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&C("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const E=()=>{C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=(t,...e)=>{Object(u.W)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&C("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const O={provide:class{},useFactory:w,deps:[b,u.z,[new u.A,_]]};let x=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",v.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:_,useValue:n}]}}}return t.\u0275mod=u.Lb({type:t}),t.\u0275inj=u.Kb({factory:function(e){return new(e||t)(u.Wb(u.B))},providers:[O]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.b("@firebase/app"),f=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return u}),"PUBLIC"));try{for(var c=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(u.join(" "))}c(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.f)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=Object(s.h)(Object.keys(e)),m=p.next();!m.done;m=p.next())e[m.value]._addComponent(a)}catch(g){u={error:g}}finally{try{m&&!m.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(f);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var b=p;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new m(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(b),e.a=b},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyD1O6sO7uFrwlns1gR1PGfAibtNu_uyHoA",authDomain:"notesapp-b2c5d.firebaseapp.com",projectId:"notesapp-b2c5d",storageBucket:"notesapp-b2c5d.appspot.com",messagingSenderId:"1013442246465",appId:"1:1013442246465:web:470dfefece2912fea653c0"};let s=null;function o(){return s}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Wb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a))},t.\u0275prov=Object(r.Jb)({factory:f,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function f(){return new h(Object(r.Wb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.Wb)(a).location;return new v(Object(r.Wb)(u),e&&e.origin||"")}const _=new r.q("appBaseHref");let v=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(u),r.Wb(_,8))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(u),r.Wb(_,8))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(y),r.Wb(u))},t.normalizeQueryParams=g,t.joinWithSlash=p,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Jb)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new E(Object(r.Wb)(y),Object(r.Wb)(u))}function S(t){return t.replace(/\/index.html$/,"")}const O=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),x=r.ob;class I{}let T=(()=>{class t extends I{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(x(e||this.locale)(t)){case O.Zero:return"zero";case O.One:return"one";case O.Two:return"two";case O.Few:return"few";case O.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.u))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();function k(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let A=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.rb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.xb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.s),r.Nb(r.t),r.Nb(r.l),r.Nb(r.E))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class P{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let D=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.W)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(Hx){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new P(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new R(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new R(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.P),r.Nb(r.L),r.Nb(r.s))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class R{constructor(t,e){this.record=t,this.view=e}}let N=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new j,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){M("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){M("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.P),r.Nb(r.L))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class j{constructor(){this.$implicit=null,this.ngIf=null}}function M(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.xb)(e)}'.`)}class L{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let F=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),V=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new L(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.P),r.Nb(r.L),r.Nb(F,1))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),U=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.t),r.Nb(r.E))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),q=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[{provide:I,useClass:T}]}),t})(),B=(()=>{class t{}return t.\u0275prov=Object(r.Jb)({token:t,providedIn:"root",factory:()=>new z(Object(r.Wb)(a),window,Object(r.Wb)(r.m))}),t})();class z{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(Hx){return!1}}}class H extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new H,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=$||($=document.querySelector("base"),$)?$.getAttribute("href"):null;return null==e?null:(n=e,W||(W=document.createElement("a")),W.setAttribute("href",n),"/"===W.pathname.charAt(0)?W.pathname:"/"+W.pathname);var n}resetBaseElement(){$=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return k(document.cookie,t)}}let W,$=null;const G=new r.q("TRANSITION_ID"),K=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[G,a,r.r],multi:!0}];class Q{static init(){Object(r.Y)(new Q)}addToWindow(t){r.qb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.qb.getAllAngularRootElements=()=>t.getAllRootElements(),r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push(t=>{const e=r.qb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(s)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Y=new r.q("EventManagerPlugins");let Z=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Y),r.Wb(r.z))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class J{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let X=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),tt=(()=>{class t extends X{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nt=/%COMP%/g;function rt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?rt(t,i,n):(i=i.replace(nt,t),n.push(i))}return n}function it(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let st=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ot(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new at(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.Q.Native:case r.Q.ShadowDom:return new ut(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=rt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Z),r.Wb(tt),r.Wb(r.c))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class ot{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(et[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=et[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=et[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.G.DashCase?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,it(n)):this.eventManager.addEventListener(t,e,it(n))}}class at extends ot{constructor(t,e,n,r){super(t),this.component=n;const i=rt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(nt,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(nt,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ut extends ot{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.Q.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=rt(i.id,i.styles,[]);for(let r=0;r<s.length;r++){const t=document.createElement("style");t.textContent=s[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ct=(()=>{class t extends J{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const lt=["alt","control","meta","shift"],ht={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ft={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let pt=(()=>{class t extends J{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(lt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&dt.hasOwnProperty(e)&&(e=dt[e]))}return ht[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),lt.forEach(r=>{r!=n&&(0,ft[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const mt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){H.makeCurrent(),Q.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.wb)(document),document},deps:[]}],gt=Object(r.S)(r.X,"browser",mt),yt=[[],{provide:r.ab,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:Y,useClass:ct,multi:!0,deps:[a,r.z,r.B]},{provide:Y,useClass:pt,multi:!0,deps:[a]},[],{provide:st,useClass:st,deps:[Z,tt,r.c]},{provide:r.F,useExisting:st},{provide:X,useExisting:tt},{provide:tt,useClass:tt,deps:[a]},{provide:r.M,useClass:r.M,deps:[r.z]},{provide:Z,useClass:Z,deps:[Y,r.z]},[]];let bt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:G,useExisting:r.c},K]}}}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)(r.Wb(t,12))},providers:yt,imports:[q,r.f]}),t})();"undefined"!=typeof window&&window;var _t=n("LRne"),vt=n("Cfvw"),wt=n("XNiG"),Et=n("9ppp");class Ct extends wt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Et.a;return this._value}next(t){super.next(this._value=t)}}var St=n("HDdC");const Ot=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var xt=n("z+Ro"),It=n("DH7j"),Tt=n("l7GE"),kt=n("ZUHj"),At=n("yCtX");const Pt={};class Dt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Rt(t,this.resultSelector))}}class Rt extends Tt.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Pt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(kt.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const s=this.values,o=this.toRespond?s[n]===Pt?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var Nt=n("EY2u");function jt(t){return new St.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(vt.a)(n):Object(Nt.b)()).subscribe(e)})}var Mt=n("lJxs"),Lt=n("bHdf");function Ft(){return Object(Lt.a)(1)}var Vt=n("7o/Q");function Ut(t,e){return function(n){return n.lift(new qt(t,e))}}class qt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Bt(t,this.predicate,this.thisArg))}}class Bt extends Vt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const zt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Ht(t){return function(e){return 0===t?Object(Nt.b)():e.lift(new Wt(t))}}class Wt{constructor(t){if(this.total=t,this.total<0)throw new zt}call(t,e){return e.subscribe(new $t(t,this.total))}}class $t extends Vt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Gt(t=Yt){return e=>e.lift(new Kt(t))}class Kt{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Qt(t,this.errorFactory))}}class Qt extends Vt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Yt(){return new Ot}function Zt(t=null){return e=>e.lift(new Jt(t))}class Jt{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Xt(t,this.defaultValue))}}class Xt extends Vt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var te=n("SpAZ");function ee(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ut((e,n)=>t(e,n,r)):te.a,Ht(1),n?Zt(e):Gt(()=>new Ot))}var ne=n("51Dv");function re(t){return function(e){const n=new ie(t),r=e.lift(n);return n.caught=r}}class ie{constructor(t){this.selector=t}call(t,e){return e.subscribe(new se(t,this.selector,this.caught))}}class se extends Tt.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new ne.a(this,void 0,void 0);this.add(r);const i=Object(kt.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function oe(t){return e=>0===t?Object(Nt.b)():e.lift(new ae(t))}class ae{constructor(t){if(this.total=t,this.total<0)throw new zt}call(t,e){return e.subscribe(new ue(t,this.total))}}class ue extends Vt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function ce(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ut((e,n)=>t(e,n,r)):te.a,oe(1),n?Zt(e):Gt(()=>new Ot))}var le=n("5+tZ");class he{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new de(t,this.predicate,this.thisArg,this.source))}}class de extends Vt.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function fe(t,e){return"function"==typeof e?n=>n.pipe(fe((n,r)=>Object(vt.a)(t(n,r)).pipe(Object(Mt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new pe(t))}class pe{constructor(t){this.project=t}call(t,e){return e.subscribe(new me(t,this.project))}}class me extends Tt.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new ne.a(this,e,n),s=this.destination;s.add(i),this.innerSubscription=Object(kt.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function ge(...t){return Ft()(Object(_t.a)(...t))}function ye(...t){const e=t[t.length-1];return Object(xt.a)(e)?(t.pop(),n=>ge(t,n,e)):e=>ge(t,e)}function be(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new _e(t,e,n))}}class _e{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ve(t,this.accumulator,this.seed,this.hasSeed))}}class ve extends Vt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function we(t,e){return Object(le.a)(t,e,1)}var Ee=n("mCNh"),Ce=n("vkgz"),Se=n("quSY");class Oe{constructor(t){this.callback=t}call(t,e){return e.subscribe(new xe(t,this.callback))}}class xe extends Vt.a{constructor(t,e){super(t),this.add(new Se.a(e))}}class Ie{constructor(t,e){this.id=t,this.url=e}}class Te extends Ie{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ke extends Ie{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ae extends Ie{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Pe extends Ie{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class De extends Ie{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Re extends Ie{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ne extends Ie{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class je extends Ie{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Me extends Ie{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Le{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fe{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ve{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ue{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qe{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Be{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ze{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let He=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Ob(0,"router-outlet")},directives:function(){return[Kr]},encapsulation:2}),t})();class We{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function $e(t){return new We(t)}function Ge(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ke(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class Qe{constructor(t,e){this.routes=t,this.module=e}}function Ye(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Ze(r,Je(e,r))}}function Ze(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Ye(t.children,e)}function Je(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Xe(t){const e=t.children&&t.children.map(Xe),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=He),n}function tn(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!en(t[i],e[i]))return!1;return!0}function en(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function nn(t){return Array.prototype.concat.apply([],t)}function rn(t){return t.length>0?t[t.length-1]:null}function sn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function on(t){return Object(r.sb)(t)?t:Object(r.tb)(t)?Object(vt.a)(Promise.resolve(t)):Object(_t.a)(t)}function an(t,e,n){return n?function(t,e){return tn(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!hn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>en(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!hn(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!hn(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!hn(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,s)}}(e,n,n.segments)}(t.root,e.root)}class un{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$e(this.queryParams)),this._queryParamMap}toString(){return mn.serialize(this)}}class cn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,sn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gn(this)}}class ln{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=$e(this.parameters)),this._parameterMap}toString(){return En(this)}}function hn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function dn(t,e){let n=[];return sn(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),sn(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class fn{}class pn{parse(t){const e=new In(t);return new un(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return gn(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return sn(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=dn(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${gn(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${bn(e)}=${bn(t)}`).join("&"):`${bn(e)}=${bn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const mn=new pn;function gn(t){return t.segments.map(t=>En(t)).join("/")}function yn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bn(t){return yn(t).replace(/%3B/gi,";")}function _n(t){return yn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vn(t){return decodeURIComponent(t)}function wn(t){return vn(t.replace(/\+/g,"%20"))}function En(t){return`${_n(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${_n(t)}=${_n(e[t])}`).join("")}`;var e}const Cn=/^[^\/()?;=#]+/;function Sn(t){const e=t.match(Cn);return e?e[0]:""}const On=/^[^=?&#]+/,xn=/^[^?&#]+/;class In{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cn([],{}):new cn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new cn(t,e)),n}parseSegment(){const t=Sn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ln(vn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Sn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Sn(this.remaining);t&&(n=t,this.capture(n))}t[vn(e)]=vn(n)}parseQueryParam(t){const e=function(t){const e=t.match(On);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(xn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=wn(e),i=wn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Sn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new cn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Tn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=kn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=kn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=An(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return An(t,this._root).map(t=>t.value)}}function kn(t,e){if(t===e.value)return e;for(const n of e.children){const e=kn(t,n);if(e)return e}return null}function An(t,e){if(t===e.value)return[e];for(const n of e.children){const r=An(t,n);if(r.length)return r.unshift(e),r}return[]}class Pn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Dn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Rn extends Tn{constructor(t,e){super(t),this.snapshot=e,Vn(this,t)}toString(){return this.snapshot.toString()}}function Nn(t,e){const n=function(t,e){const n=new Ln([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Fn("",new Pn(n,[]))}(t,e),r=new Ct([new ln("",{})]),i=new Ct({}),s=new Ct({}),o=new Ct({}),a=new Ct(""),u=new jn(r,i,o,a,s,"primary",e,n.root);return u.snapshot=n.root,new Rn(new Pn(u,[]),n)}class jn{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Mt.a)(t=>$e(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Mt.a)(t=>$e(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ln{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$e(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$e(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fn extends Tn{constructor(t,e){super(e),this.url=t,Vn(this,e)}toString(){return Un(this._root)}}function Vn(t,e){e.value._routerState=t,e.children.forEach(e=>Vn(t,e))}function Un(t){const e=t.children.length>0?` { ${t.children.map(Un).join(", ")} } `:"";return`${t.value}${e}`}function qn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,tn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),tn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!tn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),tn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Bn(t,e){return tn(t.params,e.params)&&function(t,e){return hn(t,e)&&t.every((t,n)=>tn(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Bn(t.parent,e.parent))}function zn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Hn(t,e,n,r,i){let s={};return r&&sn(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new un(n.root===t?e:function t(e,n,r){const i={};return sn(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new cn(e.segments,i)}(n.root,t,e),s,i)}class Wn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&zn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==rn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $n{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Gn(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function Kn(t,e,n){if(t||(t=new cn([],{})),0===t.segments.length&&t.hasChildren())return Qn(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=Gn(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!Xn(o,a,e))return s;r+=2}else{if(!Xn(o,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new cn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new cn(t.segments.slice(r.pathIndex),t.children),Qn(e,0,i)}return r.match&&0===i.length?new cn(t.segments,{}):r.match&&!t.hasChildren()?Yn(t,e,n):r.match?Qn(t,0,i):Yn(t,e,n)}function Qn(t,e,n){if(0===n.length)return new cn(t.segments,{});{const r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return sn(r,(n,r)=>{null!==n&&(i[r]=Kn(t.children[r],e,n))}),sn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new cn(t.segments,i)}}function Yn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=Zn(n[i].outlets);return new cn(r,t)}if(0===i&&zn(n[0])){r.push(new ln(t.segments[e].path,n[0])),i++;continue}const s=Gn(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&zn(o)?(r.push(new ln(s,Jn(o))),i+=2):(r.push(new ln(s,{})),i++)}return new cn(r,{})}function Zn(t){const e={};return sn(t,(t,n)=>{null!==t&&(e[n]=Yn(new cn([],{}),0,t))}),e}function Jn(t){const e={};return sn(t,(t,n)=>e[n]=""+t),e}function Xn(t,e,n){return t==n.path&&tn(e,n.parameters)}class tr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),qn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Dn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),sn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Dn(t),i=t.value.component?n.children:e;sn(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Dn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Be(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Ue(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(qn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),er(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function er(t){qn(t.value),t.children.forEach(er)}function nr(t){return"function"==typeof t}function rr(t){return t instanceof un}class ir{constructor(t){this.segmentGroup=t||null}}class sr{constructor(t){this.urlTree=t}}function or(t){return new St.a(e=>e.error(new ir(t)))}function ar(t){return new St.a(e=>e.error(new sr(t)))}function ur(t){return new St.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class cr{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(Mt.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(re(t=>{if(t instanceof sr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof ir)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(Mt.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(re(t=>{if(t instanceof ir)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new cn([],{primary:t}):t;return new un(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Mt.a)(t=>new cn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(_t.a)({});const n=[],r=[],i={};return sn(t,(t,s)=>{const o=e(s,t).pipe(Object(Mt.a)(t=>i[s]=t));"primary"===s?n.push(o):r.push(o)}),_t.a.apply(null,n.concat(r)).pipe(Ft(),ee(),Object(Mt.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return Object(_t.a)(...n).pipe(Object(Mt.a)(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(re(t=>{if(t instanceof ir)return Object(_t.a)(null);throw t}))),Ft(),ce(t=>!!t),re((t,n)=>{if(t instanceof Ot||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(_t.a)(new cn([],{}));throw new ir(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return fr(r)!==s?or(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):or(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ar(i):this.lineralizeSegments(n,i).pipe(Object(le.a)(n=>{const i=new cn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=lr(e,r,i);if(!o)return or(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?ar(l):this.lineralizeSegments(r,l).pipe(Object(le.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Mt.a)(t=>(n._loadedConfig=t,new cn(r,{})))):Object(_t.a)(new cn(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=lr(e,n,r);if(!i)return or(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(le.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>dr(t,e,n)&&"primary"!==fr(n))}(t,n,r)?{segmentGroup:hr(new cn(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==fr(r)&&(n[fr(r)]=new cn([],{}));return n}(r,new cn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>dr(t,e,n))}(t,n,r)?{segmentGroup:hr(new cn(t.segments,function(t,e,n,r){const i={};for(const s of n)dr(t,e,s)&&!r[fr(s)]&&(i[fr(s)]=new cn([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Mt.a)(t=>new cn(s,t))):0===r.length&&0===o.length?Object(_t.a)(new cn(s,{})):this.expandSegment(n,i,r,o,"primary",!0).pipe(Object(Mt.a)(t=>new cn(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(_t.a)(new Qe(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(_t.a)(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(vt.a)(r).pipe(Object(Mt.a)(r=>{const i=t.get(r);let s;if(function(t){return t&&nr(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!nr(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return on(s)})).pipe(Ft(),(i=t=>!0===t,t=>t.lift(new he(i,void 0,t)))):Object(_t.a)(!0);var i}(t.injector,e,n).pipe(Object(le.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Mt.a)(t=>(e._loadedConfig=t,t))):function(t){return new St.a(e=>e.error(Ge(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(_t.a)(new Qe([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(_t.a)(n);if(r.numberOfChildren>1||!r.children.primary)return ur(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new un(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return sn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return sn(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new cn(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function lr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Ke)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function hr(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new cn(t.segments.concat(e.segments),e.children)}return t}function dr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function fr(t){return t.outlet||"primary"}class pr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class mr{constructor(t,e){this.component=t,this.route=e}}function gr(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Dn(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!hn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!hn(t.url,e.url)||!tn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bn(t,e)||!tn(t.queryParams,e.queryParams);case"paramsChange":default:return!Bn(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new pr(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?u?u.children:null:r,i,s),c&&s.canDeactivateChecks.push(new mr(u&&u.outlet&&u.outlet.component||null,a))}else a&&br(n,u,s),s.canActivateChecks.push(new pr(i)),t(e,null,o.component?u?u.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),sn(o,(t,e)=>br(t,r.getContext(e),s)),s}(r,e?e._root:null,n,[r.value])}function yr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function br(t,e,n){const r=Dn(t),i=t.value;sn(r,(t,r)=>{br(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new mr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const _r=Symbol("INITIAL_VALUE");function vr(){return fe(t=>function(...t){let e=null,n=null;return Object(xt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(It.a)(t[0])&&(t=t[0]),Object(At.a)(t,n).lift(new Dt(e))}(...t.map(t=>t.pipe(oe(1),ye(_r)))).pipe(be((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==_r)return t;if(r===_r&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||rr(r))return r}return t},t)},_r),Ut(t=>t!==_r),Object(Mt.a)(t=>rr(t)?t:!0===t),oe(1)))}function wr(t,e){return null!==t&&e&&e(new qe(t)),Object(_t.a)(!0)}function Er(t,e){return null!==t&&e&&e(new Ve(t)),Object(_t.a)(!0)}function Cr(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(_t.a)(!0);const i=r.map(r=>jt(()=>{const i=yr(r,e,n);let s;if(function(t){return t&&nr(t.canActivate)}(i))s=on(i.canActivate(e,t));else{if(!nr(i))throw new Error("Invalid CanActivate guard");s=on(i(e,t))}return s.pipe(ce())}));return Object(_t.a)(i).pipe(vr())}function Sr(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>jt(()=>{const i=e.guards.map(i=>{const s=yr(i,e.node,n);let o;if(function(t){return t&&nr(t.canActivateChild)}(s))o=on(s.canActivateChild(r,t));else{if(!nr(s))throw new Error("Invalid CanActivateChild guard");o=on(s(r,t))}return o.pipe(ce())});return Object(_t.a)(i).pipe(vr())}));return Object(_t.a)(i).pipe(vr())}class Or{}class xr{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=kr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Ln([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Pn(n,e),i=new Fn(this.url,r);return this.inheritParamsAndData(i._root),Object(_t.a)(i)}catch(t){return new St.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Mn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=dn(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof Or))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Or}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Or;if((t.outlet||"primary")!==r)throw new Or;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?rn(n).parameters:{};i=new Ln(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dr(t),r,t.component,t,Ir(e),Tr(e)+n.length,Rr(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Or;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Ke)(n,t,e);if(!r)throw new Or;const i={};sn(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new Ln(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dr(t),r,t.component,t,Ir(e),Tr(e)+s.length,Rr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=kr(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Pn(i,t)]}if(0===a.length&&0===c.length)return[new Pn(i,[])];const l=this.processSegment(a,u,c,"primary");return[new Pn(i,l)]}}function Ir(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Tr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function kr(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Ar(t,e,n)&&"primary"!==Pr(n))}(t,n,r)){const i=new cn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==Pr(s)){const n=new cn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Pr(s)]=n}return i}(t,e,r,new cn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Ar(t,e,n))}(t,n,r)){const s=new cn(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Ar(t,n,a)&&!i[Pr(a)]){const n=new cn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Pr(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new cn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Ar(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Pr(t){return t.outlet||"primary"}function Dr(t){return t.data||{}}function Rr(t){return t.resolve||{}}function Nr(t,e,n,r){const i=yr(t,e,r);return on(i.resolve?i.resolve(e,n):i(e,n))}function jr(t){return function(e){return e.pipe(fe(e=>{const n=t(e);return n?Object(vt.a)(n).pipe(Object(Mt.a)(()=>e)):Object(vt.a)([e])}))}}class Mr{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Lr=new r.q("ROUTES");class Fr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Mt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Qe(nn(r.injector.get(Lr)).map(Xe),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(vt.a)(this.loader.load(t)):on(t()).pipe(Object(le.a)(t=>t instanceof r.v?Object(_t.a)(t):Object(vt.a)(this.compiler.compileModuleAsync(t))))}}class Vr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Ur(t){throw t}function qr(t,e,n){return e.parse("/")}function Br(t,e){return Object(_t.a)(null)}let zr=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new wt.a,this.errorHandler=Ur,this.malformedUriErrorHandler=qr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Br,afterPreactivation:Br},this.urlHandlingStrategy=new Vr,this.routeReuseStrategy=new Mr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(r.x),this.console=s.get(r.Z);const c=s.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new un(new cn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Fr(o,a,t=>this.triggerEvent(new Le(t)),t=>this.triggerEvent(new Fe(t))),this.routerState=Nn(this.currentUrlTree,this.rootComponentType),this.transitions=new Ct({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Ut(t=>0!==t.id),Object(Mt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),fe(t=>{let n=!1,r=!1;return Object(_t.a)(t).pipe(Object(Ce.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),fe(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(_t.a)(t).pipe(fe(t=>{const n=this.transitions.getValue();return e.next(new Te(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Nt.a:[t]}),fe(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(fe(t=>function(t,e,n,r,i){return new cr(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(Mt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Ce.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(le.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new xr(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(Mt.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Ce.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Ce.a)(t=>{const n=new De(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Te(n,this.serializeUrl(r),i,s);e.next(a);const u=Nn(r,this.rootComponentType).snapshot;return Object(_t.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Nt.a}),jr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Ce.a)(t=>{const e=new Re(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Mt.a)(t=>Object.assign(Object.assign({},t),{guards:gr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(le.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(_t.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(vt.a)(t).pipe(Object(le.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(_t.a)(!0);const o=s.map(s=>{const o=yr(s,e,i);let a;if(function(t){return t&&nr(t.canDeactivate)}(o))a=on(o.canDeactivate(t,e,n,r));else{if(!nr(o))throw new Error("Invalid CanDeactivate guard");a=on(o(t,e,n,r))}return a.pipe(ce())});return Object(_t.a)(o).pipe(vr())}(t.component,t.route,n,e,r)),ce(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(le.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(vt.a)(e).pipe(we(e=>Object(vt.a)([Er(e.route.parent,r),wr(e.route,r),Sr(t,e.path,n),Cr(t,e.route,n)]).pipe(Ft(),ce(t=>!0!==t,!0))),ce(t=>!0!==t,!0))}(r,s,t,e):Object(_t.a)(n)),Object(Mt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Ce.a)(t=>{if(rr(t.guardsResult)){const e=Ge(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Ce.a)(t=>{const e=new Ne(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Ut(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ae(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),jr(t=>{if(t.guards.canActivateChecks.length)return Object(_t.a)(t).pipe(Object(Ce.a)(t=>{const e=new je(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(Object(le.a)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;return i.length?Object(vt.a)(i).pipe(we(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(_t.a)({});if(1===i.length){const s=i[0];return Nr(t[s],e,n,r).pipe(Object(Mt.a)(t=>({[s]:t})))}const s={};return Object(vt.a)(i).pipe(Object(le.a)(i=>Nr(t[i],e,n,r).pipe(Object(Mt.a)(t=>(s[i]=t,t))))).pipe(ee(),Object(Mt.a)(()=>s))}(t._resolve,t,e,r).pipe(Object(Mt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Mn(t,n).resolve),null)))}(t.route,r,e,n)),function(t,e){return arguments.length>=2?function(n){return Object(Ee.a)(be(t,e),Ht(1),Zt(e))(n)}:function(e){return Object(Ee.a)(be((e,n,r)=>t(e,n,r+1)),Ht(1))(e)}}((t,e)=>t),Object(Mt.a)(e=>t)):Object(_t.a)(t)}))}),Object(Ce.a)(t=>{const e=new Me(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),jr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Mt.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Pn(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new jn(new Ct((i=n.value).url),new Ct(i.params),new Ct(i.queryParams),new Ct(i.fragment),new Ct(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new Pn(r,s)}}var i}(t,e._root,n?n._root:void 0);return new Rn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Ce.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Mt.a)(t=>(new tr(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(Ce.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Ae(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Oe(i))),re(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=rr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Ae(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Pe(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var i;return Nt.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ye(t),this.config=t.map(Xe),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:s,preserveQueryParams:o,queryParamsHandling:a,preserveFragment:u}=e;Object(r.W)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:s;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=o?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return Hn(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Wn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return sn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Wn(n,e,r)}(n);if(s.toRoot())return Hn(e.root,new cn([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new $n(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new $n(n.snapshot._urlSegment,!0,0);const r=zn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new $n(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Qn(o.segmentGroup,o.index,s.commands):Kn(o.segmentGroup,o.index,s.commands);return Hn(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.W)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=rr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(rr(t))return an(this.currentUrlTree,t,e);const n=this.parseUrl(t);return an(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new ke(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition();if(s&&"imperative"!==e&&"imperative"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"hashchange"==e&&"popstate"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"popstate"==e&&"hashchange"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o,a,u;i?(o=i.resolve,a=i.reject,u=i.promise):u=new Promise((t,e)=>{o=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){r.Zb()},t.\u0275dir=r.Ib({type:t}),t})(),Hr=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof ke&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.W)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:Wr(this.skipLocationChange),replaceUrl:Wr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Wr(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Wr(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(zr),r.Nb(jn),r.Nb(y))},t.\u0275dir=r.Ib({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.ac("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(r.Vb("href",e.href,r.lc),r.Db("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.Ab]}),t})();function Wr(t){return""===t||!!t}class $r{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Gr,this.attachRef=null}}class Gr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new $r,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Kr=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Qr(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Gr),r.Nb(r.P),r.Nb(r.j),r.Xb("name"),r.Nb(r.h))},t.\u0275dir=r.Ib({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Qr{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===jn?this.route:t===Gr?this.childContexts:this.parent.get(t,e)}}class Yr{}class Zr{preload(t,e){return Object(_t.a)(null)}}let Jr=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Fr(e,n,e=>t.triggerEvent(new Le(e)),e=>t.triggerEvent(new Fe(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ut(t=>t instanceof ke),we(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(vt.a)(n).pipe(Object(Lt.a)(),Object(Mt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(le.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(zr),r.Wb(r.w),r.Wb(r.i),r.Wb(r.r),r.Wb(Yr))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),Xr=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Te?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ke&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ze&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new ze(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){r.Zb()},t.\u0275dir=r.Ib({type:t}),t})();const ti=new r.q("ROUTER_CONFIGURATION"),ei=new r.q("ROUTER_FORROOT_GUARD"),ni=[E,{provide:fn,useClass:pn},{provide:zr,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new zr(null,t,e,n,r,i,s,nn(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[fn,Gr,E,r.r,r.w,r.i,Lr,ti,[class{},new r.A],[class{},new r.A]]},Gr,{provide:jn,useFactory:function(t){return t.routerState.root},deps:[zr]},{provide:r.w,useClass:r.K},Jr,Zr,class{preload(t,e){return e().pipe(re(()=>Object(_t.a)(null)))}},{provide:ti,useValue:{enableTracing:!1}}];function ri(){return new r.y("Router",zr)}let ii=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ni,ui(e),{provide:ei,useFactory:ai,deps:[[zr,new r.A,new r.J]]},{provide:ti,useValue:n||{}},{provide:y,useFactory:oi,deps:[u,[new r.p(_),new r.A],ti]},{provide:Xr,useFactory:si,deps:[zr,B,ti]},{provide:Yr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Zr},{provide:r.y,multi:!0,useFactory:ri},[ci,{provide:r.d,multi:!0,useFactory:li,deps:[ci]},{provide:di,useFactory:hi,deps:[ci]},{provide:r.b,multi:!0,useExisting:di}]]}}static forChild(e){return{ngModule:t,providers:[ui(e)]}}}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)(r.Wb(ei,8),r.Wb(zr,8))}}),t})();function si(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Xr(t,e,n)}function oi(t,e,n={}){return n.useHash?new w(t,e):new v(t,e)}function ai(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ui(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Lr,multi:!0,useValue:t}]}let ci=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new wt.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(zr),r=this.injector.get(ti);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(_t.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(ti),n=this.injector.get(Jr),i=this.injector.get(Xr),s=this.injector.get(zr),o=this.injector.get(r.g);t===o.components[0]&&(this.isLegacyEnabled(e)?s.initialNavigation():this.isLegacyDisabled(e)&&s.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.r))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();function li(t){return t.appInitializer.bind(t)}function hi(t){return t.bootstrapListener.bind(t)}const di=new r.q("Router Initializer");var fi=n("XoHu");function pi(t,e){return new St.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(vt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const mi=new r.q("NgValueAccessor"),gi={provide:mi,useExisting:Object(r.U)(()=>yi),multi:!0};let yi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.E),r.Nb(r.l))},t.\u0275dir=r.Ib({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.Bb([gi])]}),t})();const bi={provide:mi,useExisting:Object(r.U)(()=>vi),multi:!0},_i=new r.q("CompositionEventMode");let vi=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.E),r.Nb(r.l),r.Nb(_i,8))},t.\u0275dir=r.Ib({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.ac("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.Bb([bi])]}),t})(),wi=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t}),t})(),Ei=(()=>{class t extends wi{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Ci(e||t)},t.\u0275dir=r.Ib({type:t,features:[r.zb]}),t})();const Ci=r.Ub(Ei);function Si(){throw new Error("unimplemented")}class Oi extends wi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Si()}get asyncValidator(){return Si()}}class xi{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Ii=(()=>{class t extends xi{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Oi,2))},t.\u0275dir=r.Ib({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.zb]}),t})(),Ti=(()=>{class t extends xi{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Ei,2))},t.\u0275dir=r.Ib({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.zb]}),t})();function ki(t){return null==t||0===t.length}const Ai=new r.q("NgValidators"),Pi=new r.q("NgAsyncValidators"),Di=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ri{static min(t){return e=>{if(ki(e.value)||ki(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(ki(e.value)||ki(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return ki(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return ki(t.value)||Di.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(ki(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return Ri.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(ki(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Ni);return 0==e.length?null:function(t){return Mi(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Ni);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(It.a)(e))return pi(e,null);if(Object(fi.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return pi(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return pi(t=1===t.length&&Object(It.a)(t[0])?t[0]:t,null).pipe(Object(Mt.a)(t=>e(...t)))}return pi(t,null)}(function(t,e){return e.map(e=>e(t))}(t,e).map(ji)).pipe(Object(Mt.a)(Mi))}}}function Ni(t){return null!=t}function ji(t){const e=Object(r.tb)(t)?Object(vt.a)(t):t;if(!Object(r.sb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Mi(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Li(t){return t.validate?e=>t.validate(e):t}function Fi(t){return t.validate?e=>t.validate(e):t}const Vi={provide:mi,useExisting:Object(r.U)(()=>Ui),multi:!0};let Ui=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.E),r.Nb(r.l))},t.\u0275dir=r.Ib({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Bb([Vi])]}),t})();const qi={provide:mi,useExisting:Object(r.U)(()=>zi),multi:!0};let Bi=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),zi=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Oi),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.E),r.Nb(r.l),r.Nb(Bi),r.Nb(r.r))},t.\u0275dir=r.Ib({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Bb([qi])]}),t})();const Hi={provide:mi,useExisting:Object(r.U)(()=>Wi),multi:!0};let Wi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.E),r.Nb(r.l))},t.\u0275dir=r.Ib({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Bb([Hi])]}),t})();const $i='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Gi='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });';class Ki{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+$i)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${Gi}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        \n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+$i)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Gi)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const Qi={provide:mi,useExisting:Object(r.U)(()=>Yi),multi:!0};let Yi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=r.ub}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.E),r.Nb(r.l))},t.\u0275dir=r.Ib({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Bb([Qi])]}),t})();const Zi={provide:mi,useExisting:Object(r.U)(()=>Ji),multi:!0};let Ji=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=r.ub}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.E),r.Nb(r.l))},t.\u0275dir=r.Ib({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Bb([Zi])]}),t})();function Xi(t,e){return[...e.path,t]}function ts(t,e){t||is(e,"Cannot find control with"),e.valueAccessor||is(e,"No value accessor for form control with"),t.validator=Ri.compose([t.validator,e.validator]),t.asyncValidator=Ri.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&es(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&es(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function es(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ns(t,e){null==t&&is(e,"Cannot find control with"),t.validator=Ri.compose([t.validator,e.validator]),t.asyncValidator=Ri.composeAsync([t.asyncValidator,e.asyncValidator])}function rs(t){return is(t,"There is no FormControl instance attached to form control element with")}function is(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function ss(t){return null!=t?Ri.compose(t.map(Li)):null}function os(t){return null!=t?Ri.composeAsync(t.map(Fi)):null}const as=[yi,Wi,Ui,Yi,Ji,zi];function us(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function cs(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function ls(t){const e=ds(t)?t.validators:t;return Array.isArray(e)?ss(e):e||null}function hs(t,e){const n=ds(e)?e.asyncValidators:t;return Array.isArray(n)?os(n):n||null}function ds(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class fs{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=ls(t)}setAsyncValidators(t){this.asyncValidator=hs(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=ji(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof ms?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof gs&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ds(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class ps extends fs{constructor(t=null,e,n){super(ls(e),hs(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ms extends fs{constructor(t,e,n){super(ls(e),hs(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ps?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class gs extends fs{constructor(t,e,n){super(ls(e),hs(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ps?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const ys={provide:Ei,useExisting:Object(r.U)(()=>_s)},bs=(()=>Promise.resolve(null))();let _s=(()=>{class t extends Ei{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new ms({},ss(t),os(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){bs.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),ts(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){bs.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),cs(this._directives,t)})}addFormGroup(t){bs.then(()=>{const e=this._findContainer(t.path),n=new ms({});ns(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){bs.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){bs.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,us(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Ai,10),r.Nb(Pi,10))},t.\u0275dir=r.Ib({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.ac("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Bb([ys]),r.zb]}),t})(),vs=(()=>{class t extends Ei{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Xi(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ss(this._validators)}get asyncValidator(){return os(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return ws(e||t)},t.\u0275dir=r.Ib({type:t,features:[r.zb]}),t})();const ws=r.Ub(vs);let Es=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Cs=new r.q("NgModelWithFormControlWarning"),Ss={provide:Ei,useExisting:Object(r.U)(()=>Os)};let Os=(()=>{class t extends Ei{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return ts(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){cs(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);ns(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);ns(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,us(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>rs(e)),e.valueAccessor.registerOnTouched(()=>rs(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&ts(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=ss(this._validators);this.form.validator=Ri.compose([this.form.validator,t]);const e=os(this._asyncValidators);this.form.asyncValidator=Ri.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||Ki.missingFormException()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Ai,10),r.Nb(Pi,10))},t.\u0275dir=r.Ib({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.ac("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Bb([Ss]),r.zb,r.Ab]}),t})();const xs={provide:Ei,useExisting:Object(r.U)(()=>Is)};let Is=(()=>{class t extends vs{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){As(this._parent)&&Ki.groupParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Ei,13),r.Nb(Ai,10),r.Nb(Pi,10))},t.\u0275dir=r.Ib({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r.Bb([xs]),r.zb]}),t})();const Ts={provide:Ei,useExisting:Object(r.U)(()=>ks)};let ks=(()=>{class t extends Ei{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Xi(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return ss(this._validators)}get asyncValidator(){return os(this._asyncValidators)}_checkParentType(){As(this._parent)&&Ki.arrayParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Ei,13),r.Nb(Ai,10),r.Nb(Pi,10))},t.\u0275dir=r.Ib({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r.Bb([Ts]),r.zb]}),t})();function As(t){return!(t instanceof Is||t instanceof Os||t instanceof ks)}const Ps={provide:Oi,useExisting:Object(r.U)(()=>Ds)};let Ds=(()=>{class t extends Oi{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||is(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var s;e.constructor===vi?n=e:(s=e,as.some(t=>s.constructor===t)?(r&&is(t,"More than one built-in value accessor matches form control with"),r=e):(i&&is(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(is(t,"No valid value accessor for form control with"),null)}(this,i)}set isDisabled(t){Ki.disabledAttrWarning()}ngOnChanges(e){var n,i,s;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object(r.ub)(e,n.currentValue)}(e,this.viewModel)&&(n=t,i=this,s=this._ngModelWarningConfig,Object(r.W)()&&"never"!==s&&((null!==s&&"once"!==s||n._ngModelWarningSentOnce)&&("always"!==s||i._ngModelWarningSent)||(Ki.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,i._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Xi(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ss(this._rawValidators)}get asyncValidator(){return os(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Is)&&this._parent instanceof vs?Ki.ngModelGroupException():this._parent instanceof Is||this._parent instanceof Os||this._parent instanceof ks||Ki.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Ei,13),r.Nb(Ai,10),r.Nb(Pi,10),r.Nb(mi,10),r.Nb(Cs,8))},t.\u0275dir=r.Ib({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Bb([Ps]),r.zb,r.Ab]}),t._ngModelWarningSentOnce=!1,t})(),Rs=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)}}),t})(),Ns=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new ms(n,{asyncValidators:i,updateOn:s,validators:r})}control(t,e,n){return new ps(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new gs(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof ps||t instanceof ms||t instanceof gs?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),js=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Cs,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[Ns,Bi],imports:[Rs]}),t})();function Ms(t){return null!=t&&""+t!="false"}function Ls(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Fs(t){return Array.isArray(t)?t:[t]}function Vs(t){return null==t?"":"string"==typeof t?t:t+"px"}function Us(t){return t instanceof r.l?t.nativeElement:t}var qs=n("n6bG");function Bs(t,e,n,r){return Object(qs.a)(n)&&(r=n,n=void 0),r?Bs(t,e,n).pipe(Object(Mt.a)(t=>Object(It.a)(t)?r(...t):r(t))):new St.a(r=>{!function t(e,n,r,i,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,s),o=()=>t.removeEventListener(n,r,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),o=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),o=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,r,i,s)}i.add(o)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}var zs=n("VRyK"),Hs=n("3N8a");class Ws extends Hs.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var $s=n("IjjT");class Gs extends $s.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const Ks=new Gs(Ws);var Qs=n("7Hc7");class Ys{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Zs(t,this.compare,this.keySelector))}}class Zs extends Vt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Js=n("D0XW");class Xs{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new to(t,this.durationSelector))}}class to extends Tt.a{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(kt.a)(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var eo=n("Y7HM");function no(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function ro(t,e=Js.a){return n=()=>function(t=0,e,n){let r=-1;return Object(eo.a)(e)?r=Number(e)<1?1:Number(e):Object(xt.a)(e)&&(n=e),Object(xt.a)(n)||(n=Js.a),new St.a(e=>{const i=Object(eo.a)(t)?t:+t-n.now();return n.schedule(no,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new Xs(n))};var n}function io(t){return e=>e.lift(new so(t))}class so{constructor(t){this.notifier=t}call(t,e){const n=new oo(t),r=Object(kt.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class oo extends Tt.a{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}function ao(){return t=>t.lift(new uo)}class uo{call(t,e){return e.subscribe(new co(t))}}class co extends Vt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}n("qgXg");var lo=n("pxpQ");let ho;n("Ylt2");try{ho="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Hx){ho=!1}let fo,po=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ho)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.B,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(r.B,8))},token:t,providedIn:"root"}),t})(),mo=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)}}),t})();const go=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function yo(){if(fo)return fo;if("object"!=typeof document||!document)return fo=new Set(go),fo;let t=document.createElement("input");return fo=new Set(go.filter(e=>(t.setAttribute("type",e),t.type===e))),fo}let bo,_o;function vo(t){return function(){if(null==bo&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>bo=!0}))}finally{bo=bo||!1}return bo}()?t:!!t.capture}function wo(t){if(function(){if(null==_o){const t="undefined"!=typeof document?document.head:null;_o=!(!t||!t.createShadowRoot&&!t.attachShadow)}return _o}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}const Eo=new r.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.V)(a)}});let Co=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Eo,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(Eo,8))},token:t,providedIn:"root"}),t})(),So=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)}}),t})(),Oo=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new wt.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new St.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(ro(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(_t.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Ut(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Bs(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.z),r.Wb(po),r.Wb(a,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(r.z),Object(r.Wb)(po),Object(r.Wb)(a,8))},token:t,providedIn:"root"}),t})(),xo=(()=>{class t{constructor(t,e,n){this._platform=t,this._document=n,e.runOutsideAngular(()=>{const e=this._getWindow();this._change=t.isBrowser?Object(zs.a)(Bs(e,"resize"),Bs(e,"orientationchange")):Object(_t.a)(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(ro(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(po),r.Wb(r.z),r.Wb(a,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(po),Object(r.Wb)(r.z),Object(r.Wb)(a,8))},token:t,providedIn:"root"}),t})(),Io=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)}}),t})(),To=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[So,mo,Io],So,Io]}),t})();function ko(){throw Error("Host already has a portal attached")}class Ao{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&ko(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Po extends Ao{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class Do extends Ao{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Ro extends Ao{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class No{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&ko(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof Po?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Do?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Ro?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class jo extends No{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Mo=(()=>{class t extends No{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.n,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.j),r.Nb(r.P),r.Nb(a))},t.\u0275dir=r.Ib({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.zb]}),t})(),Lo=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)}}),t})();function Fo(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class Vo{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Vs(-this._previousScrollPosition.left),t.style.top=Vs(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function Uo(){return Error("Scroll strategy has already been attached.")}class qo{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw Uo();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Bo{enable(){}disable(){}attach(){}}function zo(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function Ho(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class Wo{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw Uo();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();zo(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let $o=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new Bo,this.close=t=>new qo(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new Vo(this._viewportRuler,this._document),this.reposition=t=>new Wo(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Oo),r.Wb(xo),r.Wb(r.z),r.Wb(a))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(Oo),Object(r.Wb)(xo),Object(r.Wb)(r.z),Object(r.Wb)(a))},token:t,providedIn:"root"}),t})();class Go{constructor(t){if(this.scrollStrategy=new Bo,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class Ko{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class Qo{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function Yo(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". Expected "top", "bottom" or "center".`)}function Zo(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". Expected "start", "end" or "center".`)}let Jo=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(a))},token:t,providedIn:"root"}),t})();const Xo=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let ta=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||Xo){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),Xo?e.setAttribute("platform","test"):t||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a),r.Wb(po))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(a),Object(r.Wb)(po))},token:t,providedIn:"root"}),t})();class ea{constructor(t,e,n,r,i,s,o,a){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._backdropElement=null,this._backdropClick=new wt.a,this._attachments=new wt.a,this._detachments=new wt.a,this._locationChanges=Se.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new wt.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(oe(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEvents.asObservable()}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Vs(this._config.width),t.height=Vs(this._config.height),t.minWidth=Vs(this._config.minWidth),t.minHeight=Vs(this._config.minHeight),t.maxWidth=Vs(this._config.maxWidth),t.maxHeight=Vs(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;Fs(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(io(Object(zs.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const na=/([A-Za-z%]+)$/;class ra{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new wt.a,this._resizeSubscription=Se.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),u=this._getOverlayFit(a,e,n,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(u,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<u.visibleArea)&&(i={overlayFit:u,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ia(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){let{x:i,y:s}=t,o=this._getOffset(r,"x"),a=this._getOffset(r,"y");o&&(i+=o),a&&(s+=a);let u=0-s,c=s+e.height-n.height,l=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,u,c),d=l*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:l==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=sa(this._overlayRef.getConfig().minHeight),o=sa(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.right,0),s=Math.max(t.y+e.height-r.bottom,0),o=Math.max(r.top-n.top-t.y,0),a=Math.max(r.left-n.left-t.x,0);let u=0,c=0;return u=e.width<=r.width?a||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,c=e.height<=r.height?o||-s:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:u,y:c},{x:t.x+u,y:t.y+c}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new Qo(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,u,c;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)u=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,u=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-r/2)}return{top:s,left:u,bottom:o,right:c,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=Vs(n.height),r.top=Vs(n.top),r.bottom=Vs(n.bottom),r.width=Vs(n.width),r.left=Vs(n.left),r.right=Vs(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=Vs(t)),i&&(r.maxWidth=Vs(i))}this._lastBoundingBoxSize=n,ia(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ia(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ia(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();ia(n,this._getExactOverlayY(e,t,r)),ia(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),u=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),u&&(o+=`translateY(${u}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=Vs(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=Vs(s.maxWidth):i&&(n.maxWidth="")),ia(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=Vs(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Vs(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ho(t,n),isOriginOutsideView:zo(t,n),isOverlayClipped:Ho(e,n),isOverlayOutsideView:zo(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{Zo("originX",t.originX),Yo("originY",t.originY),Zo("overlayX",t.overlayX),Yo("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&Fs(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function ia(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function sa(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(na);return n&&"px"!==n?null:parseFloat(e)}return t||null}class oa{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new ra(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new Ko(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class aa{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),u=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let ua=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new aa}connectedTo(t,e,n){return new oa(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new ra(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(xo),r.Wb(a),r.Wb(po),r.Wb(ta))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(xo),Object(r.Wb)(a),Object(r.Wb)(po),Object(r.Wb)(ta))},token:t,providedIn:"root"}),t})(),ca=0,la=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u,c){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=u,this._location=c}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new Go(t);return i.direction=i.direction||this._directionality.value,new ea(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+ca++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new jo(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb($o),r.Wb(ta),r.Wb(r.j),r.Wb(ua),r.Wb(Jo),r.Wb(r.r),r.Wb(r.z),r.Wb(a),r.Wb(Co),r.Wb(E,8))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const ha={provide:new r.q("cdk-connected-overlay-scroll-strategy"),deps:[la],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let da=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[la,ha],imports:[[So,Lo,To],To]}),t})();function fa(t,e=Js.a){return n=>n.lift(new pa(t,e))}class pa{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new ma(t,this.dueTime,this.scheduler))}}class ma extends Vt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ga,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function ga(t){t.debouncedNext()}let ya=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),ba=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Us(t);return new St.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new wt.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(ya))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(ya))},token:t,providedIn:"root"}),t})(),_a=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.n,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Ms(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Ls(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(fa(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(ba),r.Nb(r.l),r.Nb(r.z))},t.\u0275dir=r.Ib({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),va=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[ya]}),t})();class wa extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new wt.a,this._typeaheadSubscription=Se.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new wt.a,this.change=new wt.a,t instanceof r.D&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){if(this._items.length&&this._items.some(t=>"function"!=typeof t.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(Ce.a)(t=>this._pressedLetters.push(t)),fa(t),Ut(()=>this._pressedLetters.length>0),Object(Mt.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}setActiveItem(t){const e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((n||Fo(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof r.D?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Ea=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(Hx){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){const t=e&&e.nodeName.toLowerCase();if(-1===Sa(e))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===t)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=Sa(t);if(t.hasAttribute("contenteditable"))return-1!==i;if("iframe"===r)return!1;if("audio"===r){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===r){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==r||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}isFocusable(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Ca(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(po))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(po))},token:t,providedIn:"root"}),t})();function Ca(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Sa(t){if(!Ca(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Oa{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),Object(r.W)()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(oe(1)).subscribe(t)}}let xa=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new Oa(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Ea),r.Wb(r.z),r.Wb(a))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(Ea),Object(r.Wb)(r.z),Object(r.Wb)(a))},token:t,providedIn:"root"}),t})();function Ia(t){return 0===t.buttons}"undefined"!=typeof Element&&Element;const Ta=new r.q("cdk-focus-monitor-default-options"),ka=vo({passive:!0,capture:!0});let Aa=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=Ia(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Pa(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=Pa(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){if(!this._platform.isBrowser)return Object(_t.a)(null);const n=Us(t),r=wo(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject.asObservable();const s={checkChildren:e,subject:new wt.a,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject.asObservable()}stopMonitoring(t){const e=Us(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=Us(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=Pa(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==Pa(t))return;const r=this._getFocusOrigin(t);this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,ka),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,ka)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,ka),t.addEventListener("mousedown",this._documentMousedownListener,ka),t.addEventListener("touchstart",this._documentTouchstartListener,ka),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ka),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ka),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,ka),t.removeEventListener("mousedown",this._documentMousedownListener,ka),t.removeEventListener("touchstart",this._documentTouchstartListener,ka),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.z),r.Wb(po),r.Wb(a,8),r.Wb(Ta,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(r.z),Object(r.Wb)(po),Object(r.Wb)(a,8),Object(r.Wb)(Ta,8))},token:t,providedIn:"root"}),t})();function Pa(t){return t.composedPath?t.composedPath()[0]:t.target}let Da=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(po),r.Wb(a))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(po),Object(r.Wb)(a))},token:t,providedIn:"root"}),t})();const Ra=new r.O("9.2.4");class Na{}function ja(t,e){return{type:7,name:t,definitions:e,options:{}}}function Ma(t,e=null){return{type:4,styles:e,timings:t}}function La(t,e=null){return{type:2,steps:t,options:e}}function Fa(t){return{type:6,styles:t,offset:null}}function Va(t,e,n){return{type:0,name:t,styles:e,options:n}}function Ua(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function qa(t){Promise.resolve(null).then(t)}class Ba{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){qa(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class za{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?qa(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Ha(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Wa(t){switch(t.length){case 0:return new Ba;case 1:return t[0];default:return new za(t)}}function $a(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Ga(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Ka(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Ka(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Ka(n,"destroy",t)))}}function Ka(t,e,n){const r=n.totalTime,i=Qa(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Qa(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Ya(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Za(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Ja=(t,e)=>!1,Xa=(t,e)=>!1,tu=(t,e,n)=>[];const eu=Ha();(eu||"undefined"!=typeof Element)&&(Ja=(t,e)=>t.contains(e),Xa=(()=>{if(eu||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Xa}})(),tu=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let nu=null,ru=!1;function iu(t){nu||(nu=("undefined"!=typeof document?document.body:null)||{},ru=!!nu.style&&"WebkitAppearance"in nu.style);let e=!0;return nu.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in nu.style,!e&&ru)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in nu.style),e}const su=Xa,ou=Ja,au=tu;function uu(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let cu=(()=>{class t{validateStyleProperty(t){return iu(t)}matchesElement(t,e){return su(t,e)}containsElement(t,e){return ou(t,e)}query(t,e,n){return au(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Ba(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),lu=(()=>{class t{}return t.NOOP=new cu,t})();function hu(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:du(parseFloat(e[1]),e[2])}function du(t,e){switch(e){case"s":return 1e3*t;default:return t}}function fu(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=du(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=du(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function pu(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function mu(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else pu(t,n);return n}function gu(t,e,n){return n?e+":"+n+";":""}function yu(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=gu(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=gu(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function bu(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=xu(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Ha()&&yu(t))}function _u(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=xu(e);t.style[n]=""}),Ha()&&yu(t))}function vu(t){return Array.isArray(t)?1==t.length?t[0]:La(t):t}const wu=new RegExp("{{\\s*(.+?)\\s*}}","g");function Eu(t){let e=[];if("string"==typeof t){let n;for(;n=wu.exec(t);)e.push(n[1]);wu.lastIndex=0}return e}function Cu(t,e,n){const r=t.toString(),i=r.replace(wu,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function Su(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Ou=/-+([a-z0-9])/g;function xu(t){return t.replace(Ou,(...t)=>t[1].toUpperCase())}function Iu(t,e){return 0===t||0===e}function Tu(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=Au(t,e)}))}}return e}function ku(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function Au(t,e){return window.getComputedStyle(t)[e]}function Pu(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(Nu(i,o)),"<"!=s[0]||"*"==i&&"*"==o||e.push(Nu(o,i))}(t,n,e)):n.push(t),n}const Du=new Set(["true","1"]),Ru=new Set(["false","0"]);function Nu(t,e){const n=Du.has(t)||Ru.has(t),r=Du.has(e)||Ru.has(e);return(i,s)=>{let o="*"==t||t==i,a="*"==e||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?Du.has(t):Ru.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?Du.has(e):Ru.has(e)),o&&a}}const ju=new RegExp("s*:selfs*,?","g");function Mu(t,e,n){return new Lu(t).build(e,n)}class Lu{constructor(t){this._driver=t}build(t,e){const n=new Fu(e);return this._resetContextStyleTimingState(n),ku(this,vu(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(Vu(t)){const e=t;Object.keys(e).forEach(t=>{Eu(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Su(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=ku(this,vu(t.animation),e);return{type:1,matchers:Pu(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Uu(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>ku(this,t,e)),options:Uu(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=ku(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Uu(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return qu(fu(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=qu(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||fu(r,e),qu(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Fa({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Fa(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Vu(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=Eu(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Vu(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Vu(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:ku(this,vu(t.animation),e),options:Uu(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Uu(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Uu(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(ju,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Ya(e.collectedStyles,e.currentQuerySelector,{});const o=ku(this,vu(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Uu(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:fu(t.timings,e.errors,!0);return{type:12,animation:ku(this,vu(t.animation),e),timings:n,options:null}}}class Fu{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Vu(t){return!Array.isArray(t)&&"object"==typeof t}function Uu(t){var e;return t?(t=pu(t)).params&&(t.params=(e=t.params)?pu(e):null):t={},t}function qu(t,e,n){return{duration:t,delay:e,easing:n}}function Bu(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class zu{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Hu=new RegExp(":enter","g"),Wu=new RegExp(":leave","g");function $u(t,e,n,r,i,s={},o={},a,u,c=[]){return(new Gu).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class Gu{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new zu;const l=new Qu(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),ku(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Bu(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?hu(n.duration):null,s=null!=n.delay?hu(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),ku(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ku);const t=hu(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>ku(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?hu(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),ku(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return fu(e.params?Cu(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?hu(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ku);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),ku(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;ku(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const Ku={};class Qu{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ku,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Yu(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=hu(n.duration)),null!=n.delay&&(r.delay=hu(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Cu(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Qu(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Ku,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Zu(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(Hu,"."+this._enterClassName)).replace(Wu,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Yu{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Yu(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):mu(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Cu(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=mu(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?Su(t.values()):[],s=e.size?Su(e.values()):[];if(n){const t=r[0],e=pu(t);t.offset=0,e.offset=1,r=[t,e]}return Bu(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class Zu extends Yu{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=mu(t[0],!1);a.offset=0,i.push(a);const u=mu(t[0],!1);u.offset=Ju(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=mu(t[r],!1);o.offset=Ju((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return Bu(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Ju(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Xu{}class tc extends Xu{normalizePropertyName(t,e){return xu(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(ec[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const ec=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function nc(t,e,n,r,i,s,o,a,u,c,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:d}}const rc={};class ic{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||rc,d=this.buildStyles(n,o&&o.params||rc,l),f=a&&a.params||rc,p=this.buildStyles(r,f,l),m=new Set,g=new Map,y=new Map,b="void"===r,_={params:Object.assign(Object.assign({},h),f)},v=c?[]:$u(t,e,this.ast.animation,i,s,d,p,_,u,l);let w=0;if(v.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return nc(e,this._triggerName,n,r,b,d,p,[],[],g,y,w,l);v.forEach(t=>{const n=t.element,r=Ya(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Ya(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const E=Su(m.values());return nc(e,this._triggerName,n,r,b,d,p,v,E,g,y,w)}}class sc{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=pu(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=Cu(s,r,e)),n[t]=s})}}),n}}class oc{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new sc(t.style,t.options&&t.options.params||{})}),ac(this.states,"true","1"),ac(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new ic(t,e,this.states))}),this.fallbackTransition=new ic(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function ac(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const uc=new zu;class cc{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Mu(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=$a(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=$u(this._driver,e,i,"ng-enter","ng-leave",{},{},n,uc,r),s.forEach(t=>{const e=Ya(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=Wa(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=Qa(e,"","","");return Ga(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const lc=[],hc={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},dc={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class fc{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=pu(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const pc=new fc("void");class mc{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ec(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Ya(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Ya(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Ec(t,"ng-trigger"),Ec(t,"ng-trigger-"+e),a[e]=pc),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new yc(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Ec(t,"ng-trigger"),Ec(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new fc(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=pc),"void"!==u.value&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{_u(t,n),bu(t,r)})}return}const c=Ya(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(Ec(t,"ng-animate-queued"),s.onStart(()=>{Cc(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Wa(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||pc,o=new fc("void"),a=new yc(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==hc||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Ec(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Qa(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Ga(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class gc{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new mc(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(bc(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!bc(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ec(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Cc(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(bc(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return bc(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Wa(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=hc,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Ec(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Wa(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new zu,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=wc(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n="ng-enter"+p++;f.set(e,n),t.forEach(t=>Ec(t,n))});const m=[],g=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const b=new Map,_=wc(h,Array.from(g));_.forEach((t,e)=>{const n="ng-leave"+p++;b.set(e,n),t.forEach(t=>Ec(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>Cc(t,n))}),_.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>Cc(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const v=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(v.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=b.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>_u(i,p.fromStyles)),e.onDestroy(()=>bu(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>_u(i,p.fromStyles)),e.onDestroy(()=>bu(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Ya(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),v.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,C=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Ya(E,e,[]).push(t),t.destroy()})});const S=m.filter(t=>Oc(t,a,u)),O=new Map;vc(O,this.driver,y,u,"*").forEach(t=>{Oc(t,a,u)&&S.push(t)});const x=new Map;d.forEach((t,e)=>{vc(x,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=O.get(t),n=x.get(t);O.set(t,Object.assign(Object.assign({},e),n))});const I=[],T=[],k={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>bu(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=k;if(C.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>C.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,x,O);if(s.setRealPlayer(n),t===k)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Wa(e)),r.push(s)}}else _u(e,o.fromStyles),s.onDestroy(()=>bu(e,o.toStyles)),T.push(s),c.has(e)&&r.push(s)}),T.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Wa(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(Cc(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Sc(this,t,r):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=Ya(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}_u(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Ba(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof za?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||lc).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=$a(0,this._normalizer,0,e.keyframes,m,g),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new yc(t,o,h);e.setRealPlayer(b),u.push(e)}return b});u.forEach(t=>{Ya(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>Ec(t,"ng-animating"));const d=Wa(h);return d.onDestroy(()=>{c.forEach(t=>Cc(t,"ng-animating")),bu(a,e.toStyles)}),l.forEach(t=>{Ya(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Ba(t.duration,t.delay)}}class yc{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Ba,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Ga(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ya(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function bc(t){return t&&1===t.nodeType}function _c(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function vc(t,e,n,r,i){const s=[];n.forEach(t=>s.push(_c(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=dc,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>_c(t,s[a++])),o}function wc(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function Ec(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Cc(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Sc(t,e,n){Wa(n).onDone(()=>t.processLeaveNode(e))}function Oc(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class xc{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new gc(t,e,n),this._timelineEngine=new cc(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=Mu(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new oc(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Za(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Za(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ic(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=kc(e[0]),e.length>1&&(r=kc(e[e.length-1]))):e&&(n=kc(e)),n||r?new Tc(t,n,r):null}let Tc=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&bu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bu(this._element,this._initialStyles),this._endStyles&&(bu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(_u(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_u(this._element,this._endStyles),this._endStyles=null),bu(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function kc(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Ac(i)&&(e=e||{},e[i]=t[i])}return e}function Ac(t){return"display"===t||"position"===t}class Pc{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Lc(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Mc(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),jc(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Dc(this._element,this._name,"paused")}resume(){Dc(this._element,this._name,"running")}setPosition(t){const e=Rc(this._element,this._name);this._position=t*this._duration,Mc(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),jc(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Lc(t,"").split(","),r=Nc(n,e);r>=0&&(n.splice(r,1),Mc(t,"",n.join(",")))}(this._element,this._name))}}function Dc(t,e,n){Mc(t,"PlayState",n,Rc(t,e))}function Rc(t,e){const n=Lc(t,"");return n.indexOf(",")>0?Nc(n.split(","),e):Nc([n],e)}function Nc(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function jc(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Mc(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Lc(t,e){return t.style["animation"+e]}class Fc{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Pc(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Au(this.element,n))})}this.currentSnapshot=t}}class Vc extends Ba{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=uu(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Uc{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return iu(t)}matchesElement(t,e){return su(t,e)}containsElement(t,e){return ou(t,e)}query(t,e,n){return au(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>uu(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.innerHTML=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof Fc),u={};Iu(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Tu(t,e,u));if(0==n)return new Vc(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=Ic(t,e),f=new Fc(t,e,l,n,r,i,c,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class qc{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Au(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Bc{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(zc().toString()),this._cssKeyframesDriver=new Uc}validateStyleProperty(t){return iu(t)}matchesElement(t,e){return su(t,e)}containsElement(t,e){return ou(t,e)}query(t,e,n){return au(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof qc);Iu(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=Ic(t,e=Tu(t,e=e.map(t=>mu(t,!1)),u));return new qc(t,e,a,l)}}function zc(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Hc=(()=>{class t extends Na{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.Q.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?La(t):t;return Gc(this._renderer,null,e,"register",[n]),new Wc(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.F),r.Wb(a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class Wc extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new $c(this._id,t,e||{},this._renderer)}}class $c{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Gc(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function Gc(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let Kc=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Qc("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new Yc(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.F),r.Wb(xc),r.Wb(r.z))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class Qc{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Yc extends Qc{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Zc=(()=>{class t extends xc{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a),r.Wb(lu),r.Wb(Xu))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const Jc=new r.q("AnimationModuleType"),Xc=[{provide:lu,useFactory:function(){return"function"==typeof zc()?new Bc:new Uc}},{provide:Jc,useValue:"BrowserAnimations"},{provide:Na,useClass:Hc},{provide:Xu,useFactory:function(){return new tc}},{provide:xc,useClass:Zc},{provide:r.F,useFactory:function(t,e,n){return new Kc(t,e,n)},deps:[st,xc,r.z]}];let tl=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:Xc,imports:[bt]}),t})();const el=new r.O("9.2.4"),nl=new r.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let rl,il=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return Object(r.W)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&el.full!==Ra.full&&console.warn("The Angular Material version ("+el.full+") does not match the Angular CDK version ("+Ra.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)(r.Wb(Da),r.Wb(nl,8),r.Wb(a,8))},imports:[[So],So]}),t})();function sl(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Ms(t)}}}function ol(t,e){return class extends t{constructor(...t){super(...t),this.color=e}get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),n&&this._elementRef.nativeElement.classList.add("mat-"+n),this._color=n)}}}function al(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Ms(t)}}}function ul(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new wt.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{rl="undefined"!=typeof Intl}catch(Hx){rl=!1}let cl=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class ll{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const hl={enterDuration:450,exitDuration:400},dl=vo({passive:!0}),fl=["mousedown","touchstart"],pl=["mouseup","mouseleave","touchend","touchcancel"];class ml{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Us(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},hl),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,u=i.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=o-s+"px",c.style.top=a-s+"px",c.style.height=2*s+"px",c.style.width=2*s+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=u+"ms",this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const l=new ll(this,c,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},u),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},hl),t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=Us(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(fl))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(pl),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Ia(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,dl)})})}_removeTriggerEvents(){this._triggerElement&&(fl.forEach(t=>{this._triggerElement.removeEventListener(t,this,dl)}),this._pointerUpEventsRegistered&&pl.forEach(t=>{this._triggerElement.removeEventListener(t,this,dl)}))}}const gl=new r.q("mat-ripple-global-options");let yl=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new ml(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.z),r.Nb(po),r.Nb(gl,8),r.Nb(Jc,8))},t.\u0275dir=r.Ib({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Eb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),bl=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[il,mo],il]}),t})();const _l=new r.q("mat-label-global-options");function vl(t,e){}class wl{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const El={dialogContainer:ja("dialogContainer",[Va("void, exit",Fa({opacity:0,transform:"scale(0.7)"})),Va("enter",Fa({transform:"none"})),Ua("* => enter",Ma("150ms cubic-bezier(0, 0, 0.2, 1)",Fa({transform:"none",opacity:1}))),Ua("* => void, * => exit",Ma("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Fa({opacity:0})))])};function Cl(){throw Error("Attempting to attach dialog content after content is already attached")}let Sl=(()=>{class t extends No{constructor(t,e,n,i,s){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=s,this._elementFocusedBeforeDialogWasOpened=null,this._state="enter",this._animationStateChanged=new r.n,this.attachDomPortal=t=>(this._portalOutlet.hasAttached()&&Cl(),this._setupFocusTrap(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=i}attachComponentPortal(t){return this._portalOutlet.hasAttached()&&Cl(),this._setupFocusTrap(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached()&&Cl(),this._setupFocusTrap(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._focusTrap.focusInitialElement()||this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_containsFocus(){const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}_onAnimationDone(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(xa),r.Nb(r.h),r.Nb(a,8),r.Nb(wl))},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-dialog-container"]],viewQuery:function(t,e){var n;1&t&&r.oc(Mo,!0),2&t&&r.ic(n=r.bc())&&(e._portalOutlet=n.first)},hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&r.Fb("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),2&t&&(r.Db("id",e._id)("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),r.vc("@dialogContainer",e._state))},features:[r.zb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.qc(0,vl,0,0,"ng-template",0)},directives:[Mo],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[El.dialogContainer]}}),t})(),Ol=0;class xl{constructor(t,e,n="mat-dialog-"+Ol++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new wt.a,this._afterClosed=new wt.a,this._beforeClosed=new wt.a,this._state=0,e._id=n,e._animationStateChanged.pipe(Ut(t=>"done"===t.phaseName&&"enter"===t.toState),oe(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Ut(t=>"done"===t.phaseName&&"exit"===t.toState),oe(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Ut(t=>27===t.keyCode&&!this.disableClose&&!Fo(t))).subscribe(t=>{t.preventDefault(),this.close()}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():this.close()})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Ut(t=>"start"===t.phaseName),oe(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._containerInstance._startExitAnimation(),this._state=1}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}const Il=new r.q("MatDialogData"),Tl=new r.q("mat-dialog-default-options"),kl=new r.q("mat-dialog-scroll-strategy"),Al={provide:kl,deps:[la],useFactory:function(t){return()=>t.scrollStrategies.block()}};let Pl=(()=>{class t{constructor(t,e,n,r,i,s,o){this._overlay=t,this._injector=e,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new wt.a,this._afterOpenedAtThisLevel=new wt.a,this._ariaHiddenElements=new Map,this.afterAllClosed=jt(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(ye(void 0))),this._scrollStrategy=i}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}get _afterAllClosed(){const t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}open(t,e){if((e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new wl)).id&&this.getDialogById(e.id))throw Error(`Dialog with id "${e.id}" exists already. The dialog id must be unique.`);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new Go({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=r.r.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:wl,useValue:e}]}),i=new Po(Sl,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const s=new xl(n,e,i.id);if(t instanceof r.L)e.attachTemplatePortal(new Do(t,null,{$implicit:i.data,dialogRef:s}));else{const n=this._createInjector(i,s,e),r=e.attachComponentPortal(new Po(t,i.viewContainerRef,n));s.componentInstance=r.instance}return s.updateSize(i.width,i.height).updatePosition(i.position),s}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,s=[{provide:Sl,useValue:n},{provide:Il,useValue:t.data},{provide:xl,useValue:e}];return!t.direction||i&&i.get(Co,null)||s.push({provide:Co,useValue:{value:t.direction,change:Object(_t.a)()}}),r.r.create({parent:i||this._injector,providers:s})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(la),r.Wb(r.r),r.Wb(E,8),r.Wb(Tl,8),r.Wb(kl),r.Wb(t,12),r.Wb(ta))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),Dl=0,Rl=(()=>{class t{constructor(t,e,n){this._dialogRef=t,this._elementRef=e,this._dialog=n,this.id="mat-dialog-title-"+Dl++}ngOnInit(){this._dialogRef||(this._dialogRef=function(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(t=>t.id===n.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(xl,8),r.Nb(r.l),r.Nb(Pl))},t.\u0275dir=r.Ib({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,e){2&t&&r.Vb("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t})(),Nl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t})(),jl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),t})(),Ml=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[Pl,Al],imports:[[da,Lo,il],il]}),t})();class Ll{constructor(t,e,n,r){this.email=t,this.id=e,this._token=n,this._tokenExpirationDate=r}get token(){return!this._tokenExpirationDate||new Date>this._tokenExpirationDate?null:this._token}}class Fl{}class Vl{}class Ul{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ul?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ul;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ul?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class ql{encodeKey(t){return Bl(t)}encodeValue(t){return Bl(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Bl(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class zl{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ql,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new zl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Hl(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Wl(t){return"undefined"!=typeof Blob&&t instanceof Blob}function $l(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Gl{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Ul),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new zl,this.urlWithParams=e}serializeBody(){return null===this.body?null:Hl(this.body)||Wl(this.body)||$l(this.body)||"string"==typeof this.body?this.body:this.body instanceof zl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$l(this.body)?null:Wl(this.body)?this.body.type||null:Hl(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof zl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new Gl(e,n,i,{params:u,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}const Kl=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class Ql{constructor(t,e=200,n="OK"){this.headers=t.headers||new Ul,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Yl extends Ql{constructor(t={}){super(t),this.type=Kl.ResponseHeader}clone(t={}){return new Yl({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Zl extends Ql{constructor(t={}){super(t),this.type=Kl.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Zl({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Jl extends Ql{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Xl(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let th=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Gl)r=t;else{let i=void 0;i=n.headers instanceof Ul?n.headers:new Ul(n.headers);let s=void 0;n.params&&(s=n.params instanceof zl?n.params:new zl({fromObject:n.params})),r=new Gl(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(_t.a)(r).pipe(we(t=>this.handler.handle(t)));if(t instanceof Gl||"events"===n.observe)return i;const s=i.pipe(Ut(t=>t instanceof Zl));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(Mt.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(Mt.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(Mt.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(Mt.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new zl).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Xl(n,e))}post(t,e,n={}){return this.request("POST",t,Xl(n,e))}put(t,e,n={}){return this.request("PUT",t,Xl(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Fl))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class eh{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const nh=new r.q("HTTP_INTERCEPTORS");let rh=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const ih=/^\)\]\}',?\n/;class sh{}let oh=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),ah=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new St.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new Ul(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Yl({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(ih,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new Zl({body:u,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new Jl({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new Jl({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(s()),u=!0);let i={type:Kl.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:Kl.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:Kl.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(sh))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const uh=new r.q("XSRF_COOKIE_NAME"),ch=new r.q("XSRF_HEADER_NAME");class lh{}let hh=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=k(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a),r.Wb(r.B),r.Wb(uh))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),dh=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(lh),r.Wb(ch))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),fh=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(nh,[]);this.chain=t.reduceRight((t,e)=>new eh(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Vl),r.Wb(r.r))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),ph=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:dh,useClass:rh}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:uh,useValue:e.cookieName}:[],e.headerName?{provide:ch,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[dh,{provide:nh,useExisting:dh,multi:!0},{provide:lh,useClass:hh},{provide:uh,useValue:"XSRF-TOKEN"},{provide:ch,useValue:"X-XSRF-TOKEN"}]}),t})(),mh=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[th,{provide:Fl,useClass:fh},ah,{provide:Vl,useExisting:ah},oh,{provide:sh,useExisting:oh}],imports:[[ph.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),gh=(()=>{class t{constructor(t){this.http=t,this.baseSignUpUrl="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=",this.baseSignInUrl="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=",this.apiKey="AIzaSyD1O6sO7uFrwlns1gR1PGfAibtNu_uyHoA",this.user=new Ct(null)}signUp(t,e){return this.http.post(`${this.baseSignUpUrl}${this.apiKey}`,{email:t,password:e,returnSecureToken:!0}).pipe(Object(Ce.a)(t=>{this.handleAuthentication(t.email,t.localId,t.idToken,+t.expiresIn)}))}signIn(t,e){return this.http.post(`${this.baseSignInUrl}${this.apiKey}`,{email:t,password:e,returnSecureToken:!0}).pipe(Object(Ce.a)(t=>{this.handleAuthentication(t.email,t.localId,t.idToken,+t.expiresIn)}))}logout(){this.user.next(null),localStorage.removeItem("userData")}autologin(){const t=JSON.parse(localStorage.getItem("userData"));if(!t)return;const e=new Ll(t.email,t.id,t._token,new Date(t._tokenExpirationDate));if(e.token){const n=new Date(t._tokenExpirationDate).getTime()-(new Date).getTime();this.autologout(n),this.user.next(e)}}autologout(t){this.tokenExpirationTimer=setTimeout(()=>{this.logout()},t)}handleAuthentication(t,e,n,r){const i=new Date((new Date).getTime()+1e3*+r),s=new Ll(t,e,n,i);this.user.next(s),this.autologout(1e3*r),localStorage.setItem("userData",JSON.stringify(s))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(th))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var yh=n("WMd4");function bh(t,e=Js.a){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new _h(r,e))}class _h{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new vh(t,this.delay,this.scheduler))}}class vh extends Vt.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(vh.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new wh(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(yh.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(yh.a.createComplete()),this.unsubscribe()}}class wh{constructor(t,e){this.time=t,this.notification=e}}const Eh=["mat-menu-item",""],Ch=["*"];let Sh=(()=>{class t{constructor(t,e,n,r,i,s,o){this._template=t,this._componentFactoryResolver=e,this._appRef=n,this._injector=r,this._viewContainerRef=i,this._document=s,this._changeDetectorRef=o,this._attached=new wt.a}attach(t={}){this._portal||(this._portal=new Do(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new jo(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const e=this._template.elementRef.nativeElement;e.parentNode.insertBefore(this._outlet.outletElement,e),this._changeDetectorRef&&this._changeDetectorRef.markForCheck(),this._portal.attach(this._outlet,t),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.L),r.Nb(r.j),r.Nb(r.g),r.Nb(r.r),r.Nb(r.P),r.Nb(a),r.Nb(r.h))},t.\u0275dir=r.Ib({type:t,selectors:[["ng-template","matMenuContent",""]]}),t})();const Oh=new r.q("MAT_MENU_PANEL");class xh{}const Ih=al(sl(xh));let Th=(()=>{class t extends Ih{constructor(t,e,n,r){super(),this._elementRef=t,this._focusMonitor=n,this._parentMenu=r,this.role="menuitem",this._hovered=new wt.a,this._focused=new wt.a,this._highlighted=!1,this._triggersSubmenu=!1,n&&n.monitor(this._elementRef,!1),r&&r.addItem&&r.addItem(this),this._document=e}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement,e=this._document?this._document.TEXT_NODE:3;let n="";if(t.childNodes){const r=t.childNodes.length;for(let i=0;i<r;i++)t.childNodes[i].nodeType===e&&(n+=t.childNodes[i].textContent)}return n.trim()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(a),r.Nb(Aa),r.Nb(Oh,8))},t.\u0275cmp=r.Hb({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,e){1&t&&r.ac("click",(function(t){return e._checkDisabled(t)}))("mouseenter",(function(){return e._handleMouseEnter()})),2&t&&(r.Db("role",e.role)("tabindex",e._getTabIndex())("aria-disabled",e.disabled.toString())("disabled",e.disabled||null),r.Eb("mat-menu-item",!0)("mat-menu-item-highlighted",e._highlighted)("mat-menu-item-submenu-trigger",e._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[r.zb],attrs:Eh,ngContentSelectors:Ch,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(t,e){1&t&&(r.ec(),r.dc(0),r.Ob(1,"div",0)),2&t&&(r.Cb(1),r.fc("matRippleDisabled",e.disableRipple||e.disabled)("matRippleTrigger",e._getHostElement()))},directives:[yl],encapsulation:2,changeDetection:0}),t})();const kh=new r.q("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Ah=0,Ph=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._ngZone=e,this._defaultOptions=n,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new r.D,this._tabSubscription=Se.a.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new wt.a,this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new r.n,this.close=this.closed,this.panelId="mat-menu-panel-"+Ah++}get xPosition(){return this._xPosition}set xPosition(t){"before"!==t&&"after"!==t&&function(){throw Error('xPosition value must be either \'before\' or after\'.\n      Example: <mat-menu xPosition="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){"above"!==t&&"below"!==t&&function(){throw Error('yPosition value must be either \'above\' or below\'.\n      Example: <mat-menu yPosition="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Ms(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Ms(t)}set panelClass(t){const e=this._previousPanelClass;e&&e.length&&e.split(" ").forEach(t=>{this._classList[t]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(t=>{this._classList[t]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new wa(this._directDescendantItems).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(ye(this._directDescendantItems),fe(t=>Object(zs.a)(...t.map(t=>t._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(ye(this._directDescendantItems),fe(t=>Object(zs.a)(...t.map(t=>t._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const e=t.keyCode,n=this._keyManager;switch(e){case 27:Fo(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;case 36:case 35:Fo(t)||(36===e?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault());break;default:38!==e&&40!==e||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.asObservable().pipe(oe(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const e=this._keyManager;if(e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length){let t=this._directDescendantItems.first._getHostElement().parentElement;for(;t;){if("menu"===t.getAttribute("role")){t.focus();break}t=t.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const e="mat-elevation-z"+Math.min(4+t,24),n=Object.keys(this._classList).find(t=>t.startsWith("mat-elevation-z"));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}setPositionClasses(t=this.xPosition,e=this.yPosition){const n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(ye(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.z),r.Nb(kh))},t.\u0275dir=r.Ib({type:t,contentQueries:function(t,e,n){var i;1&t&&(r.Gb(n,Sh,!0),r.Gb(n,Th,!0),r.Gb(n,Th,!1)),2&t&&(r.ic(i=r.bc())&&(e.lazyContent=i.first),r.ic(i=r.bc())&&(e._allItems=i),r.ic(i=r.bc())&&(e.items=i))},viewQuery:function(t,e){var n;1&t&&r.wc(r.L,!0),2&t&&r.ic(n=r.bc())&&(e.templateRef=n.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),t})(),Dh=(()=>{class t extends Ph{}return t.\u0275fac=function(e){return Rh(e||t)},t.\u0275dir=r.Ib({type:t,features:[r.zb]}),t})();const Rh=r.Ub(Dh),Nh=new r.q("mat-menu-scroll-strategy"),jh={provide:Nh,deps:[la],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},Mh=vo({passive:!0});let Lh=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this._overlay=t,this._element=e,this._viewContainerRef=n,this._parentMenu=s,this._menuItemInstance=o,this._dir=a,this._focusMonitor=u,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Se.a.EMPTY,this._hoverSubscription=Se.a.EMPTY,this._menuCloseSubscription=Se.a.EMPTY,this._handleTouchStart=()=>this._openedBy="touch",this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new r.n,this.onMenuOpen=this.menuOpened,this.menuClosed=new r.n,this.onMenuClose=this.menuClosed,e.nativeElement.addEventListener("touchstart",this._handleTouchStart,Mh),o&&(o._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=i}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.asObservable().subscribe(t=>{this._destroyMenu(),"click"!==t&&"tab"!==t||!this._parentMenu||this._parentMenu.closed.emit(t)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Mh),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),e=t.getConfig();this._setPosition(e.positionStrategy),e.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof Dh&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}_destroyMenu(){if(!this._overlayRef||!this.menuOpen)return;const t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this._restoreFocus(),t instanceof Dh?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(Ut(t=>"void"===t.toState),oe(1),io(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t.lazyContent&&t.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}_setMenuElevation(){if(this.menu.setElevation){let t=0,e=this.menu.parentMenu;for(;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}_restoreFocus(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}_checkMenu(){this.menu||function(){throw Error('matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new Go({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(t=>{this.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[e,n]="before"===this.menu.xPosition?["end","start"]:["start","end"],[r,i]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[s,o]=[r,i],[a,u]=[e,n],c=0;this.triggersSubmenu()?(u=e="before"===this.menu.xPosition?"start":"end",n=a="end"===e?"start":"end",c="bottom"===r?8:-8):this.menu.overlapTrigger||(s="top"===r?"bottom":"top",o="top"===i?"bottom":"top"),t.withPositions([{originX:e,originY:s,overlayX:a,overlayY:r,offsetY:c},{originX:n,originY:s,overlayX:u,overlayY:r,offsetY:c},{originX:e,originY:o,overlayX:a,overlayY:i,offsetY:-c},{originX:n,originY:o,overlayX:u,overlayY:i,offsetY:-c}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),e=this._overlayRef.detachments(),n=this._parentMenu?this._parentMenu.closed:Object(_t.a)(),r=this._parentMenu?this._parentMenu._hovered().pipe(Ut(t=>t!==this._menuItemInstance),Ut(()=>this._menuOpen)):Object(_t.a)();return Object(zs.a)(t,n,r,e)}_handleMousedown(t){Ia(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const e=t.keyCode;this.triggersSubmenu()&&(39===e&&"ltr"===this.dir||37===e&&"rtl"===this.dir)&&this.openMenu()}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(Ut(t=>t===this._menuItemInstance&&!t.disabled),bh(0,Qs.a)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Dh&&this.menu._isAnimating?this.menu._animationDone.pipe(oe(1),bh(0,Qs.a),io(this._parentMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new Do(this.menu.templateRef,this._viewContainerRef)),this._portal}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(la),r.Nb(r.l),r.Nb(r.P),r.Nb(Nh),r.Nb(Dh,8),r.Nb(Th,10),r.Nb(Co,8),r.Nb(Aa))},t.\u0275dir=r.Ib({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(t,e){1&t&&r.ac("mousedown",(function(t){return e._handleMousedown(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("click",(function(t){return e._handleClick(t)})),2&t&&r.Db("aria-expanded",e.menuOpen||null)("aria-controls",e.menuOpen?e.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),t})(),Fh=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[jh],imports:[il]}),t})(),Vh=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[jh],imports:[[q,il,bl,da,Fh],Io,il,Fh]}),t})();class Uh{constructor(t,e){this.title=t,this.content=e,this.date=new Date,this.id=this.getId()}getId(){return Math.floor(1e7*Math.random())}}let qh=(()=>{class t{constructor(t,e){this.http=t,this.auth=e,this.$notesChanged=new wt.a,this.notes=[],this.baseUrl="https://notesapp-b2c5d-default-rtdb.firebaseio.com/users/",this.wereOrdered=!1}ngOnInit(){}onFetchPosts(){this.fetchPosts()}addNote(){const t=new Uh("Type a title","Type content");this.http.post(this.baseUrl+this.uid+"/notes.json",t).subscribe(t=>{this.fetchPosts().subscribe(t=>{this.notes=t,this.$notesChanged.next(this.notes)})})}fetchPosts(){return this.updateUserId(),this.http.get(this.baseUrl+this.uid+"/notes.json").pipe(Object(Mt.a)(t=>{const e=[];for(let n in t)t.hasOwnProperty&&e.push(Object.assign(Object.assign({},t[n]),{id:n}));return this.notes=e.sort((t,e)=>{console.log(t.date,e.date);let n=new Date(t.date);return new Date(e.date).getTime()-n.getTime()}),this.notes}))}updateNote(t,e,n){const r=this.baseUrl+this.uid+"/notes/"+t+".json",i=e.nativeElement.innerText,s=n.nativeElement.innerText,o=new Date;this.http.patch(r,{title:i,content:s,date:o}).subscribe(t=>{console.log(t),this.fetchPosts().subscribe(t=>{this.notes=t,this.$notesChanged.next(this.notes)})})}removeNote(t){return this.http.delete(this.baseUrl+this.uid+"/notes/"+t+".json").subscribe(t=>{this.fetchPosts().subscribe(t=>{this.notes=t,this.$notesChanged.next(this.notes)})})}updateUserId(){this.auth.user.subscribe(t=>{t&&(console.log("updating user"),this.uid=t.id)})}updateColor(t,e){const n=this.baseUrl+this.uid+"/notes/"+t+".json",r=new Date;this.http.patch(n,{color:e,date:r}).subscribe(t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(th),r.Wb(gh))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Bh=["underline"],zh=["connectionContainer"],Hh=["inputContainer"],Wh=["label"];function $h(t,e){1&t&&(r.Qb(0),r.Sb(1,"div",14),r.Ob(2,"div",15),r.Ob(3,"div",16),r.Ob(4,"div",17),r.Rb(),r.Sb(5,"div",18),r.Ob(6,"div",15),r.Ob(7,"div",16),r.Ob(8,"div",17),r.Rb(),r.Pb())}function Gh(t,e){1&t&&(r.Sb(0,"div",19),r.dc(1,1),r.Rb())}function Kh(t,e){if(1&t&&(r.Qb(0),r.dc(1,2),r.Sb(2,"span"),r.sc(3),r.Rb(),r.Pb()),2&t){const t=r.cc(2);r.Cb(3),r.tc(t._control.placeholder)}}function Qh(t,e){1&t&&r.dc(0,3,["*ngSwitchCase","true"])}function Yh(t,e){1&t&&(r.Sb(0,"span",23),r.sc(1," *"),r.Rb())}function Zh(t,e){if(1&t){const t=r.Tb();r.Sb(0,"label",20,21),r.ac("cdkObserveContent",(function(){return r.kc(t),r.cc().updateOutlineGap()})),r.qc(2,Kh,4,1,"ng-container",12),r.qc(3,Qh,1,0,void 0,12),r.qc(4,Yh,2,0,"span",22),r.Rb()}if(2&t){const t=r.cc();r.Eb("mat-empty",t._control.empty&&!t._shouldAlwaysFloat)("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat)("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),r.fc("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),r.Db("for",t._control.id)("aria-owns",t._control.id),r.Cb(2),r.fc("ngSwitchCase",!1),r.Cb(1),r.fc("ngSwitchCase",!0),r.Cb(1),r.fc("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function Jh(t,e){1&t&&(r.Sb(0,"div",24),r.dc(1,4),r.Rb())}function Xh(t,e){if(1&t&&(r.Sb(0,"div",25,26),r.Ob(2,"span",27),r.Rb()),2&t){const t=r.cc();r.Cb(2),r.Eb("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function td(t,e){if(1&t&&(r.Sb(0,"div"),r.dc(1,5),r.Rb()),2&t){const t=r.cc();r.fc("@transitionMessages",t._subscriptAnimationState)}}function ed(t,e){if(1&t&&(r.Sb(0,"div",31),r.sc(1),r.Rb()),2&t){const t=r.cc(2);r.fc("id",t._hintLabelId),r.Cb(1),r.tc(t.hintLabel)}}function nd(t,e){if(1&t&&(r.Sb(0,"div",28),r.qc(1,ed,2,2,"div",29),r.dc(2,6),r.Ob(3,"div",30),r.dc(4,7),r.Rb()),2&t){const t=r.cc();r.fc("@transitionMessages",t._subscriptAnimationState),r.Cb(1),r.fc("ngIf",t.hintLabel)}}const rd=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],id=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let sd=0,od=(()=>{class t{constructor(){this.id="mat-error-"+sd++}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&r.Db("id",e.id)},inputs:{id:"id"}}),t})();const ad={transitionMessages:ja("transitionMessages",[Va("enter",Fa({opacity:1,transform:"translateY(0%)"})),Ua("void => enter",[Fa({opacity:0,transform:"translateY(-100%)"}),Ma("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ud=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t}),t})();function cd(t){return Error(`A hint was already declared for 'align="${t}"'.`)}let ld=0,hd=(()=>{class t{constructor(){this.align="start",this.id="mat-hint-"+ld++}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,e){2&t&&(r.Db("id",e.id)("align",null),r.Eb("mat-right","end"==e.align))},inputs:{align:"align",id:"id"}}),t})(),dd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-label"]]}),t})(),fd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-placeholder"]]}),t})(),pd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","matPrefix",""]]}),t})(),md=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","matSuffix",""]]}),t})(),gd=0;class yd{constructor(t){this._elementRef=t}}const bd=ol(yd,"primary"),_d=new r.q("MAT_FORM_FIELD_DEFAULT_OPTIONS"),vd=new r.q("MatFormField");let wd=(()=>{class t extends bd{constructor(t,e,n,r,i,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new wt.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+gd++,this._labelId="mat-form-field-label-"+gd++,this._labelOptions=n||{},this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Ms(t)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}get _labelChild(){return this._labelChildNonStatic||this._labelChildStatic}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+t.controlType),t.stateChanges.pipe(ye(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(io(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(io(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(zs.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ye(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ye(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(io(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Bs(this._label.nativeElement,"transitionend").pipe(oe(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let t,e;this._hintChildren.forEach(n=>{if("start"===n.align){if(t||this.hintLabel)throw cd("start");t=n}else if("end"===n.align){if(e)throw cd("end");e=n}})}}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if("hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=this._getStartEnd(t.children[0].getBoundingClientRect());let a=0;for(const e of t.children)a+=e.offsetWidth;e=Math.abs(o-s)-5,n=a>0?.75*a+10:0}for(let o=0;o<i.length;o++)i[o].style.width=e+"px";for(let o=0;o<s.length;o++)s[o].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.h),r.Nb(_l,8),r.Nb(Co,8),r.Nb(_d,8),r.Nb(po),r.Nb(r.z),r.Nb(Jc,8))},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var i;1&t&&(r.Gb(n,ud,!0),r.nc(n,ud,!0),r.Gb(n,dd,!0),r.nc(n,dd,!0),r.Gb(n,fd,!0),r.Gb(n,od,!0),r.Gb(n,hd,!0),r.Gb(n,pd,!0),r.Gb(n,md,!0)),2&t&&(r.ic(i=r.bc())&&(e._controlNonStatic=i.first),r.ic(i=r.bc())&&(e._controlStatic=i.first),r.ic(i=r.bc())&&(e._labelChildNonStatic=i.first),r.ic(i=r.bc())&&(e._labelChildStatic=i.first),r.ic(i=r.bc())&&(e._placeholderChild=i.first),r.ic(i=r.bc())&&(e._errorChildren=i),r.ic(i=r.bc())&&(e._hintChildren=i),r.ic(i=r.bc())&&(e._prefixChildren=i),r.ic(i=r.bc())&&(e._suffixChildren=i))},viewQuery:function(t,e){var n;1&t&&(r.wc(Bh,!0),r.oc(zh,!0),r.wc(Hh,!0),r.wc(Wh,!0)),2&t&&(r.ic(n=r.bc())&&(e.underlineRef=n.first),r.ic(n=r.bc())&&(e._connectionContainerRef=n.first),r.ic(n=r.bc())&&(e._inputContainerRef=n.first),r.ic(n=r.bc())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&r.Eb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat)("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r.Bb([{provide:vd,useExisting:t}]),r.zb],ngContentSelectors:id,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.ec(rd),r.Sb(0,"div",0),r.Sb(1,"div",1,2),r.ac("click",(function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)})),r.qc(3,$h,9,0,"ng-container",3),r.qc(4,Gh,2,0,"div",4),r.Sb(5,"div",5,6),r.dc(7),r.Sb(8,"span",7),r.qc(9,Zh,5,16,"label",8),r.Rb(),r.Rb(),r.qc(10,Jh,2,0,"div",9),r.Rb(),r.qc(11,Xh,3,4,"div",10),r.Sb(12,"div",11),r.qc(13,td,2,1,"div",12),r.qc(14,nd,5,2,"div",13),r.Rb(),r.Rb()),2&t&&(r.Cb(3),r.fc("ngIf","outline"==e.appearance),r.Cb(1),r.fc("ngIf",e._prefixChildren.length),r.Cb(5),r.fc("ngIf",e._hasFloatingLabel()),r.Cb(1),r.fc("ngIf",e._suffixChildren.length),r.Cb(1),r.fc("ngIf","outline"!=e.appearance),r.Cb(1),r.fc("ngSwitch",e._getDisplayedMessages()),r.Cb(1),r.fc("ngSwitchCase","error"),r.Cb(1),r.fc("ngSwitchCase","hint"))},directives:[N,F,V,_a],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[ad.transitionMessages]},changeDetection:0}),t})(),Ed=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[q,il,va],il]}),t})();const Cd=vo({passive:!0});let Sd=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Nt.a;const e=Us(t),n=this._monitoredElements.get(e);if(n)return n.subject.asObservable();const r=new wt.a,i="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,Cd),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",s,Cd)}}),r.asObservable()}stopMonitoring(t){const e=Us(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(po),r.Wb(r.z))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(po),Object(r.Wb)(r.z))},token:t,providedIn:"root"}),t})(),Od=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[mo]]}),t})();const xd=new r.q("MAT_INPUT_VALUE_ACCESSOR"),Id=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Td=0;class kd{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const Ad=ul(kd);let Pd=(()=>{class t extends Ad{constructor(t,e,n,r,i,s,o,a,u){super(s,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._uid="mat-input-"+Td++,this.focused=!1,this.stateChanges=new wt.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>yo().has(t));const c=this._elementRef.nativeElement,l=c.nodeName.toLowerCase();this._inputValueAccessor=o||c,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===l,this._isTextarea="textarea"===l,this._isNativeSelect&&(this.controlType=c.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Ms(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=Ms(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&yo().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Ms(t)}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){if(Id.indexOf(this._type)>-1)throw Error(`Input type "${this._type}" isn't supported by matInput.`)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(po),r.Nb(Oi,10),r.Nb(_s,8),r.Nb(Os,8),r.Nb(cl),r.Nb(xd,10),r.Nb(Sd),r.Nb(r.z))},t.\u0275dir=r.Ib({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:10,hostBindings:function(t,e){1&t&&r.ac("focus",(function(){return e._focusChanged(!0)}))("blur",(function(){return e._focusChanged(!1)}))("input",(function(){return e._onInput()})),2&t&&(r.Vb("disabled",e.disabled)("required",e.required),r.Db("id",e.id)("placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-describedby",e._ariaDescribedby||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),r.Eb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher"},exportAs:["matInput"],features:[r.Bb([{provide:ud,useExisting:t}]),r.zb,r.Ab]}),t})(),Dd=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[cl],imports:[[Od,Ed],Od,Ed]}),t})();const Rd=["mat-button",""],Nd=["*"],jd=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class Md{constructor(t){this._elementRef=t}}const Ld=ol(sl(al(Md)));let Fd=(()=>{class t extends Ld{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of jd)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this._focusMonitor.monitor(this._elementRef,!0),this.isRoundButton&&(this.color="accent")}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(Aa),r.Nb(Jc,8))},t.\u0275cmp=r.Hb({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&r.wc(yl,!0),2&t&&r.ic(n=r.bc())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:3,hostBindings:function(t,e){2&t&&(r.Db("disabled",e.disabled||null),r.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.zb],attrs:Rd,ngContentSelectors:Nd,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.ec(),r.Sb(0,"span",0),r.dc(1),r.Rb(),r.Ob(2,"div",1),r.Ob(3,"div",2)),2&t&&(r.Cb(2),r.Eb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.fc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[yl],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})(),Vd=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[bl,il],il]}),t})();function Ud(t,e){if(1&t&&(r.Sb(0,"mat-error",11),r.sc(1),r.Rb()),2&t){const t=r.cc();r.Cb(1),r.tc(t.wrongMailMessage)}}function qd(t,e){if(1&t&&(r.Sb(0,"mat-error",11),r.sc(1),r.Rb()),2&t){const t=r.cc();r.Cb(1),r.tc(t.wrongPasswordMessage)}}let Bd=(()=>{class t{constructor(t,e,n,r){this.dialogRef=t,this.auth=e,this.router=n,this.noteMaker=r,this.isLoginMode=!0,this.isLoading=!1,this.wrongMail=!1,this.wrongPassword=!1}ngOnInit(){this.signInForm=new ms({email:new ps(null),password:new ps(null)})}onSubmit(){this.wrongMail=!1,this.wrongPassword=!1,this.wrongMailMessage=null,this.wrongPasswordMessage=null,this.isLoading=!0;const{email:t,password:e}=this.signInForm.value;let n;n=this.isLoginMode?this.auth.signIn(t,e):this.auth.signUp(t,e),n.subscribe(t=>{this.isLoading=!1,console.log("redirecting"),this.dialogRef.close(),this.router.navigate(["/notes"])},t=>{const e=t.error.error.message;console.log(e),this.errorHandling(e),this.isLoading=!1})}onSwitchLogMode(){this.isLoginMode=!this.isLoginMode,console.log("switching")}errorHandling(t){switch(console.log("errorHandling"),t){case"EMAIL_NOT_FOUND":this.wrongMailMessage="E-mail not found!",this.wrongMail=!0;break;case"INVALID_PASSWORD":console.log("error invalid password"),this.wrongPasswordMessage="Invalid password!",this.wrongPassword=!0;break;case"INVALID_EMAIL":console.log("error invalid email"),this.wrongMailMessage="Invalid e-mail!",this.wrongMail=!0;break;case"MISSING_PASSWORD":this.wrongPasswordMessage="Missing password!",this.wrongPassword=!0;break;case"MISSING_EMAIL":this.wrongMailMessage="Missing e-mail!",this.wrongMail=!0;break;case"EMAIL_EXISTS":this.wrongMailMessage="E-mail already registered!",this.wrongMail=!0}}resetErrors(){this.wrongMail=!1,this.wrongPassword=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(xl),r.Nb(gh),r.Nb(zr),r.Nb(qh))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-log-form"]],decls:16,vars:5,consts:[["id","signInForm"],["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],[1,"form-group"],["matInput","","type","email","placeholder","Type your e-mail","formControlName","email",3,"click"],["class","error-message",4,"ngIf"],["matInput","","type","password","placeholder","Type your password","formControlName","password",3,"click"],["mat-dialog-actions",""],["mat-button","",3,"click"],[3,"click"],[1,"error-message"]],template:function(t,e){1&t&&(r.Sb(0,"section",0),r.Sb(1,"h3",1),r.sc(2),r.Rb(),r.Sb(3,"div",2),r.Sb(4,"form",3),r.Sb(5,"mat-form-field",4),r.Sb(6,"input",5),r.ac("click",(function(){return e.resetErrors()})),r.Rb(),r.Rb(),r.qc(7,Ud,2,1,"mat-error",6),r.Sb(8,"mat-form-field",4),r.Sb(9,"input",7),r.ac("click",(function(){return e.resetErrors()})),r.Rb(),r.Rb(),r.qc(10,qd,2,1,"mat-error",6),r.Rb(),r.Rb(),r.Sb(11,"div",8),r.Sb(12,"button",9),r.ac("click",(function(){return e.onSubmit()})),r.sc(13,"Submit"),r.Rb(),r.Sb(14,"small",10),r.ac("click",(function(){return e.onSwitchLogMode()})),r.sc(15),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Cb(2),r.tc(e.isLoginMode?"Sign in":"Sign up"),r.Cb(2),r.fc("formGroup",e.signInForm),r.Cb(3),r.fc("ngIf",e.wrongMail),r.Cb(3),r.fc("ngIf",e.wrongPassword),r.Cb(5),r.tc(e.isLoginMode?"Wanna sign up?":"Wanna log in?"))},directives:[Rl,Nl,Es,Ti,Os,wd,Pd,vi,Ii,Ds,N,jl,Fd,od],styles:["#signInForm[_ngcontent-%COMP%]{width:250px;height:auto;padding:20px 20px 25px}#signInForm[_ngcontent-%COMP%], #signInForm[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}#signInForm[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{width:200px}#signInForm[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column}#signInForm[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#00f;cursor:pointer}#signInForm[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]{margin-top:10px}#signInForm[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.8rem}"]}),t})(),zd=(()=>{class t{constructor(){this.invokeNavbarLoginComponent=new wt.a}onInvokeNavbarLoginComponent(){this.invokeNavbarLoginComponent.next()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Hd(t,e){if(1&t&&(r.Sb(0,"li",6),r.sc(1),r.Rb()),2&t){const t=r.cc();r.Cb(1),r.tc(t.userName)}}function Wd(t,e){if(1&t){const t=r.Tb();r.Sb(0,"li"),r.Sb(1,"a",7),r.ac("click",(function(){return r.kc(t),r.cc().openDialog()})),r.sc(2,"Log In"),r.Rb(),r.Rb()}}function $d(t,e){if(1&t){const t=r.Tb();r.Sb(0,"li"),r.Sb(1,"a",7),r.ac("click",(function(){return r.kc(t),r.cc().logout()})),r.sc(2,"Log out"),r.Rb(),r.Rb()}}let Gd=(()=>{class t{constructor(t,e,n,r){this.dialog=t,this.auth=e,this.router=n,this.eventEmitter=r,this.isLoggedIn=!1,this.userName=null}ngOnInit(){this.userSub=this.auth.user.subscribe(t=>{this.isLoggedIn=!!t,t&&(this.userName=t.email.split("@")[0])}),this.eventEmitter.subsVar=this.eventEmitter.invokeNavbarLoginComponent.subscribe(()=>{this.openDialog()})}openDialog(){this.dialog.open(Bd,{width:"300px",height:"330px"})}logout(){this.auth.logout(),this.router.navigate(["/home"])}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Pl),r.Nb(gh),r.Nb(zr),r.Nb(zd))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-navbar"]],viewQuery:function(t,e){var n;1&t&&r.wc(Lh,!0),2&t&&r.ic(n=r.bc())&&(e.signIn=n.first)},decls:9,vars:3,consts:[["id","navbar"],[1,"title-container"],["href","#"],[1,"log-container"],["class","username",4,"ngIf"],[4,"ngIf"],[1,"username"],[3,"click"]],template:function(t,e){1&t&&(r.Sb(0,"nav",0),r.Sb(1,"div",1),r.Sb(2,"a",2),r.sc(3,"NotesAPP"),r.Rb(),r.Rb(),r.Sb(4,"div"),r.Sb(5,"ul",3),r.qc(6,Hd,2,1,"li",4),r.qc(7,Wd,3,0,"li",5),r.qc(8,$d,3,0,"li",5),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Cb(6),r.fc("ngIf",e.isLoggedIn),r.Cb(1),r.fc("ngIf",!e.isLoggedIn),r.Cb(1),r.fc("ngIf",e.isLoggedIn))},directives:[N],styles:["#navbar[_ngcontent-%COMP%]{background-color:#0d1f2d;color:#fff;display:flex;align-items:center;justify-content:space-between}#navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:inherit}#navbar[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}#navbar[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:20px;font-size:2rem}#navbar[_ngcontent-%COMP%]   .log-container[_ngcontent-%COMP%]{display:flex;font-size:1rem;padding:0 15px}#navbar[_ngcontent-%COMP%]   .log-container[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#0f0;margin-right:5px}"]}),t})(),Kd=(()=>{class t{constructor(t){this.auth=t,this.title="notesAppContentEditable"}ngOnInit(){this.auth.autologin()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(gh))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Ob(0,"app-navbar"),r.Ob(1,"router-outlet"))},directives:[Gd,Kr],styles:["h1[_ngcontent-%COMP%]{text-align:center}"]}),t})();function Qd(t){const{subscriber:e,counter:n,period:r}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}function Yd(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Zd(t,e){const n=e?"":"none";Yd(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function Jd(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function Xd(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function tf(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function ef(t,e,n){const{top:r,bottom:i,left:s,right:o}=t;return n>=r&&n<=i&&e>=s&&e<=o}function nf(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function rf(t,e,n,r){const{top:i,right:s,bottom:o,left:a,width:u,height:c}=t,l=u*e,h=c*e;return r>i-h&&r<o+h&&n>a-l&&n<s+l}class sf{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:tf(t)})})}handleScroll(t){const e=t.target,n=this.positions.get(e);if(!n)return null;const r=e===this._document?e.documentElement:e,i=n.scrollPosition;let s,o;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();s=t.top,o=t.left}else s=e.scrollTop,o=e.scrollLeft;const a=i.top-s,u=i.left-o;return this.positions.forEach((t,n)=>{t.clientRect&&e!==n&&r.contains(n)&&nf(t.clientRect,a,u)}),i.top=s,i.left=o,{top:a,left:u}}}const of=vo({passive:!0}),af=vo({passive:!1});class uf{constructor(t,e,n,r,i,s){this._config=e,this._document=n,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new wt.a,this._pointerMoveSubscription=Se.a.EMPTY,this._pointerUpSubscription=Se.a.EMPTY,this._scrollSubscription=Se.a.EMPTY,this._resizeSubscription=Se.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new wt.a,this.started=new wt.a,this.released=new wt.a,this.ended=new wt.a,this.entered=new wt.a,this.exited=new wt.a,this.dropped=new wt.a,this.moved=this._moveEvents.asObservable(),this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=t.target;return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{t.preventDefault();const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){if(!(Date.now()>=this._dragStartTime+this._getDragStartDelay(t)))return void this._endDragSequence(t);this._dropContainer&&this._dropContainer.isDragging()||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n);else{const t=this._activeTransform;t.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:t,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t),this._parentPositions=new sf(n,i),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Ms(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){return this._handles=t.map(t=>Us(t)),this._handles.forEach(t=>Zd(t,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Us(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,af),e.addEventListener("touchstart",this._pointerDown,of)}),this._initialTransform=void 0,this._rootElement=e),this}withBoundaryElement(t){return this._boundaryElement=t?Us(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&df(this._rootElement),df(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}enableHandle(t){this._disabledHandles.delete(t)}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._pointerPositionAtLastDirectionChange;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t))}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&df(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&df(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){this.started.next({source:this}),ff(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,r=t.parentNode,i=this._preview=this._createPreviewElement(),s=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment("");r.insertBefore(o,t),t.style.display="none",this._document.body.appendChild(r.replaceChild(s,t)),(n=this._document,n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body).appendChild(i),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this._initialContainer=this._initialIndex=void 0;var n;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){e.stopPropagation();const n=this.isDragging(),r=ff(e),i=!r&&0!==e.button,s=this._rootElement,o=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),n||i||o)return;this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor,s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=tf(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const u=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){this._rootElement.style.display="",this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),i=this._getDragDistance(this._getPointerPositionOnPage(t)),s=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:i}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:i}),e.drop(this,n,this._initialContainer,s,i,this._initialIndex),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e}){let n=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!n&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(n=this._initialContainer),n&&n!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=n,this._dropContainer.enter(this,t,e,n===this._initialContainer&&n.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:n,currentIndex:n.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(t,e),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=cf(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let r;if(n&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,i=t.viewContainer.createEmbeddedView(n,t.context);i.detectChanges(),r=pf(i,this._document),this._previewRef=i,t.matchSize?mf(r,e):r.style.transform=cf(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;r=lf(t),mf(r,t.getBoundingClientRect())}return Yd(r.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),Zd(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>r.classList.add(t)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=cf(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=Xd(e,"transition-property"),r=n.find(t=>"transform"===t||"all"===t);if(!r)return 0;const i=n.indexOf(r),s=Xd(e,"transition-duration"),o=Xd(e,"transition-delay");return Jd(s[i])+Jd(o[i])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",n),t(),clearTimeout(r))},r=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=pf(this._placeholderRef,this._document)):n=lf(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),r=t===this._rootElement?null:t,i=r?r.getBoundingClientRect():n,s=ff(e)?e.targetTouches[0]:e,o=this._getViewportScrollPosition();return{x:i.left-n.left+(s.pageX-i.left-o.left),y:i.top-n.top+(s.pageY-i.top-o.top)}}_getPointerPositionOnPage(t){const e=ff(t)?t.touches[0]||t.changedTouches[0]:t,n=this._getViewportScrollPosition();return{x:e.pageX-n.left,y:e.pageY-n.top}}_getConstrainedPointerPosition(t){const e=this.constrainPosition?this.constrainPosition(t,this):t,n=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===n?e.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==n||(e.x=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:n}=this._pickupPositionInElement,r=this._boundaryRect,i=this._previewRect,s=r.top+n,o=r.bottom-(i.height-n);e.x=hf(e.x,r.left+t,r.right-(i.width-t)),e.y=hf(e.y,s,o)}return e}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,r=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-i.x),o=Math.abs(n-i.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=e>i.x?1:-1,i.x=e),o>this._config.pointerDirectionChangeThreshold&&(r.y=n>i.y?1:-1,i.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Zd(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,af),t.removeEventListener("touchstart",this._pointerDown,of)}_applyRootElementTransform(t,e){const n=cf(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===r.width&&0===r.height)return;const i=n.left-r.left,s=r.right-n.right,o=n.top-r.top,a=r.bottom-n.bottom;n.width>r.width?(i>0&&(t+=i),s>0&&(t-=s)):t=0,n.height>r.height?(o>0&&(e+=o),a>0&&(e-=a)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:ff(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);this._boundaryRect&&e&&nf(this._boundaryRect,e.top,e.left)}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}}function cf(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function lf(t){const e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),r=t.querySelectorAll("canvas");e.removeAttribute("id");for(let i=0;i<n.length;i++)n[i].removeAttribute("id");if(r.length){const t=e.querySelectorAll("canvas");for(let e=0;e<r.length;e++){const n=t[e].getContext("2d");n&&n.drawImage(r[e],0,0)}}return e}function hf(t,e,n){return Math.max(e,Math.min(n,t))}function df(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ff(t){return"t"===t.type[0]}function pf(t,e){const n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];const r=e.createElement("div");return n.forEach(t=>r.appendChild(t)),r}function mf(t,e){t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.transform=cf(e.left,e.top)}function gf(t,e){return Math.max(0,Math.min(e,t))}class yf{constructor(t,e,n,r,i){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=i,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new wt.a,this.entered=new wt.a,this.exited=new wt.a,this.dropped=new wt.a,this.sorted=new wt.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Se.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new wt.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=Js.a){return(!Object(eo.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=Js.a),new St.a(n=>(n.add(e.schedule(Qd,t,{subscriber:n,counter:0,period:t})),n))}(0,Ks).pipe(io(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode;1===this._verticalScrollDirection?_f(t,-2):2===this._verticalScrollDirection&&_f(t,2),1===this._horizontalScrollDirection?vf(t,-2):2===this._horizontalScrollDirection&&vf(t,2)})},this.element=Us(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new sf(n,i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const t=Us(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach(t=>t._startReceiving(this)),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}enter(t,e,n,r){let i;this.start(),null==r?(i=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===i&&(i=this._getItemIndexFromPointerPosition(t,e,n))):i=r;const s=this._activeDraggables,o=s.indexOf(t),a=t.getPlaceholderElement();let u=s[i];if(u===t&&(u=s[i+1]),o>-1&&s.splice(o,1),u&&!this._dragDropRegistry.isDragging(u)){const e=u.getRootElement();e.parentElement.insertBefore(a,e),s.splice(i,0,t)}else{const r=Us(this.element);this._shouldEnterAsFirstChild(e,n)?(r.insertBefore(a,s[0].getRootElement()),s.unshift(t)):(r.appendChild(a),s.push(t))}a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,r,i,s){this._reset(),null==s&&(s=n.getItemIndex(t)),this.dropped.next({item:t,currentIndex:e,previousIndex:s,container:this,previousContainer:n,isPointerOverContainer:r,distance:i})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Us(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?bf("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,r){if(this.sortingDisabled||!rf(this._clientRect,.05,e,n))return;const i=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,e,n,r);if(-1===s&&i.length>0)return;const o="horizontal"===this._orientation,a=bf(i,e=>e.drag===t),u=i[s],c=i[a].clientRect,l=u.clientRect,h=a>s?1:-1;this._previousSwap.drag=u.drag,this._previousSwap.delta=o?r.x:r.y;const d=this._getItemOffsetPx(c,l,h),f=this._getSiblingOffsetPx(a,i,h),p=i.slice();!function(t,e,n){const r=gf(e,t.length-1),i=gf(n,t.length-1);if(r===i)return;const s=t[r],o=i<r?-1:1;for(let a=r;a!==i;a+=o)t[a]=t[a+o];t[i]=s}(i,a,s),this.sorted.next({previousIndex:a,currentIndex:s,container:this,item:t}),i.forEach((e,n)=>{if(p[n]===e)return;const r=e.drag===t,i=r?d:f,s=r?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=i,o?(s.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,nf(e.clientRect,0,i)):(s.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,nf(e.clientRect,i,0))})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,r=0,i=0;if(this._parentPositions.positions.forEach((s,o)=>{o!==this._document&&s.clientRect&&!n&&rf(s.clientRect,.05,t,e)&&([r,i]=function(t,e,n,r){const i=wf(e,r),s=Ef(e,n);let o=0,a=0;if(i){const e=t.scrollTop;1===i?e>0&&(o=1):t.scrollHeight-e>t.clientHeight&&(o=2)}if(s){const e=t.scrollLeft;1===s?e>0&&(a=1):t.scrollWidth-e>t.clientWidth&&(a=2)}return[o,a]}(o,s.clientRect,t,e),(r||i)&&(n=o))}),!r&&!i){const{width:s,height:o}=this._viewportRuler.getViewportSize(),a={width:s,height:o,top:0,right:s,bottom:o,left:0};r=wf(a,e),i=Ef(a,t),n=window}!n||r===this._verticalScrollDirection&&i===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=r,this._horizontalScrollDirection=i,this._scrollNode=n,(r||i)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheParentPositions(){const t=Us(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,clientRect:tf(e)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const t=Us(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,n){const r="horizontal"===this._orientation,i=e[t].clientRect,s=e[t+-1*n];let o=i[r?"width":"height"]*n;if(s){const t=r?"left":"top",e=r?"right":"bottom";-1===n?o-=s.clientRect[t]-i[e]:o+=i[t]-s.clientRect[e]}return o}_getItemOffsetPx(t,e,n){const r="horizontal"===this._orientation;let i=r?e.left-t.left:e.top-t.top;return-1===n&&(i+=r?e.width-t.width:e.height-t.height),i}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,r="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const i=n[n.length-1].clientRect;return r?t>=i.right:e>=i.bottom}{const i=n[0].clientRect;return r?t<=i.left:e<=i.top}}_getItemIndexFromPointerPosition(t,e,n,r){const i="horizontal"===this._orientation;return bf(this._itemPositions,({drag:s,clientRect:o},a,u)=>{if(s===t)return u.length<2;if(r){const t=i?r.x:r.y;if(s===this._previousSwap.drag&&t===this._previousSwap.delta)return!1}return i?e>=Math.floor(o.left)&&e<Math.floor(o.right):n>=Math.floor(o.top)&&n<Math.floor(o.bottom)})}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return ef(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(r=>r._canReceive(t,e,n))}_canReceive(t,e,n){if(!ef(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,n);if(!r)return!1;const i=Us(this.element);return r===i||i.contains(r)}_startReceiving(t){const e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{nf(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=wo(Us(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}function bf(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function _f(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function vf(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function wf(t,e){const{top:n,bottom:r,height:i}=t,s=.05*i;return e>=n-s&&e<=n+s?1:e>=r-s&&e<=r+s?2:0}function Ef(t,e){const{left:n,right:r,width:i}=t,s=.05*i;return e>=n-s&&e<=n+s?1:e>=r-s&&e<=r+s?2:0}const Cf=vo({passive:!1,capture:!0});let Sf=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new wt.a,this.pointerUp=new wt.a,this.scroll=new wt.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.size&&t.preventDefault()},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._preventDefaultWhileDragging,Cf)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,Cf)}startDragging(t,e){if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){const t=e.type.startsWith("touch"),n=t?"touchend":"mouseup";this._globalListeners.set(t?"touchmove":"mousemove",{handler:t=>this.pointerMove.next(t),options:Cf}).set(n,{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Cf}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances.has(t)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.z),r.Wb(a))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(r.z),Object(r.Wb)(a))},token:t,providedIn:"root"}),t})();const Of={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let xf=(()=>{class t{constructor(t,e,n,r){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=r}createDrag(t,e=Of){return new uf(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new yf(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a),r.Wb(r.z),r.Wb(xo),r.Wb(Sf))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(a),Object(r.Wb)(r.z),Object(r.Wb)(xo),Object(r.Wb)(Sf))},token:t,providedIn:"root"}),t})();const If=new r.q("CDK_DRAG_PARENT");let Tf=(()=>{class t{constructor(t,e){this.element=t,this._stateChanges=new wt.a,this._disabled=!1,this._parentDrag=e,Zd(t.nativeElement,!1)}get disabled(){return this._disabled}set disabled(t){this._disabled=Ms(t),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(If,8))},t.\u0275dir=r.Ib({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]}}),t})(),kf=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.L))},t.\u0275dir=r.Ib({type:t,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"}}),t})(),Af=(()=>{class t{constructor(t){this.templateRef=t,this._matchSize=!1}get matchSize(){return this._matchSize}set matchSize(t){this._matchSize=Ms(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.L))},t.\u0275dir=r.Ib({type:t,selectors:[["ng-template","cdkDragPreview",""]],inputs:{matchSize:"matchSize",data:"data"}}),t})();const Pf=new r.q("CDK_DRAG_CONFIG"),Df=new r.q("CDK_DROP_LIST");let Rf=(()=>{class t{constructor(t,e,n,i,s,o,a,u,c){this.element=t,this.dropContainer=e,this._document=n,this._ngZone=i,this._viewContainerRef=s,this._dir=a,this._changeDetectorRef=c,this._destroyed=new wt.a,this.started=new r.n,this.released=new r.n,this.ended=new r.n,this.entered=new r.n,this.exited=new r.n,this.dropped=new r.n,this.moved=new St.a(t=>{const e=this._dragRef.moved.pipe(Object(Mt.a)(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=u.createDrag(t,{dragStartThreshold:o&&null!=o.dragStartThreshold?o.dragStartThreshold:5,pointerDirectionChangeThreshold:o&&null!=o.pointerDirectionChangeThreshold?o.pointerDirectionChangeThreshold:5,zIndex:null==o?void 0:o.zIndex}),this._dragRef.data=this,o&&this._assignDefaults(o),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Ms(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.asObservable().pipe(oe(1),io(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(ye(this._handles),Object(Ce.a)(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._dragRef.withHandles(e)}),fe(t=>Object(zs.a)(...t.map(t=>t._stateChanges.pipe(ye(t))))),io(this._destroyed)).subscribe(t=>{const e=this._dragRef,n=t.element.nativeElement;t.disabled?e.disableHandle(n):e.enableHandle(n)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(t){const e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?Nf(t,this.rootElementSelector):t;if(e&&e.nodeType!==this._document.ELEMENT_NODE)throw Error(`cdkDrag must be attached to an element node. Currently attached to "${e.nodeName}".`);this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;if(!t)return null;if("string"==typeof t)return Nf(this.element.nativeElement,t);const e=Us(t);if(Object(r.W)()&&!e.contains(this.element.nativeElement))throw Error("Draggable element is not inside of the node passed into cdkDragBoundary.");return e}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const e=this._dir,n=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,i=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof n&&n?n:Ls(n),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(i),e&&t.withDirection(e.value)}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:n,constrainPosition:r,previewClass:i,boundaryElement:s,draggingDisabled:o,rootElementSelector:a}=t;this.disabled=null!=o&&o,this.dragStartDelay=n||0,e&&(this.lockAxis=e),r&&(this.constrainPosition=r),i&&(this.previewClass=i),s&&(this.boundaryElement=s),a&&(this.rootElementSelector=a)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(Df,12),r.Nb(a),r.Nb(r.z),r.Nb(r.P),r.Nb(Pf,8),r.Nb(Co,8),r.Nb(xf),r.Nb(r.h))},t.\u0275dir=r.Ib({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Gb(n,Af,!0),r.Gb(n,kf,!0),r.Gb(n,Tf,!0)),2&t&&(r.ic(i=r.bc())&&(e._previewTemplate=i.first),r.ic(i=r.bc())&&(e._placeholderTemplate=i.first),r.ic(i=r.bc())&&(e._handles=i))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&r.Eb("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[r.Bb([{provide:If,useExisting:t}]),r.Ab]}),t})();function Nf(t,e){let n=t.parentElement;for(;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}let jf=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[xf],imports:[Io]}),t})();const Mf=["title"],Lf=["content"],Ff=["note"],Vf=function(t){return{"background-color":t}};function Uf(t,e){if(1&t){const t=r.Tb();r.Sb(0,"span",12),r.ac("click",(function(){r.kc(t);const n=e.$implicit;return r.cc().updateColor(n.color)})),r.Rb()}2&t&&r.fc("ngStyle",r.hc(1,Vf,e.$implicit.backgroundColor))}const qf=function(t){return["note-buttons-container",t]};let Bf=(()=>{class t{constructor(t){this.notemaker=t,this.state="closed",this.noteColors=[{color:"yellow",barColor:"#FDE84F",backgroundColor:"#FEF3A1"},{color:"blue",barColor:"#8DF0FE",backgroundColor:"#AFF4FE"},{color:"green",barColor:"#87fc89",backgroundColor:"#b4fda5"},{color:"pink",barColor:"#fdb2b3",backgroundColor:"#fec7c8"},{color:"violet",barColor:"#9cb7fc",backgroundColor:"#b7cbfd"},{color:"grey",barColor:"#dadada",backgroundColor:"#eeeeee"}]}ngOnInit(){this.setNoteColors(this.note.color),Bs(this.title.nativeElement,"keyup").pipe(fa(1e3)).subscribe(t=>{this.updateNote(this.note.id,this.title,this.content)}),Bs(this.content.nativeElement,"keyup").pipe(fa(1e3)).subscribe(t=>{this.updateNote(this.note.id,this.title,this.content)}),Bs(this.title.nativeElement,"click").subscribe(t=>{const e=t.target.innerText;console.log(e),"Type a title"==e&&(this.title.nativeElement.innerText="")}),Bs(this.content.nativeElement,"click").subscribe(t=>{const e=t.target.innerText;console.log(e),"Type content"==e&&(this.content.nativeElement.innerText="")})}updateNote(t,e,n){this.notemaker.updateNote(t,e,n)}removeNote(t){this.notemaker.removeNote(t)}dragEnd(t){console.log(t)}setNoteColors(t){switch(console.log(t),t){case"yellow":console.log("yellow picked"),this.buttonContainerColor="yellowButtonContainer",this.noteColor="yellowContainer";break;case"blue":console.log("blue picked"),this.buttonContainerColor="blueButtonContainer",this.noteColor="blueContainer";break;case"green":console.log("green picked"),this.buttonContainerColor="greenButtonContainer",this.noteColor="greenContainer";break;case"pink":console.log("pink picked"),this.buttonContainerColor="pinkButtonContainer",this.noteColor="pinkContainer";break;case"violet":console.log("violet picked"),this.buttonContainerColor="violetButtonContainer",this.noteColor="violetContainer";break;case"grey":console.log("grey picked"),this.buttonContainerColor="greyButtonContainer",this.noteColor="greyContainer";break;default:console.log("default picked"),this.buttonContainerColor="yellowButtonContainer",this.noteColor="yellowContainer"}}updateColor(t){this.setNoteColors(t),console.log(t),console.log(this.noteColor,this.buttonContainerColor),this.notemaker.updateColor(this.note.id,t)}getLocalTime(){const t=new Date(this.note.date);return`${t.toLocaleTimeString("sp-SP")} ${t.toLocaleDateString("sp-SP")}`}switchState(){this.state="closed"===this.state?"open":"closed",console.log(this.state)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(qh))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-note"]],viewQuery:function(t,e){var n;1&t&&(r.oc(Mf,!0),r.oc(Lf,!0),r.oc(Ff,!0)),2&t&&(r.ic(n=r.bc())&&(e.title=n.first),r.ic(n=r.bc())&&(e.content=n.first),r.ic(n=r.bc())&&(e.noteContainer=n.first))},inputs:{note:"note"},decls:19,vars:9,consts:[["id","note","cdkDrag","",3,"ngClass"],[3,"ngClass"],["mat-mini-fab","",1,"colors-button",3,"click"],[1,"material-icons"],[1,"note-colors-container"],["class","note-color-button",3,"ngStyle","click",4,"ngFor","ngForOf"],["mat-mini-fab","","color","accent",1,"delete-button",3,"click"],[1,"note-text-container"],["contenteditable","true",3,"mousedown"],["title",""],["content",""],[1,"last-edited"],[1,"note-color-button",3,"ngStyle","click"]],template:function(t,e){1&t&&(r.Sb(0,"article",0),r.Sb(1,"div",1),r.Sb(2,"button",2),r.ac("click",(function(){return e.switchState()})),r.Sb(3,"span",3),r.sc(4,"palette"),r.Rb(),r.Rb(),r.Sb(5,"div",4),r.qc(6,Uf,1,3,"span",5),r.Rb(),r.Sb(7,"button",6),r.ac("click",(function(){return e.removeNote(e.note.id)})),r.Sb(8,"span",3),r.sc(9," delete "),r.Rb(),r.Rb(),r.Rb(),r.Sb(10,"div",7),r.Sb(11,"h3",8,9),r.ac("mousedown",(function(t){return t.stopPropagation()})),r.sc(13),r.Rb(),r.Sb(14,"p",8,10),r.ac("mousedown",(function(t){return t.stopPropagation()})),r.sc(16),r.Rb(),r.Rb(),r.Sb(17,"span",11),r.sc(18),r.Rb(),r.Rb()),2&t&&(r.fc("ngClass",e.noteColor),r.Cb(1),r.fc("ngClass",r.hc(7,qf,e.buttonContainerColor)),r.Cb(4),r.fc("@divState",e.state),r.Cb(1),r.fc("ngForOf",e.noteColors),r.Cb(7),r.uc(" ",e.note.title," "),r.Cb(3),r.uc(" ",e.note.content," "),r.Cb(2),r.uc("last edited: ",e.getLocalTime(),""))},directives:[Rf,A,Fd,D,U],styles:['#note[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:200px;min-height:200px;word-wrap:break-word;margin:15px;box-shadow:0 5px 15px 5px rgba(0,0,0,.3);position:relative}#note[_ngcontent-%COMP%]   .note-buttons-container[_ngcontent-%COMP%]{width:100%;position:relative;height:25px}#note[_ngcontent-%COMP%]   .note-buttons-container[_ngcontent-%COMP%]   .activate-colors[_ngcontent-%COMP%]{position:absolute;top:2px;left:4px}#note[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{outline:none}#note[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;font-size:.9rem}#note[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{right:-8px}#note[_ngcontent-%COMP%]   .colors-button[_ngcontent-%COMP%], #note[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{position:absolute;bottom:-8px;transform:scale(.45)}#note[_ngcontent-%COMP%]   .colors-button[_ngcontent-%COMP%]{left:-8px}#note[_ngcontent-%COMP%]   .note-text-container[_ngcontent-%COMP%]{padding:0 10px 7px}#note[_ngcontent-%COMP%]   .note-text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}#note[_ngcontent-%COMP%]   .note-buttons-container[_ngcontent-%COMP%]   .note-color-button[_ngcontent-%COMP%]{content:"";width:5px;height:5px;padding:5px;border-radius:50%;cursor:pointer;border:.5px solid rgba(0,0,0,.131);margin:0 1px}#note[_ngcontent-%COMP%]   .note-buttons-container[_ngcontent-%COMP%]   .note-colors-container[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;padding-left:5px}.yellowContainer[_ngcontent-%COMP%]{background-color:#fef3a1}#note[_ngcontent-%COMP%]   .yellowButtonContainer[_ngcontent-%COMP%]{background-color:#fde84f}.blueContainer[_ngcontent-%COMP%]{background-color:#aff4fe}#note[_ngcontent-%COMP%]   .blueButtonContainer[_ngcontent-%COMP%]{background-color:#8df0fe}.greenContainer[_ngcontent-%COMP%]{background-color:#b4fda5}#note[_ngcontent-%COMP%]   .greenButtonContainer[_ngcontent-%COMP%]{background-color:#87fc89}.pinkContainer[_ngcontent-%COMP%]{background-color:#fec7c8}#note[_ngcontent-%COMP%]   .pinkButtonContainer[_ngcontent-%COMP%]{background-color:#fdb2b3}.violetContainer[_ngcontent-%COMP%]{background-color:#b7cbfd}#note[_ngcontent-%COMP%]   .violetButtonContainer[_ngcontent-%COMP%]{background-color:#9cb7fc}.greyContainer[_ngcontent-%COMP%]{background-color:#eee}#note[_ngcontent-%COMP%]   .greyButtonContainer[_ngcontent-%COMP%]{background-color:#dadada}#note[_ngcontent-%COMP%]   .last-edited[_ngcontent-%COMP%]{position:absolute;left:38px;bottom:0;font-size:.5rem;color:hsla(0,0%,50.2%,.461)}'],data:{animation:[ja("divState",[Va("open",Fa({width:"50px",opacity:1,backgroundColor:"transparent",transform:"translate(20px,0)",visibility:"visible"})),Va("closed",Fa({width:"0px",opacity:0,left:"-100px",transform:"translate(120px, 0)",visibility:"hidden"})),Ua("closed <=> open",Ma("300ms ease-out")),Ua("open => closed",Ma("300ms ease-in"))])]}}),t})();function zf(t,e){1&t&&r.Ob(0,"app-note",6),2&t&&r.fc("note",e.$implicit)}let Hf=(()=>{class t{constructor(t,e,n){this.route=t,this.notemaker=e,this.auth=n,this.isLoading=!1}ngOnInit(){this.notes=this.route.snapshot.data.notes,this.auth.user.subscribe(t=>{this.uid=t.id,console.log(this.uid)}),this.notemaker.$notesChanged.subscribe(t=>{console.log("updating"),console.log(t),this.notes=t})}addNote(){this.notemaker.addNote()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(jn),r.Nb(qh),r.Nb(gh))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-notes"]],decls:7,vars:1,consts:[["id","notes"],[1,"button-container"],["mat-fab","","color","warn",3,"click"],[1,"material-icons"],[1,"notes-container"],[3,"note",4,"ngFor","ngForOf"],[3,"note"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"button",2),r.ac("click",(function(){return e.addNote()})),r.Sb(3,"span",3),r.sc(4," note_add "),r.Rb(),r.Rb(),r.Rb(),r.Sb(5,"div",4),r.qc(6,zf,1,1,"app-note",5),r.Rb(),r.Rb()),2&t&&(r.Cb(6),r.fc("ngForOf",e.notes))},directives:[Fd,D,Bf],styles:["#notes[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column}#notes[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{text-align:center;padding-top:10px}#notes[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:20px;width:100%}#notes[_ngcontent-%COMP%]   .mat-fab[_ngcontent-%COMP%]{-webkit-animation:addButton 2s linear infinite alternate;animation:addButton 2s linear infinite alternate}@-webkit-keyframes addButton{0%{transform:scale(.8)}to{transform:scale(1)}}@keyframes addButton{0%{transform:scale(.8)}to{transform:scale(1)}}"]}),t})();var Wf=n("spgP"),$f=n("Jgta"),Gf=n("mrSG"),Kf=n("zIRd"),Qf=n("q/0M"),Yf=n("qOnz"),Zf=function(t,e){return(Zf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Jf(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Xf,tp="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ep=ep||{},np=tp||self;function rp(){}function ip(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function sp(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var op="closure_uid_"+(1e9*Math.random()>>>0),ap=0;function up(t,e,n){return t.call.apply(t.bind,arguments)}function cp(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function lp(t,e,n){return(lp=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?up:cp).apply(null,arguments)}function hp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function dp(){return Date.now()}function fp(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function pp(){this.j=this.j,this.i=this.i}pp.prototype.j=!1,pp.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,op)&&t[op]||(t[op]=++ap)}(this)},pp.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var mp=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},gp=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function yp(t){return Array.prototype.concat.apply([],arguments)}function bp(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function _p(t){return/^[\s\xa0]*$/.test(t)}var vp,wp=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ep(t,e){return-1!=t.indexOf(e)}function Cp(t,e){return t<e?-1:t>e?1:0}t:{var Sp=np.navigator;if(Sp){var Op=Sp.userAgent;if(Op){vp=Op;break t}}vp=""}function xp(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ip(t){var e={};for(var n in t)e[n]=t[n];return e}var Tp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kp(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Tp.length;s++)n=Tp[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ap(t){return Ap[" "](t),t}Ap[" "]=rp;var Pp,Dp,Rp=Ep(vp,"Opera"),Np=Ep(vp,"Trident")||Ep(vp,"MSIE"),jp=Ep(vp,"Edge"),Mp=jp||Np,Lp=Ep(vp,"Gecko")&&!(Ep(vp.toLowerCase(),"webkit")&&!Ep(vp,"Edge"))&&!(Ep(vp,"Trident")||Ep(vp,"MSIE"))&&!Ep(vp,"Edge"),Fp=Ep(vp.toLowerCase(),"webkit")&&!Ep(vp,"Edge");function Vp(){var t=np.document;return t?t.documentMode:void 0}t:{var Up="",qp=(Dp=vp,Lp?/rv:([^\);]+)(\)|;)/.exec(Dp):jp?/Edge\/([\d\.]+)/.exec(Dp):Np?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Dp):Fp?/WebKit\/(\S+)/.exec(Dp):Rp?/(?:Version)[ \/]?(\S+)/.exec(Dp):void 0);if(qp&&(Up=qp?qp[1]:""),Np){var Bp=Vp();if(null!=Bp&&Bp>parseFloat(Up)){Pp=String(Bp);break t}}Pp=Up}var zp={};function Hp(t){return function(t,e){var n=zp;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=wp(String(Pp)).split("."),r=wp(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Cp(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Cp(0==o[2].length,0==a[2].length)||Cp(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}var Wp=np.document&&Np&&(Vp()||parseInt(Pp,10))||void 0,$p=!Np||9<=Number(Wp),Gp=Np&&!Hp("9"),Kp=function(){if(!np.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{np.addEventListener("test",rp,e),np.removeEventListener("test",rp,e)}catch(n){}return t}();function Qp(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Yp(t,e){if(Qp.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Lp){t:{try{Ap(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Zp[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Qp.prototype.b=function(){this.defaultPrevented=!0},fp(Yp,Qp);var Zp={2:"touch",3:"pen",4:"mouse"};Yp.prototype.b=function(){Yp.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Gp)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Jp="closure_listenable_"+(1e6*Math.random()|0),Xp=0;function tm(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Xp,this.Y=this.Z=!1}function em(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function nm(t){this.src=t,this.a={},this.b=0}function rm(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=mp(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(em(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function im(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}nm.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=im(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new tm(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var sm="closure_lm_"+(1e6*Math.random()|0),om={};function am(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}return r=mm(r),e&&e[Jp]?e.wa(n,r,sp(i)?!!i.capture:!!i,s):um(e,n,r,!0,i,s)}(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)am(t,e[s],n,r,i);return null}return n=mm(n),t&&t[Jp]?t.va(e,n,sp(r)?!!r.capture:!!r,i):um(t,e,n,!1,r,i)}function um(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=sp(i)?!!i.capture:!!i;if(o&&!$p)return null;var a=fm(t);if(a||(t[sm]=a=new nm(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=dm,e=$p?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Kp||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(lm(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function cm(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Jp])rm(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(lm(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=fm(e))?(rm(n,t),0==n.b&&(n.src=null,e[sm]=null)):em(t)}}}function lm(t){return t in om?om[t]:om[t]="on"+t}function hm(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&cm(t),n.call(r,e)}function dm(t,e){if(t.Y)return!0;if(!$p){if(!e)t:{e=["window","event"];for(var n=np,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return hm(t,e=new Yp(e,this))}return hm(t,new Yp(e,this))}function fm(t){return(t=t[sm])instanceof nm?t:null}var pm="__closure_events_fn_"+(1e9*Math.random()>>>0);function mm(t){return"function"==typeof t?t:(t[pm]||(t[pm]=function(e){return t.handleEvent(e)}),t[pm])}function gm(){pp.call(this),this.c=new nm(this),this.J=this,this.C=null}function ym(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Qp(e,t);else if(e instanceof Qp)e.target=e.target||t;else{var i=e;kp(e=new Qp(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=bm(o,r,!0,e)&&i}if(i=bm(o=e.a=t,r,!0,e)&&i,i=bm(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=bm(o=e.a=n[s],r,!1,e)&&i}function bm(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&rm(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}fp(gm,pp),gm.prototype[Jp]=!0,(Xf=gm.prototype).addEventListener=function(t,e,n,r){am(this,t,e,n,r)},Xf.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=sp(i)?!!i.capture:!!i,r=mm(r),e&&e[Jp]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=im(o=e.a[n],r,i,s))&&(em(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=fm(e))&&(n=e.a[n.toString()],e=-1,n&&(e=im(n,r,i,s)),(r=-1<e?n[e]:null)&&cm(r))}(this,t,e,n,r)},Xf.G=function(){if(gm.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)em(n[r]);delete e.a[t],e.b--}}this.C=null},Xf.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Xf.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var _m=np.JSON.stringify;function vm(){this.b=this.a=null}var wm,Em=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Sm}),(function(t){t.reset()}));function Cm(){var t=Tm,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Sm(){this.next=this.b=this.a=null}function Om(t){np.setTimeout((function(){throw t}),0)}function xm(t,e){wm||function(){var t=np.Promise.resolve(void 0);wm=function(){t.then(km)}}(),Im||(wm(),Im=!0),Tm.add(t,e)}vm.prototype.add=function(t,e){var n=Em.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Sm.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Sm.prototype.reset=function(){this.next=this.b=this.a=null};var Im=!1,Tm=new vm;function km(){for(var t;t=Cm();){try{t.a.call(t.b)}catch(n){Om(n)}var e=Em;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Im=!1}function Am(t,e){gm.call(this),this.b=t||1,this.a=e||np,this.f=lp(this.Za,this),this.g=dp()}function Pm(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Dm(t,e,n){if("function"==typeof t)n&&(t=lp(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=lp(t.handleEvent,t)}return 2147483647<Number(e)?-1:np.setTimeout(t,e||0)}function Rm(t){t.a=Dm((function(){t.a=null,t.c&&(t.c=!1,Rm(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}fp(Am,gm),(Xf=Am.prototype).aa=!1,Xf.M=null,Xf.Za=function(){if(this.aa){var t=dp()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),ym(this,"tick"),this.aa&&(Pm(this),this.start()))}},Xf.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=dp())},Xf.G=function(){Am.X.G.call(this),Pm(this),delete this.a};var Nm=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Zf(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Rm(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(np.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(pp);function jm(t){pp.call(this),this.b=t,this.a={}}fp(jm,pp);var Mm=[];function Lm(t,e,n,r){Array.isArray(n)||(n&&(Mm[0]=n.toString()),n=Mm);for(var i=0;i<n.length;i++){var s=am(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Fm(t){xp(t.a,(function(t,e){this.a.hasOwnProperty(e)&&cm(t)}),t),t.a={}}function Vm(){this.a=!0}function Um(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return _m(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}jm.prototype.G=function(){jm.X.G.call(this),Fm(this)},jm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vm.prototype.info=function(){};var qm={},Bm=null;function zm(){return Bm=Bm||new gm}function Hm(t){Qp.call(this,qm.Fa,t)}function Wm(t){var e=zm();ym(e,new Hm(e,t))}function $m(t,e){Qp.call(this,qm.STAT_EVENT,t),this.stat=e}function Gm(t){var e=zm();ym(e,new $m(e,t))}function Km(t){Qp.call(this,qm.Ga,t)}function Qm(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return np.setTimeout((function(){t()}),e)}qm.Fa="serverreachability",fp(Hm,Qp),qm.STAT_EVENT="statevent",fp($m,Qp),qm.Ga="timingevent",fp(Km,Qp);var Ym={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Zm={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Jm(){}function Xm(){}Jm.prototype.a=null;var tg,eg={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ng(){Qp.call(this,"d")}function rg(){Qp.call(this,"c")}function ig(){}function sg(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new jm(this),this.P=og,this.R=new Am(t=Mp?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}fp(ng,Qp),fp(rg,Qp),fp(ig,Jm),tg=new ig;var og=45e3,ag={},ug={};function cg(t,e,n){t.H=1,t.i=Pg(Og(e)),t.j=n,t.I=!0,lg(t,null)}function lg(t,e){t.u=dp(),fg(t),t.l=Og(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Hg(n.b,"t",r),t.D=0,t.a=Fy(t.g,t.g.C?e:null),0<t.O&&(t.F=new Nm(lp(t.Ca,t,t.a),t.O)),Lm(t.J,t.a,"readystatechange",t.Xa),e=t.B?Ip(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Wm(1),function(t,e,n,r,i,s){t.info((function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function hg(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=dg(t,n);if(i==ug){4==e&&(t.h=4,Gm(14),r=!1),Um(t.c,t.f,null,"[Incomplete Response]");break}if(i==ag){t.h=4,Gm(15),Um(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Um(t.c,t.f,i,null),bg(t,i)}4==e&&0==n.length&&(t.h=1,Gm(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ay(e),e.F=!0,Gm(11))):(Um(t.c,t.f,n,"[Invalid Chunked Response]"),yg(t),gg(t))}function dg(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ug:(n=Number(e.substring(n,r)),isNaN(n)?ag:(r+=1)+n>e.length?ug:(e=e.substr(r,n),t.D=r+n,e))}function fg(t){t.T=dp()+t.P,pg(t,t.P)}function pg(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Qm(lp(t.Va,t),e)}function mg(t){t.o&&(np.clearTimeout(t.o),t.o=null)}function gg(t){0==t.g.v||t.A||Ry(t.g,t)}function yg(t){mg(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Pm(t.R),Fm(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function bg(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Zg(n.b,t)))if(n.I=t.N,!t.C&&Zg(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(CI){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Dy(n),wy(n)}ky(n),Gm(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Qm(lp(n.Sa,n),6e3));if(1>=Yg(n.b)&&n.ea){try{n.ea()}catch(CI){}n.ea=void 0}}else jy(n,11)}else if((t.C||n.a==t)&&Dy(n),!_p(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Ep(l,"spdy")||Ep(l,"quic")||Ep(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Jg(h,h.b),h.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,Ag(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=dp()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).la=Ly(u,u.C?u.ga:null,u.fa),f.C){Xg(u.b,f);var p=f,m=u.D;m&&p.setTimeout(m),p.o&&(mg(p),fg(p)),u.a=f}else Ty(u);0<n.g.length&&Sy(n)}else"stop"!=i[0]&&"close"!=i[0]||jy(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?jy(n,7):vy(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Wm(4)}catch(CI){}}function _g(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ip(t)||"string"==typeof t)gp(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ip(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ip(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function vg(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof vg)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function wg(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Eg(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Eg(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Eg(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Xf=sg.prototype).setTimeout=function(t){this.P=t},Xf.Xa=function(t){t=t.target;var e=this.F;e&&3==gy(t)?e.f():this.Ca(t)},Xf.Ca=function(t){try{if(t==this.a)t:{var e=gy(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Mp&&!this.a.$())){this.A||4!=e||7==n||Wm(8==n||0>=r?3:2),mg(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_p(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,Gm(12),yg(this),gg(this);break t}Um(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,bg(this,u)}this.I?(hg(this,e,s),Mp&&this.b&&3==e&&(Lm(this.J,this.R,"tick",this.Wa),this.R.start())):(Um(this.c,this.f,s,null),bg(this,s)),4==e&&yg(this),this.b&&!this.A&&(4==e?Ry(this.g,this):(this.b=!1,fg(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Gm(12)):(this.h=0,Gm(13)),yg(this),gg(this)}}}catch(c){}},Xf.Wa=function(){if(this.a){var t=gy(this.a),e=this.a.$();this.D<e.length&&(mg(this),hg(this,t,e),this.b&&4!=t&&fg(this))}},Xf.cancel=function(){this.A=!0,yg(this)},Xf.Va=function(){this.o=null;var t=dp();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Wm(3),Gm(17)),yg(this),this.h=2,gg(this)):pg(this,this.T-t)},(Xf=vg.prototype).K=function(){wg(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Xf.L=function(){return wg(this),this.a.concat()},Xf.get=function(t,e){return Eg(this.b,t)?this.b[t]:e},Xf.set=function(t,e){Eg(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Xf.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Cg=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Sg(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Sg){this.a=void 0!==e?e:t.a,xg(this,t.f),this.j=t.j,Ig(this,t.c),Tg(this,t.h),this.g=t.g,e=t.b;var n=new Ug;n.c=e.c,e.a&&(n.a=new vg(e.a),n.b=e.b),kg(this,n),this.i=t.i}else t&&(n=String(t).match(Cg))?(this.a=!!e,xg(this,n[1]||"",!0),this.j=Dg(n[2]||""),Ig(this,n[3]||"",!0),Tg(this,n[4]),this.g=Dg(n[5]||"",!0),kg(this,n[6]||"",!0),this.i=Dg(n[7]||"")):(this.a=!!e,this.b=new Ug(null,this.a))}function Og(t){return new Sg(t)}function xg(t,e,n){t.f=n?Dg(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ig(t,e,n){t.c=n?Dg(e,!0):e}function Tg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function kg(t,e,n){e instanceof Ug?(t.b=e,function(t,e){e&&!t.f&&(qg(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Bg(this,e),Hg(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Rg(e,Fg)),t.b=new Ug(e,t.a))}function Ag(t,e,n){t.b.set(e,n)}function Pg(t){return Ag(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^dp()).toString(36)),t}function Dg(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Rg(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ng),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ng(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Sg.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Rg(e,jg,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Rg(e,jg,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Rg(n,"/"==n.charAt(0)?Lg:Mg,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Rg(n,Vg)),t.join("")};var jg=/[#\/\?@]/g,Mg=/[#\?:]/g,Lg=/[#\?]/g,Fg=/[#\?@]/g,Vg=/#/g;function Ug(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function qg(t){t.a||(t.a=new vg,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Bg(t,e){qg(t),e=Wg(t,e),Eg(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Eg((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&wg(t)))}function zg(t,e){return qg(t),e=Wg(t,e),Eg(t.a.b,e)}function Hg(t,e,n){Bg(t,e),0<n.length&&(t.c=null,t.a.set(Wg(t,e),bp(n)),t.b+=n.length)}function Wg(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Xf=Ug.prototype).add=function(t,e){qg(this),this.c=null,t=Wg(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Xf.forEach=function(t,e){qg(this),this.a.forEach((function(n,r){gp(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Xf.L=function(){qg(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Xf.K=function(t){qg(this);var e=[];if("string"==typeof t)zg(this,t)&&(e=yp(e,this.a.get(Wg(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=yp(e,t[n])}return e},Xf.set=function(t,e){return qg(this),this.c=null,zg(this,t=Wg(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Xf.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Xf.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var $g=function(){return function(t,e){this.b=t,this.a=e}}();function Gg(t){this.g=t||Kg,t=np.PerformanceNavigationTiming?0<(t=np.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(np.ia&&np.ia.ya&&np.ia.ya()&&np.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Kg=10;function Qg(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Yg(t){return t.b?1:t.a?t.a.size:0}function Zg(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Jg(t,e){t.a?t.a.add(e):t.b=e}function Xg(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ty(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Jf(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return bp(t.c)}function ey(){}function ny(){this.a=new ey}function ry(t,e,n){var r=n||"";try{_g(t,(function(t,n){var i=t;sp(t)&&(i=_m(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function iy(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Gg.prototype.cancel=function(){var t,e;if(this.c=ty(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Jf(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},ey.prototype.stringify=function(t){return np.JSON.stringify(t,void 0)},ey.prototype.parse=function(t){return np.JSON.parse(t,void 0)};var sy=np.JSON.parse;function oy(t){gm.call(this),this.headers=new vg,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=ay,this.D=this.F=!1}fp(oy,gm);var ay="",uy=/^https?$/i,cy=["POST","PUT"];function ly(t){return"content-type"==t.toLowerCase()}function hy(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,dy(t),py(t)}function dy(t){t.u||(t.u=!0,ym(t,"complete"),ym(t,"error"))}function fy(t){if(t.b&&void 0!==ep&&(!t.s[1]||4!=gy(t)||2!=t.W()))if(t.l&&4==gy(t))Dm(t.za,0,t);else if(ym(t,"readystatechange"),4==gy(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Cg)[1]||null;if(!s&&np.self&&np.self.location){var o=np.self.location.protocol;s=o.substr(0,o.length-1)}i=!uy.test(s?s.toLowerCase():"")}e=i}if(e)ym(t,"complete"),ym(t,"success");else{t.h=6;try{var a=2<gy(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",dy(t)}}finally{py(t)}}}function py(t,e){if(t.a){my(t);var n=t.a,r=t.s[0]?rp:null;t.a=null,t.s=null,e||ym(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function my(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(np.clearTimeout(t.m),t.m=null)}function gy(t){return t.a?t.a.readyState:0}function yy(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return xp(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ag(t,e,n))}function by(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function _y(t){this.pa=0,this.g=[],this.c=new Vm,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=by("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=by("baseRetryDelayMs",5e3,t),this.Ra=by("retryDelaySeedMs",1e4,t),this.Ma=by("forwardChannelMaxRetries",2,t),this.ma=by("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Gg(t&&t.concurrentRequestLimit),this.ka=new ny,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function vy(t){if(Ey(t),3==t.v){var e=t.R++,n=Og(t.B);Ag(n,"SID",t.J),Ag(n,"RID",e),Ag(n,"TYPE","terminate"),xy(t,n),(e=new sg(t,t.c,e,void 0)).H=2,e.i=Pg(Og(n)),n=!1,np.navigator&&np.navigator.sendBeacon&&(n=np.navigator.sendBeacon(e.i.toString(),"")),!n&&np.Image&&((new Image).src=e.i,n=!0),n||(e.a=Fy(e.g,null),e.a.ba(e.i)),e.u=dp(),fg(e)}My(t)}function wy(t){t.a&&(Ay(t),t.a.cancel(),t.a=null)}function Ey(t){wy(t),t.j&&(np.clearTimeout(t.j),t.j=null),Dy(t),t.b.cancel(),t.h&&("number"==typeof t.h&&np.clearTimeout(t.h),t.h=null)}function Cy(t,e){t.g.push(new $g(t.Oa++,e)),3==t.v&&Sy(t)}function Sy(t){Qg(t.b)||t.h||(t.h=!0,xm(t.Ba,t),t.u=0)}function Oy(t,e){var n;n=e?e.f:t.R++;var r=Og(t.B);Ag(r,"SID",t.J),Ag(r,"RID",n),Ag(r,"AID",t.P),xy(t,r),t.i&&t.l&&yy(r,t.i,t.l),n=new sg(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Iy(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Jg(t.b,n),cg(n,r,e)}function xy(t,e){t.f&&_g({},(function(t,n){Ag(e,n,t)}))}function Iy(t,e,n){n=Math.min(t.g.length,n);var r=t.f?lp(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{ry(l,o,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Ty(t){t.a||t.j||(t.T=1,xm(t.Aa,t),t.o=0)}function ky(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Qm(lp(t.Aa,t),Ny(t,t.o)),t.o++,0))}function Ay(t){null!=t.s&&(np.clearTimeout(t.s),t.s=null)}function Py(t){t.a=new sg(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Og(t.la);Ag(e,"RID","rpc"),Ag(e,"SID",t.J),Ag(e,"CI",t.H?"0":"1"),Ag(e,"AID",t.P),xy(t,e),Ag(e,"TYPE","xmlhttp"),t.i&&t.l&&yy(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Pg(Og(e)),n.j=null,n.I=!0,lg(n,t)}function Dy(t){null!=t.m&&(np.clearTimeout(t.m),t.m=null)}function Ry(t,e){var n=null;if(t.a==e){Dy(t),Ay(t),t.a=null;var r=2}else{if(!Zg(t.b,e))return;n=e.s,Xg(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=dp()-e.u;var i=t.u;ym(r=zm(),new Km(r,n,e,i)),Sy(t)}else Ty(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Yg(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Qm(lp(t.Ba,t,e),Ny(t,t.u)),t.u++,0)))}(t,e)||2==r&&ky(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:jy(t,5);break;case 4:jy(t,10);break;case 3:jy(t,6);break;default:jy(t,2)}}function Ny(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function jy(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=lp(t.Ya,t);n||(n=new Sg("//www.google.com/images/cleardot.gif"),np.location&&"http"==np.location.protocol||xg(n,"https"),Pg(n)),function(t,e){var n=new Vm;if(np.Image){var r=new Image;r.onload=hp(iy,n,r,"TestLoadImage: loaded",!0,e),r.onerror=hp(iy,n,r,"TestLoadImage: error",!1,e),r.onabort=hp(iy,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=hp(iy,n,r,"TestLoadImage: timeout",!1,e),np.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Gm(2);t.v=0,t.f&&t.f.ra(e),My(t),Ey(t)}function My(t){t.v=0,t.I=-1,t.f&&(0==ty(t.b).length&&0==t.g.length||(t.b.c.length=0,bp(t.g),t.g.length=0),t.f.qa())}function Ly(t,e,n){var r=function(t){return t instanceof Sg?Og(t):new Sg(t,void 0)}(n);if(""!=r.c)e&&Ig(r,e+"."+r.c),Tg(r,r.h);else{var i=np.location;r=function(t,e,n,r){var i=new Sg(null,void 0);return t&&xg(i,t),e&&Ig(i,e),n&&Tg(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&xp(t.V,(function(t,e){Ag(r,e,t)})),n=t.na,(e=t.A)&&n&&Ag(r,e,n),Ag(r,"VER",t.ha),xy(t,r),r}function Fy(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new oy(t.Na)).F=t.C,e}function Vy(){}function Uy(){if(Np&&!(10<=Number(Wp)))throw Error("Environmental error: no available transport.")}function qy(t,e){gm.call(this),this.a=new _y(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!_p(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_p(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Hy(this)}function By(t){ng.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function zy(){rg.call(this),this.status=1}function Hy(t){this.a=t}(Xf=oy.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:tg),this.a.onreadystatechange=lp(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void hy(this,s)}t=n||"";var i=new vg(this.headers);r&&_g(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=ly,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=np.FormData&&t instanceof np.FormData,!(0<=mp(cy,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{my(this),0<this.o&&((this.D=function(t){return Np&&Hp(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=lp(this.xa,this)):this.m=Dm(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){hy(this,s)}},Xf.xa=function(){void 0!==ep&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,ym(this,"timeout"),this.abort(8))},Xf.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,ym(this,"complete"),ym(this,"abort"),py(this))},Xf.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),py(this,!0)),oy.X.G.call(this)},Xf.za=function(){this.j||(this.A||this.l||this.g?fy(this):this.Ua())},Xf.Ua=function(){fy(this)},Xf.W=function(){try{return 2<gy(this)?this.a.status:-1}catch(Dp){return-1}},Xf.$=function(){try{return this.a?this.a.responseText:""}catch(Dp){return""}},Xf.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),sy(e)}},Xf.ua=function(){return this.h},Xf.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Xf=_y.prototype).ha=8,Xf.v=1,Xf.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new sg(this,this.c,t,void 0),r=this.l;if(this.O&&(r?kp(r=Ip(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Iy(this,n,e),Ag(i=Og(this.B),"RID",t),Ag(i,"CVER",22),this.A&&Ag(i,"X-HTTP-Session-Id",this.A),xy(this,i),this.i&&r&&yy(i,this.i,r),Jg(this.b,n),this.Ia&&Ag(i,"TYPE","init"),this.da?(Ag(i,"$req",e),Ag(i,"SID","null"),n.U=!0,cg(n,i,null)):cg(n,i,e),this.v=2}}else 3==this.v&&(t?Oy(this,t):0==this.g.length||Qg(this.b)||Oy(this))},Xf.Aa=function(){if(this.j=null,Py(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Qm(lp(this.Ta,this),t)}},Xf.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Gm(10),wy(this),Py(this))},Xf.Sa=function(){null!=this.m&&(this.m=null,wy(this),ky(this),Gm(19))},Xf.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Gm(2)):(this.c.info("Failed to ping google.com"),Gm(1))},(Xf=Vy.prototype).ta=function(){},Xf.sa=function(){},Xf.ra=function(){},Xf.qa=function(){},Xf.Ja=function(){},Uy.prototype.a=function(t,e){return new qy(t,e)},fp(qy,gm),qy.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Gm(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Ly(t,null,t.fa),Sy(t)},qy.prototype.close=function(){vy(this.a)},qy.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Cy(this.a,e)}else this.l?((e={}).__data__=_m(t),Cy(this.a,e)):Cy(this.a,t)},qy.prototype.G=function(){this.a.f=null,delete this.f,vy(this.a),delete this.a,qy.X.G.call(this)},fp(By,ng),fp(zy,rg),fp(Hy,Vy),Hy.prototype.ta=function(){ym(this.a,"a")},Hy.prototype.sa=function(t){ym(this.a,new By(t))},Hy.prototype.ra=function(t){ym(this.a,new zy(t))},Hy.prototype.qa=function(){ym(this.a,"b")},Uy.prototype.createWebChannel=Uy.prototype.a,qy.prototype.send=qy.prototype.h,qy.prototype.open=qy.prototype.g,qy.prototype.close=qy.prototype.close,Ym.NO_ERROR=0,Ym.TIMEOUT=8,Ym.HTTP_ERROR=6,Zm.COMPLETE="complete",Xm.EventType=eg,eg.OPEN="a",eg.CLOSE="b",eg.ERROR="c",eg.MESSAGE="d",gm.prototype.listen=gm.prototype.va,oy.prototype.listenOnce=oy.prototype.wa,oy.prototype.getLastError=oy.prototype.Qa,oy.prototype.getLastErrorCode=oy.prototype.ua,oy.prototype.getStatus=oy.prototype.W,oy.prototype.getResponseJson=oy.prototype.Pa,oy.prototype.getResponseText=oy.prototype.$,oy.prototype.send=oy.prototype.ba;var Wy=Ym,$y=Zm,Gy=qm,Ky=Xm,Qy=oy,Yy=n("/6Yf"),Zy=function(t,e,n,r,i,s){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},Jy=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Xy=function(){function t(t){this.uid=t}return t.prototype.u=function(){return null!=this.uid},t.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Xy.UNAUTHENTICATED=new Xy(null),Xy.l=new Xy("google-credentials-uid"),Xy._=new Xy("first-party-uid");var tb=new Qf.b("@firebase/firestore");function eb(){return tb.logLevel}function nb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(tb.logLevel<=Qf.a.DEBUG){var r=e.map(sb);tb.debug.apply(tb,Object(Gf.g)(["Firestore (8.1.2): "+t],r))}}function rb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(tb.logLevel<=Qf.a.ERROR){var r=e.map(sb);tb.error.apply(tb,Object(Gf.g)(["Firestore (8.1.2): "+t],r))}}function ib(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(tb.logLevel<=Qf.a.WARN){var r=e.map(sb);tb.warn.apply(tb,Object(Gf.g)(["Firestore (8.1.2): "+t],r))}}function sb(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function ob(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.1.2) INTERNAL ASSERTION FAILED: "+t;throw rb(e),new Error(e)}function ab(t,e){t||ob()}function ub(t,e){return t}var cb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},lb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Gf.c)(e,t),e}(Error),hb=function(t,e){this.user=e,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+t},db=function(){function t(){this.I=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.m=function(){},t.prototype.A=function(t){this.I=t,t(Xy.UNAUTHENTICATED)},t.prototype.R=function(){this.I=null},t}(),fb=function(){function t(t){var e=this;this.P=null,this.currentUser=Xy.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){e.V++,e.currentUser=e.p(),e.g=!0,e.I&&e.I(e.currentUser)},this.V=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),t.get().then((function(t){e.auth=t,e.P&&e.auth.addAuthTokenListener(e.P)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.V!==e?(nb("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(ab("string"==typeof n.accessToken),new hb(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.m=function(){this.forceRefresh=!0},t.prototype.A=function(t){this.I=t,this.g&&t(this.currentUser)},t.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},t.prototype.p=function(){var t=this.auth&&this.auth.getUid();return ab(null===t||"string"==typeof t),new Xy(t)},t}(),pb=function(){function t(t,e){this.v=t,this.S=e,this.type="FirstParty",this.user=Xy._}return Object.defineProperty(t.prototype,"T",{get:function(){var t={"X-Goog-AuthUser":this.S},e=this.v.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),mb=function(){function t(t,e){this.v=t,this.S=e}return t.prototype.getToken=function(){return Promise.resolve(new pb(this.v,this.S))},t.prototype.A=function(t){t(Xy._)},t.prototype.R=function(){},t.prototype.m=function(){},t}();function gb(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var yb=function(){function t(){}return t.D=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=gb(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function bb(t,e){return t<e?-1:t>e?1:0}function _b(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function vb(t){return t+"\0"}var wb=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new lb(cb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new lb(cb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new lb(cb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lb(cb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.C=function(t){return this.seconds===t.seconds?bb(this.nanoseconds,t.nanoseconds):bb(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Eb=function(){function t(t){this.timestamp=t}return t.N=function(e){return new t(e)},t.min=function(){return new t(new wb(0,0))},t.prototype.F=function(t){return this.timestamp.C(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t}(),Cb=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&ob(),void 0===n?n=t.length-e:n>t.length-e&&ob(),this.segments=t,this.offset=e,this.k=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.$(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.L(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.B=function(t){return this.L(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},t.prototype.U=function(){return this.segments[this.offset]},t.prototype.K=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.W=function(){return 0===this.length},t.prototype.j=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.G=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},t.$=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Sb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gf.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.H().join("/")},e.prototype.toString=function(){return this.J()},e.Y=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new lb(cb.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.X=function(){return new e([])},e}(Cb),Ob=/^[_a-zA-Z][_a-zA-Z0-9]*$/,xb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gf.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.Z=function(t){return Ob.test(t)},e.prototype.J=function(){return this.H().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.Z(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},e.et=function(){return new e(["__name__"])},e.nt=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new lb(cb.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new lb(cb.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new lb(cb.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new lb(cb.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.X=function(){return new e([])},e}(Cb),Ib=function(){function t(t){this.path=t}return t.st=function(e){return new t(Sb.Y(e))},t.it=function(e){return new t(Sb.Y(e).B(5))},t.prototype.rt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Sb.$(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.$=function(t,e){return Sb.$(t.path,e.path)},t.ot=function(t){return t.length%2==0},t.ct=function(e){return new t(new Sb(e.slice()))},t}();function Tb(t){return null==t}function kb(t){return 0===t&&1/t==-1/0}function Ab(t){return"number"==typeof t&&Number.isInteger(t)&&!kb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Pb=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ut=null};function Db(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Pb(t,e,n,r,i,s,o)}function Rb(t){var e=ub(t);if(null===e.ut){var n=e.path.J();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.J()+t.op.toString()+I_(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.J()+t.dir}(t)})).join(","),Tb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Iw(e.startAt)),e.endAt&&(n+="|ub:",n+=Iw(e.endAt)),e.ut=n}return e.ut}function Nb(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Dw(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!C_(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kw(t.startAt,e.startAt)&&kw(t.endAt,e.endAt)}function jb(t){return Ib.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Mb=function(){function t(t){this.at=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.at)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.at)},t.prototype.ht=function(){return 2*this.at.length},t.prototype.F=function(t){return bb(this.at,t.at)},t.prototype.isEqual=function(t){return this.at===t.at},t}();Mb.lt=new Mb("");var Lb,Fb,Vb=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Eb.min()),void 0===s&&(s=Eb.min()),void 0===o&&(o=Mb.lt),this.target=t,this.targetId=e,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.dt=function(e){return new t(this.target,this.targetId,this._t,e,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.wt=function(e,n){return new t(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Et=function(e){return new t(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,e,this.resumeToken)},t}(),Ub=function(t){this.count=t};function qb(t){switch(t){case cb.OK:return ob();case cb.CANCELLED:case cb.UNKNOWN:case cb.DEADLINE_EXCEEDED:case cb.RESOURCE_EXHAUSTED:case cb.INTERNAL:case cb.UNAVAILABLE:case cb.UNAUTHENTICATED:return!1;case cb.INVALID_ARGUMENT:case cb.NOT_FOUND:case cb.ALREADY_EXISTS:case cb.PERMISSION_DENIED:case cb.FAILED_PRECONDITION:case cb.ABORTED:case cb.OUT_OF_RANGE:case cb.UNIMPLEMENTED:case cb.DATA_LOSS:return!0;default:return ob()}}function Bb(t){if(void 0===t)return rb("GRPC error has no .code"),cb.UNKNOWN;switch(t){case Lb.OK:return cb.OK;case Lb.CANCELLED:return cb.CANCELLED;case Lb.UNKNOWN:return cb.UNKNOWN;case Lb.DEADLINE_EXCEEDED:return cb.DEADLINE_EXCEEDED;case Lb.RESOURCE_EXHAUSTED:return cb.RESOURCE_EXHAUSTED;case Lb.INTERNAL:return cb.INTERNAL;case Lb.UNAVAILABLE:return cb.UNAVAILABLE;case Lb.UNAUTHENTICATED:return cb.UNAUTHENTICATED;case Lb.INVALID_ARGUMENT:return cb.INVALID_ARGUMENT;case Lb.NOT_FOUND:return cb.NOT_FOUND;case Lb.ALREADY_EXISTS:return cb.ALREADY_EXISTS;case Lb.PERMISSION_DENIED:return cb.PERMISSION_DENIED;case Lb.FAILED_PRECONDITION:return cb.FAILED_PRECONDITION;case Lb.ABORTED:return cb.ABORTED;case Lb.OUT_OF_RANGE:return cb.OUT_OF_RANGE;case Lb.UNIMPLEMENTED:return cb.UNIMPLEMENTED;case Lb.DATA_LOSS:return cb.DATA_LOSS;default:return ob()}}(Fb=Lb||(Lb={}))[Fb.OK=0]="OK",Fb[Fb.CANCELLED=1]="CANCELLED",Fb[Fb.UNKNOWN=2]="UNKNOWN",Fb[Fb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fb[Fb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fb[Fb.NOT_FOUND=5]="NOT_FOUND",Fb[Fb.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fb[Fb.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fb[Fb.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fb[Fb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fb[Fb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fb[Fb.ABORTED=10]="ABORTED",Fb[Fb.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fb[Fb.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fb[Fb.INTERNAL=13]="INTERNAL",Fb[Fb.UNAVAILABLE=14]="UNAVAILABLE",Fb[Fb.DATA_LOSS=15]="DATA_LOSS";var zb=function(){function t(t,e){this.$=t,this.root=e||Wb.EMPTY}return t.prototype.Tt=function(e,n){return new t(this.$,this.root.Tt(e,n,this.$).copy(null,null,Wb.It,null,null))},t.prototype.remove=function(e){return new t(this.$,this.root.remove(e,this.$).copy(null,null,Wb.It,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.W();){var n=this.$(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.W();){var r=this.$(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.W=function(){return this.root.W()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.At=function(){return this.root.At()},t.prototype.Rt=function(){return this.root.Rt()},t.prototype.Pt=function(t){return this.root.Pt(t)},t.prototype.forEach=function(t){this.Pt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Pt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.yt=function(){return new Hb(this.root,null,this.$,!1)},t.prototype.Vt=function(t){return new Hb(this.root,t,this.$,!1)},t.prototype.vt=function(){return new Hb(this.root,null,this.$,!0)},t.prototype.bt=function(t){return new Hb(this.root,t,this.$,!0)},t}(),Hb=function(){function t(t,e,n,r){this.St=r,this.Dt=[];for(var i=1;!t.W();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.St?t.left:t.right;else{if(0===i){this.Dt.push(t);break}this.Dt.push(t),t=this.St?t.right:t.left}}return t.prototype.Ct=function(){var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.St)for(t=t.left;!t.W();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.W();)this.Dt.push(t),t=t.left;return e},t.prototype.Nt=function(){return this.Dt.length>0},t.prototype.xt=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),Wb=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.W=function(){return!1},t.prototype.Pt=function(t){return this.left.Pt(t)||t(this.key,this.value)||this.right.Pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.W()?this:this.left.min()},t.prototype.At=function(){return this.min().key},t.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},t.prototype.Tt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Tt(t,e,n))).Ft()},t.prototype.Ot=function(){if(this.left.W())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.Ot(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(e,i.key)){if(i.right.W())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Bt()),t.left.Mt()&&t.left.left.Mt()&&(t=t.$t()),t.left.Mt()&&t.right.Mt()&&(t=t.qt()),t},t.prototype.kt=function(){var t=this.qt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.$t())).Bt()).qt()),t},t.prototype.Lt=function(){var t=this.qt();return t.left.left.Mt()&&(t=(t=t.$t()).qt()),t},t.prototype.Bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.$t=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.qt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.Qt();return Math.pow(2,t)<=this.size+1},t.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw ob();if(this.right.Mt())throw ob();var t=this.left.Qt();if(t!==this.right.Qt())throw ob();return t+(this.Mt()?0:1)},t}();Wb.EMPTY=null,Wb.RED=!0,Wb.It=!1,Wb.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ob()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ob()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ob()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ob()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ob()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Tt=function(t,e,n){return new Wb(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.W=function(){return!0},t.prototype.Pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.At=function(){return null},t.prototype.Rt=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.Qt=function(){return 0},t}());var $b=function(){function t(t){this.$=t,this.data=new zb(this.$)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.At()},t.prototype.last=function(){return this.data.Rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pt((function(e,n){return t(e),!1}))},t.prototype.Kt=function(t,e){for(var n=this.data.Vt(t[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Wt=function(t,e){var n;for(n=void 0!==e?this.data.Vt(e):this.data.yt();n.Nt();)if(!t(n.Ct().key))return},t.prototype.jt=function(t){var e=this.data.Vt(t);return e.Nt()?e.Ct().key:null},t.prototype.yt=function(){return new Gb(this.data.yt())},t.prototype.Vt=function(t){return new Gb(this.data.Vt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Tt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.W=function(){return this.data.W()},t.prototype.Gt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),r=e.data.yt();n.Nt();){var i=n.Ct().key,s=r.Ct().key;if(0!==this.$(i,s))return!1}return!0},t.prototype.H=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.$);return n.data=e,n},t}(),Gb=function(){function t(t){this.zt=t}return t.prototype.Ct=function(){return this.zt.Ct().key},t.prototype.Nt=function(){return this.zt.Nt()},t}(),Kb=new zb(Ib.$);function Qb(){return Kb}function Yb(){return Qb()}var Zb=new zb(Ib.$);function Jb(){return Zb}var Xb=new zb(Ib.$),t_=new $b(Ib.$);function e_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t_,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var n_=new $b(bb);function r_(){return n_}var i_=function(){function t(t){this.$=t?function(e,n){return t(e,n)||Ib.$(e.key,n.key)}:function(t,e){return Ib.$(t.key,e.key)},this.Ht=Jb(),this.Jt=new zb(this.$)}return t.Yt=function(e){return new t(e.$)},t.prototype.has=function(t){return null!=this.Ht.get(t)},t.prototype.get=function(t){return this.Ht.get(t)},t.prototype.first=function(){return this.Jt.At()},t.prototype.last=function(){return this.Jt.Rt()},t.prototype.W=function(){return this.Jt.W()},t.prototype.indexOf=function(t){var e=this.Ht.get(t);return e?this.Jt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Jt.Pt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ht.Tt(t.key,t),e.Jt.Tt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ht.remove(t),this.Jt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Jt.yt(),r=e.Jt.yt();n.Nt();){var i=n.Ct().key,s=r.Ct().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.$=this.$,r.Ht=e,r.Jt=n,r},t}(),s_=function(){function t(){this.Xt=new zb(Ib.$)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Xt.get(e);n?0!==t.type&&3===n.type?this.Xt=this.Xt.Tt(e,t):3===t.type&&1!==n.type?this.Xt=this.Xt.Tt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Xt=this.Xt.Tt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Xt=this.Xt.remove(e):1===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):ob():this.Xt=this.Xt.Tt(e,t)},t.prototype.Zt=function(){var t=[];return this.Xt.Pt((function(e,n){t.push(n)})),t},t}(),o_=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=s,this.ne=o,this.se=a}return t.ie=function(e,n,r,i){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,i_.Yt(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ne===t.ne&&this.ee.isEqual(t.ee)&&dw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.te.isEqual(t.te)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),a_=function(){function t(t,e,n,r,i){this.ft=t,this.re=e,this.oe=n,this.ce=r,this.ue=i}return t.ae=function(e,n){var r=new Map;return r.set(e,u_.he(e,n)),new t(Eb.min(),r,r_(),Qb(),e_())},t}(),u_=function(){function t(t,e,n,r,i){this.resumeToken=t,this.le=e,this._e=n,this.fe=r,this.de=i}return t.he=function(e,n){return new t(Mb.lt,n,e_(),e_(),e_())},t}(),c_=function(t,e,n,r){this.we=t,this.removedTargetIds=e,this.key=n,this.Ee=r},l_=function(t,e){this.targetId=t,this.Te=e},h_=function(t,e,n,r){void 0===n&&(n=Mb.lt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},d_=function(){function t(){this.Ie=0,this.me=m_(),this.Ae=Mb.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(t.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),t.prototype.Ve=function(t){t.ht()>0&&(this.Pe=!0,this.Ae=t)},t.prototype.pe=function(){var t=e_(),e=e_(),n=e_();return this.me.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ob()}})),new u_(this.Ae,this.Re,t,e,n)},t.prototype.ve=function(){this.Pe=!1,this.me=m_()},t.prototype.be=function(t,e){this.Pe=!0,this.me=this.me.Tt(t,e)},t.prototype.Se=function(t){this.Pe=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.Ie+=1},t.prototype.Ce=function(){this.Ie-=1},t.prototype.Ne=function(){this.Pe=!0,this.Re=!0},t}(),f_=function(){function t(t){this.xe=t,this.Fe=new Map,this.Oe=Qb(),this.Me=p_(),this.ke=new $b(bb)}return t.prototype.$e=function(t){for(var e=0,n=t.we;e<n.length;e++){var r=n[e];t.Ee instanceof Jv?this.Le(r,t.Ee):t.Ee instanceof Xv&&this.Be(r,t.key,t.Ee)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Be(s[i],t.key,t.Ee)},t.prototype.qe=function(t){var e=this;this.Ue(t,(function(n){var r=e.Qe(n);switch(t.state){case 0:e.Ke(n)&&r.Ve(t.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(t.resumeToken);break;case 2:r.Ce(),r.ge||e.removeTarget(n);break;case 3:e.Ke(n)&&(r.Ne(),r.Ve(t.resumeToken));break;case 4:e.Ke(n)&&(e.We(n),r.Ve(t.resumeToken));break;default:ob()}}))},t.prototype.Ue=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fe.forEach((function(t,r){n.Ke(r)&&e(r)}))},t.prototype.je=function(t){var e=t.targetId,n=t.Te.count,r=this.Ge(e);if(r){var i=r.target;if(jb(i))if(0===n){var s=new Ib(i.path);this.Be(e,s,new Xv(s,Eb.min()))}else ab(1===n);else this.ze(e)!==n&&(this.We(e),this.ke=this.ke.add(e))}},t.prototype.He=function(t){var e=this,n=new Map;this.Fe.forEach((function(r,i){var s=e.Ge(i);if(s){if(r.le&&jb(s.target)){var o=new Ib(s.target.path);null!==e.Oe.get(o)||e.Je(i,o)||e.Be(i,o,new Xv(o,t))}r.ye&&(n.set(i,r.pe()),r.ve())}}));var r=e_();this.Me.forEach((function(t,n){var i=!0;n.Wt((function(t){var n=e.Ge(t);return!n||2===n._t||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new a_(t,n,this.ke,this.Oe,r);return this.Oe=Qb(),this.Me=p_(),this.ke=new $b(bb),i},t.prototype.Le=function(t,e){if(this.Ke(t)){var n=this.Je(t,e.key)?2:0;this.Qe(t).be(e.key,n),this.Oe=this.Oe.Tt(e.key,e),this.Me=this.Me.Tt(e.key,this.Ye(e.key).add(t))}},t.prototype.Be=function(t,e,n){if(this.Ke(t)){var r=this.Qe(t);this.Je(t,e)?r.be(e,1):r.Se(e),this.Me=this.Me.Tt(e,this.Ye(e).delete(t)),n&&(this.Oe=this.Oe.Tt(e,n))}},t.prototype.removeTarget=function(t){this.Fe.delete(t)},t.prototype.ze=function(t){var e=this.Qe(t).pe();return this.xe.Xe(t).size+e._e.size-e.de.size},t.prototype.De=function(t){this.Qe(t).De()},t.prototype.Qe=function(t){var e=this.Fe.get(t);return e||(e=new d_,this.Fe.set(t,e)),e},t.prototype.Ye=function(t){var e=this.Me.get(t);return e||(e=new $b(bb),this.Me=this.Me.Tt(t,e)),e},t.prototype.Ke=function(t){var e=null!==this.Ge(t);return e||nb("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.Fe.get(t);return e&&e.ge?null:this.xe.Ze(t)},t.prototype.We=function(t){var e=this;this.Fe.set(t,new d_),this.xe.Xe(t).forEach((function(n){e.Be(t,n,null)}))},t.prototype.Je=function(t,e){return this.xe.Xe(t).has(e)},t}();function p_(){return new zb(Ib.$)}function m_(){return new zb(Ib.$)}function g_(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function y_(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function b_(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function __(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function v_(t){var e=T_(t.mapValue.fields.__local_write_time__.timestampValue);return new wb(e.seconds,e.nanos)}var w_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function E_(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?__(t)?4:10:ob()}function C_(t,e){var n=E_(t);if(n!==E_(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return v_(t).isEqual(v_(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=T_(t.timestampValue),r=T_(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return A_(t.bytesValue).isEqual(A_(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return k_(t.geoPointValue.latitude)===k_(e.geoPointValue.latitude)&&k_(t.geoPointValue.longitude)===k_(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return k_(t.integerValue)===k_(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=k_(t.doubleValue),r=k_(e.doubleValue);return n===r?kb(n)===kb(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return _b(t.arrayValue.values||[],e.arrayValue.values||[],C_);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(g_(n)!==g_(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!C_(n[i],r[i])))return!1;return!0}(t,e);default:return ob()}}function S_(t,e){return void 0!==(t.values||[]).find((function(t){return C_(t,e)}))}function O_(t,e){var n=E_(t),r=E_(e);if(n!==r)return bb(n,r);switch(n){case 0:return 0;case 1:return bb(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=k_(t.integerValue||t.doubleValue),r=k_(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return x_(t.timestampValue,e.timestampValue);case 4:return x_(v_(t),v_(e));case 5:return bb(t.stringValue,e.stringValue);case 6:return function(t,e){var n=A_(t),r=A_(e);return n.F(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=bb(n[i],r[i]);if(0!==s)return s}return bb(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=bb(k_(t.latitude),k_(e.latitude));return 0!==n?n:bb(k_(t.longitude),k_(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=O_(n[i],r[i]);if(s)return s}return bb(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=bb(r[o],s[o]);if(0!==a)return a;var u=O_(n[r[o]],i[s[o]]);if(0!==u)return u}return bb(r.length,s.length)}(t.mapValue,e.mapValue);default:throw ob()}}function x_(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return bb(t,e);var n=T_(t),r=T_(e),i=bb(n.seconds,r.seconds);return 0!==i?i:bb(n.nanos,r.nanos)}function I_(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=T_(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?A_(e.bytesValue).toBase64():"referenceValue"in e?Ib.it(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,s=e.values||[];i<s.length;i++)r?r=!1:n+=",",n+=t(s[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,s=Object.keys(e.fields||{}).sort();i<s.length;i++){var o=s[i];r?r=!1:n+=",",n+=o+":"+t(e.fields[o])}return n+"}"}(e.mapValue):ob();var n}(t)}function T_(t){if(ab(!!t),"string"==typeof t){var e=0,n=w_.exec(t);if(ab(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:k_(t.seconds),nanos:k_(t.nanos)}}function k_(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function A_(t){return"string"==typeof t?Mb.fromBase64String(t):Mb.fromUint8Array(t)}function P_(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function D_(t){return!!t&&"integerValue"in t}function R_(t){return!!t&&"arrayValue"in t}function N_(t){return!!t&&"nullValue"in t}function j_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function M_(t){return!!t&&"mapValue"in t}var L_={asc:"ASCENDING",desc:"DESCENDING"},F_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V_=function(t,e){this.t=t,this.tn=e};function U_(t){return{integerValue:""+t}}function q_(t,e){if(t.tn){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kb(e)?"-0":e}}function B_(t,e){return Ab(e)?U_(e):q_(t,e)}function z_(t,e){return t.tn?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function H_(t,e){return t.tn?e.toBase64():e.toUint8Array()}function W_(t,e){return z_(t,e.M())}function $_(t){return ab(!!t),Eb.N(function(t){var e=T_(t);return new wb(e.seconds,e.nanos)}(t))}function G_(t,e){return function(t){return new Sb(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).J()}function K_(t){var e=Sb.Y(t);return ab(gv(e)),e}function Q_(t,e){return G_(t.t,e.path)}function Y_(t,e){var n=K_(e);if(n.get(1)!==t.t.projectId)throw new lb(cb.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new lb(cb.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Ib(tv(n))}function Z_(t,e){return G_(t.t,e)}function J_(t){var e=K_(t);return 4===e.length?Sb.X():tv(e)}function X_(t){return new Sb(["projects",t.t.projectId,"databases",t.t.database]).J()}function tv(t){return ab(t.length>4&&"documents"===t.get(4)),t.B(5)}function ev(t,e,n){return{name:Q_(t,e),fields:n.proto.mapValue.fields}}function nv(t,e){var n;if(e instanceof Uv)n={update:ev(t,e.key,e.value)};else if(e instanceof $v)n={delete:Q_(t,e.key)};else if(e instanceof qv)n={update:ev(t,e.key,e.data),updateMask:mv(e.en)};else if(e instanceof zv)n={transform:{document:Q_(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof wv)return{fieldPath:e.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ev)return{fieldPath:e.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof Sv)return{fieldPath:e.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof xv)return{fieldPath:e.field.J(),increment:n.nn};throw ob()}(0,t)}))}};else{if(!(e instanceof Gv))return ob();n={verify:Q_(t,e.key)}}return e.rn.sn||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:W_(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ob()}(t,e.rn)),n}function rv(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Dv.updateTime($_(t.updateTime)):void 0!==t.exists?Dv.exists(t.exists):Dv.on()}(e.currentDocument):Dv.on();if(e.update){var r=Y_(t,e.update.name),i=new Kv({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new kv((t.fieldPaths||[]).map((function(t){return xb.nt(t)})))}(e.updateMask);return new qv(r,i,s,n)}return new Uv(r,i,n)}if(e.delete){var o=Y_(t,e.delete);return new $v(o,n)}if(e.transform){var a=Y_(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(ab("REQUEST_TIME"===e.setToServerValue),n=new wv):"appendMissingElements"in e?n=new Ev(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Sv(e.removeAllFromArray.values||[]):"increment"in e?n=new xv(t,e.increment):ob();var r=xb.nt(e.fieldPath);return new Av(r,n)}(t,e)}));return ab(!0===n.exists),new zv(a,u)}if(e.verify){var c=Y_(t,e.verify);return new Gv(c,n)}return ob()}function iv(t,e){return{documents:[Z_(t,e.path)]}}function sv(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Z_(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Z_(t,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(j_(t.value))return{unaryFilter:{field:hv(t.field),op:"IS_NAN"}};if(N_(t.value))return{unaryFilter:{field:hv(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(j_(t.value))return{unaryFilter:{field:hv(t.field),op:"IS_NOT_NAN"}};if(N_(t.value))return{unaryFilter:{field:hv(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hv(t.field),op:lv(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:hv(t.field),direction:cv(t.dir)}}(t)}))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.tn||Tb(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=av(e.startAt)),e.endAt&&(n.structuredQuery.endAt=av(e.endAt)),n}function ov(t){var e=J_(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ab(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[pv(e)]:void 0!==e.fieldFilter?[fv(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):ob():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Aw(dv(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Tb(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=uv(n.startAt));var l=null;return n.endAt&&(l=uv(n.endAt)),nw(e,i,a,o,u,"F",c,l)}function av(t){return{before:t.before,values:t.position}}function uv(t){return new xw(t.values||[],!!t.before)}function cv(t){return L_[t]}function lv(t){return F_[t]}function hv(t){return{fieldPath:t.J()}}function dv(t){return xb.nt(t.fieldPath)}function fv(t){return yw.create(dv(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ob()}}(t.fieldFilter.op),t.fieldFilter.value)}function pv(t){switch(t.unaryFilter.op){case"IS_NAN":var e=dv(t.unaryFilter.field);return yw.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=dv(t.unaryFilter.field);return yw.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=dv(t.unaryFilter.field);return yw.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=dv(t.unaryFilter.field);return yw.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ob()}}function mv(t){var e=[];return t.fields.forEach((function(t){return e.push(t.J())})),{fieldPaths:e}}function gv(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var yv=function(){this.cn=void 0};function bv(t,e,n){return t instanceof wv?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ev?Cv(t,e):t instanceof Sv?Ov(t,e):function(t,e){var n=vv(t,e),r=Iv(n)+Iv(t.nn);return D_(n)&&D_(t.nn)?U_(r):q_(t.serializer,r)}(t,e)}function _v(t,e,n){return t instanceof Ev?Cv(t,e):t instanceof Sv?Ov(t,e):n}function vv(t,e){return t instanceof xv?D_(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var wv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gf.c)(e,t),e}(yv),Ev=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Gf.c)(e,t),e}(yv);function Cv(t,e){for(var n=Tv(e),r=function(t){n.some((function(e){return C_(e,t)}))||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Sv=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Gf.c)(e,t),e}(yv);function Ov(t,e){for(var n=Tv(e),r=function(t){n=n.filter((function(e){return!C_(e,t)}))},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var xv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.nn=n,r}return Object(Gf.c)(e,t),e}(yv);function Iv(t){return k_(t.integerValue||t.doubleValue)}function Tv(t){return R_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var kv=function(){function t(t){this.fields=t,t.sort(xb.$)}return t.prototype.un=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].j(t))return!0;return!1},t.prototype.isEqual=function(t){return _b(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Av=function(t,e){this.field=t,this.transform=e},Pv=function(t,e){this.version=t,this.transformResults=e},Dv=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.on=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Rv(t,e){return void 0!==t.updateTime?e instanceof Jv&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Jv}var Nv=function(){};function jv(t,e,n){return t instanceof Uv?function(t,e,n){return new Jv(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof qv?function(t,e,n){if(!Rv(t.rn,e))return new tw(t.key,n.version);var r=Bv(t,e);return new Jv(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof zv?function(t,e,n){if(ab(null!=n.transformResults),!Rv(t.rn,e))return new tw(t.key,n.version);var r=Hv(0,e),i=function(t,e,n){var r=[];ab(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof Jv&&(a=e.field(s.field)),r.push(_v(o,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),s=n.version,o=Wv(t,r.data(),i);return new Jv(t.key,s,o,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Xv(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Mv(t,e,n,r){return t instanceof Uv?function(t,e){if(!Rv(t.rn,e))return e;var n=Vv(e);return new Jv(t.key,n,t.value,{an:!0})}(t,e):t instanceof qv?function(t,e){if(!Rv(t.rn,e))return e;var n=Vv(e),r=Bv(t,e);return new Jv(t.key,n,r,{an:!0})}(t,e):t instanceof zv?function(t,e,n,r){if(!Rv(t.rn,e))return e;var i=Hv(0,e),s=function(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,c=null;n instanceof Jv&&(c=n.field(a.field)),null===c&&r instanceof Jv&&(c=r.field(a.field)),i.push(bv(u,c,e))}return i}(t.fieldTransforms,n,e,r),o=Wv(t,i.data(),s);return new Jv(t.key,i.version,o,{an:!0})}(t,e,r,n):function(t,e){return Rv(t.rn,e)?new Xv(t.key,Eb.min()):e}(t,e)}function Lv(t,e){return t instanceof zv?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e instanceof Jv?e.field(s.field):void 0,a=vv(s.transform,o||null);null!=a&&(n=null==n?(new Qv).set(s.field,a):n.set(s.field,a))}return n?n.hn():null}(t,e):null}function Fv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.rn.isEqual(e.rn)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.en.isEqual(e.en):2!==t.type||_b(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ev&&e instanceof Ev||t instanceof Sv&&e instanceof Sv?_b(t.elements,e.elements,C_):t instanceof xv&&e instanceof xv?C_(t.nn,e.nn):t instanceof wv&&e instanceof wv}(t.transform,e.transform)}(t,e)})))}function Vv(t){return t instanceof Jv?t.version:Eb.min()}var Uv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.rn=r,i.type=0,i}return Object(Gf.c)(e,t),e}(Nv),qv=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.en=r,s.rn=i,s.type=1,s}return Object(Gf.c)(e,t),e}(Nv);function Bv(t,e){return function(t,e){var n=new Qv(e);return t.en.fields.forEach((function(e){if(!e.W()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.hn()}(t,e instanceof Jv?e.data():Kv.empty())}var zv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.rn=Dv.exists(!0),r}return Object(Gf.c)(e,t),e}(Nv);function Hv(t,e){return e}function Wv(t,e,n){for(var r=new Qv(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.hn()}var $v=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=3,r}return Object(Gf.c)(e,t),e}(Nv),Gv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=4,r}return Object(Gf.c)(e,t),e}(Nv),Kv=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.W())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!M_(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.K()])||null},t.prototype.isEqual=function(t){return C_(this.proto,t.proto)},t}(),Qv=function(){function t(t){void 0===t&&(t=Kv.empty()),this.ln=t,this._n=new Map}return t.prototype.set=function(t,e){return this.fn(t,e),this},t.prototype.delete=function(t){return this.fn(t,null),this},t.prototype.fn=function(t,e){for(var n=this._n,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===E_(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.K(),e)},t.prototype.hn=function(){var t=this.dn(xb.X(),this._n);return null!=t?new Kv(t):this.ln},t.prototype.dn=function(t,e){var n=this,r=!1,i=this.ln.field(t),s=M_(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var o=n.dn(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)})),r?{mapValue:{fields:s}}:null},t}();function Yv(t){var e=[];return y_(t.fields||{},(function(t,n){var r=new xb([t]);if(M_(n)){var i=Yv(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)})),new kv(e)}var Zv=function(t,e){this.key=t,this.version=e},Jv=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).wn=r,s.an=!!i.an,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(Gf.c)(e,t),e.prototype.field=function(t){return this.wn.field(t)},e.prototype.data=function(){return this.wn},e.prototype.En=function(){return this.wn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.an===t.an&&this.hasCommittedMutations===t.hasCommittedMutations&&this.wn.isEqual(t.wn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Zv),Xv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Gf.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Zv),tw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gf.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Zv),ew=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Tn=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.In=null,this.mn=null};function nw(t,e,n,r,i,s,o,a){return new ew(t,e,n,r,i,s,o,a)}function rw(t){return new ew(t)}function iw(t){return!Tb(t.limit)&&"F"===t.limitType}function sw(t){return!Tb(t.limit)&&"L"===t.limitType}function ow(t){return t.Tn.length>0?t.Tn[0].field:null}function aw(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.An())return r.field}return null}function uw(t){return null!==t.collectionGroup}function cw(t){var e=ub(t);if(null===e.In){e.In=[];var n=aw(e),r=ow(e);if(null!==n&&null===r)n.tt()||e.In.push(new Aw(n)),e.In.push(new Aw(xb.et(),"asc"));else{for(var i=!1,s=0,o=e.Tn;s<o.length;s++){var a=o[s];e.In.push(a),a.field.tt()&&(i=!0)}if(!i){var u=e.Tn.length>0?e.Tn[e.Tn.length-1].dir:"asc";e.In.push(new Aw(xb.et(),u))}}}return e.In}function lw(t){var e=ub(t);if(!e.mn)if("F"===e.limitType)e.mn=Db(e.path,e.collectionGroup,cw(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=cw(e);r<i.length;r++){var s=i[r];n.push(new Aw(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new xw(e.endAt.position,!e.endAt.before):null,a=e.startAt?new xw(e.startAt.position,!e.startAt.before):null;e.mn=Db(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.mn}function hw(t,e,n){return new ew(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dw(t,e){return Nb(lw(t),lw(e))&&t.limitType===e.limitType}function fw(t){return Rb(lw(t))+"|lt:"+t.limitType}function pw(t){return"Query(target="+function(t){var e=t.path.J();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.J()+" "+e.op+" "+I_(e.value);var e})).join(", ")+"]"),Tb(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.J()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Iw(t.startAt)),t.endAt&&(e+=", endAt: "+Iw(t.endAt)),"Target("+e+")"}(lw(t))+"; limitType="+t.limitType+")"}function mw(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.rt(t.collectionGroup)&&t.path.j(n):Ib.ot(t.path)?t.path.isEqual(n):t.path.G(n)}(t,e)&&function(t,e){for(var n=0,r=t.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Tw(t.startAt,cw(t),e)||t.endAt&&Tw(t.endAt,cw(t),e))}(t,e)}function gw(t){return function(e,n){for(var r=!1,i=0,s=cw(t);i<s.length;i++){var o=s[i],a=Pw(o,e,n);if(0!==a)return a;r=r||o.field.tt()}return 0}}var yw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Gf.c)(e,t),e.create=function(t,n,r){return t.tt()?"in"===n||"not-in"===n?this.Rn(t,n,r):new bw(t,n,r):"array-contains"===n?new Ew(t,r):"in"===n?new Cw(t,r):"not-in"===n?new Sw(t,r):"array-contains-any"===n?new Ow(t,r):new e(t,n,r)},e.Rn=function(t,e,n){return"in"===e?new _w(t,n):new vw(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Pn(O_(e,this.value)):null!==e&&E_(this.value)===E_(e)&&this.Pn(O_(e,this.value))},e.prototype.Pn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ob()}},e.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),bw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Ib.it(r.referenceValue),i}return Object(Gf.c)(e,t),e.prototype.matches=function(t){var e=Ib.$(t.key,this.key);return this.Pn(e)},e}(yw),_w=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ww(0,n),r}return Object(Gf.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(yw),vw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ww(0,n),r}return Object(Gf.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(yw);function ww(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Ib.it(t.referenceValue)}))}var Ew=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Gf.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return R_(e)&&S_(e.arrayValue,this.value)},e}(yw),Cw=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Gf.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&S_(this.value.arrayValue,e)},e}(yw),Sw=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Gf.c)(e,t),e.prototype.matches=function(t){if(S_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!S_(this.value.arrayValue,e)},e}(yw),Ow=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Gf.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!R_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return S_(e.value.arrayValue,t)}))},e}(yw),xw=function(t,e){this.position=t,this.before=e};function Iw(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return I_(t)})).join(",")}function Tw(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.tt()?Ib.$(Ib.it(o.referenceValue),n.key):O_(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function kw(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!C_(t.position[n],e.position[n]))return!1;return!0}var Aw=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Pw(t,e,n){var r=t.field.tt()?Ib.$(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?O_(r,i):ob()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ob()}}function Dw(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Rw=function(){function t(t,e,n,r){this.batchId=t,this.gn=e,this.baseMutations=n,this.mutations=r}return t.prototype.yn=function(t,e,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=jv(s,e,r[i]))}return e},t.prototype.pn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Mv(i,e,e,this.gn))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var u=a[o];u.key.isEqual(t)&&(e=Mv(u,e,s,this.gn))}return e},t.prototype.vn=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.pn(r.key,t.get(r.key));i&&(n=n.Tt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),e_())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&_b(this.mutations,t.mutations,(function(t,e){return Fv(t,e)}))&&_b(this.baseMutations,t.baseMutations,(function(t,e){return Fv(t,e)}))},t}(),Nw=function(){function t(t,e,n,r){this.batch=t,this.bn=e,this.Vn=n,this.Sn=r}return t.from=function(e,n,r){ab(e.mutations.length===r.length);for(var i=Xb,s=e.mutations,o=0;o<s.length;o++)i=i.Tt(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),jw=function(){function t(t,e){this.Dn=t,this.Cn=e,this.Nn={}}return t.prototype.get=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.Cn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Dn(t),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.Nn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],t))return 1===n.length?delete this.Nn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){y_(this.Nn,(function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}}))},t.prototype.W=function(){return b_(this.Nn)},t}(),Mw=function(){function t(t){var e=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,t((function(t){e.On=!0,e.result=t,e.xn&&e.xn(t)}),(function(t){e.On=!0,e.error=t,e.Fn&&e.Fn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Mn&&ob(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(e,this.result):new t((function(t,i){r.xn=function(n){r.$n(e,n).next(t,i)},r.Fn=function(e){r.kn(n,e).next(t,i)}}))},t.prototype.Ln=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.$n=function(e,n){return e?this.Bn((function(){return e(n)})):t.resolve(n)},t.prototype.kn=function(e,n){return e?this.Bn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.qn=function(e){return new t((function(t,n){var r=0,i=0,s=!1;e.forEach((function(e){++r,e.next((function(){++i,s&&i===r&&t()}),(function(t){return n(t)}))})),s=!0,i===r&&t()}))},t.Un=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.qn(r)},t}(),Lw=function(){function t(){this.Qn=new jw((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Kn=!1}return t.prototype.Wn=function(t){var e=this.Qn.get(t);return e?e.readTime:Eb.min()},t.prototype.jn=function(t,e){this.Gn(),this.Qn.set(t.key,{zn:t,readTime:e})},t.prototype.Hn=function(t,e){void 0===e&&(e=null),this.Gn(),this.Qn.set(t,{zn:null,readTime:e})},t.prototype.Jn=function(t,e){this.Gn();var n=this.Qn.get(e);return void 0!==n?Mw.resolve(n.zn):this.Yn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.Gn(),this.Kn=!0,this.Zn(t)},t.prototype.Gn=function(){},t}(),Fw=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function Vw(t){return new V_(t,!0)}function Uw(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var qw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Bw=function(){function t(){this.ts=[]}return t.prototype.es=function(t){this.ts.push(t)},t.prototype.ns=function(){this.ts.forEach((function(t){return t()}))},t}(),zw=function(){function t(t,e,n){this.ss=t,this.rs=e,this.os=n}return t.prototype.cs=function(t,e){var n=this;return this.rs.us(t,e).next((function(r){return n.hs(t,e,r)}))},t.prototype.hs=function(t,e,n){return this.ss.Jn(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].pn(e,t);return t}))},t.prototype.ls=function(t,e,n){var r=Yb();return e.forEach((function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].pn(t,e);r=r.Tt(t,e)})),r},t.prototype._s=function(t,e){var n=this;return this.ss.getEntries(t,e).next((function(e){return n.fs(t,e)}))},t.prototype.fs=function(t,e){var n=this;return this.rs.ds(t,e).next((function(r){var i=n.ls(t,e,r),s=Qb();return i.forEach((function(t,e){e||(e=new Xv(t,Eb.min())),s=s.Tt(t,e)})),s}))},t.prototype.ws=function(t,e,n){return function(t){return Ib.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Es(t,e.path):uw(e)?this.Ts(t,e,n):this.Is(t,e,n)},t.prototype.Es=function(t,e){return this.cs(t,new Ib(e)).next((function(t){var e=Jb();return t instanceof Jv&&(e=e.Tt(t.key,t)),e}))},t.prototype.Ts=function(t,e,n){var r=this,i=e.collectionGroup,s=Jb();return this.os.As(t,i).next((function(o){return Mw.forEach(o,(function(o){var a=function(t,e){return new ew(e,null,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.Is(t,a,n).next((function(t){t.forEach((function(t,e){s=s.Tt(t,e)}))}))})).next((function(){return s}))}))},t.prototype.Is=function(t,e,n){var r,i,s=this;return this.ss.ws(t,e,n).next((function(n){return r=n,s.rs.Rs(t,e)})).next((function(e){return s.Ps(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c),h=Mv(u,l,l,s.gn);r=h instanceof Jv?r.Tt(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){mw(e,n)||(r=r.remove(t))})),r}))},t.prototype.Ps=function(t,e,n){for(var r=e_(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof qv&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ss.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Jv&&(c=c.Tt(t,e))})),c}))},t}(),Hw=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.gs=n,this.ys=r}return t.Vs=function(e,n){for(var r=e_(),i=e_(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Ww=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ps=function(t){return n.vs(t)},this.bs=function(t){return e.Ss(t)})}return t.prototype.vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.bs&&this.bs(t),t},t}();Ww.Ds=-1;var $w=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=t,this.Ns=e,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ms=0},t.prototype.Ls=function(){this.Ms=this.Os},t.prototype.Bs=function(t){var e=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&nb("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ks=this.Cs.Us(this.Ns,i,(function(){return e.$s=Date.now(),t()})),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},t.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},t.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},t.prototype.qs=function(){return(Math.random()-.5)*this.Ms},t}(),Gw=function(){function t(e,n,r){this.name=e,this.version=n,this.Ws=r,12.2===t.js(Object(Yf.g)())&&rb("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return nb("SimpleDb","Removing database:",t),Xw(window.indexedDB.deleteDatabase(t)).Ln()},t.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(t.zs())return!0;var e=Object(Yf.g)(),n=t.js(e),r=0<n&&n<10,i=t.Hs(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.zs=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Js)},t.Ys=function(t,e){return t.store(e)},t.js=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Hs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Xs=function(t){return Object(Gf.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Gf.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(nb("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Qw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new lb(cb.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Qw(t,n))},i.onupgradeneeded=function(t){nb("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Ws.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){nb("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(t){return n.Zs(t)}),this.db)]}}))}))},t.prototype.ti=function(t){this.Zs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Gf.b)(this,void 0,void 0,(function(){var i,s,o,a,u;return Object(Gf.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(Gf.d)(this,(function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Xs(t)];case 2:return a.db=h.sent(),e=Zw.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch((function(t){return e.abort(t),Mw.reject(t)})).Ln(),u={},o.catch((function(){})),[4,e.ei];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return nb("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Kw=function(){function t(t){this.ni=t,this.si=!1,this.ii=null}return Object.defineProperty(t.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ni=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.si=!0},t.prototype.oi=function(t){this.ii=t},t.prototype.delete=function(){return Xw(this.ni.delete())},t}(),Qw=function(t){function e(e,n){var r=this;return(r=t.call(this,cb.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Gf.c)(e,t),e}(lb);function Yw(t){return"IndexedDbTransactionError"===t.name}var Zw=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ci=new Fw,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){e.error?n.ci.reject(new Qw(t,e.error)):n.ci.resolve()},this.transaction.onerror=function(e){var r=eE(e.target.error);n.ci.reject(new Qw(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Qw(n,e)}},Object.defineProperty(t.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ci.reject(t),this.aborted||(nb("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Jw(e)},t}(),Jw=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(nb("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(nb("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Xw(n)},t.prototype.add=function(t){return nb("SimpleDb","ADD",this.store.name,t,t),Xw(this.store.add(t))},t.prototype.get=function(t){var e=this;return Xw(this.store.get(t)).next((function(n){return void 0===n&&(n=null),nb("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return nb("SimpleDb","DELETE",this.store.name,t),Xw(this.store.delete(t))},t.prototype.count=function(){return nb("SimpleDb","COUNT",this.store.name),Xw(this.store.count())},t.prototype.ui=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ai(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.hi=function(t,e){nb("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.li=!1;var r=this.cursor(n);return this.ai(r,(function(t,e,n){return n.delete()}))},t.prototype._i=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ai(r,e)},t.prototype.fi=function(t){var e=this.cursor({});return new Mw((function(n,r){e.onerror=function(t){var e=eE(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.ai=function(t,e){var n=[];return new Mw((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Kw(i),o=e(i.primaryKey,i.value,s);if(o instanceof Mw){var a=o.catch((function(t){return s.done(),Mw.reject(t)}));n.push(a)}s.On?r():null===s.ri?i.continue():i.continue(s.ri)}else r()}})).next((function(){return Mw.qn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.li?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Xw(t){return new Mw((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=eE(t.target.error);n(e)}}))}var tE=!1;function eE(t){var e=Gw.js(Object(Yf.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new lb("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return tE||(tE=!0,setTimeout((function(){throw r}),0)),r}}return t}function nE(){return"undefined"!=typeof window?window:null}function rE(){return"undefined"!=typeof document?document:null}var iE=function(){function t(t,e,n,r,i){this.di=t,this.Ns=e,this.wi=n,this.op=r,this.Ei=i,this.Ti=new Fw,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch((function(t){}))}return t.Ii=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.mi=setTimeout((function(){return e.Ai()}),t)},t.prototype.Ks=function(){return this.Ai()},t.prototype.cancel=function(t){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new lb(cb.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Ai=function(){var t=this;this.di.Ri((function(){return null!==t.mi?(t.clearTimeout(),t.op().then((function(e){return t.Ti.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},t}(),sE=function(){function t(){var t=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new $w(this,"async_queue_retry"),this.Di=function(){var e=rE();e&&nb("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Si.Qs()};var e=rE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(t.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t){this.enqueue(t)},t.prototype.Ni=function(t){this.xi(),this.Fi(t)},t.prototype.Oi=function(){if(!this.yi){this.yi=!0;var t=rE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Di)}},t.prototype.enqueue=function(t){return this.xi(),this.yi?new Promise((function(t){})):this.Fi(t)},t.prototype.Mi=function(t){var e=this;this.Ri((function(){return e.gi.push(t),e.ki()}))},t.prototype.ki=function(){return Object(Gf.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Gf.d)(this,(function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!Yw(t=n.sent()))throw t;return nb("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gi.length>0&&this.Si.Bs((function(){return e.ki()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Fi=function(t){var e=this,n=this.Pi.then((function(){return e.vi=!0,t().catch((function(t){throw e.pi=t,e.vi=!1,rb("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.vi=!1,t}))}));return this.Pi=n,n},t.prototype.Us=function(t,e,n){var r=this;this.xi(),this.bi.indexOf(t)>-1&&(e=0);var i=iE.Ii(this,t,e,n,(function(t){return r.$i(t)}));return this.Vi.push(i),i},t.prototype.xi=function(){this.pi&&ob()},t.prototype.Li=function(){},t.prototype.Bi=function(){return Object(Gf.b)(this,void 0,void 0,(function(){var t;return Object(Gf.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Pi];case 1:e.sent(),e.label=2;case 2:if(t!==this.Pi)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.qi=function(t){for(var e=0,n=this.Vi;e<n.length;e++)if(n[e].Ns===t)return!0;return!1},t.prototype.Ui=function(t){var e=this;return this.Bi().then((function(){e.Vi.sort((function(t,e){return t.wi-e.wi}));for(var n=0,r=e.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ns===t)break}return e.Bi()}))},t.prototype.Qi=function(t){this.bi.push(t)},t.prototype.$i=function(t){var e=this.Vi.indexOf(t);this.Vi.splice(e,1)},t}();function oE(t,e){if(rb("AsyncQueue",e+": "+t),Yw(t))return new lb(cb.UNAVAILABLE,e+": "+t);throw t}function aE(t,e){var n=t[1],r=e[1],i=bb(t[0],e[0]);return 0===i?bb(n,r):i}var uE=function(){function t(t){this.Ki=t,this.buffer=new $b(aE),this.Wi=0}return t.prototype.ji=function(){return++this.Wi},t.prototype.Gi=function(t){var e=[t,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();aE(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),cE={zi:!1,Hi:0,Ji:0,Yi:0},lE=function(){function t(t,e,n){this.Xi=t,this.Zi=e,this.tr=n}return t.er=function(e){return new t(e,t.nr,t.sr)},t}();lE.nr=10,lE.sr=1e3,lE.ir=new lE(41943040,lE.nr,lE.sr),lE.rr=new lE(-1,0,0);var hE=function(){function t(t,e){this.cr=t,this.di=e,this.ur=!1,this.ar=null}return t.prototype.start=function(t){-1!==this.cr.params.Xi&&this.hr(t)},t.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(t.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),t.prototype.hr=function(t){var e=this,n=this.ur?3e5:6e4;nb("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,(function(){return Object(Gf.b)(e,void 0,void 0,(function(){var e;return Object(Gf.d)(this,(function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return Yw(e=n.sent())?(nb("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,VC(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),dE=function(){function t(t,e){this.dr=t,this.params=e}return t.prototype.wr=function(t,e){return this.dr.Er(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Tr=function(t,e){var n=this;if(0===e)return Mw.resolve(Ww.Ds);var r=new uE(e);return this.dr.Ue(t,(function(t){return r.Gi(t.sequenceNumber)})).next((function(){return n.dr.Ir(t,(function(t){return r.Gi(t)}))})).next((function(){return r.maxValue}))},t.prototype.mr=function(t,e,n){return this.dr.mr(t,e,n)},t.prototype.Ar=function(t,e){return this.dr.Ar(t,e)},t.prototype.Rr=function(t,e){var n=this;return-1===this.params.Xi?(nb("LruGarbageCollector","Garbage collection skipped; disabled"),Mw.resolve(cE)):this.Pr(t).next((function(r){return r<n.params.Xi?(nb("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Xi),cE):n.gr(t,e)}))},t.prototype.Pr=function(t){return this.dr.Pr(t)},t.prototype.gr=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.wr(t,this.params.Zi).next((function(e){return e>c.params.tr?(nb("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.tr+" from "+e),r=c.params.tr):r=e,s=Date.now(),c.Tr(t,r)})).next((function(r){return n=r,o=Date.now(),c.mr(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.Ar(t,n)})).next((function(t){return u=Date.now(),eb()<=Qf.a.DEBUG&&nb("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Mw.resolve({zi:!0,Hi:r,Ji:i,Yi:t})}))},t}(),fE=function(){function t(){}return t.prototype.yr=function(t){this.Vr=t},t.prototype.ws=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Tn.length||1===t.Tn.length&&t.Tn[0].field.tt())}(e)||n.isEqual(Eb.min())?this.pr(t,e):this.Vr._s(t,r).next((function(s){var o=i.vr(e,s);return(iw(e)||sw(e))&&i.br(e.limitType,o,r,n)?i.pr(t,e):(eb()<=Qf.a.DEBUG&&nb("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),pw(e)),i.Vr.ws(t,e,n).next((function(t){return o.forEach((function(e){t=t.Tt(e.key,e)})),t})))}))},t.prototype.vr=function(t,e){var n=new $b(gw(t));return e.forEach((function(e,r){r instanceof Jv&&mw(t,r)&&(n=n.add(r))})),n},t.prototype.br=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},t.prototype.pr=function(t,e){return eb()<=Qf.a.DEBUG&&nb("QueryEngine","Using full collection scan to execute query:",pw(e)),this.Vr.ws(t,e,Eb.min())},t}();function pE(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=gE(e)),e=mE(t.get(n),e);return gE(e)}function mE(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function gE(t){return t+"\x01\x01"}function yE(t){var e=t.length;if(ab(e>=2),2===e)return ab("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Sb.X();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&ob(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:ob()}s=o+2}return new Sb(r)}var bE=function(t){this.Sr=t};function _E(t,e){if(e.document)return function(t,e,n){var r=Y_(t,e.name),i=$_(e.updateTime),s=new Kv({mapValue:{fields:e.fields}});return new Jv(r,i,s,{hasCommittedMutations:!!n})}(t.Sr,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Ib.ct(e.noDocument.path),r=SE(e.noDocument.readTime);return new Xv(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Ib.ct(e.unknownDocument.path),s=SE(e.unknownDocument.version);return new tw(i,s)}return ob()}function vE(t,e,n){var r=wE(n),i=e.key.path.q().H();if(e instanceof Jv){var s=function(t,e){return{name:Q_(t,e.key),fields:e.En().mapValue.fields,updateTime:z_(t,e.version.M())}}(t.Sr,e);return new ZE(null,null,s,e.hasCommittedMutations,r,i)}if(e instanceof Xv){var o=e.key.path.H(),a=CE(e.version),u=e.hasCommittedMutations;return new ZE(null,new QE(o,a),null,u,r,i)}if(e instanceof tw){var c=e.key.path.H(),l=CE(e.version);return new ZE(new YE(c,l),null,null,!0,r,i)}return ob()}function wE(t){var e=t.M();return[e.seconds,e.nanoseconds]}function EE(t){var e=new wb(t[0],t[1]);return Eb.N(e)}function CE(t){var e=t.M();return new HE(e.seconds,e.nanoseconds)}function SE(t){var e=new wb(t.seconds,t.nanoseconds);return Eb.N(e)}function OE(t,e){var n=(e.baseMutations||[]).map((function(e){return rv(t.Sr,e)})),r=e.mutations.map((function(e){return rv(t.Sr,e)})),i=wb.fromMillis(e.localWriteTimeMs);return new Rw(e.batchId,i,n,r)}function xE(t){var e,n,r=SE(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?SE(t.lastLimboFreeSnapshotVersion):Eb.min();return void 0!==t.query.documents?(ab(1===(n=t.query).documents.length),e=lw(rw(J_(n.documents[0])))):e=function(t){return lw(ov(t))}(t.query),new Vb(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Mb.fromBase64String(t.resumeToken))}function IE(t,e){var n,r=CE(e.ft),i=CE(e.lastLimboFreeSnapshotVersion);n=jb(e.target)?iv(t.Sr,e.target):sv(t.Sr,e.target);var s=e.resumeToken.toBase64();return new XE(e.targetId,Rb(e.target),r,s,e.sequenceNumber,i,n)}function TE(t){var e=ov({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?hw(e,e.limit,"L"):e}var kE=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.os=n,this.Dr=r,this.Cr={}}return t.Nr=function(e,n,r,i){return ab(""!==e.uid),new t(e.u()?e.uid:"",n,r,i)},t.prototype.Fr=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return DE(t)._i({index:GE.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Or=function(t,e,n,r){var i=this,s=RE(t),o=DE(t);return o.add({}).next((function(a){ab("number"==typeof a);for(var u=new Rw(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return nv(t.Sr,e)})),i=n.mutations.map((function(e){return nv(t.Sr,e)}));return new GE(e,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new $b((function(t,e){return bb(t.J(),e.J())})),d=0,f=r;d<f.length;d++){var p=f[d],m=KE.key(i.userId,p.key.path,a);h=h.add(p.key.path.q()),l.push(o.put(c)),l.push(s.put(m,KE.PLACEHOLDER))}return h.forEach((function(e){l.push(i.os.Mr(t,e))})),t.es((function(){i.Cr[a]=u.keys()})),Mw.qn(l).next((function(){return u}))}))},t.prototype.kr=function(t,e){var n=this;return DE(t).get(e).next((function(t){return t?(ab(t.userId===n.userId),OE(n.serializer,t)):null}))},t.prototype.$r=function(t,e){var n=this;return this.Cr[e]?Mw.resolve(this.Cr[e]):this.kr(t,e).next((function(t){if(t){var r=t.keys();return n.Cr[e]=r,r}return null}))},t.prototype.Lr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return DE(t)._i({index:GE.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(ab(e.batchId>=r),s=OE(n.serializer,e)),i.done()})).next((function(){return s}))},t.prototype.Br=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return DE(t)._i({index:GE.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.qr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return DE(t).ui(GE.userMutationsIndex,n).next((function(t){return t.map((function(t){return OE(e.serializer,t)}))}))},t.prototype.us=function(t,e){var n=this,r=KE.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return RE(t)._i({range:i},(function(r,i,o){var a=r[0],u=r[2],c=yE(r[1]);if(a===n.userId&&e.path.isEqual(c))return DE(t).get(u).next((function(t){if(!t)throw ob();ab(t.userId===n.userId),s.push(OE(n.serializer,t))}));o.done()})).next((function(){return s}))},t.prototype.ds=function(t,e){var n=this,r=new $b(bb),i=[];return e.forEach((function(e){var s=KE.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=RE(t)._i({range:o},(function(t,i,s){var o=t[0],a=t[2],u=yE(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()}));i.push(a)})),Mw.qn(i).next((function(){return n.Ur(t,r)}))},t.prototype.Rs=function(t,e){var n=this,r=e.path,i=r.length+1,s=KE.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new $b(bb);return RE(t)._i({range:o},(function(t,e,s){var o=t[0],u=t[2],c=yE(t[1]);o===n.userId&&r.j(c)?c.length===i&&(a=a.add(u)):s.done()})).next((function(){return n.Ur(t,a)}))},t.prototype.Ur=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(DE(t).get(e).next((function(t){if(null===t)throw ob();ab(t.userId===n.userId),r.push(OE(n.serializer,t))})))})),Mw.qn(i).next((function(){return r}))},t.prototype.Qr=function(t,e){var n=this;return PE(t.Kr,this.userId,e).next((function(r){return t.es((function(){n.Wr(e.batchId)})),Mw.forEach(r,(function(e){return n.Dr.jr(t,e)}))}))},t.prototype.Wr=function(t){delete this.Cr[t]},t.prototype.Gr=function(t){var e=this;return this.Fr(t).next((function(n){if(!n)return Mw.resolve();var r=IDBKeyRange.lowerBound(KE.prefixForUser(e.userId)),i=[];return RE(t)._i({range:r},(function(t,n,r){if(t[0]===e.userId){var s=yE(t[1]);i.push(s)}else r.done()})).next((function(){ab(0===i.length)}))}))},t.prototype.zr=function(t,e){return AE(t,this.userId,e)},t.prototype.Hr=function(t){var e=this;return NE(t).get(this.userId).next((function(t){return t||new $E(e.userId,-1,"")}))},t}();function AE(t,e,n){var r=KE.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return RE(t)._i({range:s,li:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()})).next((function(){return o}))}function PE(t,e,n){var r=t.store(GE.store),i=t.store(KE.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r._i({range:o},(function(t,e,n){return a++,n.delete()}));s.push(u.next((function(){ab(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=KE.key(e,d.key.path,n.batchId);s.push(i.delete(f)),c.push(d.key)}return Mw.qn(s).next((function(){return c}))}function DE(t){return vC.Ys(t,GE.store)}function RE(t){return vC.Ys(t,KE.store)}function NE(t){return vC.Ys(t,$E.store)}var jE=function(){function t(t,e){this.serializer=t,this.os=e}return t.prototype.jn=function(t,e,n){return FE(t).put(VE(e),n)},t.prototype.Hn=function(t,e){var n=FE(t),r=VE(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Jr(t,r)}))},t.prototype.Jn=function(t,e){var n=this;return FE(t).get(VE(e)).next((function(t){return n.Yr(t)}))},t.prototype.Xr=function(t,e){var n=this;return FE(t).get(VE(e)).next((function(t){var e=n.Yr(t);return e?{zn:e,size:UE(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Yb();return this.Zr(t,e,(function(t,e){var i=n.Yr(e);r=r.Tt(t,i)})).next((function(){return r}))},t.prototype.eo=function(t,e){var n=this,r=Yb(),i=new zb(Ib.$);return this.Zr(t,e,(function(t,e){var s=n.Yr(e);s?(r=r.Tt(t,s),i=i.Tt(t,UE(e))):(r=r.Tt(t,null),i=i.Tt(t,0))})).next((function(){return{no:r,so:i}}))},t.prototype.Zr=function(t,e,n){if(e.W())return Mw.resolve();var r=IDBKeyRange.bound(e.first().path.H(),e.last().path.H()),i=e.yt(),s=i.Ct();return FE(t)._i({range:r},(function(t,e,r){for(var o=Ib.ct(t);s&&Ib.$(s,o)<0;)n(s,null),s=i.Ct();s&&s.isEqual(o)&&(n(s,e),s=i.Nt()?i.Ct():null),s?r.oi(s.path.H()):r.done()})).next((function(){for(;s;)n(s,null),s=i.Nt()?i.Ct():null}))},t.prototype.ws=function(t,e,n){var r=this,i=Jb(),s=e.path.length+1,o={};if(n.isEqual(Eb.min())){var a=e.path.H();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.H(),c=wE(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=ZE.collectionReadTimeIndex}return FE(t)._i(o,(function(t,n,o){if(t.length===s){var a=_E(r.serializer,n);e.path.j(a.key.path)?a instanceof Jv&&mw(e,a)&&(i=i.Tt(a.key,a)):o.done()}})).next((function(){return i}))},t.prototype.io=function(t){return new ME(this,!!t&&t.ro)},t.prototype.oo=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return LE(t).get(JE.key).next((function(t){return ab(!!t),t}))},t.prototype.Jr=function(t,e){return LE(t).put(JE.key,e)},t.prototype.Yr=function(t){if(t){var e=_E(this.serializer,t);return e instanceof Xv&&e.version.isEqual(Eb.min())?null:e}return null},t}(),ME=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).co=e,r.ro=n,r.uo=new jw((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(Gf.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[],r=0,i=new $b((function(t,e){return bb(t.J(),e.J())}));return this.Qn.forEach((function(s,o){var a=e.uo.get(s);if(o.zn){var u=vE(e.co.serializer,o.zn,e.Wn(s));i=i.add(s.path.q());var c=UE(u);r+=c-a,n.push(e.co.jn(t,s,u))}else if(r-=a,e.ro){var l=vE(e.co.serializer,new Xv(s,Eb.min()),e.Wn(s));n.push(e.co.jn(t,s,l))}else n.push(e.co.Hn(t,s))})),i.forEach((function(r){n.push(e.co.os.Mr(t,r))})),n.push(this.co.updateMetadata(t,r)),Mw.qn(n)},e.prototype.Yn=function(t,e){var n=this;return this.co.Xr(t,e).next((function(t){return null===t?(n.uo.set(e,0),null):(n.uo.set(e,t.size),t.zn)}))},e.prototype.Xn=function(t,e){var n=this;return this.co.eo(t,e).next((function(t){var e=t.no;return t.so.forEach((function(t,e){n.uo.set(t,e)})),e}))},e}(Lw);function LE(t){return vC.Ys(t,JE.store)}function FE(t){return vC.Ys(t,ZE.store)}function VE(t){return t.path.H()}function UE(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ob();e=t.noDocument}return JSON.stringify(e).length}var qE=function(){function t(){this.ao=new BE}return t.prototype.Mr=function(t,e){return this.ao.add(e),Mw.resolve()},t.prototype.As=function(t,e){return Mw.resolve(this.ao.getEntries(e))},t}(),BE=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.K(),n=t.q(),r=this.index[e]||new $b(Sb.$),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.K(),n=t.q(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new $b(Sb.$)).H()},t}(),zE=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;ab(n<r&&n>=0&&r<=11);var s=new Zw("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(WE.store)}(t),function(t){t.createObjectStore($E.store,{keyPath:$E.keyPath}),t.createObjectStore(GE.store,{keyPath:GE.keyPath,autoIncrement:!0}).createIndex(GE.userMutationsIndex,GE.userMutationsKeyPath,{unique:!0}),t.createObjectStore(KE.store)}(t),rC(t),function(t){t.createObjectStore(ZE.store)}(t));var o=Mw.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(tC.store),t.deleteObjectStore(XE.store),t.deleteObjectStore(eC.store)}(t),rC(t)),o=o.next((function(){return function(t){var e=t.store(eC.store),n=new eC(0,0,Eb.min().M(),0);return e.put(eC.key,n)}(s)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(GE.store).ui().next((function(n){t.deleteObjectStore(GE.store),t.createObjectStore(GE.store,{keyPath:GE.keyPath,autoIncrement:!0}).createIndex(GE.userMutationsIndex,GE.userMutationsKeyPath,{unique:!0});var r=e.store(GE.store),i=n.map((function(t){return r.put(t)}));return Mw.qn(i)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(iC.store,{keyPath:iC.keyPath})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.removeAcknowledgedMutations(s)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(JE.store)}(t),i.addDocumentGlobal(s)}))),n<7&&r>=7&&(o=o.next((function(){return i.ensureSequenceNumbers(s)}))),n<8&&r>=8&&(o=o.next((function(){return i.createCollectionParentIndex(t,s)}))),n<9&&r>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(ZE.store);e.createIndex(ZE.readTimeIndex,ZE.readTimeIndexPath,{unique:!1}),e.createIndex(ZE.collectionReadTimeIndex,ZE.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.rewriteCanonicalIds(s)}))),n<11&&r>=11&&(o=o.next((function(){!function(t){t.createObjectStore(sC.store,{keyPath:sC.keyPath})}(t),function(t){t.createObjectStore(oC.store,{keyPath:oC.keyPath})}(t)}))),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(ZE.store)._i((function(t,n){e+=UE(n)})).next((function(){var n=new JE(e);return t.store(JE.store).put(JE.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store($E.store),r=t.store(GE.store);return n.ui().next((function(n){return Mw.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui(GE.userMutationsIndex,i).next((function(r){return Mw.forEach(r,(function(r){ab(r.userId===n.userId);var i=OE(e.serializer,r);return PE(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(tC.store),n=t.store(ZE.store);return t.store(eC.store).get(eC.key).next((function(t){var r=[];return n._i((function(n,i){var s=new Sb(n),o=function(t){return[0,pE(t)]}(s);r.push(e.get(o).next((function(n){return n?Mw.resolve():function(n){return e.put(new tC(0,pE(n),t.highestListenSequenceNumber))}(s)})))})).next((function(){return Mw.qn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(nC.store,{keyPath:nC.keyPath});var n=e.store(nC.store),r=new BE,i=function(t){if(r.add(t)){var e=t.K(),i=t.q();return n.put({collectionId:e,parent:pE(i)})}};return e.store(ZE.store)._i({li:!0},(function(t,e){var n=new Sb(t);return i(n.q())})).next((function(){return e.store(KE.store)._i({li:!0},(function(t,e){var n=yE(t[1]);return i(n.q())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(XE.store);return n._i((function(t,r){var i=xE(r),s=IE(e.serializer,i);return n.put(s)}))},t}(),HE=function(t,e){this.seconds=t,this.nanoseconds=e},WE=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};WE.store="owner",WE.key="owner";var $E=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};$E.store="mutationQueues",$E.keyPath="userId";var GE=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};GE.store="mutations",GE.keyPath="batchId",GE.userMutationsIndex="userMutationsIndex",GE.userMutationsKeyPath=["userId","batchId"];var KE=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,pE(e)]},t.key=function(t,e,n){return[t,pE(e),n]},t}();KE.store="documentMutations",KE.PLACEHOLDER=new KE;var QE=function(t,e){this.path=t,this.readTime=e},YE=function(t,e){this.path=t,this.version=e},ZE=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};ZE.store="remoteDocuments",ZE.readTimeIndex="readTimeIndex",ZE.readTimeIndexPath="readTime",ZE.collectionReadTimeIndex="collectionReadTimeIndex",ZE.collectionReadTimeIndexPath=["parentPath","readTime"];var JE=function(t){this.byteSize=t};JE.store="remoteDocumentGlobal",JE.key="remoteDocumentGlobalKey";var XE=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};XE.store="targets",XE.keyPath="targetId",XE.queryTargetsIndexName="queryTargetsIndex",XE.queryTargetsKeyPath=["canonicalId","targetId"];var tC=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};tC.store="targetDocuments",tC.keyPath=["targetId","path"],tC.documentTargetsIndex="documentTargetsIndex",tC.documentTargetsKeyPath=["path","targetId"];var eC=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};eC.key="targetGlobalKey",eC.store="targetGlobal";var nC=function(t,e){this.collectionId=t,this.parent=e};function rC(t){t.createObjectStore(tC.store,{keyPath:tC.keyPath}).createIndex(tC.documentTargetsIndex,tC.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(XE.store,{keyPath:XE.keyPath}).createIndex(XE.queryTargetsIndexName,XE.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(eC.store)}nC.store="collectionParents",nC.keyPath=["collectionId","parent"];var iC=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};iC.store="clientMetadata",iC.keyPath="clientId";var sC=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};sC.store="bundles",sC.keyPath="bundleId";var oC=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};oC.store="namedQueries",oC.keyPath="name";var aC=Object(Gf.g)(Object(Gf.g)(Object(Gf.g)(Object(Gf.g)([$E.store,GE.store,KE.store,ZE.store,XE.store,WE.store,eC.store,tC.store],[iC.store]),[JE.store]),[nC.store]),[sC.store,oC.store]),uC=function(){function t(t){this.serializer=t}return t.prototype.ho=function(t,e){return cC(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:SE(e.createTime),version:e.version};var e}))},t.prototype.lo=function(t,e){return cC(t).put({bundleId:(n=e).id,createTime:CE($_(n.createTime)),version:n.version});var n},t.prototype._o=function(t,e){return lC(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:TE(e.bundledQuery),readTime:SE(e.readTime)};var e}))},t.prototype.fo=function(t,e){return lC(t).put(function(t){return{name:t.name,readTime:CE($_(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function cC(t){return vC.Ys(t,sC.store)}function lC(t){return vC.Ys(t,oC.store)}var hC=function(){function t(){this.wo=new BE}return t.prototype.Mr=function(t,e){var n=this;if(!this.wo.has(e)){var r=e.K(),i=e.q();t.es((function(){n.wo.add(e)}));var s={collectionId:r,parent:pE(i)};return dC(t).put(s)}return Mw.resolve()},t.prototype.As=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[vb(e),""],!1,!0);return dC(t).ui(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(yE(s.parent))}return n}))},t}();function dC(t){return vC.Ys(t,nC.store)}var fC=function(){function t(t){this.Eo=t}return t.prototype.next=function(){return this.Eo+=2,this.Eo},t.To=function(){return new t(0)},t.Io=function(){return new t(-1)},t}(),pC=function(){function t(t,e){this.Dr=t,this.serializer=e}return t.prototype.mo=function(t){var e=this;return this.Ao(t).next((function(n){var r=new fC(n.highestTargetId);return n.highestTargetId=r.next(),e.Ro(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Po=function(t){return this.Ao(t).next((function(t){return Eb.N(new wb(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.yo=function(t){return this.Ao(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Vo=function(t,e,n){var r=this;return this.Ao(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ro(t,i)}))},t.prototype.po=function(t,e){var n=this;return this.vo(t,e).next((function(){return n.Ao(t).next((function(r){return r.targetCount+=1,n.bo(e,r),n.Ro(t,r)}))}))},t.prototype.So=function(t,e){return this.vo(t,e)},t.prototype.Do=function(t,e){var n=this;return this.Co(t,e.targetId).next((function(){return mC(t).delete(e.targetId)})).next((function(){return n.Ao(t)})).next((function(e){return ab(e.targetCount>0),e.targetCount-=1,n.Ro(t,e)}))},t.prototype.mr=function(t,e,n){var r=this,i=0,s=[];return mC(t)._i((function(o,a){var u=xE(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.Do(t,u)))})).next((function(){return Mw.qn(s)})).next((function(){return i}))},t.prototype.Ue=function(t,e){return mC(t)._i((function(t,n){var r=xE(n);e(r)}))},t.prototype.Ao=function(t){return gC(t).get(eC.key).next((function(t){return ab(null!==t),t}))},t.prototype.Ro=function(t,e){return gC(t).put(eC.key,e)},t.prototype.vo=function(t,e){return mC(t).put(IE(this.serializer,e))},t.prototype.bo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.No=function(t){return this.Ao(t).next((function(t){return t.targetCount}))},t.prototype.xo=function(t,e){var n=Rb(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return mC(t)._i({range:r,index:XE.queryTargetsIndexName},(function(t,n,r){var s=xE(n);Nb(e,s.target)&&(i=s,r.done())})).next((function(){return i}))},t.prototype.Fo=function(t,e,n){var r=this,i=[],s=yC(t);return e.forEach((function(e){var o=pE(e.path);i.push(s.put(new tC(n,o))),i.push(r.Dr.Oo(t,n,e))})),Mw.qn(i)},t.prototype.Mo=function(t,e,n){var r=this,i=yC(t);return Mw.forEach(e,(function(e){var s=pE(e.path);return Mw.qn([i.delete([n,s]),r.Dr.ko(t,n,e)])}))},t.prototype.Co=function(t,e){var n=yC(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.$o=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=yC(t),i=e_();return r._i({range:n,li:!0},(function(t,e,n){var r=yE(t[1]),s=new Ib(r);i=i.add(s)})).next((function(){return i}))},t.prototype.zr=function(t,e){var n=pE(e.path),r=IDBKeyRange.bound([n],[vb(n)],!1,!0),i=0;return yC(t)._i({index:tC.documentTargetsIndex,li:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ze=function(t,e){return mC(t).get(e).next((function(t){return t?xE(t):null}))},t}();function mC(t){return vC.Ys(t,XE.store)}function gC(t){return vC.Ys(t,eC.store)}function yC(t){return vC.Ys(t,tC.store)}var bC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",_C=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kr=e,r.Lo=n,r}return Object(Gf.c)(e,t),e}(Bw),vC=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Cs=s,this.window=o,this.document=a,this.Bo=c,this.qo=l,this.Uo=null,this.Qo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ko=null,this.inForeground=!1,this.Wo=null,this.jo=null,this.Go=Number.NEGATIVE_INFINITY,this.zo=function(t){return Promise.resolve()},!t.Gs())throw new lb(cb.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Dr=new CC(this,i),this.Ho=n+"main",this.serializer=new bE(u),this.Jo=new Gw(this.Ho,11,new zE(this.serializer)),this.Yo=new pC(this.Dr,this.serializer),this.os=new hC,this.ss=function(t,e){return new jE(t,e)}(this.serializer,this.os),this.Xo=new uC(this.serializer),this.window&&this.window.localStorage?this.Zo=this.window.localStorage:(this.Zo=null,!1===l&&rb("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ys=function(t,e){if(t instanceof _C)return Gw.Ys(t.Kr,e);throw ob()},t.prototype.start=function(){var t=this;return this.tc().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new lb(cb.FAILED_PRECONDITION,bC);return t.ec(),t.nc(),t.sc(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Yo.yo(e)}))})).then((function(e){t.Uo=new Ww(e,t.Bo)})).then((function(){t.Qo=!0})).catch((function(e){return t.Jo&&t.Jo.close(),Promise.reject(e)}))},t.prototype.ic=function(t){var e=this;return this.zo=function(n){return Object(Gf.b)(e,void 0,void 0,(function(){return Object(Gf.d)(this,(function(e){return this.lr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.rc=function(t){var e=this;this.Jo.ti((function(n){return Object(Gf.b)(e,void 0,void 0,(function(){return Object(Gf.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.oc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Cs.Ri((function(){return Object(Gf.b)(e,void 0,void 0,(function(){return Object(Gf.d)(this,(function(t){switch(t.label){case 0:return this.lr?[4,this.tc()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.tc=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return EC(e).put(new iC(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.cc(e).next((function(e){e||(t.isPrimary=!1,t.Cs.Mi((function(){return t.zo(!1)})))}))})).next((function(){return t.uc(e)})).next((function(n){return t.isPrimary&&!n?t.ac(e).next((function(){return!1})):!!n&&t.hc(e).next((function(){return!0}))}))})).catch((function(e){if(Yw(e))return nb("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return nb("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Cs.Mi((function(){return t.zo(e)})),t.isPrimary=e}))},t.prototype.cc=function(t){var e=this;return wC(t).get(WE.key).next((function(t){return Mw.resolve(e.lc(t))}))},t.prototype._c=function(t){return EC(t).delete(this.clientId)},t.prototype.fc=function(){return Object(Gf.b)(this,void 0,void 0,(function(){var e,n,r,i=this;return Object(Gf.d)(this,(function(s){switch(s.label){case 0:return!this.isPrimary||this.dc(this.Go,18e5)?[3,2]:(this.Go=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Ys(e,iC.store);return n.ui().next((function(t){var e=i.wc(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return Mw.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=s.sent(),this.Zo)for(n=0,r=e;n<r.length;n++)this.Zo.removeItem(this.Ec(r[n].clientId));s.label=2;case 2:return[2]}}))}))},t.prototype.sc=function(){var t=this;this.jo=this.Cs.Us("client_metadata_refresh",4e3,(function(){return t.tc().then((function(){return t.fc()})).then((function(){return t.sc()}))}))},t.prototype.lc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.uc=function(t){var e=this;return this.qo?Mw.resolve(!0):wC(t).get(WE.key).next((function(n){if(null!==n&&e.dc(n.leaseTimestampMs,5e3)&&!e.Tc(n.ownerId)){if(e.lc(n)&&e.networkEnabled)return!0;if(!e.lc(n)){if(!n.allowTabSynchronization)throw new lb(cb.FAILED_PRECONDITION,bC);return!1}}return!(!e.networkEnabled||!e.inForeground)||EC(t).ui().next((function(t){return void 0===e.wc(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&nb("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Ic=function(){return Object(Gf.b)(this,void 0,void 0,(function(){var t=this;return Object(Gf.d)(this,(function(e){switch(e.label){case 0:return this.Qo=!1,this.mc(),this.jo&&(this.jo.cancel(),this.jo=null),this.Ac(),this.Rc(),[4,this.Jo.runTransaction("shutdown","readwrite",[WE.store,iC.store],(function(e){var n=new _C(e,Ww.Ds);return t.ac(n).next((function(){return t._c(n)}))}))];case 1:return e.sent(),this.Jo.close(),this.Pc(),[2]}}))}))},t.prototype.wc=function(t,e){var n=this;return t.filter((function(t){return n.dc(t.updateTimeMs,e)&&!n.Tc(t.clientId)}))},t.prototype.gc=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return EC(e).ui().next((function(e){return t.wc(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"lr",{get:function(){return this.Qo},enumerable:!1,configurable:!0}),t.prototype.yc=function(t){return kE.Nr(t,this.serializer,this.os,this.Dr)},t.prototype.Vc=function(){return this.Yo},t.prototype.vc=function(){return this.ss},t.prototype.bc=function(){return this.os},t.prototype.Sc=function(){return this.Xo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return nb("IndexedDbPersistence","Starting transaction:",t),this.Jo.runTransaction(t,"readonly"===e?"readonly":"readwrite",aC,(function(s){return r=new _C(s,i.Uo?i.Uo.next():Ww.Ds),"readwrite-primary"===e?i.cc(r).next((function(t){return!!t||i.uc(r)})).next((function(e){if(!e)throw rb("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Cs.Mi((function(){return i.zo(!1)})),new lb(cb.FAILED_PRECONDITION,qw);return n(r)})).next((function(t){return i.hc(r).next((function(){return t}))})):i.Dc(r).next((function(){return n(r)}))})).then((function(t){return r.ns(),t}))},t.prototype.Dc=function(t){var e=this;return wC(t).get(WE.key).next((function(t){if(null!==t&&e.dc(t.leaseTimestampMs,5e3)&&!e.Tc(t.ownerId)&&!e.lc(t)&&!(e.qo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new lb(cb.FAILED_PRECONDITION,bC)}))},t.prototype.hc=function(t){var e=new WE(this.clientId,this.allowTabSynchronization,Date.now());return wC(t).put(WE.key,e)},t.Gs=function(){return Gw.Gs()},t.prototype.ac=function(t){var e=this,n=wC(t);return n.get(WE.key).next((function(t){return e.lc(t)?(nb("IndexedDbPersistence","Releasing primary lease."),n.delete(WE.key)):Mw.resolve()}))},t.prototype.dc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(rb("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.ec=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Wo=function(){t.Cs.Ri((function(){return t.inForeground="visible"===t.document.visibilityState,t.tc()}))},this.document.addEventListener("visibilitychange",this.Wo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Ac=function(){this.Wo&&(this.document.removeEventListener("visibilitychange",this.Wo),this.Wo=null)},t.prototype.nc=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ko=function(){e.mc(),e.Cs.Ri((function(){return e.Ic()}))},this.window.addEventListener("unload",this.Ko))},t.prototype.Rc=function(){this.Ko&&(this.window.removeEventListener("unload",this.Ko),this.Ko=null)},t.prototype.Tc=function(t){var e;try{var n=null!==(null===(e=this.Zo)||void 0===e?void 0:e.getItem(this.Ec(t)));return nb("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return rb("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.mc=function(){if(this.Zo)try{this.Zo.setItem(this.Ec(this.clientId),String(Date.now()))}catch(t){rb("Failed to set zombie client id.",t)}},t.prototype.Pc=function(){if(this.Zo)try{this.Zo.removeItem(this.Ec(this.clientId))}catch(t){}},t.prototype.Ec=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function wC(t){return vC.Ys(t,WE.store)}function EC(t){return vC.Ys(t,iC.store)}var CC=function(){function t(t,e){this.db=t,this.cr=new dE(this,e)}return t.prototype.Er=function(t){var e=this.Cc(t);return this.db.Vc().No(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Cc=function(t){var e=0;return this.Ir(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ue=function(t,e){return this.db.Vc().Ue(t,e)},t.prototype.Ir=function(t,e){return this.Nc(t,(function(t,n){return e(n)}))},t.prototype.Oo=function(t,e,n){return SC(t,n)},t.prototype.ko=function(t,e,n){return SC(t,n)},t.prototype.mr=function(t,e,n){return this.db.Vc().mr(t,e,n)},t.prototype.jr=function(t,e){return SC(t,e)},t.prototype.xc=function(t,e){return function(t,e){var n=!1;return NE(t).fi((function(r){return AE(t,r,e).next((function(t){return t&&(n=!0),Mw.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Ar=function(t,e){var n=this,r=this.db.vc().io(),i=[],s=0;return this.Nc(t,(function(o,a){if(a<=e){var u=n.xc(t,o).next((function(e){if(!e)return s++,r.Jn(t,o).next((function(){return r.Hn(o),yC(t).delete([0,pE(o.path)])}))}));i.push(u)}})).next((function(){return Mw.qn(i)})).next((function(){return r.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.dt(t.Lo);return this.db.Vc().So(t,n)},t.prototype.Fc=function(t,e){return SC(t,e)},t.prototype.Nc=function(t,e){var n,r=yC(t),i=Ww.Ds;return r._i({index:tC.documentTargetsIndex},(function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Ww.Ds&&e(new Ib(yE(n)),i),i=o,n=s):i=Ww.Ds})).next((function(){i!==Ww.Ds&&e(new Ib(yE(n)),i)}))},t.prototype.Pr=function(t){return this.db.vc().oo(t)},t}();function SC(t,e){return yC(t).put(function(t,e){return new tC(0,pE(t.path),e)}(e,t.Lo))}function OC(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var xC=function(){function t(t,e,n,r){this.persistence=t,this.Oc=e,this.serializer=r,this.Mc=new zb(bb),this.kc=new jw((function(t){return Rb(t)}),Nb),this.$c=Eb.min(),this.rs=t.yc(n),this.Lc=t.vc(),this.Yo=t.Vc(),this.Bc=new zw(this.Lc,this.rs,this.persistence.bc()),this.Xo=t.Sc(),this.Oc.yr(this.Bc)}return t.prototype._r=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Rr(n,e.Mc)}))},t}();function IC(t,e,n,r){return new xC(t,e,n,r)}function TC(t,e){return Object(Gf.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(Gf.d)(this,(function(o){switch(o.label){case 0:return n=ub(t),r=n.rs,i=n.Bc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var s;return n.rs.qr(t).next((function(o){return s=o,r=n.persistence.yc(e),i=new zw(n.Lc,r,n.persistence.bc()),r.qr(t)})).next((function(e){for(var n=[],r=[],o=e_(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i._s(t,o).next((function(t){return{qc:t,Uc:n,Qc:r}}))}))}))];case 1:return s=o.sent(),[2,(n.rs=r,n.Bc=i,n.Oc.yr(n.Bc),s)]}}))}))}function kC(t,e){var n=ub(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Lc.io({ro:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Mw.resolve();return s.forEach((function(t){o=o.next((function(){return r.Jn(e,t)})).next((function(e){var s=e,o=n.Sn.get(t);ab(null!==o),(!s||s.version.F(o)<0)&&(s=i.yn(t,s,n))&&r.jn(s,n.bn)}))})),o.next((function(){return t.rs.Qr(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.rs.Gr(t)})).next((function(){return n.Bc._s(t,r)}))}))}function AC(t){var e=ub(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Yo.Po(t)}))}function PC(t,e){var n=ub(t),r=e.ft,i=n.Mc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var s=n.Lc.io({ro:!0});i=n.Mc;var o=[];e.re.forEach((function(e,s){var a=i.get(s);if(a){o.push(n.Yo.Mo(t,e.de,s).next((function(){return n.Yo.Fo(t,e._e,s)})));var u=e.resumeToken;if(u.ht()>0){var c=a.wt(u,r).dt(t.Lo);i=i.Tt(s,c),function(t,e,n){return ab(e.resumeToken.ht()>0),0===t.resumeToken.ht()||e.ft.O()-t.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(a,c,e)&&o.push(n.Yo.So(t,c))}}}));var a=Qb();if(e.ce.forEach((function(r,i){e.ue.has(r)&&o.push(n.persistence.Dr.Fc(t,r))})),o.push(function(t,e,n,r,i){var s=e_();return n.forEach((function(t){return s=s.add(t)})),e.getEntries(t,s).next((function(t){var i=Qb();return n.forEach((function(n,s){var o=t.get(n),a=r;s instanceof Xv&&s.version.isEqual(Eb.min())?(e.Hn(n,a),i=i.Tt(n,s)):null==o||s.version.F(o.version)>0||0===s.version.F(o.version)&&o.hasPendingWrites?(e.jn(s,a),i=i.Tt(n,s)):nb("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),i}))}(t,s,e.ce,r).next((function(t){a=t}))),!r.isEqual(Eb.min())){var u=n.Yo.Po(t).next((function(e){return n.Yo.Vo(t,t.Lo,r)}));o.push(u)}return Mw.qn(o).next((function(){return s.apply(t)})).next((function(){return n.Bc.fs(t,a)}))})).then((function(t){return n.Mc=i,t}))}function DC(t,e){var n=ub(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.rs.Lr(t,e)}))}function RC(t,e){var n=ub(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Yo.xo(t,e).next((function(i){return i?Mw.resolve(r=i):n.Yo.mo(t).next((function(i){return r=new Vb(e,i,0,t.Lo),n.Yo.po(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Mc.get(t.targetId);return(null===r||t.ft.F(r.ft)>0)&&(n.Mc=n.Mc.Tt(t.targetId,t),n.kc.set(e,t.targetId)),t}))}function NC(t,e,n){return Object(Gf.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(Gf.d)(this,(function(a){switch(a.label){case 0:r=ub(t),i=r.Mc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,(function(t){return r.persistence.Dr.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Yw(o=a.sent()))throw o;return nb("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Mc=r.Mc.remove(e),r.kc.delete(i.target),[2]}}))}))}function jC(t,e,n){var r=ub(t),i=Eb.min(),s=e_();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=ub(t),i=r.kc.get(n);return void 0!==i?Mw.resolve(r.Mc.get(i)):r.Yo.xo(e,n)}(r,t,lw(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Yo.$o(t,e.targetId).next((function(t){s=t}))})).next((function(){return r.Oc.ws(t,e,n?i:Eb.min(),n?s:e_())})).next((function(t){return{documents:t,Kc:s}}))}))}function MC(t,e){var n=ub(t),r=ub(n.Yo),i=n.Mc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ze(t,e).next((function(t){return t?t.target:null}))}))}function LC(t){var e=ub(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=ub(t),i=Qb(),s=wE(n),o=FE(e),a=IDBKeyRange.lowerBound(s,!0);return o._i({index:ZE.readTimeIndex,range:a},(function(t,e){var n=_E(r.serializer,e);i=i.Tt(n.key,n),s=e.readTime})).next((function(){return{Wc:i,readTime:EE(s)}}))}(e.Lc,t,e.$c)})).then((function(t){var n=t.Wc;return e.$c=t.readTime,n}))}function FC(t){return Object(Gf.b)(this,void 0,void 0,(function(){var e;return Object(Gf.d)(this,(function(n){return[2,(e=ub(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=FE(t),n=Eb.min();return e._i({index:ZE.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=EE(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$c=t}))]}))}))}function VC(t){return Object(Gf.b)(this,void 0,void 0,(function(){return Object(Gf.d)(this,(function(e){if(t.code!==cb.FAILED_PRECONDITION||t.message!==qw)throw t;return nb("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var UC=function(){function t(t,e,n,r,i,s){this.Cs=t,this.jc=n,this.Gc=r,this.zc=i,this.listener=s,this.state=0,this.Hc=0,this.Jc=null,this.stream=null,this.Si=new $w(t,e)}return t.prototype.Yc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Xc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Zc()},t.prototype.stop=function(){return Object(Gf.b)(this,void 0,void 0,(function(){return Object(Gf.d)(this,(function(t){switch(t.label){case 0:return this.Yc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.tu=function(){this.state=0,this.Si.reset()},t.prototype.eu=function(){var t=this;this.Xc()&&null===this.Jc&&(this.Jc=this.Cs.Us(this.jc,6e4,(function(){return t.nu()})))},t.prototype.su=function(t){this.iu(),this.stream.send(t)},t.prototype.nu=function(){return Object(Gf.b)(this,void 0,void 0,(function(){return Object(Gf.d)(this,(function(t){return this.Xc()?[2,this.close(0)]:[2]}))}))},t.prototype.iu=function(){this.Jc&&(this.Jc.cancel(),this.Jc=null)},t.prototype.close=function(t,e){return Object(Gf.b)(this,void 0,void 0,(function(){return Object(Gf.d)(this,(function(n){switch(n.label){case 0:return this.iu(),this.Si.cancel(),this.Hc++,3!==t?this.Si.reset():e&&e.code===cb.RESOURCE_EXHAUSTED?(rb(e.toString()),rb("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):e&&e.code===cb.UNAUTHENTICATED&&this.zc.m(),null!==this.stream&&(this.ru(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ou(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ru=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.cu(this.Hc),n=this.Hc;this.zc.getToken().then((function(e){t.Hc===n&&t.uu(e)}),(function(n){e((function(){var e=new lb(cb.UNKNOWN,"Fetching auth token failed: "+n.message);return t.au(e)}))}))},t.prototype.uu=function(t){var e=this,n=this.cu(this.Hc);this.stream=this.hu(t),this.stream.lu((function(){n((function(){return e.state=2,e.listener.lu()}))})),this.stream.ou((function(t){n((function(){return e.au(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Zc=function(){var t=this;this.state=4,this.Si.Bs((function(){return Object(Gf.b)(t,void 0,void 0,(function(){return Object(Gf.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.au=function(t){return nb("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.cu=function(t){var e=this;return function(n){e.Cs.Ri((function(){return e.Hc===t?n():(nb("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),qC=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).serializer=i,o}return Object(Gf.c)(e,t),e.prototype.hu=function(t){return this.Gc._u("Listen",t)},e.prototype.onMessage=function(t){this.Si.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ob()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.tn?(ab(void 0===e||"string"==typeof e),Mb.fromBase64String(e||"")):(ab(void 0===e||e instanceof Uint8Array),Mb.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){var e=void 0===t.code?cb.UNKNOWN:Bb(t.code);return new lb(e,t.message||"")}(o);n=new h_(r,i,s,a||null)}else if("documentChange"in e){var u=e.documentChange,c=Y_(t,u.document.name),l=$_(u.document.updateTime),h=new Kv({mapValue:{fields:u.document.fields}}),d=new Jv(c,l,h,{});n=new c_(u.targetIds||[],u.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){var f=e.documentDelete,p=Y_(t,f.document),m=f.readTime?$_(f.readTime):Eb.min(),g=new Xv(p,m);n=new c_([],f.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){var y=e.documentRemove,b=Y_(t,y.document);n=new c_([],y.removedTargetIds||[],b,null)}else{if(!("filter"in e))return ob();var _=e.filter,v=new Ub(_.count||0);n=new l_(_.targetId,v)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Eb.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Eb.min():e.readTime?$_(e.readTime):Eb.min()}(t);return this.listener.fu(e,n)},e.prototype.du=function(t){var e={};e.database=X_(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=jb(r)?{documents:iv(t,r)}:{query:sv(t,r)}).targetId=e.targetId,e.resumeToken.ht()>0?n.resumeToken=H_(t,e.resumeToken):e.ft.F(Eb.min())>0&&(n.readTime=z_(t,e.ft.M())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ob()}}(0,e._t);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.su(e)},e.prototype.wu=function(t){var e={};e.database=X_(this.serializer),e.removeTarget=t,this.su(e)},e}(UC),BC=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).serializer=i,o.Eu=!1,o}return Object(Gf.c)(e,t),Object.defineProperty(e.prototype,"Tu",{get:function(){return this.Eu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Eu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ru=function(){this.Eu&&this.Iu([])},e.prototype.hu=function(t){return this.Gc._u("Write",t)},e.prototype.onMessage=function(t){if(ab(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Eu){this.Si.reset();var e=function(t,e){return t&&t.length>0?(ab(void 0!==e),t.map((function(t){return function(t,e){var n=$_(t.updateTime?t.updateTime:e);n.isEqual(Eb.min())&&(n=$_(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Pv(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=$_(t.commitTime);return this.listener.mu(n,e)}return ab(!t.writeResults||0===t.writeResults.length),this.Eu=!0,this.listener.Au()},e.prototype.Ru=function(){var t={};t.database=X_(this.serializer),this.su(t)},e.prototype.Iu=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return nv(e.serializer,t)}))};this.su(n)},e}(UC),zC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Gc=n,i.serializer=r,i.Pu=!1,i}return Object(Gf.c)(e,t),e.prototype.gu=function(){if(this.Pu)throw new lb(cb.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.yu=function(t,e,n){var r=this;return this.gu(),this.credentials.getToken().then((function(i){return r.Gc.yu(t,e,n,i)})).catch((function(t){throw t.code===cb.UNAUTHENTICATED&&r.credentials.m(),t}))},e.prototype.Vu=function(t,e,n){var r=this;return this.gu(),this.credentials.getToken().then((function(i){return r.Gc.Vu(t,e,n,i)})).catch((function(t){throw t.code===cb.UNAUTHENTICATED&&r.credentials.m(),t}))},e.prototype.terminate=function(){this.Pu=!1},e}((function(){})),HC=function(){function t(t,e){this.di=t,this.pu=e,this.state="Unknown",this.vu=0,this.bu=null,this.Su=!0}return t.prototype.Du=function(){var t=this;0===this.vu&&(this.Cu("Unknown"),this.bu=this.di.Us("online_state_timeout",1e4,(function(){return t.bu=null,t.Nu("Backend didn't respond within 10 seconds."),t.Cu("Offline"),Promise.resolve()})))},t.prototype.xu=function(t){"Online"===this.state?this.Cu("Unknown"):(this.vu++,this.vu>=1&&(this.Fu(),this.Nu("Connection failed 1 times. Most recent error: "+t.toString()),this.Cu("Offline")))},t.prototype.set=function(t){this.Fu(),this.vu=0,"Online"===t&&(this.Su=!1),this.Cu(t)},t.prototype.Cu=function(t){t!==this.state&&(this.state=t,this.pu(t))},t.prototype.Nu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Su?(rb(e),this.Su=!1):nb("OnlineStateTracker",e)},t.prototype.Fu=function(){null!==this.bu&&(this.bu.cancel(),this.bu=null)},t}(),WC=function(t,e,n,r,i){var s=this;this.Ou=t,this.Mu=e,this.di=n,this.ku={},this.$u=[],this.Lu=new Map,this.Bu=new Set,this.qu=[],this.Uu=i,this.Uu.Qu((function(t){n.Ri((function(){return Object(Gf.b)(s,void 0,void 0,(function(){return Object(Gf.d)(this,(function(t){switch(t.label){case 0:return tS(this)?(nb("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Gf.b)(this,void 0,void 0,(function(){var e;return Object(Gf.d)(this,(function(n){switch(n.label){case 0:return(e=ub(t)).Bu.add(4),[4,GC(e)];case 1:return n.sent(),e.Ku.set("Unknown"),e.Bu.delete(4),[4,$C(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Ku=new HC(n,r)};function $C(t){return Object(Gf.b)(this,void 0,void 0,(function(){var e,n;return Object(Gf.d)(this,(function(r){switch(r.label){case 0:if(!tS(t))return[3,4];e=0,n=t.qu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function GC(t){return Object(Gf.b)(this,void 0,void 0,(function(){var e,n;return Object(Gf.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.qu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function KC(t,e){var n=ub(t);n.Lu.has(e.targetId)||(n.Lu.set(e.targetId,e),XC(n)?JC(n):mS(n).Xc()&&YC(n,e))}function QC(t,e){var n=ub(t),r=mS(n);n.Lu.delete(e),r.Xc()&&ZC(n,e),0===n.Lu.size&&(r.Xc()?r.eu():tS(n)&&n.Ku.set("Unknown"))}function YC(t,e){t.Wu.De(e.targetId),mS(t).du(e)}function ZC(t,e){t.Wu.De(e),mS(t).wu(e)}function JC(t){t.Wu=new f_({Xe:function(e){return t.ku.Xe(e)},Ze:function(e){return t.Lu.get(e)||null}}),mS(t).start(),t.Ku.Du()}function XC(t){return tS(t)&&!mS(t).Yc()&&t.Lu.size>0}function tS(t){return 0===ub(t).Bu.size}function eS(t){t.Wu=void 0}function nS(t){return Object(Gf.b)(this,void 0,void 0,(function(){return Object(Gf.d)(this,(function(e){return t.Lu.forEach((function(e,n){YC(t,e)})),[2]}))}))}function rS(t,e){return Object(Gf.b)(this,void 0,void 0,(function(){return Object(Gf.d)(this,(function(n){return eS(t),XC(t)?(t.Ku.xu(e),JC(t)):t.Ku.set("Unknown"),[2]}))}))}function iS(t,e,n){return Object(Gf.b)(this,void 0,void 0,(function(){var r,i,s;return Object(Gf.d)(this,(function(o){switch(o.label){case 0:if(t.Ku.set("Online"),!(e instanceof h_&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Gf.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(Gf.d)(this,(function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Lu.has(s=i[r])?[4,t.ku.ju(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Lu.delete(s),t.Wu.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),nb("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,sS(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof c_?t.Wu.$e(e):e instanceof l_?t.Wu.je(e):t.Wu.qe(e),n.isEqual(Eb.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,AC(t.Ou)];case 8:return i=o.sent(),n.F(i)>=0?[4,function(t,e){var n=t.Wu.He(e);return n.re.forEach((function(n,r){if(n.resumeToken.ht()>0){var i=t.Lu.get(r);i&&t.Lu.set(r,i.wt(n.resumeToken,e))}})),n.oe.forEach((function(e){var n=t.Lu.get(e);if(n){t.Lu.set(e,n.wt(Mb.lt,n.ft)),ZC(t,e);var r=new Vb(n.target,e,1,n.sequenceNumber);YC(t,r)}})),t.ku.Gu(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return nb("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,sS(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))}function sS(t,e,n){return Object(Gf.b)(this,void 0,void 0,(function(){var r=this;return Object(Gf.d)(this,(function(i){switch(i.label){case 0:if(!Yw(e))throw e;return t.Bu.add(1),[4,GC(t)];case 1:return i.sent(),t.Ku.set("Offline"),n||(n=function(){return AC(t.Ou)}),t.di.Mi((function(){return Object(Gf.b)(r,void 0,void 0,(function(){return Object(Gf.d)(this,(function(e){switch(e.label){case 0:return nb("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Bu.delete(1),[4,$C(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function oS(t,e){return e().catch((function(n){return sS(t,n,e)}))}function aS(t){return Object(Gf.b)(this,void 0,void 0,(function(){var e,n,r,i,s;return Object(Gf.d)(this,(function(o){switch(o.label){case 0:e=ub(t),n=gS(e),r=e.$u.length>0?e.$u[e.$u.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return tS(t)&&t.$u.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,DC(e.Ou,r)];case 3:return null===(i=o.sent())?(0===e.$u.length&&n.eu(),[3,7]):(r=i.batchId,function(t,e){t.$u.push(e);var n=gS(t);n.Xc()&&n.Tu&&n.Iu(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,sS(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return uS(e)&&cS(e),[2]}}))}))}function uS(t){return tS(t)&&!gS(t).Yc()&&t.$u.length>0}function cS(t){gS(t).start()}function lS(t){return Object(Gf.b)(this,void 0,void 0,(function(){return Object(Gf.d)(this,(function(e){return gS(t).Ru(),[2]}))}))}function hS(t){return Object(Gf.b)(this,void 0,void 0,(function(){var e,n,r;return Object(Gf.d)(this,(function(i){for(e=gS(t),n=0,r=t.$u;n<r.length;n++)e.Iu(r[n].mutations);return[2]}))}))}function dS(t,e,n){return Object(Gf.b)(this,void 0,void 0,(function(){var r,i;return Object(Gf.d)(this,(function(s){switch(s.label){case 0:return r=t.$u.shift(),i=Nw.from(r,e,n),[4,oS(t,(function(){return t.ku.zu(i)}))];case 1:return s.sent(),[4,aS(t)];case 2:return s.sent(),[2]}}))}))}function fS(t,e){return Object(Gf.b)(this,void 0,void 0,(function(){return Object(Gf.d)(this,(function(n){switch(n.label){case 0:return e&&gS(t).Tu?[4,function(t,e){return Object(Gf.b)(this,void 0,void 0,(function(){var n,r;return Object(Gf.d)(this,(function(i){switch(i.label){case 0:return qb(r=e.code)&&r!==cb.ABORTED?(n=t.$u.shift(),gS(t).tu(),[4,oS(t,(function(){return t.ku.Hu(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,aS(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return uS(t)&&cS(t),[2]}}))}))}function pS(t,e){return Object(Gf.b)(this,void 0,void 0,(function(){var n;return Object(Gf.d)(this,(function(r){switch(r.label){case 0:return n=ub(t),e?(n.Bu.delete(2),[4,$C(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Bu.add(2),[4,GC(n)]);case 3:r.sent(),n.Ku.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function mS(t){var e=this;return t.Ju||(t.Ju=function(t,e,n){var r=ub(t);return r.gu(),new qC(e,r.Gc,r.credentials,r.serializer,n)}(t.Mu,t.di,{lu:nS.bind(null,t),ou:rS.bind(null,t),fu:iS.bind(null,t)}),t.qu.push((function(n){return Object(Gf.b)(e,void 0,void 0,(function(){return Object(Gf.d)(this,(function(e){switch(e.label){case 0:return n?(t.Ju.tu(),XC(t)?JC(t):t.Ku.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ju.stop()];case 2:e.sent(),eS(t),e.label=3;case 3:return[2]}}))}))}))),t.Ju}function gS(t){var e=this;return t.Yu||(t.Yu=function(t,e,n){var r=ub(t);return r.gu(),new BC(e,r.Gc,r.credentials,r.serializer,n)}(t.Mu,t.di,{lu:lS.bind(null,t),ou:fS.bind(null,t),Au:hS.bind(null,t),mu:dS.bind(null,t)}),t.qu.push((function(n){return Object(Gf.b)(e,void 0,void 0,(function(){return Object(Gf.d)(this,(function(e){switch(e.label){case 0:return n?(t.Yu.tu(),[4,aS(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Yu.stop()];case 3:e.sent(),t.$u.length>0&&(nb("RemoteStore","Stopping write stream with "+t.$u.length+" pending writes"),t.$u=[]),e.label=4;case 4:return[2]}}))}))}))),t.Yu}var yS=function(){this.Xu=void 0,this.listeners=[]},bS=function(){this.queries=new jw((function(t){return fw(t)}),dw),this.onlineState="Unknown",this.Zu=new Set};function _S(t,e){return Object(Gf.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u;return Object(Gf.d)(this,(function(c){switch(c.label){case 0:if(n=ub(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new yS),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.ta(r)];case 2:return o.Xu=c.sent(),[3,4];case 3:return a=c.sent(),u=oE(a,"Initialization of query '"+pw(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.ea(n.onlineState),s.Xu&&e.na(s.Xu)&&CS(n),[2]}}))}))}function vS(t,e){return Object(Gf.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(Gf.d)(this,(function(a){return n=ub(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.sa(r))]:[2]}))}))}function wS(t,e){for(var n=ub(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].na(o)&&(r=!0);a.Xu=o}}r&&CS(n)}function ES(t,e,n){var r=ub(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function CS(t){t.Zu.forEach((function(t){t.next()}))}var SS=function(){function t(t,e,n){this.query=t,this.ia=e,this.ra=!1,this.oa=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.na=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new o_(t.query,t.docs,t.te,e,t.ee,t.fromCache,t.ne,!0)}var s=!1;return this.ra?this.ca(t)&&(this.ia.next(t),s=!0):this.ua(t,this.onlineState)&&(this.aa(t),s=!0),this.oa=t,s},t.prototype.onError=function(t){this.ia.error(t)},t.prototype.ea=function(t){this.onlineState=t;var e=!1;return this.oa&&!this.ra&&this.ua(this.oa,t)&&(this.aa(this.oa),e=!0),e},t.prototype.ua=function(t,e){return!t.fromCache||!(this.options.ha&&"Offline"!==e||t.docs.W()&&"Offline"!==e)},t.prototype.ca=function(t){return t.docChanges.length>0||!!(t.ne||this.oa&&this.oa.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.aa=function(t){t=o_.ie(t.query,t.docs,t.ee,t.fromCache),this.ra=!0,this.ia.next(t)},t}(),OS=function(){function t(){this.la=new $b(xS._a),this.fa=new $b(xS.da)}return t.prototype.W=function(){return this.la.W()},t.prototype.Oo=function(t,e){var n=new xS(t,e);this.la=this.la.add(n),this.fa=this.fa.add(n)},t.prototype.wa=function(t,e){var n=this;t.forEach((function(t){return n.Oo(t,e)}))},t.prototype.ko=function(t,e){this.Ea(new xS(t,e))},t.prototype.Ta=function(t,e){var n=this;t.forEach((function(t){return n.ko(t,e)}))},t.prototype.Ia=function(t){var e=this,n=new Ib(new Sb([])),r=new xS(n,t),i=new xS(n,t+1),s=[];return this.fa.Kt([r,i],(function(t){e.Ea(t),s.push(t.key)})),s},t.prototype.ma=function(){var t=this;this.la.forEach((function(e){return t.Ea(e)}))},t.prototype.Ea=function(t){this.la=this.la.delete(t),this.fa=this.fa.delete(t)},t.prototype.Aa=function(t){var e=new Ib(new Sb([])),n=new xS(e,t),r=new xS(e,t+1),i=e_();return this.fa.Kt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.zr=function(t){var e=new xS(t,0),n=this.la.jt(e);return null!==n&&t.isEqual(n.key)},t}(),xS=function(){function t(t,e){this.key=t,this.Ra=e}return t._a=function(t,e){return Ib.$(t.key,e.key)||bb(t.Ra,e.Ra)},t.da=function(t,e){return bb(t.Ra,e.Ra)||Ib.$(t.key,e.key)},t}();function IS(t,e){return"firestore_clients_"+t+"_"+e}function TS(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.u()&&(r+="_"+e.uid),r}function kS(t,e){return"firestore_targets_"+t+"_"+e}var AS=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Pa=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new lb(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(rb("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ga=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),PS=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Pa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new lb(r.error.code,r.error.message)),i?new t(e,r.state,s):(rb("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ga=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),DS=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Pa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=r_(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ab(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(rb("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),RS=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Pa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(rb("SharedClientState","Failed to parse online state: "+e),null)},t}(),NS=function(){function t(){this.activeTargetIds=r_()}return t.prototype.ya=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Va=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ga=function(){var t={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),jS=function(){function t(t,e,n,r,i){this.window=t,this.Cs=e,this.persistenceKey=n,this.pa=r,this.va=null,this.pu=null,this.ps=null,this.ba=this.Sa.bind(this),this.Da=new zb(bb),this.lr=!1,this.Ca=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Na=IS(this.persistenceKey,this.pa),this.xa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Da=this.Da.Tt(this.pa,new NS),this.Fa=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Oa=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Ma=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.ka=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.$a=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ba)}return t.Gs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Gf.b)(this,void 0,void 0,(function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(Gf.d)(this,(function(h){switch(h.label){case 0:return[4,this.va.gc()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.pa&&(i=this.getItem(IS(this.persistenceKey,r)))&&(s=DS.Pa(r,i))&&(this.Da=this.Da.Tt(s.clientId,s));for(this.La(),(o=this.storage.getItem(this.ka))&&(a=this.Ba(o))&&this.qa(a),u=0,c=this.Ca;u<c.length;u++)this.Sa(c[u]);return this.Ca=[],this.window.addEventListener("unload",(function(){return l.Ic()})),this.lr=!0,[2]}}))}))},t.prototype.Ss=function(t){this.setItem(this.xa,JSON.stringify(t))},t.prototype.Ua=function(){return this.Qa(this.Da)},t.prototype.Ka=function(t){var e=!1;return this.Da.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Wa=function(t){this.ja(t,"pending")},t.prototype.Ga=function(t,e,n){this.ja(t,e,n),this.za(t)},t.prototype.Ha=function(t){var e="not-current";if(this.Ka(t)){var n=this.storage.getItem(kS(this.persistenceKey,t));if(n){var r=PS.Pa(t,n);r&&(e=r.state)}}return this.Ja.ya(t),this.La(),e},t.prototype.Ya=function(t){this.Ja.Va(t),this.La()},t.prototype.Xa=function(t){return this.Ja.activeTargetIds.has(t)},t.prototype.Za=function(t){this.removeItem(kS(this.persistenceKey,t))},t.prototype.th=function(t,e,n){this.eh(t,e,n)},t.prototype.nh=function(t,e,n){var r=this;e.forEach((function(t){r.za(t)})),this.currentUser=t,n.forEach((function(t){r.Wa(t)}))},t.prototype.sh=function(t){this.ih(t)},t.prototype.rh=function(){this.oh()},t.prototype.Ic=function(){this.lr&&(this.window.removeEventListener("storage",this.ba),this.removeItem(this.Na),this.lr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return nb("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){nb("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){nb("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Sa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(nb("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Na)return void rb("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi((function(){return Object(Gf.b)(e,void 0,void 0,(function(){var t,e,r,i,s,o;return Object(Gf.d)(this,(function(a){if(this.lr){if(null!==n.key)if(this.Fa.test(n.key)){if(null==n.newValue)return t=this.uh(n.key),[2,this.ah(t,null)];if(e=this.hh(n.key,n.newValue))return[2,this.ah(e.clientId,e)]}else if(this.Oa.test(n.key)){if(null!==n.newValue&&(r=this.lh(n.key,n.newValue)))return[2,this._h(r)]}else if(this.Ma.test(n.key)){if(null!==n.newValue&&(i=this.fh(n.key,n.newValue)))return[2,this.dh(i)]}else if(n.key===this.ka){if(null!==n.newValue&&(s=this.Ba(n.newValue)))return[2,this.qa(s)]}else if(n.key===this.xa)(o=function(t){var e=Ww.Ds;if(null!=t)try{var n=JSON.parse(t);ab("number"==typeof n),e=n}catch(t){rb("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ww.Ds&&this.ps(o);else if(n.key===this.$a)return[2,this.va.wh()]}else this.Ca.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ja",{get:function(){return this.Da.get(this.pa)},enumerable:!1,configurable:!0}),t.prototype.La=function(){this.setItem(this.Na,this.Ja.ga())},t.prototype.ja=function(t,e,n){var r=new AS(this.currentUser,t,e,n),i=TS(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ga())},t.prototype.za=function(t){var e=TS(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ih=function(t){this.storage.setItem(this.ka,JSON.stringify({clientId:this.pa,onlineState:t}))},t.prototype.eh=function(t,e,n){var r=kS(this.persistenceKey,t),i=new PS(t,e,n);this.setItem(r,i.ga())},t.prototype.oh=function(){this.setItem(this.$a,"value-not-used")},t.prototype.uh=function(t){var e=this.Fa.exec(t);return e?e[1]:null},t.prototype.hh=function(t,e){var n=this.uh(t);return DS.Pa(n,e)},t.prototype.lh=function(t,e){var n=this.Oa.exec(t),r=Number(n[1]);return AS.Pa(new Xy(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fh=function(t,e){var n=this.Ma.exec(t),r=Number(n[1]);return PS.Pa(r,e)},t.prototype.Ba=function(t){return RS.Pa(t)},t.prototype._h=function(t){return Object(Gf.b)(this,void 0,void 0,(function(){return Object(Gf.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.va.Eh(t.batchId,t.state,t.error)]:(nb("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.dh=function(t){return this.va.Th(t.targetId,t.state,t.error)},t.prototype.ah=function(t,e){var n=this,r=e?this.Da.Tt(t,e):this.Da.remove(t),i=this.Qa(this.Da),s=this.Qa(r),o=[],a=[];return s.forEach((function(t){i.has(t)||o.push(t)})),i.forEach((function(t){s.has(t)||a.push(t)})),this.va.Ih(o,a).then((function(){n.Da=r}))},t.prototype.qa=function(t){this.Da.get(t.clientId)&&this.pu(t.onlineState)},t.prototype.Qa=function(t){var e=r_();return t.forEach((function(t,n){e=e.Gt(n.activeTargetIds)})),e},t}(),MS=function(){function t(){this.mh=new NS,this.Ah={},this.pu=null,this.ps=null}return t.prototype.Wa=function(t){},t.prototype.Ga=function(t,e,n){},t.prototype.Ha=function(t){return this.mh.ya(t),this.Ah[t]||"not-current"},t.prototype.th=function(t,e,n){this.Ah[t]=e},t.prototype.Ya=function(t){this.mh.Va(t)},t.prototype.Xa=function(t){return this.mh.activeTargetIds.has(t)},t.prototype.Za=function(t){delete this.Ah[t]},t.prototype.Ua=function(){return this.mh.activeTargetIds},t.prototype.Ka=function(t){return this.mh.activeTargetIds.has(t)},t.prototype.start=function(){return this.mh=new NS,Promise.resolve()},t.prototype.nh=function(t,e,n){},t.prototype.sh=function(t){},t.prototype.Ic=function(){},t.prototype.Ss=function(t){},t.prototype.rh=function(){},t}(),LS=function(t){this.key=t},FS=function(t){this.key=t},VS=function(){function t(t,e){this.query=t,this.Rh=e,this.Ph=null,this.le=!1,this.gh=e_(),this.ee=e_(),this.yh=gw(t),this.Vh=new i_(this.yh)}return Object.defineProperty(t.prototype,"ph",{get:function(){return this.Rh},enumerable:!1,configurable:!0}),t.prototype.bh=function(t,e){var n=this,r=e?e.Sh:new s_,i=e?e.Vh:this.Vh,s=e?e.ee:this.ee,o=i,a=!1,u=iw(this.query)&&i.size===this.query.limit?i.last():null,c=sw(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pt((function(t,e){var l=i.get(t),h=e instanceof Jv?e:null;h&&(h=mw(n.query,h)?h:null);var d=!!l&&n.ee.has(l.key),f=!!h&&(h.an||n.ee.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.Dh(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.yh(h,u)>0||c&&n.yh(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),iw(this.query)||sw(this.query))for(;o.size>this.query.limit;){var l=iw(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Vh:o,Sh:r,br:a,ee:s}},t.prototype.Dh=function(t,e){return t.an&&e.hasCommittedMutations&&!e.an},t.prototype.Zn=function(t,e,n){var r=this,i=this.Vh;this.Vh=t.Vh,this.ee=t.ee;var s=t.Sh.Zt();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ob()}};return n(t)-n(e)}(t.type,e.type)||r.yh(t.doc,e.doc)})),this.Ch(n);var o=e?this.Nh():[],a=0===this.gh.size&&this.le?1:0,u=a!==this.Ph;return this.Ph=a,0!==s.length||u?{snapshot:new o_(this.query,t.Vh,i,s,t.ee,0===a,u,!1),xh:o}:{xh:o}},t.prototype.ea=function(t){return this.le&&"Offline"===t?(this.le=!1,this.Zn({Vh:this.Vh,Sh:new s_,ee:this.ee,br:!1},!1)):{xh:[]}},t.prototype.Fh=function(t){return!this.Rh.has(t)&&!!this.Vh.has(t)&&!this.Vh.get(t).an},t.prototype.Ch=function(t){var e=this;t&&(t._e.forEach((function(t){return e.Rh=e.Rh.add(t)})),t.fe.forEach((function(t){})),t.de.forEach((function(t){return e.Rh=e.Rh.delete(t)})),this.le=t.le)},t.prototype.Nh=function(){var t=this;if(!this.le)return[];var e=this.gh;this.gh=e_(),this.Vh.forEach((function(e){t.Fh(e.key)&&(t.gh=t.gh.add(e.key))}));var n=[];return e.forEach((function(e){t.gh.has(e)||n.push(new FS(e))})),this.gh.forEach((function(t){e.has(t)||n.push(new LS(t))})),n},t.prototype.Oh=function(t){this.Rh=t.Kc,this.gh=e_();var e=this.bh(t.documents);return this.Zn(e,!0)},t.prototype.Mh=function(){return o_.ie(this.query,this.Vh,this.ee,0===this.Ph)},t}(),US=function(t,e,n){this.query=t,this.targetId=e,this.view=n},qS=function(t){this.key=t,this.kh=!1},BS=function(){function t(t,e,n,r,i,s){this.Ou=t,this.$h=e,this.Lh=n,this.Bh=r,this.currentUser=i,this.qh=s,this.Uh={},this.Qh=new jw((function(t){return fw(t)}),dw),this.Kh=new Map,this.Wh=[],this.jh=new zb(Ib.$),this.Gh=new Map,this.zh=new OS,this.Hh={},this.Jh=new Map,this.Yh=fC.Io(),this.onlineState="Unknown",this.Xh=void 0}return Object.defineProperty(t.prototype,"Zh",{get:function(){return!0===this.Xh},enumerable:!1,configurable:!0}),t}();function zS(t,e){return Object(Gf.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(Gf.d)(this,(function(a){switch(a.label){case 0:return n=bO(t),(i=n.Qh.get(e))?(n.Bh.Ha(i.targetId),r=i.view.Mh(),[3,4]):[3,1];case 1:return[4,RC(n.Ou,lw(e))];case 2:return s=a.sent(),o=n.Bh.Ha(s.targetId),[4,HS(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.Zh&&KC(n.$h,s),a.label=4;case 4:return[2,r]}}))}))}function HS(t,e,n,r){return Object(Gf.b)(this,void 0,void 0,(function(){var i,s,o,a,u,c;return Object(Gf.d)(this,(function(l){switch(l.label){case 0:return t.tl=function(e,n,r){return function(t,e,n,r){return Object(Gf.b)(this,void 0,void 0,(function(){var i,s,o;return Object(Gf.d)(this,(function(a){switch(a.label){case 0:return(i=e.view.bh(n)).br?[4,jC(t.Ou,e.query,!1).then((function(t){return e.view.bh(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.re.get(e.targetId),o=e.view.Zn(i,t.Zh,s),[2,(rO(t,e.targetId,o.xh),o.snapshot)]}}))}))}(t,e,n,r)},[4,jC(t.Ou,e,!0)];case 1:return i=l.sent(),s=new VS(e,i.Kc),o=s.bh(i.documents),a=u_.he(n,r&&"Offline"!==t.onlineState),u=s.Zn(o,t.Zh,a),rO(t,n,u.xh),c=new US(e,n,s),[2,(t.Qh.set(e,c),t.Kh.has(n)?t.Kh.get(n).push(e):t.Kh.set(n,[e]),u.snapshot)]}}))}))}function WS(t,e){return Object(Gf.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Gf.d)(this,(function(s){switch(s.label){case 0:return n=ub(t),r=n.Qh.get(e),(i=n.Kh.get(r.targetId)).length>1?[2,(n.Kh.set(r.targetId,i.filter((function(t){return!dw(t,e)}))),void n.Qh.delete(e))]:n.Zh?(n.Bh.Ya(r.targetId),n.Bh.Ka(r.targetId)?[3,2]:[4,NC(n.Ou,r.targetId,!1).then((function(){n.Bh.Za(r.targetId),QC(n.$h,r.targetId),eO(n,r.targetId)})).catch(VC)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return eO(n,r.targetId),[4,NC(n.Ou,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}}))}))}function $S(t,e,n){return Object(Gf.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(Gf.d)(this,(function(a){switch(a.label){case 0:r=_O(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=ub(t),i=wb.now(),s=e.reduce((function(t,e){return t.add(e.key)}),e_());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Bc._s(t,s).next((function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Lv(c,n.get(c.key));null!=l&&o.push(new qv(c.key,l,Yv(l.proto.mapValue),Dv.exists(!0)))}return r.rs.Or(t,i,o,e)}))})).then((function(t){var e=t.vn(n);return{batchId:t.batchId,Qn:e}}))}(r.Ou,e)];case 2:return i=a.sent(),r.Bh.Wa(i.batchId),function(t,e,n){var r=t.Hh[t.currentUser.h()];r||(r=new zb(bb)),r=r.Tt(e,n),t.Hh[t.currentUser.h()]=r}(r,i.batchId,n),[4,oO(r,i.Qn)];case 3:return a.sent(),[4,aS(r.$h)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=oE(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}}))}))}function GS(t,e){return Object(Gf.b)(this,void 0,void 0,(function(){var n,r;return Object(Gf.d)(this,(function(i){switch(i.label){case 0:n=ub(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,PC(n.Ou,e)];case 2:return r=i.sent(),e.re.forEach((function(t,e){var r=n.Gh.get(e);r&&(ab(t._e.size+t.fe.size+t.de.size<=1),t._e.size>0?r.kh=!0:t.fe.size>0?ab(r.kh):t.de.size>0&&(ab(r.kh),r.kh=!1))})),[4,oO(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,VC(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function KS(t,e,n){var r=ub(t);if(r.Zh&&0===n||!r.Zh&&1===n){var i=[];r.Qh.forEach((function(t,n){var r=n.view.ea(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=ub(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].ea(e)&&(r=!0)})),r&&CS(n)}(r.Lh,e),i.length&&r.Uh.fu(i),r.onlineState=e,r.Zh&&r.Bh.sh(e)}}function QS(t,e,n){return Object(Gf.b)(this,void 0,void 0,(function(){var r,i,s,o,a,u;return Object(Gf.d)(this,(function(c){switch(c.label){case 0:return(r=ub(t)).Bh.th(e,"rejected",n),i=r.Gh.get(e),(s=i&&i.key)?(o=(o=new zb(Ib.$)).Tt(s,new Xv(s,Eb.min())),a=e_().add(s),u=new a_(Eb.min(),new Map,new $b(bb),o,a),[4,GS(r,u)]):[3,2];case 1:return c.sent(),r.jh=r.jh.remove(s),r.Gh.delete(e),sO(r),[3,4];case 2:return[4,NC(r.Ou,e,!1).then((function(){return eO(r,e,n)})).catch(VC)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function YS(t,e){return Object(Gf.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Gf.d)(this,(function(s){switch(s.label){case 0:n=ub(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,kC(n.Ou,e)];case 2:return i=s.sent(),tO(n,r,null),XS(n,r),n.Bh.Ga(r,"acknowledged"),[4,oO(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,VC(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function ZS(t,e,n){return Object(Gf.b)(this,void 0,void 0,(function(){var r,i;return Object(Gf.d)(this,(function(s){switch(s.label){case 0:r=ub(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=ub(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.rs.kr(t,e).next((function(e){return ab(null!==e),r=e.keys(),n.rs.Qr(t,e)})).next((function(){return n.rs.Gr(t)})).next((function(){return n.Bc._s(t,r)}))}))}(r.Ou,e)];case 2:return i=s.sent(),tO(r,e,n),XS(r,e),r.Bh.Ga(e,"rejected",n),[4,oO(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,VC(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function JS(t,e){return Object(Gf.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(Gf.d)(this,(function(a){switch(a.label){case 0:tS((n=ub(t)).$h)||nb("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=ub(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.rs.Br(t)}))}(n.Ou)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Jh.get(r)||[]).push(e),n.Jh.set(r,i),[3,4]);case 3:return s=a.sent(),o=oE(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}}))}))}function XS(t,e){(t.Jh.get(e)||[]).forEach((function(t){t.resolve()})),t.Jh.delete(e)}function tO(t,e,n){var r=ub(t),i=r.Hh[r.currentUser.h()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Hh[r.currentUser.h()]=i}}function eO(t,e,n){void 0===n&&(n=null),t.Bh.Ya(e);for(var r=0,i=t.Kh.get(e);r<i.length;r++){var s=i[r];t.Qh.delete(s),n&&t.Uh.el(s,n)}t.Kh.delete(e),t.Zh&&t.zh.Ia(e).forEach((function(e){t.zh.zr(e)||nO(t,e)}))}function nO(t,e){var n=t.jh.get(e);null!==n&&(QC(t.$h,n),t.jh=t.jh.remove(e),t.Gh.delete(n),sO(t))}function rO(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof LS?(t.zh.Oo(s.key,e),iO(t,s)):s instanceof FS?(nb("SyncEngine","Document no longer in limbo: "+s.key),t.zh.ko(s.key,e),t.zh.zr(s.key)||nO(t,s.key)):ob()}}function iO(t,e){var n=e.key;t.jh.get(n)||(nb("SyncEngine","New document in limbo: "+n),t.Wh.push(n),sO(t))}function sO(t){for(;t.Wh.length>0&&t.jh.size<t.qh;){var e=t.Wh.shift(),n=t.Yh.next();t.Gh.set(n,new qS(e)),t.jh=t.jh.Tt(e,n),KC(t.$h,new Vb(lw(rw(e.path)),n,2,Ww.Ds))}}function oO(t,e,n){return Object(Gf.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(Gf.d)(this,(function(a){switch(a.label){case 0:return r=ub(t),i=[],s=[],o=[],r.Qh.W()?[3,3]:(r.Qh.forEach((function(t,a){o.push(r.tl(a,e,n).then((function(t){if(t){r.Zh&&r.Bh.th(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Hw.Vs(a.targetId,t);s.push(e)}})))})),[4,Promise.all(o)]);case 1:return a.sent(),r.Uh.fu(i),[4,function(t,e){return Object(Gf.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u,c;return Object(Gf.d)(this,(function(l){switch(l.label){case 0:n=ub(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Mw.forEach(e,(function(e){return Mw.forEach(e.gs,(function(r){return n.persistence.Dr.Oo(t,e.targetId,r)})).next((function(){return Mw.forEach(e.ys,(function(r){return n.persistence.Dr.ko(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Yw(r=l.sent()))throw r;return nb("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Mc.get(a),c=u.Et(u.ft),n.Mc=n.Mc.Tt(a,c));return[2]}}))}))}(r.Ou,s)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function aO(t,e){return Object(Gf.b)(this,void 0,void 0,(function(){var n,r;return Object(Gf.d)(this,(function(i){switch(i.label){case 0:return(n=ub(t)).currentUser.isEqual(e)?[3,3]:(nb("SyncEngine","User change. New user:",e.h()),[4,TC(n.Ou,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Jh.forEach((function(t){t.forEach((function(t){t.reject(new lb(cb.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Jh.clear()}(n),n.Bh.nh(e,r.Uc,r.Qc),[4,oO(n,r.qc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function uO(t,e){var n=ub(t),r=n.Gh.get(e);if(r&&r.kh)return e_().add(r.key);var i=e_(),s=n.Kh.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Qh.get(a[o]);i=i.Gt(u.view.ph)}return i}function cO(t,e){return Object(Gf.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Gf.d)(this,(function(s){switch(s.label){case 0:return[4,jC((n=ub(t)).Ou,e.query,!0)];case 1:return r=s.sent(),i=e.view.Oh(r),[2,(n.Zh&&rO(n,e.targetId,i.xh),i)]}}))}))}function lO(t){return Object(Gf.b)(this,void 0,void 0,(function(){var e;return Object(Gf.d)(this,(function(n){return[2,LC((e=ub(t)).Ou).then((function(t){return oO(e,t)}))]}))}))}function hO(t,e,n,r){return Object(Gf.b)(this,void 0,void 0,(function(){var i,s;return Object(Gf.d)(this,(function(o){switch(o.label){case 0:return[4,function(t,e){var n=ub(t),r=ub(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.$r(t,e).next((function(e){return e?n.Bc._s(t,e):Mw.resolve(null)}))}))}((i=ub(t)).Ou,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,aS(i.$h)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(tO(i,e,r||null),XS(i,e),function(t,e){ub(ub(t).rs).Wr(e)}(i.Ou,e)):ob(),o.label=4;case 4:return[4,oO(i,s)];case 5:return o.sent(),[3,7];case 6:nb("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}}))}))}function dO(t,e){return Object(Gf.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u;return Object(Gf.d)(this,(function(c){switch(c.label){case 0:return bO(n=ub(t)),_O(n),!0!==e||!0===n.Xh?[3,3]:(r=n.Bh.Ua(),[4,fO(n,r.H())]);case 1:return i=c.sent(),n.Xh=!0,[4,pS(n.$h,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)KC(n.$h,o[s]);return[3,7];case 3:return!1!==e||!1===n.Xh?[3,7]:(a=[],u=Promise.resolve(),n.Kh.forEach((function(t,e){n.Bh.Xa(e)?a.push(e):u=u.then((function(){return eO(n,e),NC(n.Ou,e,!0)})),QC(n.$h,e)})),[4,u]);case 4:return c.sent(),[4,fO(n,a)];case 5:return c.sent(),function(t){var e=ub(t);e.Gh.forEach((function(t,n){QC(e.$h,n)})),e.zh.ma(),e.Gh=new Map,e.jh=new zb(Ib.$)}(n),n.Xh=!1,[4,pS(n.$h,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function fO(t,e,n){return Object(Gf.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u,c,l,h,d,f,p;return Object(Gf.d)(this,(function(m){switch(m.label){case 0:n=ub(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(u=void 0,(c=n.Kh.get(a=o[s]))&&0!==c.length?[4,RC(n.Ou,lw(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(d=n.Qh.get(h[l]),[4,cO(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,MC(n.Ou,a)];case 8:return p=m.sent(),[4,RC(n.Ou,p)];case 9:return u=m.sent(),[4,HS(n,pO(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Uh.fu(i),r)]}}))}))}function pO(t){return nw(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function mO(t){var e=ub(t);return ub(ub(e.Ou).persistence).gc()}function gO(t,e,n,r){return Object(Gf.b)(this,void 0,void 0,(function(){var i,s,o;return Object(Gf.d)(this,(function(a){switch(a.label){case 0:return(i=ub(t)).Xh?(nb("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Kh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,LC(i.Ou)];case 3:return s=a.sent(),o=a_.ae(e,"current"===n),[4,oO(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,NC(i.Ou,e,!0)];case 6:return a.sent(),eO(i,e,r),[3,8];case 7:ob(),a.label=8;case 8:return[2]}}))}))}function yO(t,e,n){return Object(Gf.b)(this,void 0,void 0,(function(){var r,i,s,o,a,u,c,l,h;return Object(Gf.d)(this,(function(d){switch(d.label){case 0:if(!(r=bO(t)).Xh)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Kh.has(o=s[i])?(nb("SyncEngine","Adding an already active target "+o),[3,5]):[4,MC(r.Ou,o)]:[3,6];case 2:return a=d.sent(),[4,RC(r.Ou,a)];case 3:return u=d.sent(),[4,HS(r,pO(a),u.targetId,!1)];case 4:d.sent(),KC(r.$h,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Gf.d)(this,(function(e){switch(e.label){case 0:return r.Kh.has(t)?[4,NC(r.Ou,t,!1).then((function(){QC(r.$h,t),eO(r,t)})).catch(VC)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function bO(t){var e=ub(t);return e.$h.ku.Gu=GS.bind(null,e),e.$h.ku.Xe=uO.bind(null,e),e.$h.ku.ju=QS.bind(null,e),e.Uh.fu=wS.bind(null,e.Lh),e.Uh.el=ES.bind(null,e.Lh),e}function _O(t){var e=ub(t);return e.$h.ku.zu=YS.bind(null,e),e.$h.ku.Hu=ZS.bind(null,e),e}var vO=function(){function t(t,e){this.os=t,this.Dr=e,this.rs=[],this.nl=1,this.sl=new $b(xS._a)}return t.prototype.Fr=function(t){return Mw.resolve(0===this.rs.length)},t.prototype.Or=function(t,e,n,r){var i=this.nl;this.nl++;var s=new Rw(i,e,n,r);this.rs.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.sl=this.sl.add(new xS(u.key,i)),this.os.Mr(t,u.key.path.q())}return Mw.resolve(s)},t.prototype.kr=function(t,e){return Mw.resolve(this.il(e))},t.prototype.Lr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return Mw.resolve(this.rs.length>r?this.rs[r]:null)},t.prototype.Br=function(){return Mw.resolve(0===this.rs.length?-1:this.nl-1)},t.prototype.qr=function(t){return Mw.resolve(this.rs.slice())},t.prototype.us=function(t,e){var n=this,r=new xS(e,0),i=new xS(e,Number.POSITIVE_INFINITY),s=[];return this.sl.Kt([r,i],(function(t){var e=n.il(t.Ra);s.push(e)})),Mw.resolve(s)},t.prototype.ds=function(t,e){var n=this,r=new $b(bb);return e.forEach((function(t){var e=new xS(t,0),i=new xS(t,Number.POSITIVE_INFINITY);n.sl.Kt([e,i],(function(t){r=r.add(t.Ra)}))})),Mw.resolve(this.ol(r))},t.prototype.Rs=function(t,e){var n=e.path,r=n.length+1,i=n;Ib.ot(i)||(i=i.child(""));var s=new xS(new Ib(i),0),o=new $b(bb);return this.sl.Wt((function(t){var e=t.key.path;return!!n.j(e)&&(e.length===r&&(o=o.add(t.Ra)),!0)}),s),Mw.resolve(this.ol(o))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.il(t);null!==r&&n.push(r)})),n},t.prototype.Qr=function(t,e){var n=this;ab(0===this.cl(e.batchId,"removed")),this.rs.shift();var r=this.sl;return Mw.forEach(e.mutations,(function(i){var s=new xS(i.key,e.batchId);return r=r.delete(s),n.Dr.jr(t,i.key)})).next((function(){n.sl=r}))},t.prototype.Wr=function(t){},t.prototype.zr=function(t,e){var n=new xS(e,0),r=this.sl.jt(n);return Mw.resolve(e.isEqual(r&&r.key))},t.prototype.Gr=function(t){return Mw.resolve()},t.prototype.cl=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.rs.length?0:t-this.rs[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.rs.length?null:this.rs[e]},t}(),wO=function(){function t(t,e){this.os=t,this.ul=e,this.docs=new zb(Ib.$),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ul(e);return this.docs=this.docs.Tt(r,{zn:e,size:o,readTime:n}),this.size+=o-s,this.os.Mr(t,r.path.q())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Jn=function(t,e){var n=this.docs.get(e);return Mw.resolve(n?n.zn:null)},t.prototype.getEntries=function(t,e){var n=this,r=Yb();return e.forEach((function(t){var e=n.docs.get(t);r=r.Tt(t,e?e.zn:null)})),Mw.resolve(r)},t.prototype.ws=function(t,e,n){for(var r=Jb(),i=new Ib(e.path.child("")),s=this.docs.Vt(i);s.Nt();){var o=s.Ct(),a=o.value,u=a.zn,c=a.readTime;if(!e.path.j(o.key.path))break;c.F(n)<=0||u instanceof Jv&&mw(e,u)&&(r=r.Tt(u.key,u))}return Mw.resolve(r)},t.prototype.al=function(t,e){return Mw.forEach(this.docs,(function(t){return e(t)}))},t.prototype.io=function(t){return new EO(this)},t.prototype.oo=function(t){return Mw.resolve(this.size)},t}(),EO=function(t){function e(e){var n=this;return(n=t.call(this)||this).co=e,n}return Object(Gf.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[];return this.Qn.forEach((function(r,i){i&&i.zn?n.push(e.co.jn(t,i.zn,e.Wn(r))):e.co.Hn(r)})),Mw.qn(n)},e.prototype.Yn=function(t,e){return this.co.Jn(t,e)},e.prototype.Xn=function(t,e){return this.co.getEntries(t,e)},e}(Lw),CO=function(){function t(t){this.persistence=t,this.hl=new jw((function(t){return Rb(t)}),Nb),this.lastRemoteSnapshotVersion=Eb.min(),this.highestTargetId=0,this.ll=0,this._l=new OS,this.targetCount=0,this.fl=fC.To()}return t.prototype.Ue=function(t,e){return this.hl.forEach((function(t,n){return e(n)})),Mw.resolve()},t.prototype.Po=function(t){return Mw.resolve(this.lastRemoteSnapshotVersion)},t.prototype.yo=function(t){return Mw.resolve(this.ll)},t.prototype.mo=function(t){return this.highestTargetId=this.fl.next(),Mw.resolve(this.highestTargetId)},t.prototype.Vo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),Mw.resolve()},t.prototype.vo=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new fC(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.po=function(t,e){return this.vo(e),this.targetCount+=1,Mw.resolve()},t.prototype.So=function(t,e){return this.vo(e),Mw.resolve()},t.prototype.Do=function(t,e){return this.hl.delete(e.target),this._l.Ia(e.targetId),this.targetCount-=1,Mw.resolve()},t.prototype.mr=function(t,e,n){var r=this,i=0,s=[];return this.hl.forEach((function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.hl.delete(o),s.push(r.Co(t,a.targetId)),i++)})),Mw.qn(s).next((function(){return i}))},t.prototype.No=function(t){return Mw.resolve(this.targetCount)},t.prototype.xo=function(t,e){var n=this.hl.get(e)||null;return Mw.resolve(n)},t.prototype.Fo=function(t,e,n){return this._l.wa(e,n),Mw.resolve()},t.prototype.Mo=function(t,e,n){this._l.Ta(e,n);var r=this.persistence.Dr,i=[];return r&&e.forEach((function(e){i.push(r.jr(t,e))})),Mw.qn(i)},t.prototype.Co=function(t,e){return this._l.Ia(e),Mw.resolve()},t.prototype.$o=function(t,e){var n=this._l.Aa(e);return Mw.resolve(n)},t.prototype.zr=function(t,e){return Mw.resolve(this._l.zr(e))},t}(),SO=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.ho=function(t,e){return Mw.resolve(this.dl.get(e))},t.prototype.lo=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:$_(n.createTime)}),Mw.resolve()},t.prototype._o=function(t,e){return Mw.resolve(this.wl.get(e))},t.prototype.fo=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:TE(n.bundledQuery),readTime:$_(n.readTime)}),Mw.resolve()},t}(),OO=function(){function t(t,e){var n=this;this.El={},this.Uo=new Ww(0),this.Qo=!1,this.Qo=!0,this.Dr=t(this),this.Yo=new CO(this),this.os=new qE,this.ss=function(t,e){return new wO(t,(function(t){return n.Dr.Tl(t)}))}(this.os),this.serializer=new bE(e),this.Xo=new SO(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Ic=function(){return this.Qo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"lr",{get:function(){return this.Qo},enumerable:!1,configurable:!0}),t.prototype.rc=function(){},t.prototype.oc=function(){},t.prototype.bc=function(){return this.os},t.prototype.yc=function(t){var e=this.El[t.h()];return e||(e=new vO(this.os,this.Dr),this.El[t.h()]=e),e},t.prototype.Vc=function(){return this.Yo},t.prototype.vc=function(){return this.ss},t.prototype.Sc=function(){return this.Xo},t.prototype.runTransaction=function(t,e,n){var r=this;nb("MemoryPersistence","Starting transaction:",t);var i=new xO(this.Uo.next());return this.Dr.Il(),n(i).next((function(t){return r.Dr.ml(i).next((function(){return t}))})).Ln().then((function(t){return i.ns(),t}))},t.prototype.Al=function(t,e){return Mw.Un(Object.values(this.El).map((function(n){return function(){return n.zr(t,e)}})))},t}(),xO=function(t){function e(e){var n=this;return(n=t.call(this)||this).Lo=e,n}return Object(Gf.c)(e,t),e}(Bw),IO=function(){function t(t){this.persistence=t,this.Rl=new OS,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw ob()},enumerable:!1,configurable:!0}),t.prototype.Oo=function(t,e,n){return this.Rl.Oo(n,e),this.yl.delete(n.toString()),Mw.resolve()},t.prototype.ko=function(t,e,n){return this.Rl.ko(n,e),this.yl.add(n.toString()),Mw.resolve()},t.prototype.jr=function(t,e){return this.yl.add(e.toString()),Mw.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.Ia(e.targetId).forEach((function(t){return n.yl.add(t.toString())}));var r=this.persistence.Vc();return r.$o(t,e.targetId).next((function(t){t.forEach((function(t){return n.yl.add(t.toString())}))})).next((function(){return r.Do(t,e)}))},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.vc().io();return Mw.forEach(this.yl,(function(r){var i=Ib.st(r);return e.Vl(t,i).next((function(t){t||n.Hn(i)}))})).next((function(){return e.Pl=null,n.apply(t)}))},t.prototype.Fc=function(t,e){var n=this;return this.Vl(t,e).next((function(t){t?n.yl.delete(e.toString()):n.yl.add(e.toString())}))},t.prototype.Tl=function(t){return 0},t.prototype.Vl=function(t,e){var n=this;return Mw.Un([function(){return Mw.resolve(n.Rl.zr(e))},function(){return n.persistence.Vc().zr(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),TO=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.lu=function(t){this.bl=t},t.prototype.ou=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),kO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},AO=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(Gf.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise((function(i,s){var o=new Qy;o.listenOnce($y.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Wy.NO_ERROR:var e=o.getResponseJson();nb("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Wy.TIMEOUT:nb("Connection",'RPC "'+t+'" timed out'),s(new lb(cb.DEADLINE_EXCEEDED,"Request time out"));break;case Wy.HTTP_ERROR:var n=o.getStatus();if(nb("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(cb).indexOf(e)>=0?e:cb.UNKNOWN}(r.status);s(new lb(a,r.message))}else s(new lb(cb.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new lb(cb.UNAVAILABLE,"Connection failed."));break;default:ob()}}finally{nb("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);o.send(e,"POST",a,n,15)}))},e.prototype._u=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Uy,i=zm(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(s.initMessageHeaders,e),Object(Yf.l)()||Object(Yf.n)()||Object(Yf.j)()||Object(Yf.k)()||Object(Yf.o)()||Object(Yf.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");nb("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new TO({pl:function(t){c?nb("Connection","Not sending because WebChannel is closed:",t):(u||(nb("Connection","Opening WebChannel transport."),a.open(),u=!0),nb("Connection","WebChannel sending:",t),a.send(t))},vl:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,Ky.EventType.OPEN,(function(){c||nb("Connection","WebChannel transport opened.")})),h(a,Ky.EventType.CLOSE,(function(){c||(c=!0,nb("Connection","WebChannel transport closed"),l.Nl())})),h(a,Ky.EventType.ERROR,(function(t){c||(c=!0,ib("Connection","WebChannel transport errored:",t),l.Nl(new lb(cb.UNAVAILABLE,"The operation could not be completed")))})),h(a,Ky.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];ab(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){nb("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Lb[t];if(void 0!==e)return Bb(e)}(i),o=r.message;void 0===s&&(s=cb.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Nl(new lb(s,o)),a.close()}else nb("Connection","WebChannel received:",n),l.xl(n)}})),h(i,Gy.STAT_EVENT,(function(t){10===t.stat?nb("Connection","Detected buffering proxy"):11===t.stat&&nb("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Cl()}),0),l},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.yu=function(t,e,n,r){var i=this.kl(t,e);nb("RestConnection","Sending: ",i,n);var s={};return this.$l(s,r),this.Ll(t,i,s,n).then((function(t){return nb("RestConnection","Received: ",t),t}),(function(e){throw ib("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Vu=function(t,e,n,r){return this.yu(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.1.2",t["Content-Type"]="text/plain",e)for(var n in e.T)e.T.hasOwnProperty(n)&&(t[n]=e.T[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+kO[t]},t}()),PO=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Qu=function(t){this.Kl.push(t)},t.prototype.Ic=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){nb("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){nb("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),DO=function(){function t(){}return t.prototype.Qu=function(t){},t.prototype.Ic=function(){},t}(),RO=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Gf.b)(this,void 0,void 0,(function(){return Object(Gf.d)(this,(function(e){switch(e.label){case 0:return this.serializer=Vw(t.Fl.t),this.Bh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Ou=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return IC(this.persistence,new fE,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new OO(IO.gl,this.serializer)},t.prototype.jl=function(t){return new MS},t.prototype.terminate=function(){return Object(Gf.b)(this,void 0,void 0,(function(){return Object(Gf.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.Bh.Ic()];case 1:return t.sent(),[4,this.persistence.Ic()];case 2:return t.sent(),[2]}}))}))},t}(),NO=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Gf.c)(e,t),e.prototype.initialize=function(e){return Object(Gf.b)(this,void 0,void 0,(function(){return Object(Gf.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,FC(this.Ou)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,_O(this.Xl.va)];case 4:return n.sent(),[4,aS(this.Xl.$h)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return IC(this.persistence,new fE,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new hE(this.persistence.Dr.cr,t.di)},e.prototype.Gl=function(t){var e=OC(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?lE.er(this.cacheSizeBytes):lE.ir;return new vC(this.synchronizeTabs,e,t.clientId,n,t.di,nE(),rE(),this.serializer,this.Bh,!!this.forceOwnership)},e.prototype.jl=function(t){return new MS},e}(RO),jO=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Gf.c)(e,t),e.prototype.initialize=function(e){return Object(Gf.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Gf.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.va,this.Bh instanceof jS?(this.Bh.va={Eh:hO.bind(null,n),Th:gO.bind(null,n),Ih:yO.bind(null,n),gc:mO.bind(null,n),wh:lO.bind(null,n)},[4,this.Bh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.ic((function(t){return Object(Gf.b)(r,void 0,void 0,(function(){return Object(Gf.d)(this,(function(e){switch(e.label){case 0:return[4,dO(this.Xl.va,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.lr?this.zl.start(this.Ou):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=nE();if(!jS.Gs(e))throw new lb(cb.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=OC(t.Fl.t,t.Fl.persistenceKey);return new jS(e,t.di,n,t.clientId,t.Yl)},e}(NO),MO=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Gf.b)(this,void 0,void 0,(function(){var n=this;return Object(Gf.d)(this,(function(r){switch(r.label){case 0:return this.Ou?[3,2]:(this.Ou=t.Ou,this.Bh=t.Bh,this.Mu=this.Zl(e),this.$h=this.t_(e),this.Lh=this.e_(e),this.va=this.n_(e,!t.synchronizeTabs),this.Bh.pu=function(t){return KS(n.va,t,1)},this.$h.ku.s_=aO.bind(null,this.va),[4,pS(this.$h,this.va.Zh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new bS},t.prototype.Zl=function(t){var e=Vw(t.Fl.t),n=new AO(t.Fl);return function(t,e,n){return new zC(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Ou,n=this.Mu,r=t.di,i=function(t){return KS(o.va,t,0)},s=PO.Gs()?new PO:new DO,new WC(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var a=new BS(t,e,n,r,i,s);return o&&(a.Xh=!0),a}(this.Ou,this.$h,this.Lh,this.Bh,t.Yl,t.qh,e)},t.prototype.terminate=function(){return function(t){return Object(Gf.b)(this,void 0,void 0,(function(){var e;return Object(Gf.d)(this,(function(n){switch(n.label){case 0:return e=ub(t),nb("RemoteStore","RemoteStore shutting down."),e.Bu.add(5),[4,GC(e)];case 1:return n.sent(),e.Uu.Ic(),e.Ku.set("Unknown"),[2]}}))}))}(this.$h)},t}(),LO=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function FO(t,e,n){if(!n)throw new lb(cb.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function VO(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new lb(cb.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function UO(t,e,n,r){if(!0===e&&!0===r)throw new lb(cb.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function qO(t){if(!Ib.ot(t))throw new lb(cb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function BO(t){if(Ib.ot(t))throw new lb(cb.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function zO(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":ob()}function HO(t,e){if("_delegate"in t&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new lb(cb.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=zO(t);throw new lb(cb.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function WO(t,e){if(e<=0)throw new lb(cb.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var $O=function(t){this._methodName=t},GO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gf.c)(e,t),e.prototype.c_=function(t){if(2!==t.u_)throw t.a_(1===t.u_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.en.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}($O);function KO(t,e,n){return new Jx({u_:3,h_:e.settings.h_,methodName:t._methodName,l_:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var QO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gf.c)(e,t),e.prototype.c_=function(t){return new Av(t.path,new wv)},e.prototype.isEqual=function(t){return t instanceof e},e}($O),YO=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).__=n,r}return Object(Gf.c)(e,t),e.prototype.c_=function(t){var e=KO(this,t,!0),n=this.__.map((function(t){return iI(t,e)})),r=new Ev(n);return new Av(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}($O),ZO=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).__=n,r}return Object(Gf.c)(e,t),e.prototype.c_=function(t){var e=KO(this,t,!0),n=this.__.map((function(t){return iI(t,e)})),r=new Sv(n);return new Av(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}($O),JO=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(Gf.c)(e,t),e.prototype.c_=function(t){var e=new xv(t.serializer,B_(t.serializer,this.f_));return new Av(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}($O),XO=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new lb(cb.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new lb(cb.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.d_=t,this.w_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.d_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.d_===t.d_&&this.w_===t.w_},t.prototype.toJSON=function(){return{latitude:this.d_,longitude:this.w_}},t.prototype.C=function(t){return bb(this.d_,t.d_)||bb(this.w_,t.w_)},t}(),tx=function(){function t(t){this.E_=t}return t.fromBase64String=function(e){try{return new t(Mb.fromBase64String(e))}catch(e){throw new lb(cb.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Mb.fromUint8Array(e))},t.prototype.toBase64=function(){return this.E_.toBase64()},t.prototype.toUint8Array=function(){return this.E_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.E_.isEqual(t.E_)},t}(),ex=function(t){this.o_=t},nx=new Map,rx=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new lb(cb.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new lb(cb.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,UO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),ix=function(){function t(t,e){this.T_="(lite)",this.I_=new rx({}),this.m_=!1,t instanceof Jy?(this.A_=t,this.R_=new db):(this.P_=t,this.A_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new lb(cb.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jy(t.options.projectId)}(t),this.R_=new fb(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.P_)throw new lb(cb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.P_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"g_",{get:function(){return this.m_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y_",{get:function(){return void 0!==this.V_},enumerable:!1,configurable:!0}),t.prototype.p_=function(t){if(this.m_)throw new lb(cb.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.I_=new rx(t),void 0!==t.credentials&&(this.R_=function(t){if(!t)return new db;switch(t.type){case"gapi":var e=t.client;return ab(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new mb(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new lb(cb.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.v_=function(){return this.I_},t.prototype.b_=function(){return this.m_=!0,this.I_},t.prototype._delete=function(){return this.V_||(this.V_=this.S_()),this.V_},t.prototype.S_=function(){return function(t){var e=nx.get(t);e&&(nb("ComponentProvider","Removing Datastore"),nx.delete(t),e.terminate())}(this),Promise.resolve()},t}();function sx(){if("undefined"==typeof Uint8Array)throw new lb(cb.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ox(){if("undefined"==typeof atob)throw new lb(cb.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ax=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gf.c)(e,t),e.fromBase64String=function(t){return ox(),new e(tx.fromBase64String(t))},e.fromUint8Array=function(t){return sx(),new e(tx.fromUint8Array(t))},e.prototype.toBase64=function(){return ox(),this.o_.toBase64()},e.prototype.toUint8Array=function(){return sx(),this.o_.toUint8Array()},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(ex),ux=function(){function t(){}return t.prototype.D_=function(t,e){switch(void 0===e&&(e="none"),E_(t)){case 0:return null;case 1:return t.booleanValue;case 2:return k_(t.integerValue||t.doubleValue);case 3:return this.C_(t.timestampValue);case 4:return this.N_(t,e);case 5:return t.stringValue;case 6:return this.x_(A_(t.bytesValue));case 7:return this.F_(t.referenceValue);case 8:return this.O_(t.geoPointValue);case 9:return this.M_(t.arrayValue,e);case 10:return this.k_(t.mapValue,e);default:throw ob()}},t.prototype.k_=function(t,e){var n=this,r={};return y_(t.fields||{},(function(t,i){r[t]=n.D_(i,e)})),r},t.prototype.O_=function(t){return new XO(k_(t.latitude),k_(t.longitude))},t.prototype.M_=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.D_(t,e)}))},t.prototype.N_=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return __(n)?t(n):n}(t);return null==n?null:this.D_(n,e);case"estimate":return this.C_(v_(t));default:return null}},t.prototype.C_=function(t){var e=T_(t);return new wb(e.seconds,e.nanos)},t.prototype.L_=function(t,e){var n=Sb.Y(t);ab(gv(n));var r=new Jy(n.get(1),n.get(3)),i=new Ib(n.B(5));return r.isEqual(e)||rb("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),cx=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Gf.c)(e,t),e.prototype.x_=function(t){return new ax(new tx(t))},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return MI.B_(e,this.firestore,null)},e}(ux),lx=function(){function t(t,e,n,r,i){this.q_=t,this.U_=e,this.Q_=n,this.K_=r,this.W_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.Q_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ix(this.q_,this.W_,this.Q_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.K_},t.prototype.data=function(){if(this.K_){if(this.W_){var t=new hx(this.q_,this.U_,this.Q_,this.K_,null);return this.W_.fromFirestore(t)}return this.U_.D_(this.K_.En())}},t.prototype.get=function(t){if(this.K_){var e=this.K_.data().field(dx("DocumentSnapshot.get",t));if(null!==e)return this.U_.D_(e)}},t}(),hx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gf.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(lx);function dx(t,e){return"string"==typeof e?lI(t,e):e instanceof ex?e.o_.j_:e.j_}var fx=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new lb(cb.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.j_=new xb(t)}return t.prototype.isEqual=function(t){return this.j_.isEqual(t.j_)},t}(),px=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).G_=new sE,r.T_="name"in e?e.name:"[DEFAULT]",r}return Object(Gf.c)(e,t),e.prototype.S_=function(){return this.z_||RI(this),this.z_.terminate()},e}(ix);function mx(t,e,n){var r=this,i=new Fw;return t.di.enqueue((function(){return Object(Gf.b)(r,void 0,void 0,(function(){var r;return Object(Gf.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,gI(t,n)];case 1:return s.sent(),[4,yI(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===cb.FAILED_PRECONDITION||t.code===cb.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function gx(t){if(t.g_||t.y_)throw new lb(cb.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var yx=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).q_=e,a.H_=e,a.metadata=s,a}return Object(Gf.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.K_){if(this.W_){var e=new bx(this.q_,this.U_,this.Q_,this.K_,this.metadata,null);return this.W_.fromFirestore(e,t)}return this.U_.D_(this.K_.En(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.K_){var n=this.K_.data().field(dx("DocumentSnapshot.get",t));if(null!==n)return this.U_.D_(n,e.serverTimestamps)}},e}(lx),bx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gf.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(yx),_x=function(){function t(t,e,n,r){this.q_=t,this.U_=e,this.J_=r,this.metadata=new UI(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.J_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.J_.docs.forEach((function(r){t.call(e,new bx(n.q_,n.U_,r.key,r,new UI(n.J_.ee.has(r.key),n.J_.fromCache),n.query.W_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.J_.se)throw new lb(cb.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Y_&&this.X_===e||(this.Y_=function(t,e){if(t.J_.te.W()){var n=0;return t.J_.docChanges.map((function(e){return{type:"added",doc:new bx(t.q_,t.U_,e.doc.key,e.doc,new UI(t.J_.ee.has(e.doc.key),t.J_.fromCache),t.query.W_),oldIndex:-1,newIndex:n++}}))}var r=t.J_.te;return t.J_.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new bx(t.q_,t.U_,e.doc.key,e.doc,new UI(t.J_.ee.has(e.doc.key),t.J_.fromCache),t.query.W_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:vx(e.type),doc:n,oldIndex:i,newIndex:s}}))}(this,e),this.X_=e),this.Y_},t}();function vx(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ob()}}function wx(t,e){return t instanceof yx&&e instanceof yx?t.q_===e.q_&&t.Q_.isEqual(e.Q_)&&(null===t.K_?null===e.K_:t.K_.isEqual(e.K_))&&t.W_===e.W_:t instanceof _x&&e instanceof _x&&t.q_===e.q_&&$x(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.J_.isEqual(e.J_)}var Ex=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Gf.c)(e,t),e.prototype.x_=function(t){return new tx(t)},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return new Ix(this.firestore,null,e)},e}(ux);function Cx(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=HO(t,Ix);var s=HO(t.firestore,px),o=Gx(s);return e instanceof ex&&(e=e.o_),Ox(s,("string"==typeof e||e instanceof fx?nI(o,"updateDoc",t.Q_,e,n,r):eI(o,"updateDoc",t.Q_,e)).tf(t.Q_,Dv.exists(!0)))}function Sx(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof ex&&(t=t.o_);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Uw(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(Uw(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Ix)c=HO(t.firestore,px),l=rw(t.Q_.path),u={next:function(e){i[a]&&i[a](xx(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=HO(t,Tx);c=HO(f.firestore,px),l=f.Z_;var p=new Ex(c);u={next:function(t){i[a]&&i[a](new _x(c,p,f,t))},error:i[a+1],complete:i[a+2]},Ux(t.Z_)}return function(t,e,n,r){var i=this,s=new LO(r),o=new SS(e,s,n);return t.di.Ri((function(){return Object(Gf.b)(i,void 0,void 0,(function(){var e;return Object(Gf.d)(this,(function(n){switch(n.label){case 0:return e=_S,[4,SI(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))})),function(){s.r_(),t.di.Ri((function(){return Object(Gf.b)(i,void 0,void 0,(function(){var e;return Object(Gf.d)(this,(function(n){switch(n.label){case 0:return e=vS,[4,SI(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))}))}}(DI(c),l,h,u)}function Ox(t,e){return function(t,e){var n=this,r=new Fw;return t.di.Ri((function(){return Object(Gf.b)(n,void 0,void 0,(function(){var n;return Object(Gf.d)(this,(function(i){switch(i.label){case 0:return n=$S,[4,CI(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(DI(t),e)}function xx(t,e,n){var r=n.docs.get(e.Q_),i=new Ex(t);return new yx(t,i,e.Q_,r,new UI(n.hasPendingWrites,n.fromCache),e.W_)}var Ix=function(){function t(t,e,n){this.W_=e,this.Q_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"ef",{get:function(){return this.Q_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.Q_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Q_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new qx(this.firestore,this.W_,this.Q_.path.q())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.Q_)},t}(),Tx=function(){function t(t,e,n){this.W_=e,this.Z_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.Z_)},t}(),kx=function(){};function Ax(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.nf(t)}return t}var Px=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).sf=e,i.rf=n,i.cf=r,i.type="where",i}return Object(Gf.c)(e,t),e.prototype.nf=function(t){var e=Gx(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.tt()){if("array-contains"===s||"array-contains-any"===s)throw new lb(cb.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){Fx(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(Lx(r,t,l[c]));a={arrayValue:{values:u}}}else a=Lx(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Fx(o,s),a=rI(n,"where",o,"in"===s||"not-in"===s);var h=yw.create(i,s,a);return function(t,e){if(e.An()){var n=aw(t);if(null!==n&&!n.isEqual(e.field))throw new lb(cb.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ow(t);null!==r&&Vx(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new lb(cb.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.Z_,0,e,t.firestore.A_,this.sf,this.rf,this.cf);return new Tx(t.firestore,t.W_,function(t,e){var n=t.filters.concat([e]);return new ew(t.path,t.collectionGroup,t.Tn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.Z_,n))},e}(kx),Dx=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).sf=e,r.uf=n,r.type="orderBy",r}return Object(Gf.c)(e,t),e.prototype.nf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new lb(cb.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new lb(cb.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Aw(e,n);return function(t,e){if(null===ow(t)){var n=aw(t);null!==n&&Vx(0,n,e.field)}}(t,r),r}(t.Z_,this.sf,this.uf);return new Tx(t.firestore,t.W_,function(t,e){var n=t.Tn.concat([e]);return new ew(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.Z_,e))},e}(kx),Rx=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.af=n,i.hf=r,i}return Object(Gf.c)(e,t),e.prototype.nf=function(t){return new Tx(t.firestore,t.W_,hw(t.Z_,this.af,this.hf))},e}(kx),Nx=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.lf=n,i._f=r,i}return Object(Gf.c)(e,t),e.prototype.nf=function(t){var e=Mx(t,this.type,this.lf,this._f);return new Tx(t.firestore,t.W_,function(t,e){return new ew(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.Z_,e))},e}(kx),jx=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.lf=n,i._f=r,i}return Object(Gf.c)(e,t),e.prototype.nf=function(t){var e=Mx(t,this.type,this.lf,this._f);return new Tx(t.firestore,t.W_,function(t,e){return new ew(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.Z_,e))},e}(kx);function Mx(t,e,n,r){if(n[0]instanceof ex&&(n[0]=n[0].o_),n[0]instanceof lx)return function(t,e,n,r,i){if(!r)throw new lb(cb.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=cw(t);o<a.length;o++){var u=a[o];if(u.field.tt())s.push(P_(e,r.key));else{var c=r.field(u.field);if(__(c))throw new lb(cb.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.J();throw new lb(cb.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new xw(s,i)}(t.Z_,t.firestore.A_,e,n[0].K_,r);var i=Gx(t.firestore);return function(t,e,n,r,i,s){var o=t.Tn;if(i.length>o.length)throw new lb(cb.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.tt()){if("string"!=typeof c)throw new lb(cb.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!uw(t)&&-1!==c.indexOf("/"))throw new lb(cb.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Sb.Y(c));if(!Ib.ot(l))throw new lb(cb.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Ib(l);a.push(P_(e,h))}else{var d=rI(n,r,c);a.push(d)}}return new xw(a,s)}(t.Z_,t.firestore.A_,i,e,n,r)}function Lx(t,e,n){if(n instanceof ex&&(n=n.o_),"string"==typeof n){if(""===n)throw new lb(cb.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!uw(e)&&-1!==n.indexOf("/"))throw new lb(cb.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Sb.Y(n));if(!Ib.ot(r))throw new lb(cb.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return P_(t,new Ib(r))}if(n instanceof Ix)return P_(t,n.Q_);throw new lb(cb.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+zO(n)+".")}function Fx(t,e){if(!Array.isArray(t)||0===t.length)throw new lb(cb.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new lb(cb.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Vx(t,e,n){if(!n.isEqual(e))throw new lb(cb.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Ux(t){if(sw(t)&&0===t.Tn.length)throw new lb(cb.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var qx=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,rw(r))||this).firestore=e,i.ef=r,i.type="collection",i}return Object(Gf.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Z_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Z_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.ef.q();return t.W()?null:new Ix(this.firestore,null,new Ib(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.ef)},e}(Tx);function Bx(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t instanceof ex&&(t=t.o_),FO("collection","path",e),t instanceof ix){var i=Sb.Y.apply(Sb,Object(Gf.g)([e],n));return BO(i),new qx(t,null,i)}if(!(t instanceof Ix||t instanceof qx))throw new lb(cb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=Sb.Y.apply(Sb,Object(Gf.g)([t.path],n)).child(Sb.Y(e));return BO(s),new qx(t.firestore,null,s)}function zx(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t instanceof ex&&(t=t.o_),1===arguments.length&&(e=yb.D()),FO("doc","path",e),t instanceof ix){var i=Sb.Y.apply(Sb,Object(Gf.g)([e],n));return qO(i),new Ix(t,null,new Ib(i))}if(!(t instanceof Ix||t instanceof qx))throw new lb(cb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=t.ef.child(Sb.Y.apply(Sb,Object(Gf.g)([e],n)));return qO(s),new Ix(t.firestore,t instanceof qx?t.W_:null,new Ib(s))}var Hx=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Gf.c)(e,t),e.prototype.x_=function(t){return new tx(t)},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return new Ix(this.firestore,null,e)},e}(ux);function Wx(t,e){return t instanceof ex&&(t=t.o_),e instanceof ex&&(e=e.o_),(t instanceof Ix||t instanceof qx)&&(e instanceof Ix||e instanceof qx)&&t.firestore===e.firestore&&t.path===e.path&&t.W_===e.W_}function $x(t,e){return t instanceof ex&&(t=t.o_),e instanceof ex&&(e=e.o_),t instanceof Tx&&e instanceof Tx&&t.firestore===e.firestore&&dw(t.Z_,e.Z_)&&t.W_===e.W_}function Gx(t){var e=t.b_(),n=Vw(t.A_);return new Xx(t.A_,!!e.ignoreUndefinedProperties,n)}var Kx=/^__.*__$/,Qx=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.tf=function(t,e){var n=[];return n.push(null!==this.en?new qv(t,this.data,this.en,e):new Uv(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new zv(t,this.fieldTransforms)),n},t}(),Yx=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.tf=function(t,e){var n=[new qv(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new zv(t,this.fieldTransforms)),n},t}();function Zx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ob()}}var Jx=function(){function t(t,e,n,r,i,s){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ff(),this.fieldTransforms=i||[],this.en=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u_",{get:function(){return this.settings.u_},enumerable:!1,configurable:!0}),t.prototype.df=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},t.prototype.wf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.df({path:n,l_:!1});return r.Ef(t),r},t.prototype.Tf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.df({path:n,l_:!1});return r.ff(),r},t.prototype.If=function(t){return this.df({path:void 0,l_:!0})},t.prototype.a_=function(t){return hI(t,this.settings.methodName,this.settings.mf||!1,this.path,this.settings.h_)},t.prototype.contains=function(t){return void 0!==this.en.find((function(e){return t.j(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.j(e.field)}))},t.prototype.ff=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Ef(this.path.get(t))},t.prototype.Ef=function(t){if(0===t.length)throw this.a_("Document fields must not be empty");if(Zx(this.u_)&&Kx.test(t))throw this.a_('Document fields cannot begin and end with "__"')},t}(),Xx=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||Vw(t)}return t.prototype.Af=function(t,e,n,r){return void 0===r&&(r=!1),new Jx({u_:t,methodName:e,h_:n,path:xb.X(),l_:!1,mf:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function tI(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Af(s.merge||s.mergeFields?2:0,e,n,i);aI("Data must be an object, but it was:",o,r);var a,u,c=sI(r,o);if(s.merge)a=new kv(o.en),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=uI(e,d[h],n);if(!o.contains(f))throw new lb(cb.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");dI(l,f)||l.push(f)}a=new kv(l),u=o.fieldTransforms.filter((function(t){return a.un(t.field)}))}else a=null,u=o.fieldTransforms;return new Qx(new Kv(c),a,u)}function eI(t,e,n,r){var i=t.Af(1,e,n);aI("Data must be an object, but it was:",i,r);var s=[],o=new Qv;y_(r,(function(t,r){var a=lI(e,t,n);r instanceof ex&&(r=r.o_);var u=i.Tf(a);if(r instanceof GO)s.push(a);else{var c=iI(r,u);null!=c&&(s.push(a),o.set(a,c))}}));var a=new kv(s);return new Yx(o.hn(),a,i.fieldTransforms)}function nI(t,e,n,r,i,s){var o=t.Af(1,e,n),a=[uI(e,r,n)],u=[i];if(s.length%2!=0)throw new lb(cb.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(uI(e,s[c])),u.push(s[c+1]);for(var l=[],h=new Qv,d=a.length-1;d>=0;--d)if(!dI(l,a[d])){var f=a[d],p=u[d];p instanceof ex&&(p=p.o_);var m=o.Tf(f);if(p instanceof GO)l.push(f);else{var g=iI(p,m);null!=g&&(l.push(f),h.set(f,g))}}var y=new kv(l);return new Yx(h.hn(),y,o.fieldTransforms)}function rI(t,e,n,r){return void 0===r&&(r=!1),iI(n,t.Af(r?4:3,e))}function iI(t,e){if(t instanceof ex&&(t=t.o_),oI(t))return aI("Unsupported field value:",e,t),sI(t,e);if(t instanceof $O)return function(t,e){if(!Zx(e.u_))throw e.a_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.a_(t._methodName+"() is not currently supported inside arrays");var n=t.c_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.settings.l_&&4!==e.u_)throw e.a_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=iI(s[i],e.If(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof ex&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return B_(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=wb.fromDate(t);return{timestampValue:z_(e.serializer,n)}}if(t instanceof wb){var r=new wb(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:z_(e.serializer,r)}}if(t instanceof XO)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tx)return{bytesValue:H_(e.serializer,t.E_)};if(t instanceof Ix){var i=e.t,s=t.firestore.A_;if(!s.isEqual(i))throw e.a_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:G_(t.firestore.A_||e.t,t.Q_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.a_("Unsupported field value: "+zO(t))}(t,e)}function sI(t,e){var n={};return b_(t)?e.path&&e.path.length>0&&e.en.push(e.path):y_(t,(function(t,r){var i=iI(r,e.wf(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function oI(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof wb||t instanceof XO||t instanceof tx||t instanceof Ix||t instanceof $O)}function aI(t,e,n){if(!oI(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=zO(n);throw e.a_("an object"===r?t+" a custom object":t+" "+r)}}function uI(t,e,n){if(e instanceof ex&&(e=e.o_),e instanceof fx)return e.j_;if("string"==typeof e)return lI(t,e);throw hI("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var cI=new RegExp("[~\\*/\\[\\]]");function lI(t,e,n){if(e.search(cI)>=0)throw hI("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(fx.bind.apply(fx,Object(Gf.g)([void 0],e.split("."))))).j_}catch(r){throw hI("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function hI(t,e,n,r,i){var s=r&&!r.W(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new lb(cb.INVALID_ARGUMENT,(a+=". ")+t+u)}function dI(t,e){return t.some((function(t){return t.isEqual(e)}))}var fI=function(){function t(t){this.Mu=t,this.Rf=new Map,this.mutations=[],this.Pf=!1,this.gf=null,this.yf=new Set}return t.prototype.Vf=function(t){return Object(Gf.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Gf.d)(this,(function(r){switch(r.label){case 0:if(this.pf(),this.mutations.length>0)throw new lb(cb.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Gf.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a;return Object(Gf.d)(this,(function(u){switch(u.label){case 0:return n=ub(t),r=X_(n.serializer)+"/documents",i={documents:e.map((function(t){return Q_(n.serializer,t)}))},[4,n.Vu("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){ab(!!e.found);var n=Y_(t,e.found.name),r=$_(e.found.updateTime),i=new Kv({mapValue:{fields:e.found.fields}});return new Jv(n,r,i,{})}(t,e):"missing"in e?function(t,e){ab(!!e.missing),ab(!!e.readTime);var n=Y_(t,e.missing),r=$_(e.readTime);return new Xv(n,r)}(t,e):ob()}(n.serializer,t);o.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=o.get(t.toString());ab(!!e),a.push(e)})),a)]}}))}))}(this.Mu,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Xv||t instanceof Jv?n.vf(t):ob()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.tf(t,this.rn(t))),this.yf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.tf(t,this.bf(t)))}catch(t){this.gf=t}this.yf.add(t.toString())},t.prototype.delete=function(t){this.write([new $v(t,this.rn(t))]),this.yf.add(t.toString())},t.prototype.commit=function(){return Object(Gf.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Gf.d)(this,(function(n){switch(n.label){case 0:if(this.pf(),this.gf)throw this.gf;return t=this.Rf,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Ib.st(n);e.mutations.push(new Gv(r,e.rn(r)))})),[4,function(t,e){return Object(Gf.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Gf.d)(this,(function(s){switch(s.label){case 0:return n=ub(t),r=X_(n.serializer)+"/documents",i={writes:e.map((function(t){return nv(n.serializer,t)}))},[4,n.yu("Commit",r,i)];case 1:return s.sent(),[2]}}))}))}(this.Mu,this.mutations)];case 1:return n.sent(),this.Pf=!0,[2]}}))}))},t.prototype.vf=function(t){var e;if(t instanceof Jv)e=t.version;else{if(!(t instanceof Xv))throw ob();e=Eb.min()}var n=this.Rf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new lb(cb.ABORTED,"Document version changed between two reads.")}else this.Rf.set(t.key.toString(),e)},t.prototype.rn=function(t){var e=this.Rf.get(t.toString());return!this.yf.has(t.toString())&&e?Dv.updateTime(e):Dv.on()},t.prototype.bf=function(t){var e=this.Rf.get(t.toString());if(!this.yf.has(t.toString())&&e){if(e.isEqual(Eb.min()))throw new lb(cb.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dv.updateTime(e)}return Dv.exists(!0)},t.prototype.write=function(t){this.pf(),this.mutations=this.mutations.concat(t)},t.prototype.pf=function(){},t}(),pI=function(){function t(t,e,n,r){this.di=t,this.Mu=e,this.updateFunction=n,this.Ti=r,this.Sf=5,this.Si=new $w(this.di,"transaction_retry")}return t.prototype.run=function(){this.Df()},t.prototype.Df=function(){var t=this;this.Si.Bs((function(){return Object(Gf.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(Gf.d)(this,(function(r){return t=new fI(this.Mu),(e=this.Cf(t))&&e.then((function(e){n.di.Ri((function(){return t.commit().then((function(){n.Ti.resolve(e)})).catch((function(t){n.Nf(t)}))}))})).catch((function(t){n.Nf(t)})),[2]}))}))}))},t.prototype.Cf=function(t){try{var e=this.updateFunction(t);return!Tb(e)&&e.catch&&e.then?e:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ti.reject(t),null}},t.prototype.Nf=function(t){var e=this;this.Sf>0&&this.xf(t)?(this.Sf-=1,this.di.Ri((function(){return e.Df(),Promise.resolve()}))):this.Ti.reject(t)},t.prototype.xf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!qb(e)}return!1},t}(),mI=function(){function t(t,e,n){var r=this;this.credentials=t,this.di=e,this.Fl=n,this.user=Xy.UNAUTHENTICATED,this.clientId=yb.D(),this.Ff=function(){},this.g=new Fw,this.credentials.A((function(t){nb("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.Ff(t)),r.g.resolve()}))}return t.prototype.getConfiguration=function(){return Object(Gf.b)(this,void 0,void 0,(function(){return Object(Gf.d)(this,(function(t){switch(t.label){case 0:return[4,this.g.promise];case 1:return[2,(t.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,qh:100})]}}))}))},t.prototype.Of=function(t){var e=this;this.Ff=t,this.g.promise.then((function(){return e.Ff(e.user)}))},t.prototype.Mf=function(){if(this.di.Ci)throw new lb(cb.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.di.Oi();var e=new Fw;return this.di.Ni((function(){return Object(Gf.b)(t,void 0,void 0,(function(){var t,n;return Object(Gf.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.kf?[4,this.kf.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.$f?[4,this.$f.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),e.resolve(),[3,6];case 5:return t=r.sent(),n=oE(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function gI(t,e){return Object(Gf.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Gf.d)(this,(function(i){switch(i.label){case 0:return t.di.Li(),nb("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.Of((function(n){return t.di.Mi((function(){return Object(Gf.b)(r,void 0,void 0,(function(){return Object(Gf.d)(this,(function(t){switch(t.label){case 0:return[4,TC(e.Ou,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.rc((function(){return t.terminate()})),t.$f=e,[2]}}))}))}function yI(t,e){return Object(Gf.b)(this,void 0,void 0,(function(){var n,r;return Object(Gf.d)(this,(function(i){switch(i.label){case 0:return t.di.Li(),[4,bI(t)];case 1:return n=i.sent(),nb("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.Of((function(n){return t.di.Mi((function(){return function(t,e){return Object(Gf.b)(this,void 0,void 0,(function(){var n,r;return Object(Gf.d)(this,(function(i){switch(i.label){case 0:return(n=ub(t)).di.Li(),nb("RemoteStore","RemoteStore received new credentials"),r=tS(n),n.Bu.add(3),[4,GC(n)];case 1:return i.sent(),r&&n.Ku.set("Unknown"),[4,n.ku.s_(e)];case 2:return i.sent(),n.Bu.delete(3),[4,$C(n)];case 3:return i.sent(),[2]}}))}))}(e.$h,n)}))})),t.kf=e,[2]}}))}))}function bI(t){return Object(Gf.b)(this,void 0,void 0,(function(){return Object(Gf.d)(this,(function(e){switch(e.label){case 0:return t.$f?[3,2]:(nb("FirestoreClient","Using default OfflineComponentProvider"),[4,gI(t,new RO)]);case 1:e.sent(),e.label=2;case 2:return[2,t.$f]}}))}))}function _I(t){return Object(Gf.b)(this,void 0,void 0,(function(){return Object(Gf.d)(this,(function(e){switch(e.label){case 0:return t.kf?[3,2]:(nb("FirestoreClient","Using default OnlineComponentProvider"),[4,yI(t,new MO)]);case 1:e.sent(),e.label=2;case 2:return[2,t.kf]}}))}))}function vI(t){return bI(t).then((function(t){return t.persistence}))}function wI(t){return bI(t).then((function(t){return t.Ou}))}function EI(t){return _I(t).then((function(t){return t.$h}))}function CI(t){return _I(t).then((function(t){return t.va}))}function SI(t){return Object(Gf.b)(this,void 0,void 0,(function(){var e,n;return Object(Gf.d)(this,(function(r){switch(r.label){case 0:return[4,_I(t)];case 1:return e=r.sent(),[2,((n=e.Lh).ta=zS.bind(null,e.va),n.sa=WS.bind(null,e.va),n)]}}))}))}function OI(t,e,n){var r=this;void 0===n&&(n={});var i=new Fw;return t.di.Ri((function(){return Object(Gf.b)(r,void 0,void 0,(function(){var r;return Object(Gf.d)(this,(function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new LO({next:function(s){e.Ri((function(){return vS(t,o)}));var a=s.docs.has(n);!a&&s.fromCache?i.reject(new lb(cb.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new lb(cb.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new SS(rw(n.path),s,{includeMetadataChanges:!0,ha:!0});return _S(t,o)},[4,SI(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.di,e,n,i])]}}))}))})),i.promise}function xI(t,e,n){var r=this;void 0===n&&(n={});var i=new Fw;return t.di.Ri((function(){return Object(Gf.b)(r,void 0,void 0,(function(){var r;return Object(Gf.d)(this,(function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new LO({next:function(n){e.Ri((function(){return vS(t,o)})),n.fromCache&&"server"===r.source?i.reject(new lb(cb.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new SS(n,s,{includeMetadataChanges:!0,ha:!0});return _S(t,o)},[4,SI(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.di,e,n,i])]}}))}))})),i.promise}var II=function(){function t(t,e){this.q_=t,this.Lf=e,this.Bf=[],this.qf=!1,this.Uf=Gx(t)}return t.prototype.set=function(t,e,n){this.Qf();var r=TI(t,this.q_),i=KI(r.W_,e,n),s=tI(this.Uf,"WriteBatch.set",r.Q_,i,null!==r.W_,n);return this.Bf=this.Bf.concat(s.tf(r.Q_,Dv.on())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Qf();var s,o=TI(t,this.q_);return e instanceof ex&&(e=e.o_),s="string"==typeof e||e instanceof fx?nI(this.Uf,"WriteBatch.update",o.Q_,e,n,r):eI(this.Uf,"WriteBatch.update",o.Q_,e),this.Bf=this.Bf.concat(s.tf(o.Q_,Dv.exists(!0))),this},t.prototype.delete=function(t){this.Qf();var e=TI(t,this.q_);return this.Bf=this.Bf.concat(new $v(e.Q_,Dv.on())),this},t.prototype.commit=function(){return this.Qf(),this.qf=!0,this.Bf.length>0?this.Lf(this.Bf):Promise.resolve()},t.prototype.Qf=function(){if(this.qf)throw new lb(cb.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function TI(t,e){if(t instanceof ex&&(t=t.o_),t.firestore!==e)throw new lb(cb.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var kI=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).q_=e,r}return Object(Gf.c)(e,t),e.prototype.get=function(e){var n=this,r=TI(e,this.q_),i=new Ex(this.q_);return t.prototype.get.call(this,e).then((function(t){return new yx(n.q_,i,r.Q_,t.K_,new UI(!1,!1),r.W_)}))},e}(function(){function t(t,e){this.q_=t,this.Kf=e,this.Uf=Gx(t)}return t.prototype.get=function(t){var e=this,n=TI(t,this.q_),r=new Hx(this.q_);return this.Kf.Vf([n.Q_]).then((function(t){if(!t||1!==t.length)return ob();var i=t[0];if(i instanceof Xv)return new lx(e.q_,r,n.Q_,null,n.W_);if(i instanceof Jv)return new lx(e.q_,r,i.key,i,n.W_);throw ob()}))},t.prototype.set=function(t,e,n){var r=TI(t,this.q_),i=KI(r.W_,e,n),s=tI(this.Uf,"Transaction.set",r.Q_,i,null!==r.W_,n);return this.Kf.set(r.Q_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=TI(t,this.q_);return e instanceof ex&&(e=e.o_),s="string"==typeof e||e instanceof fx?nI(this.Uf,"Transaction.update",o.Q_,e,n,r):eI(this.Uf,"Transaction.update",o.Q_,e),this.Kf.update(o.Q_,s),this},t.prototype.delete=function(t){var e=TI(t,this.q_);return this.Kf.delete(e.Q_),this},t}()),AI=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){gx(t=HO(t,px));var n=DI(t),r=t.b_(),i=new MO;return mx(n,i,new NO(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){gx(t=HO(t,px));var e=DI(t),n=t.b_(),r=new MO;return mx(e,r,new jO(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.g_&&!t.y_)throw new lb(cb.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Fw;return t.G_.Ni((function(){return Object(Gf.b)(e,void 0,void 0,(function(){var e;return Object(Gf.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Gf.b)(this,void 0,void 0,(function(){return Object(Gf.d)(this,(function(e){switch(e.label){case 0:return Gw.Gs()?[4,Gw.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(OC(t.A_,t.T_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.o_)},t}(),PI=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Wf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Jy||(i.jf=e),i}return Object(Gf.c)(e,t),Object.defineProperty(e.prototype,"A_",{get:function(){return this.o_.A_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.v_()),t)).merge,this.o_.p_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.v_().host&&ib("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.di.enqueue((function(){return Object(Gf.b)(e,void 0,void 0,(function(){var e,n;return Object(Gf.d)(this,(function(r){switch(r.label){case 0:return[4,vI(t)];case 1:return e=r.sent(),[4,EI(t)];case 2:return n=r.sent(),[2,(e.oc(!0),function(t){var e=ub(t);return e.Bu.delete(0),$C(e)}(n))]}}))}))}))}(DI(HO(this.o_,px)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.di.enqueue((function(){return Object(Gf.b)(e,void 0,void 0,(function(){var e,n;return Object(Gf.d)(this,(function(r){switch(r.label){case 0:return[4,vI(t)];case 1:return e=r.sent(),[4,EI(t)];case 2:return n=r.sent(),[2,(e.oc(!1),function(t){return Object(Gf.b)(this,void 0,void 0,(function(){var e;return Object(Gf.d)(this,(function(n){switch(n.label){case 0:return(e=ub(t)).Bu.add(0),[4,GC(e)];case 1:return n.sent(),e.Ku.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(DI(HO(this.o_,px)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&UO("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Wf.enableMultiTabIndexedDbPersistence(this):this.Wf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Wf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Fw;return t.di.Ri((function(){return Object(Gf.b)(e,void 0,void 0,(function(){var e;return Object(Gf.d)(this,(function(r){switch(r.label){case 0:return e=JS,[4,CI(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(DI(HO(this.o_,px)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new LO(e);return t.di.Ri((function(){return Object(Gf.b)(n,void 0,void 0,(function(){var e;return Object(Gf.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){ub(t).Zu.add(e),e.next()},[4,SI(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.di.Ri((function(){return Object(Gf.b)(n,void 0,void 0,(function(){var e;return Object(Gf.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){ub(t).Zu.delete(e)},[4,SI(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(DI(t=HO(t,px)),Uw(e)?e:{next:e})}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.jf)throw new lb(cb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.jf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new $I(this,Bx(this.o_,t))}catch(t){throw LI(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new MI(this,zx(this.o_,t))}catch(t){throw LI(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new zI(this,function(t,e){if(t=HO(t,ix),FO("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new lb(cb.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Tx(t,null,function(t){return new ew(Sb.X(),t)}(e))}(this.o_,t))}catch(t){throw LI(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Fw;return t.di.Ri((function(){return Object(Gf.b)(n,void 0,void 0,(function(){var n;return Object(Gf.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return _I(t).then((function(t){return t.Mu}))}(t)];case 1:return n=i.sent(),new pI(t.di,n,e,r).run(),[2]}}))}))})),r.promise}(DI(t),(function(n){return e(new kI(t,n))}))}(this.o_,(function(n){return t(new NI(e,n))}))},e.prototype.batch=function(){var t=this;return DI(this.o_),new jI(new II(this.o_,(function(e){return Ox(t.o_,e)})))},e}(ex);function DI(t){return t.z_||RI(t),t.z_.Mf(),t.z_}function RI(t){var e=t.b_(),n=function(t,e,n){return new Zy(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.A_,t.T_,e);t.z_=new mI(t.R_,t.G_,n)}var NI=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(Gf.c)(e,t),e.prototype.get=function(t){var e=this,n=GI(t);return this.o_.get(n).then((function(t){return new qI(e.q_,t)}))},e.prototype.set=function(t,e,n){var r=GI(t);return n?(VO("Transaction.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=GI(t);return 2===arguments.length?this.o_.update(o,e):(r=this.o_).update.apply(r,Object(Gf.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=GI(t);return this.o_.delete(e),this},e}(ex),jI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gf.c)(e,t),e.prototype.set=function(t,e,n){var r=GI(t);return n?(VO("WriteBatch.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=GI(t);return 2===arguments.length?this.o_.update(o,e):(r=this.o_).update.apply(r,Object(Gf.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=GI(t);return this.o_.delete(e),this},e.prototype.commit=function(){return this.o_.commit()},e}(ex),MI=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.U_=new cx(e),r}return Object(Gf.c)(e,t),e.Gf=function(t,n,r){if(t.length%2!=0)throw new lb(cb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.J()+" has "+t.length);return new e(n,new Ix(n.o_,r,new Ib(t)))},e.B_=function(t,n,r){return new e(n,new Ix(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new $I(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new $I(this.firestore,Bx(this.o_,t))}catch(t){throw LI(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof ex&&(t=t.o_),t instanceof Ix&&Wx(this.o_,t)},e.prototype.set=function(t,e){e=VO("DocumentReference.set",e);try{return function(t,e,n){t=HO(t,Ix);var r=HO(t.firestore,px),i=KI(t.W_,e,n);return Ox(r,tI(Gx(r),"setDoc",t.Q_,i,null!==t.W_,n).tf(t.Q_,Dv.on()))}(this.o_,t,e)}catch(t){throw LI(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Cx(this.o_,t):Cx.apply(void 0,Object(Gf.g)([this.o_,t,e],n))}catch(t){throw LI(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Ox(HO((t=this.o_).firestore,px),[new $v(t.Q_,Dv.on())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=FI(e),i=VI(e,(function(e){return new qI(t.firestore,new yx(t.firestore.o_,t.U_,e.Q_,e.K_,e.metadata,t.o_.W_))}));return Sx(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=HO(t,Ix);var e=HO(t.firestore,px),n=DI(e),r=new Ex(e);return function(t,e){var n=this,r=new Fw;return t.di.Ri((function(){return Object(Gf.b)(n,void 0,void 0,(function(){var n;return Object(Gf.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Gf.b)(this,void 0,void 0,(function(){var r,i,s;return Object(Gf.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=ub(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Bc.cs(t,e)}))}(t,e)];case 1:return(r=o.sent())instanceof Jv?n.resolve(r):r instanceof Xv?n.resolve(null):n.reject(new lb(cb.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=o.sent(),s=oE(i,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,wI(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.Q_).then((function(n){return new yx(e,r,t.Q_,n,new UI(n instanceof Jv&&n.an,!0),t.W_)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){t=HO(t,Ix);var e=HO(t.firestore,px);return OI(DI(e),t.Q_,{source:"server"}).then((function(n){return xx(e,t,n)}))}(this.o_):function(t){t=HO(t,Ix);var e=HO(t.firestore,px);return OI(DI(e),t.Q_).then((function(n){return xx(e,t,n)}))}(this.o_)).then((function(t){return new qI(e.firestore,new yx(e.firestore.o_,e.U_,t.Q_,t.K_,t.metadata,e.o_.W_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(ex);function LI(t,e,n){return t.message=t.message.replace(e,n),t}function FI(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Uw(r))return r}return{}}function VI(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Uw(t[0])?t[0]:Uw(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var UI=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),qI=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(Gf.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new MI(this.q_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return wx(this.o_,t.o_)},e}(ex),BI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gf.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(qI),zI=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.U_=new cx(e),r}return Object(Gf.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Ax(this.o_,function(t,e,n){var r=e,i=dx("where",t);return new Px(i,r,n)}(t,n,r)))}catch(t){throw LI(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Ax(this.o_,function(t,e){void 0===e&&(e="asc");var n=e,r=dx("orderBy",t);return new Dx(r,n)}(t,n)))}catch(t){throw LI(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Ax(this.o_,function(t){return WO("limit",t),new Rx("limit",t,"F")}(t)))}catch(t){throw LI(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Ax(this.o_,function(t){return WO("limitToLast",t),new Rx("limitToLast",t,"L")}(t)))}catch(t){throw LI(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ax(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Nx("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw LI(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ax(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Nx("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw LI(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ax(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new jx("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw LI(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ax(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new jx("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw LI(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return $x(this.o_,t.o_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=HO(t,Tx);var e=HO(t.firestore,px),n=DI(e),r=new Ex(e);return function(t,e){var n=this,r=new Fw;return t.di.Ri((function(){return Object(Gf.b)(n,void 0,void 0,(function(){var n;return Object(Gf.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Gf.b)(this,void 0,void 0,(function(){var r,i,s,o,a,u;return Object(Gf.d)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,jC(t,e,!0)];case 1:return r=c.sent(),i=new VS(e,r.Kc),s=i.bh(r.documents),o=i.Zn(s,!1),n.resolve(o.snapshot),[3,3];case 2:return a=c.sent(),u=oE(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,wI(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.Z_).then((function(n){return new _x(e,r,t,n)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){t=HO(t,Tx);var e=HO(t.firestore,px),n=DI(e),r=new Ex(e);return xI(n,t.Z_,{source:"server"}).then((function(n){return new _x(e,r,t,n)}))}(this.o_):function(t){t=HO(t,Tx);var e=HO(t.firestore,px),n=DI(e),r=new Ex(e);return Ux(t.Z_),xI(n,t.Z_).then((function(n){return new _x(e,r,t,n)}))}(this.o_)).then((function(t){return new WI(e.firestore,new _x(e.firestore.o_,e.U_,e.o_,t.J_))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=FI(e),i=VI(e,(function(e){return new WI(t.firestore,new _x(t.firestore.o_,t.U_,t.o_,e.J_))}));return Sx(this.o_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(ex),HI=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(Gf.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new BI(this.q_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),e}(ex),WI=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(Gf.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new zI(this.q_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map((function(e){return new BI(t.q_,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map((function(t){return new HI(e.q_,t)}))},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach((function(r){t.call(e,new BI(n.q_,r))}))},e.prototype.isEqual=function(t){return wx(this.o_,t.o_)},e}(ex),$I=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.o_=n,r}return Object(Gf.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.o_.parent;return t?new MI(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new MI(this.firestore,void 0===t?zx(this.o_):zx(this.o_,t))}catch(t){throw LI(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=HO(t.firestore,px),r=zx(t),i=KI(t.W_,e);return Ox(n,tI(Gx(t.firestore),"addDoc",r.Q_,i,null!==t.W_,{}).tf(r.Q_,Dv.exists(!1))).then((function(){return r}))}(this.o_,t).then((function(t){return new MI(e.firestore,t)}))},e.prototype.isEqual=function(t){return Wx(this.o_,t.o_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(zI);function GI(t){return t instanceof ex&&(t=t.o_),HO(t,Ix)}function KI(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var QI,YI=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(fx.bind.apply(fx,Object(Gf.g)([void 0],e))))||this}return Object(Gf.c)(e,t),e.documentId=function(){return new e(xb.et().J())},e.prototype.isEqual=function(t){return t instanceof ex&&(t=t.o_),t instanceof fx&&this.o_.j_.isEqual(t.j_)},e}(ex),ZI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gf.c)(e,t),e.serverTimestamp=function(){var t=new QO("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new GO("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new YO("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ZO("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new JO("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(ex),JI={Firestore:PI,GeoPoint:XO,Timestamp:wb,Blob:ax,Transaction:NI,WriteBatch:jI,DocumentReference:MI,DocumentSnapshot:qI,Query:zI,QueryDocumentSnapshot:BI,QuerySnapshot:WI,CollectionReference:$I,FieldPath:YI,FieldValue:ZI,setLogLevel:function(t){tb.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Yy.a("firestore",(function(t){return function(t,e){return new PI(t,new px(t,e),new AI)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},JI)))})(QI=Kf.a),QI.registerVersion("@firebase/firestore","2.0.5"),n("tf+s");const XI=new r.q("angularfire2.auth.use-emulator");function tT(t,e){return function(t,e=Js.a){return new St.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function eT(t,e){return tT(t,e).pipe(Object(Mt.a)(t=>({payload:t,type:"query"})))}function nT(t,e){return eT(t,e).pipe(ye(void 0),ao(),Object(Mt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function rT(t,e,n){return nT(t,n).pipe(be((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return iT(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return iT(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return iT(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Ys(void 0,void 0)),Object(Mt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function iT(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function sT(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class oT{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=nT(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Mt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(ye(void 0),ao(),Ut(([t,e])=>e.length>0||!t),Object(Mt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(be((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=sT(t);return rT(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return eT(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Mt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(vt.a)(this.query.get(t)).pipe(Object(lo.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new aT(this.ref.doc(t),this.afs)}}class aT{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=fT(n,e);return new oT(r,i,this.afs)}snapshotChanges(){return tT(this.ref,this.afs.schedulers.outsideAngular).pipe(ye(void 0),ao(),Object(Mt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Mt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(vt.a)(this.ref.get(t)).pipe(Object(lo.b)(this.afs.schedulers.insideAngular))}}class uT{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?nT(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Mt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Ut(t=>t.length>0),this.afs.keepUnstableUntilFirst):nT(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(be((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=sT(t);return rT(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return eT(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Mt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(vt.a)(this.query.get(t)).pipe(Object(lo.b)(this.afs.schedulers.insideAngular))}}const cT=new r.q("angularfire2.enableFirestorePersistence"),lT=new r.q("angularfire2.firestore.persistenceSettings"),hT=new r.q("angularfire2.firestore.settings"),dT=new r.q("angularfire2.firestore.use-emulator");function fT(t,e=(t=>t)){return{query:e(t),ref:t}}let pT=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new Wf.d(s),this.keepUnstableUntilFirst=Object(Wf.h)(this.schedulers);const c=Object(Wf.g)(t,s,e);!$f.a.auth&&u&&Object(Wf.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Wf.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!function(t){return"server"===t}(i)){const e=()=>{try{return Object(vt.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(_t.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(_t.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=fT(n,e),s=this.schedulers.ngZone.run(()=>r);return new oT(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new uT(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new aT(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Wf.c),r.Wb(Wf.b,8),r.Wb(cT,8),r.Wb(hT,8),r.Wb(r.B),r.Wb(r.z),r.Wb(lT,8),r.Wb(dT,8),r.Wb(XI,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(Wf.c),Object(r.Wb)(Wf.b,8),Object(r.Wb)(cT,8),Object(r.Wb)(hT,8),Object(r.Wb)(r.B),Object(r.Wb)(r.z),Object(r.Wb)(lT,8),Object(r.Wb)(dT,8),Object(r.Wb)(XI,8))},token:t,providedIn:"any"}),t})(),mT=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:cT,useValue:!0},{provide:lT,useValue:e}]}}}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[pT]}),t})(),gT=(()=>{class t{constructor(t){this.noteMaker=t}resolve(){return this.noteMaker.fetchPosts()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(qh))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const yT=function(){return["/notes"]};function bT(t,e){1&t&&(r.Sb(0,"div"),r.Sb(1,"h3"),r.sc(2,"Please, "),r.Sb(3,"a",3),r.sc(4,"start adding your notes"),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Cb(3),r.fc("routerLink",r.gc(1,yT)))}function _T(t,e){if(1&t){const t=r.Tb();r.Sb(0,"h3"),r.sc(1," Please, "),r.Sb(2,"a",4),r.ac("click",(function(){return r.kc(t),r.cc().openDialog()})),r.sc(3,"sign in"),r.Rb(),r.sc(4," to start adding your notes "),r.Rb()}}let vT=(()=>{class t{constructor(t,e){this.eventEmitter=t,this.router=e}ngOnInit(){}openDialog(){this.eventEmitter.onInvokeNavbarLoginComponent()}checkRedirection(){this.redirection=!!localStorage.getItem("userData")}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(zd),r.Nb(zr))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-home"]],decls:6,vars:2,consts:[[1,"text-container"],[4,"ngIf","ngIfElse"],["elseBlock",""],[3,"routerLink"],[3,"click"]],template:function(t,e){if(1&t&&(r.Sb(0,"div",0),r.Sb(1,"h1"),r.sc(2,"Welcome to NotesApp"),r.Rb(),r.qc(3,bT,5,2,"div",1),r.qc(4,_T,5,0,"ng-template",null,2,r.rc),r.Rb()),2&t){const t=r.jc(5);r.Cb(3),r.fc("ngIf",e.redirection)("ngIfElse",t)}},directives:[N,Hr],styles:[".text-container[_ngcontent-%COMP%]{text-align:center;padding-top:50px}.text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;color:#00f}"]}),t})();class wT{constructor(t){this.project=t}call(t,e){return e.subscribe(new ET(t,this.project))}}class ET extends Tt.a{constructor(t,e){super(t),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new ne.a(this,e,n),i=this.destination;i.add(r);const s=Object(kt.a)(this,t,void 0,void 0,r);s!==r&&i.add(s)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t){this.destination.error(t)}notifyComplete(t){this.destination.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}let CT=(()=>{class t{constructor(t){this.auth=t}intercept(t,e){return this.auth.user.pipe(oe(1),function t(e,n){return n?r=>r.pipe(t((t,r)=>Object(vt.a)(e(t,r)).pipe(Object(Mt.a)((e,i)=>n(t,e,r,i))))):t=>t.lift(new wT(e))}(n=>{if(!n)return e.handle(t);const r=t.clone({params:(new zl).set("auth",n.token)});return e.handle(r)}))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(gh))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ST=[{path:"",pathMatch:"full",redirectTo:"/home"},{path:"home",component:vT},{path:"notes",component:Hf,resolve:{notes:gT}}];let OT=(()=>{class t{}return t.\u0275mod=r.Lb({type:t,bootstrap:[Kd]}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[gT,{provide:Tl,useValue:{hasBackdrop:!0}},{provide:xl,useValue:{}},{provide:nh,useClass:CT,multi:!0}],imports:[[q,bt,tl,Vd,jf,Wf.a.initializeApp(i),mT,mh,ii.forRoot(ST),js,Ed,Dd,Vh,Ml]]}),t})();gt().bootstrapModule(OT).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);